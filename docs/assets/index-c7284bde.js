(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function e(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerpolicy&&(a.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?a.credentials="include":i.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=e(i);fetch(i.href,a)}})();function _t(){}function wr(t,n){for(const e in n)t[e]=n[e];return t}function Qh(t){return t()}function hc(){return Object.create(null)}function Vr(t){t.forEach(Qh)}function Jh(t){return typeof t=="function"}function ee(t,n){return t!=t?n==n:t!==n||t&&typeof t=="object"||typeof t=="function"}let zi;function Yt(t,n){return zi||(zi=document.createElement("a")),zi.href=n,t===zi.href}function yg(t){return Object.keys(t).length===0}function td(t){const n={};for(const e in t)e[0]!=="$"&&(n[e]=t[e]);return n}function xa(t,n){const e={};n=new Set(n);for(const r in t)!n.has(r)&&r[0]!=="$"&&(e[r]=t[r]);return e}function B(t,n){t.appendChild(n)}function Et(t,n,e){t.insertBefore(n,e||null)}function bt(t){t.parentNode&&t.parentNode.removeChild(t)}function Y(t){return document.createElement(t)}function gn(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function vo(t){return document.createTextNode(t)}function Q(){return vo(" ")}function _g(){return vo("")}function vn(t,n,e,r){return t.addEventListener(n,e,r),()=>t.removeEventListener(n,e,r)}function V(t,n,e){e==null?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function dc(t,n){const e=Object.getOwnPropertyDescriptors(t.__proto__);for(const r in n)n[r]==null?t.removeAttribute(r):r==="style"?t.style.cssText=n[r]:r==="__value"?t.value=t[r]=n[r]:e[r]&&e[r].set?t[r]=n[r]:V(t,r,n[r])}function xg(t){return Array.from(t.childNodes)}function ed(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}function bg(t,n,{bubbles:e=!1,cancelable:r=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(t,e,r,n),i}let hi;function ai(t){hi=t}function nd(){if(!hi)throw new Error("Function called outside component initialization");return hi}function wg(t){nd().$$.on_mount.push(t)}function Og(){const t=nd();return(n,e,{cancelable:r=!1}={})=>{const i=t.$$.callbacks[n];if(i){const a=bg(n,e,{cancelable:r});return i.slice().forEach(o=>{o.call(t,a)}),!a.defaultPrevented}return!0}}function Wo(t,n){const e=t.$$.callbacks[n.type];e&&e.slice().forEach(r=>r.call(this,n))}const lr=[],di=[],ia=[],Ms=[],Tg=Promise.resolve();let Cs=!1;function Eg(){Cs||(Cs=!0,Tg.then(rd))}function Ps(t){ia.push(t)}function pc(t){Ms.push(t)}const jo=new Set;let tr=0;function rd(){if(tr!==0)return;const t=hi;do{try{for(;tr<lr.length;){const n=lr[tr];tr++,ai(n),Sg(n.$$)}}catch(n){throw lr.length=0,tr=0,n}for(ai(null),lr.length=0,tr=0;di.length;)di.pop()();for(let n=0;n<ia.length;n+=1){const e=ia[n];jo.has(e)||(jo.add(e),e())}ia.length=0}while(lr.length);for(;Ms.length;)Ms.pop()();Cs=!1,jo.clear(),ai(t)}function Sg(t){if(t.fragment!==null){t.update(),Vr(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(Ps)}}const aa=new Set;let Pn;function oa(){Pn={r:0,c:[],p:Pn}}function sa(){Pn.r||Vr(Pn.c),Pn=Pn.p}function ft(t,n){t&&t.i&&(aa.delete(t),t.i(n))}function mt(t,n,e,r){if(t&&t.o){if(aa.has(t))return;aa.add(t),Pn.c.push(()=>{aa.delete(t),r&&(e&&t.d(1),r())}),t.o(n)}else r&&r()}function id(t,n){const e={},r={},i={$$scope:1};let a=t.length;for(;a--;){const o=t[a],s=n[a];if(s){for(const l in o)l in s||(r[l]=1);for(const l in s)i[l]||(e[l]=s[l],i[l]=1);t[a]=s}else for(const l in o)i[l]=1}for(const o in r)o in e||(e[o]=void 0);return e}function Ag(t){return typeof t=="object"&&t!==null?t:{}}function vc(t,n,e){const r=t.$$.props[n];r!==void 0&&(t.$$.bound[r]=e,e(t.$$.ctx[r]))}function St(t){t&&t.c()}function wt(t,n,e,r){const{fragment:i,after_update:a}=t.$$;i&&i.m(n,e),r||Ps(()=>{const o=t.$$.on_mount.map(Qh).filter(Jh);t.$$.on_destroy?t.$$.on_destroy.push(...o):Vr(o),t.$$.on_mount=[]}),a.forEach(Ps)}function Ot(t,n){const e=t.$$;e.fragment!==null&&(Vr(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function Mg(t,n){t.$$.dirty[0]===-1&&(lr.push(t),Eg(),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function ie(t,n,e,r,i,a,o,s=[-1]){const l=hi;ai(t);const u=t.$$={fragment:null,ctx:[],props:a,update:_t,not_equal:i,bound:hc(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(l?l.$$.context:[])),callbacks:hc(),dirty:s,skip_bound:!1,root:n.target||l.$$.root};o&&o(u.root);let c=!1;if(u.ctx=e?e(t,n.props||{},(h,f,...d)=>{const p=d.length?d[0]:f;return u.ctx&&i(u.ctx[h],u.ctx[h]=p)&&(!u.skip_bound&&u.bound[h]&&u.bound[h](p),c&&Mg(t,h)),f}):[],u.update(),c=!0,Vr(u.before_update),u.fragment=r?r(u.ctx):!1,n.target){if(n.hydrate){const h=xg(n.target);u.fragment&&u.fragment.l(h),h.forEach(bt)}else u.fragment&&u.fragment.c();n.intro&&ft(t.$$.fragment),wt(t,n.target,n.anchor,n.customElement),rd()}ai(l)}class ae{$destroy(){Ot(this,1),this.$destroy=_t}$on(n,e){if(!Jh(e))return _t;const r=this.$$.callbacks[n]||(this.$$.callbacks[n]=[]);return r.push(e),()=>{const i=r.indexOf(e);i!==-1&&r.splice(i,1)}}$set(n){this.$$set&&!yg(n)&&(this.$$.skip_bound=!0,this.$$set(n),this.$$.skip_bound=!1)}}var ht;(function(t){t.GRAPHICS_DOCUMENT="graphics-document",t.GRAPHICS_OBJECT="graphics-object",t.GRAPHICS_SYMBOL="graphics-symbol",t.GROUP="group",t.DOCUMENT="document",t.CHECKBOX="checkbox",t.BUTTON="button",t.MENU="menu",t.MENU_ITEM="menuitem",t.IMG="img"})(ht||(ht={}));var Ds;(function(t){t.RENDER_FINISHED="render-finished",t.RESIZE="chart-resize",t.MOUSEOVER="chart-mouseover",t.MOUSEOUT="chart-mouseout"})(Ds||(Ds={}));var Ls;(function(t){t.SHOW="show-modal",t.HIDE="hide-modal"})(Ls||(Ls={}));var Rs;(function(t){t.UPDATE="model-update"})(Rs||(Rs={}));var ks;(function(t){t.SHOW_OVERFLOW_MENU="show-toolbar-overflow-menu",t.HIDE_OVERFLOW_MENU="hide-toolbar-overflow-menu",t.BUTTON_CLICK="toolbar-button-click"})(ks||(ks={}));var Is;(function(t){t.UPDATE="zoom-bar-update",t.SELECTION_START="zoom-bar-selection-start",t.SELECTION_IN_PROGRESS="zoom-bar-selection-in-progress",t.SELECTION_END="zoom-bar-selection-end"})(Is||(Is={}));var Ns;(function(t){t.CHANGE="zoom-domain-change"})(Ns||(Ns={}));var $s;(function(t){t.CANVAS_ZOOM_IN="canvas-zoom-in",t.CANVAS_ZOOM_OUT="canvas-zoom-out"})($s||($s={}));var Us;(function(t){t.LABEL_MOUSEOVER="axis-label-mouseover",t.LABEL_MOUSEMOVE="axis-label-mousemove",t.LABEL_CLICK="axis-label-click",t.LABEL_MOUSEOUT="axis-label-mouseout",t.LABEL_FOCUS="axis-label-focus",t.LABEL_BLUR="axis-label-blur",t.RENDER_COMPLETE="axis-render-complete"})(Us||(Us={}));var Bs;(function(t){t.POINT_MOUSEOVER="scatter-mouseover",t.POINT_MOUSEMOVE="scatter-mousemove",t.POINT_CLICK="scatter-click",t.POINT_MOUSEOUT="scatter-mouseout"})(Bs||(Bs={}));var Vs;(function(t){t.WORD_MOUSEOVER="wordcloud-word-mouseover",t.WORD_MOUSEMOVE="wordcloud-word-mousemove",t.WORD_CLICK="wordcloud-word-click",t.WORD_MOUSEOUT="wordcloud-word-mouseout"})(Vs||(Vs={}));var Gs;(function(t){t.SLICE_MOUSEOVER="pie-slice-mouseover",t.SLICE_MOUSEMOVE="pie-slice-mousemove",t.SLICE_CLICK="pie-slice-click",t.SLICE_MOUSEOUT="pie-slice-mouseout"})(Gs||(Gs={}));var Fs;(function(t){t.ARC_MOUSEOVER="gauge-arc-mouseover",t.ARC_MOUSEMOVE="gauge-arc-mousemove",t.ARC_CLICK="gauge-arc-click",t.ARC_MOUSEOUT="gauge-arc-mouseout"})(Fs||(Fs={}));var Hs;(function(t){t.BAR_MOUSEOVER="bar-mouseover",t.BAR_MOUSEMOVE="bar-mousemove",t.BAR_CLICK="bar-click",t.BAR_MOUSEOUT="bar-mouseout"})(Hs||(Hs={}));var zs;(function(t){t.BOX_MOUSEOVER="box-mouseover",t.BOX_MOUSEMOVE="box-mousemove",t.BOX_CLICK="box-click",t.BOX_MOUSEOUT="box-mouseout",t.OUTLIER_MOUSEOVER="outlier-mouseover",t.OUTLIER_MOUSEMOVE="outlier-mousemove",t.OUTLIER_CLICK="outlier-click",t.OUTLIER_MOUSEOUT="outlier-mouseout"})(zs||(zs={}));var Ws;(function(t){t.SCATTER_MOUSEOVER="scatter-mouseover",t.SCATTER_MOUSEMOVE="scatter-mousemove",t.SCATTER_CLICK="scatter-click",t.SCATTER_MOUSEOUT="scatter-mouseout"})(Ws||(Ws={}));var js;(function(t){t.POINT_MOUSEOVER="scatter-mouseover",t.POINT_MOUSEMOVE="scatter-mousemove",t.POINT_CLICK="scatter-click",t.POINT_MOUSEOUT="scatter-mouseout"})(js||(js={}));var qs;(function(t){t.X_AXIS_MOUSEOVER="radar-x-axis-mouseover",t.X_AXIS_MOUSEMOVE="radar-x-axis-mousemove",t.X_AXIS_CLICK="radar-x-axis-click",t.X_AXIS_MOUSEOUT="radar-x-axis-mouseout"})(qs||(qs={}));var Ys;(function(t){t.NODE_MOUSEOVER="tree-node-mouseover",t.NODE_CLICK="tree-node-click",t.NODE_MOUSEOUT="tree-node-mouseout"})(Ys||(Ys={}));var Xs;(function(t){t.LEAF_MOUSEOVER="leaf-mouseover",t.LEAF_MOUSEMOVE="leaf-mousemove",t.LEAF_CLICK="leaf-click",t.LEAF_MOUSEOUT="leaf-mouseout"})(Xs||(Xs={}));var Zs;(function(t){t.SHOW="show-tooltip",t.MOVE="move-tooltip",t.HIDE="hide-tooltip"})(Zs||(Zs={}));var Ks;(function(t){t.SHOW="show-threshold",t.HIDE="hide-threshold"})(Ks||(Ks={}));var Qs;(function(t){t.ITEM_HOVER="legend-item-onhover",t.ITEM_CLICK="legend-item-onclick",t.ITEM_MOUSEOUT="legend-item-onmouseout",t.ITEMS_UPDATE="legend-items-update"})(Qs||(Qs={}));var Js;(function(t){t.CIRCLE_MOUSEOVER="circle-leaf-mouseover",t.CIRCLE_CLICK="circle-leaf-click",t.CIRCLE_MOUSEOUT="circle-leaf-mouseout",t.CIRCLE_MOUSEMOVE="circle-leaf-mousemove"})(Js||(Js={}));var tl;(function(t){t.NODE_MOUSEOVER="alluvial-node-mouseover",t.NODE_CLICK="alluvial-node-click",t.NODE_MOUSEOUT="alluvial-node-mouseout",t.NODE_MOUSEMOVE="alluvial-node-mousemove",t.LINE_MOUSEOVER="alluvial-line-mouseover",t.LINE_CLICK="alluvial-line-click",t.LINE_MOUSEOUT="alluvial-line-mouseout",t.LINE_MOUSEMOVE="alluvial-line-mousemove"})(tl||(tl={}));var el;(function(t){t.METER_MOUSEOVER="meter-mouseover",t.METER_CLICK="meter-click",t.METER_MOUSEOUT="meter-mouseout",t.METER_MOUSEMOVE="meter-mousemove"})(el||(el={}));var nl;(function(t){t.HEATMAP_MOUSEOVER="heatmap-mouseover",t.HEATMAP_CLICK="heatmap-click",t.HEATMAP_MOUSEOUT="heatmap-mouseout",t.HEATMAP_MOUSEMOVE="hetmap-mousemove"})(nl||(nl={}));const Cg=Object.freeze(Object.defineProperty({__proto__:null,get Alluvial(){return tl},get Area(){return Bs},get Axis(){return Us},get Bar(){return Hs},get Boxplot(){return zs},get CanvasZoom(){return $s},get Chart(){return Ds},get CirclePack(){return Js},get Gauge(){return Fs},get Heatmap(){return nl},get Legend(){return Qs},get Line(){return js},get Meter(){return el},get Modal(){return Ls},get Model(){return Rs},get Pie(){return Gs},get Radar(){return qs},get Scatter(){return Ws},get Threshold(){return Ks},get Toolbar(){return ks},get Tooltip(){return Zs},get Tree(){return Ys},get Treemap(){return Xs},get WordCloud(){return Vs},get ZoomBar(){return Is},get ZoomDomain(){return Ns}},Symbol.toStringTag,{value:"Module"}));var S=Cg,it;(function(t){t.HTML="html",t.SVG="svg"})(it||(it={}));var rl;(function(t){t.WHITE="white",t.G100="g100",t.G90="g90",t.G10="g10"})(rl||(rl={}));var at;(function(t){t.BACKGROUND="background",t.FILL="fill",t.STROKE="stroke",t.TOOLTIP="tooltip"})(at||(at={}));var q;(function(t){t.LEFT="left",t.RIGHT="right",t.TOP="top",t.BOTTOM="bottom"})(q||(q={}));var Se;(function(t){t.GRAPH_VIEW="graph_view",t.SLIDER_VIEW="slider_view"})(Se||(Se={}));var be;(function(t){t.END_LINE="end_line",t.MID_LINE="mid_line",t.FRONT_LINE="front_line",t.NONE="none"})(be||(be={}));var Ht;(function(t){t.VERTICAL="vertical",t.HORIZONTAL="horizontal"})(Ht||(Ht={}));var nt;(function(t){t.TIME="time",t.LINEAR="linear",t.LOG="log",t.LABELS="labels",t.LABELS_RATIO="labels-ratio"})(nt||(nt={}));var gr;(function(t){t.RIGHT="right",t.LEFT="left",t.TOP="top",t.BOTTOM="bottom"})(gr||(gr={}));var Ft;(function(t){t.LEFT="left",t.CENTER="center",t.RIGHT="right"})(Ft||(Ft={}));var Or;(function(t){t.HORIZONTAL="horizontal",t.VERTICAL="vertical"})(Or||(Or={}));var ba;(function(t){t.TREE="tree",t.DENDROGRAM="dendrogram"})(ba||(ba={}));var It;(function(t){t.ROW="row",t.COLUMN="column",t.ROW_REVERSE="row-reverse",t.COLUMN_REVERSE="column-reverse"})(It||(It={}));var yt;(function(t){t.FIXED="fixed",t.PREFERRED="preferred",t.STRETCH="stretch"})(yt||(yt={}));var Tr;(function(t){t.CENTER="center"})(Tr||(Tr={}));var oi;(function(t){t.LEFT="left",t.RIGHT="right"})(oi||(oi={}));var Gt;(function(t){t.GRID="grid",t.VERT_OR_HORIZ="vertOrHoriz",t.PIE="pie",t.DONUT="donut"})(Gt||(Gt={}));var ke;(function(t){t.START="start",t.MIDDLE="middle",t.END="end"})(ke||(ke={}));var Ie;(function(t){t.BASELINE="baseline",t.MIDDLE="middle",t.HANGING="hanging"})(Ie||(Ie={}));var Dn;(function(t){t.SEMI="semi",t.FULL="full"})(Dn||(Dn={}));var wa;(function(t){t.UP="up",t.DOWN="down"})(wa||(wa={}));var si;(function(t){t.SUCCESS="success",t.WARNING="warning",t.DANGER="danger"})(si||(si={}));var li;(function(t){t.ALWAYS="always",t.AUTO="auto",t.NEVER="never"})(li||(li={}));var ve;(function(t){t.SCATTER="scatter",t.LINE="line",t.SIMPLE_BAR="simple-bar",t.STACKED_BAR="stacked-bar",t.GROUPED_BAR="grouped-bar",t.AREA="area",t.STACKED_AREA="stacked-area"})(ve||(ve={}));var kt;(function(t){t.EXPORT_CSV="Export as CSV",t.EXPORT_PNG="Export as PNG",t.EXPORT_JPG="Export as JPG",t.ZOOM_IN="Zoom in",t.ZOOM_OUT="Zoom out",t.RESET_ZOOM="Reset zoom",t.MAKE_FULLSCREEN="Make fullscreen",t.SHOW_AS_DATATABLE="Show as data-table",t.CUSTOM="Custom"})(kt||(kt={}));var Oa;(function(t){t.LEFT="left",t.RIGHT="right"})(Oa||(Oa={}));var Vt;(function(t){t.CHECKBOX="checkbox",t.RADIUS="radius",t.AREA="area",t.SIZE="size",t.LINE="line",t.QUARTILE="quartile",t.ZOOM="zoom"})(Vt||(Vt={}));var ui;(function(t){t.LINEAR="linear",t.QUANTIZE="quantize"})(ui||(ui={}));var mr;(function(t){t.ON="on",t.AUTO="auto",t.OFF="off"})(mr||(mr={}));var pi;(function(t){t.DEFAULT="default",t.HOVERABLE="hoverable"})(pi||(pi={}));const Pg=t=>+t;function ad(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Wi,ne="cds",$e={opacity:{unselected:.05,selected:.4}},Qe={ticks:{number:7,rotateIfSmallerThan:30,verticalSpaceRatio:2.5,horizontalSpaceRatio:3.5},ratio:{reference:"value",compareTo:"marker"},paddingRatio:.1,hover:{rectanglePadding:4}},yr={duration:1e3,ease:ad,zoomLevel:3},Mn={circles:{fillOpacity:.3,hover:{stroke:"#FFF"}},padding:{mainGroup:4,children:2},hierarchyLevel:2},nu={pairingOptions:{"1-color":4,"2-color":5,"3-color":5,"4-color":3,"5-color":2,"14-color":1}},pe={circle:{radius:4,opacity:{hovered:1,default:.3}},box:{opacity:{hovered:.5,default:.3}},strokeWidth:{default:1,thicker:2}},od={defaultBins:10},$t={items:{status:{ACTIVE:1,DISABLED:0},horizontalSpace:12,verticalSpace:24,textYOffset:8,spaceAfter:4},checkbox:{radius:6.5},radius:{iconData:[{cx:7,cy:7,r:6.5},{cx:7,cy:10,r:3.5}],fill:null,stroke:"#8c8c8c"},line:{yPosition:6,width:24,strokeWidth:1.4,fill:null,stroke:"#999999"},area:{width:24,height:14,fill:"#6f6f6f",stroke:null},size:{iconData:[{width:23,height:12},{width:13,height:6}],fill:null,stroke:"#8D8D8D"},quartile:{iconData:[{x:0,y:0,width:24,height:13},{x:11,y:4,width:1,height:4}]},zoom:{iconData:[{x:0,y:0,width:12,height:12}],color:"#8D8D8D"},color:{barWidth:300,barHeight:8,axisYTranslation:10}},Ne={opacity:{unselected:.3,selected:1},weight:{selected:2,unselected:1}},zt={statusBar:{paddingRight:5},status:{indicatorSize:16,paddingLeft:15},total:{paddingLeft:36,paddingRight:24},height:{default:8,proportional:16},dividerWidth:2},Ct={radiusOffset:-15,innerRadius:2,padAngle:.007,hoverArc:{outerRadiusOffset:3},xOffset:30,yOffset:20,yOffsetCallout:10,callout:{minSliceDegree:5,offsetX:15,offsetY:12,horizontalLineLength:8,textMargin:2}},pn={opacity:{unselected:.1,selected:.3},xLabelPadding:10,yLabelPadding:8,yTicksNumber:4,minRange:10,xAxisRectHeight:50,dotsRadius:5},xe={nodeWidth:4,nodeHoveredWidth:8,minNodePadding:24,opacity:{unfocus:.3,default:.8,selected:1}},il={minCellDividerDimension:16,chartPadding:.5},al={default:{size:24}},sd={horizontalOffset:10},ol={default:{duration:300},pie_slice_mouseover:{duration:100},pie_chart_titles:{duration:375},graph_element_mouseover_fill_update:{duration:100},graph_element_mouseout_fill_update:{duration:100}},Dg={buttonSize:32,iconSize:20,height:32,spacerHeight:10,iconPadding:6},le={height:(Wi={},Wi[Se.GRAPH_VIEW]=32,Wi[Se.SLIDER_VIEW]=10,Wi),spacerHeight:8,handleWidth:5,handleBarWidth:1,handleBarHeight:12},ld=[{type:Vt.RADIUS,name:"Radius"},{type:Vt.AREA,name:"Poor area"},{type:Vt.AREA,name:"Satisfactory area"},{type:Vt.AREA,name:"Great area"},{type:Vt.QUARTILE,name:"Quartiles"}],Lg=typeof global=="object"&&global&&global.Object===Object&&global;const ud=Lg;var Rg=typeof self=="object"&&self&&self.Object===Object&&self,kg=ud||Rg||Function("return this")();const Pe=kg;var Ig=Pe.Symbol;const Oe=Ig;var cd=Object.prototype,Ng=cd.hasOwnProperty,$g=cd.toString,Hr=Oe?Oe.toStringTag:void 0;function Ug(t){var n=Ng.call(t,Hr),e=t[Hr];try{t[Hr]=void 0;var r=!0}catch{}var i=$g.call(t);return r&&(n?t[Hr]=e:delete t[Hr]),i}var Bg=Object.prototype,Vg=Bg.toString;function Gg(t){return Vg.call(t)}var Fg="[object Null]",Hg="[object Undefined]",gc=Oe?Oe.toStringTag:void 0;function Hn(t){return t==null?t===void 0?Hg:Fg:gc&&gc in Object(t)?Ug(t):Gg(t)}function Fe(t){return t!=null&&typeof t=="object"}var zg="[object Symbol]";function go(t){return typeof t=="symbol"||Fe(t)&&Hn(t)==zg}function fd(t,n){for(var e=-1,r=t==null?0:t.length,i=Array(r);++e<r;)i[e]=n(t[e],e,t);return i}var Wg=Array.isArray;const Zt=Wg;var jg=1/0,mc=Oe?Oe.prototype:void 0,yc=mc?mc.toString:void 0;function hd(t){if(typeof t=="string")return t;if(Zt(t))return fd(t,hd)+"";if(go(t))return yc?yc.call(t):"";var n=t+"";return n=="0"&&1/t==-jg?"-0":n}var qg=/\s/;function Yg(t){for(var n=t.length;n--&&qg.test(t.charAt(n)););return n}var Xg=/^\s+/;function Zg(t){return t&&t.slice(0,Yg(t)+1).replace(Xg,"")}function Te(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}var _c=0/0,Kg=/^[-+]0x[0-9a-f]+$/i,Qg=/^0b[01]+$/i,Jg=/^0o[0-7]+$/i,tm=parseInt;function ci(t){if(typeof t=="number")return t;if(go(t))return _c;if(Te(t)){var n=typeof t.valueOf=="function"?t.valueOf():t;t=Te(n)?n+"":n}if(typeof t!="string")return t===0?t:+t;t=Zg(t);var e=Qg.test(t);return e||Jg.test(t)?tm(t.slice(2),e?2:8):Kg.test(t)?_c:+t}function ru(t){return t}var em="[object AsyncFunction]",nm="[object Function]",rm="[object GeneratorFunction]",im="[object Proxy]";function iu(t){if(!Te(t))return!1;var n=Hn(t);return n==nm||n==rm||n==em||n==im}var am=Pe["__core-js_shared__"];const qo=am;var xc=function(){var t=/[^.]+$/.exec(qo&&qo.keys&&qo.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function om(t){return!!xc&&xc in t}var sm=Function.prototype,lm=sm.toString;function zn(t){if(t!=null){try{return lm.call(t)}catch{}try{return t+""}catch{}}return""}var um=/[\\^$.*+?()[\]{}|]/g,cm=/^\[object .+?Constructor\]$/,fm=Function.prototype,hm=Object.prototype,dm=fm.toString,pm=hm.hasOwnProperty,vm=RegExp("^"+dm.call(pm).replace(um,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function gm(t){if(!Te(t)||om(t))return!1;var n=iu(t)?vm:cm;return n.test(zn(t))}function mm(t,n){return t==null?void 0:t[n]}function Wn(t,n){var e=mm(t,n);return gm(e)?e:void 0}var ym=Wn(Pe,"WeakMap");const sl=ym;var bc=Object.create,_m=function(){function t(){}return function(n){if(!Te(n))return{};if(bc)return bc(n);t.prototype=n;var e=new t;return t.prototype=void 0,e}}();const xm=_m;function bm(t,n,e){switch(e.length){case 0:return t.call(n);case 1:return t.call(n,e[0]);case 2:return t.call(n,e[0],e[1]);case 3:return t.call(n,e[0],e[1],e[2])}return t.apply(n,e)}function wm(){}function dd(t,n){var e=-1,r=t.length;for(n||(n=Array(r));++e<r;)n[e]=t[e];return n}var Om=800,Tm=16,Em=Date.now;function Sm(t){var n=0,e=0;return function(){var r=Em(),i=Tm-(r-e);if(e=r,i>0){if(++n>=Om)return arguments[0]}else n=0;return t.apply(void 0,arguments)}}function Am(t){return function(){return t}}var Mm=function(){try{var t=Wn(Object,"defineProperty");return t({},"",{}),t}catch{}}();const Ta=Mm;var Cm=Ta?function(t,n){return Ta(t,"toString",{configurable:!0,enumerable:!1,value:Am(n),writable:!0})}:ru;const Pm=Cm;var Dm=Sm(Pm);const Lm=Dm;function Rm(t,n){for(var e=-1,r=t==null?0:t.length;++e<r&&n(t[e],e,t)!==!1;);return t}function km(t,n,e,r){for(var i=t.length,a=e+(r?1:-1);r?a--:++a<i;)if(n(t[a],a,t))return a;return-1}function Im(t){return t!==t}function Nm(t,n,e){for(var r=e-1,i=t.length;++r<i;)if(t[r]===n)return r;return-1}function $m(t,n,e){return n===n?Nm(t,n,e):km(t,Im,e)}function Um(t,n){var e=t==null?0:t.length;return!!e&&$m(t,n,0)>-1}var Bm=9007199254740991,Vm=/^(?:0|[1-9]\d*)$/;function au(t,n){var e=typeof t;return n=n??Bm,!!n&&(e=="number"||e!="symbol"&&Vm.test(t))&&t>-1&&t%1==0&&t<n}function mo(t,n,e){n=="__proto__"&&Ta?Ta(t,n,{configurable:!0,enumerable:!0,value:e,writable:!0}):t[n]=e}function Si(t,n){return t===n||t!==t&&n!==n}var Gm=Object.prototype,Fm=Gm.hasOwnProperty;function pd(t,n,e){var r=t[n];(!(Fm.call(t,n)&&Si(r,e))||e===void 0&&!(n in t))&&mo(t,n,e)}function Ai(t,n,e,r){var i=!e;e||(e={});for(var a=-1,o=n.length;++a<o;){var s=n[a],l=r?r(e[s],t[s],s,e,t):void 0;l===void 0&&(l=t[s]),i?mo(e,s,l):pd(e,s,l)}return e}var wc=Math.max;function Hm(t,n,e){return n=wc(n===void 0?t.length-1:n,0),function(){for(var r=arguments,i=-1,a=wc(r.length-n,0),o=Array(a);++i<a;)o[i]=r[n+i];i=-1;for(var s=Array(n+1);++i<n;)s[i]=r[i];return s[n]=e(o),bm(t,this,s)}}function vd(t,n){return Lm(Hm(t,n,ru),t+"")}var zm=9007199254740991;function ou(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=zm}function jn(t){return t!=null&&ou(t.length)&&!iu(t)}function gd(t,n,e){if(!Te(e))return!1;var r=typeof n;return(r=="number"?jn(e)&&au(n,e.length):r=="string"&&n in e)?Si(e[n],t):!1}function Wm(t){return vd(function(n,e){var r=-1,i=e.length,a=i>1?e[i-1]:void 0,o=i>2?e[2]:void 0;for(a=t.length>3&&typeof a=="function"?(i--,a):void 0,o&&gd(e[0],e[1],o)&&(a=i<3?void 0:a,i=1),n=Object(n);++r<i;){var s=e[r];s&&t(n,s,r,a)}return n})}var jm=Object.prototype;function yo(t){var n=t&&t.constructor,e=typeof n=="function"&&n.prototype||jm;return t===e}function qm(t,n){for(var e=-1,r=Array(t);++e<t;)r[e]=n(e);return r}var Ym="[object Arguments]";function Oc(t){return Fe(t)&&Hn(t)==Ym}var md=Object.prototype,Xm=md.hasOwnProperty,Zm=md.propertyIsEnumerable,Km=Oc(function(){return arguments}())?Oc:function(t){return Fe(t)&&Xm.call(t,"callee")&&!Zm.call(t,"callee")};const Er=Km;function Qm(){return!1}var yd=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Tc=yd&&typeof module=="object"&&module&&!module.nodeType&&module,Jm=Tc&&Tc.exports===yd,Ec=Jm?Pe.Buffer:void 0,ty=Ec?Ec.isBuffer:void 0,ey=ty||Qm;const Sr=ey;var ny="[object Arguments]",ry="[object Array]",iy="[object Boolean]",ay="[object Date]",oy="[object Error]",sy="[object Function]",ly="[object Map]",uy="[object Number]",cy="[object Object]",fy="[object RegExp]",hy="[object Set]",dy="[object String]",py="[object WeakMap]",vy="[object ArrayBuffer]",gy="[object DataView]",my="[object Float32Array]",yy="[object Float64Array]",_y="[object Int8Array]",xy="[object Int16Array]",by="[object Int32Array]",wy="[object Uint8Array]",Oy="[object Uint8ClampedArray]",Ty="[object Uint16Array]",Ey="[object Uint32Array]",Rt={};Rt[my]=Rt[yy]=Rt[_y]=Rt[xy]=Rt[by]=Rt[wy]=Rt[Oy]=Rt[Ty]=Rt[Ey]=!0;Rt[ny]=Rt[ry]=Rt[vy]=Rt[iy]=Rt[gy]=Rt[ay]=Rt[oy]=Rt[sy]=Rt[ly]=Rt[uy]=Rt[cy]=Rt[fy]=Rt[hy]=Rt[dy]=Rt[py]=!1;function Sy(t){return Fe(t)&&ou(t.length)&&!!Rt[Hn(t)]}function su(t){return function(n){return t(n)}}var _d=typeof exports=="object"&&exports&&!exports.nodeType&&exports,fi=_d&&typeof module=="object"&&module&&!module.nodeType&&module,Ay=fi&&fi.exports===_d,Yo=Ay&&ud.process,My=function(){try{var t=fi&&fi.require&&fi.require("util").types;return t||Yo&&Yo.binding&&Yo.binding("util")}catch{}}();const Ar=My;var Sc=Ar&&Ar.isTypedArray,Cy=Sc?su(Sc):Sy;const _o=Cy;var Py=Object.prototype,Dy=Py.hasOwnProperty;function xd(t,n){var e=Zt(t),r=!e&&Er(t),i=!e&&!r&&Sr(t),a=!e&&!r&&!i&&_o(t),o=e||r||i||a,s=o?qm(t.length,String):[],l=s.length;for(var u in t)(n||Dy.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||au(u,l)))&&s.push(u);return s}function bd(t,n){return function(e){return t(n(e))}}var Ly=bd(Object.keys,Object);const Ry=Ly;var ky=Object.prototype,Iy=ky.hasOwnProperty;function wd(t){if(!yo(t))return Ry(t);var n=[];for(var e in Object(t))Iy.call(t,e)&&e!="constructor"&&n.push(e);return n}function Mi(t){return jn(t)?xd(t):wd(t)}function Ny(t){var n=[];if(t!=null)for(var e in Object(t))n.push(e);return n}var $y=Object.prototype,Uy=$y.hasOwnProperty;function By(t){if(!Te(t))return Ny(t);var n=yo(t),e=[];for(var r in t)r=="constructor"&&(n||!Uy.call(t,r))||e.push(r);return e}function Ci(t){return jn(t)?xd(t,!0):By(t)}var Vy=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Gy=/^\w*$/;function lu(t,n){if(Zt(t))return!1;var e=typeof t;return e=="number"||e=="symbol"||e=="boolean"||t==null||go(t)?!0:Gy.test(t)||!Vy.test(t)||n!=null&&t in Object(n)}var Fy=Wn(Object,"create");const vi=Fy;function Hy(){this.__data__=vi?vi(null):{},this.size=0}function zy(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}var Wy="__lodash_hash_undefined__",jy=Object.prototype,qy=jy.hasOwnProperty;function Yy(t){var n=this.__data__;if(vi){var e=n[t];return e===Wy?void 0:e}return qy.call(n,t)?n[t]:void 0}var Xy=Object.prototype,Zy=Xy.hasOwnProperty;function Ky(t){var n=this.__data__;return vi?n[t]!==void 0:Zy.call(n,t)}var Qy="__lodash_hash_undefined__";function Jy(t,n){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=vi&&n===void 0?Qy:n,this}function In(t){var n=-1,e=t==null?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}In.prototype.clear=Hy;In.prototype.delete=zy;In.prototype.get=Yy;In.prototype.has=Ky;In.prototype.set=Jy;function t0(){this.__data__=[],this.size=0}function xo(t,n){for(var e=t.length;e--;)if(Si(t[e][0],n))return e;return-1}var e0=Array.prototype,n0=e0.splice;function r0(t){var n=this.__data__,e=xo(n,t);if(e<0)return!1;var r=n.length-1;return e==r?n.pop():n0.call(n,e,1),--this.size,!0}function i0(t){var n=this.__data__,e=xo(n,t);return e<0?void 0:n[e][1]}function a0(t){return xo(this.__data__,t)>-1}function o0(t,n){var e=this.__data__,r=xo(e,t);return r<0?(++this.size,e.push([t,n])):e[r][1]=n,this}function rn(t){var n=-1,e=t==null?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}rn.prototype.clear=t0;rn.prototype.delete=r0;rn.prototype.get=i0;rn.prototype.has=a0;rn.prototype.set=o0;var s0=Wn(Pe,"Map");const gi=s0;function l0(){this.size=0,this.__data__={hash:new In,map:new(gi||rn),string:new In}}function u0(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}function bo(t,n){var e=t.__data__;return u0(n)?e[typeof n=="string"?"string":"hash"]:e.map}function c0(t){var n=bo(this,t).delete(t);return this.size-=n?1:0,n}function f0(t){return bo(this,t).get(t)}function h0(t){return bo(this,t).has(t)}function d0(t,n){var e=bo(this,t),r=e.size;return e.set(t,n),this.size+=e.size==r?0:1,this}function an(t){var n=-1,e=t==null?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}an.prototype.clear=l0;an.prototype.delete=c0;an.prototype.get=f0;an.prototype.has=h0;an.prototype.set=d0;var p0="Expected a function";function uu(t,n){if(typeof t!="function"||n!=null&&typeof n!="function")throw new TypeError(p0);var e=function(){var r=arguments,i=n?n.apply(this,r):r[0],a=e.cache;if(a.has(i))return a.get(i);var o=t.apply(this,r);return e.cache=a.set(i,o)||a,o};return e.cache=new(uu.Cache||an),e}uu.Cache=an;var v0=500;function g0(t){var n=uu(t,function(r){return e.size===v0&&e.clear(),r}),e=n.cache;return n}var m0=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,y0=/\\(\\)?/g,_0=g0(function(t){var n=[];return t.charCodeAt(0)===46&&n.push(""),t.replace(m0,function(e,r,i,a){n.push(i?a.replace(y0,"$1"):r||e)}),n});const x0=_0;function Pi(t){return t==null?"":hd(t)}function Od(t,n){return Zt(t)?t:lu(t,n)?[t]:x0(Pi(t))}var b0=1/0;function wo(t){if(typeof t=="string"||go(t))return t;var n=t+"";return n=="0"&&1/t==-b0?"-0":n}function Td(t,n){n=Od(n,t);for(var e=0,r=n.length;t!=null&&e<r;)t=t[wo(n[e++])];return e&&e==r?t:void 0}function Lt(t,n,e){var r=t==null?void 0:Td(t,n);return r===void 0?e:r}function cu(t,n){for(var e=-1,r=n.length,i=t.length;++e<r;)t[i+e]=n[e];return t}var Ac=Oe?Oe.isConcatSpreadable:void 0;function w0(t){return Zt(t)||Er(t)||!!(Ac&&t&&t[Ac])}function Oo(t,n,e,r,i){var a=-1,o=t.length;for(e||(e=w0),i||(i=[]);++a<o;){var s=t[a];n>0&&e(s)?n>1?Oo(s,n-1,e,r,i):cu(i,s):r||(i[i.length]=s)}return i}function O0(t){var n=t==null?0:t.length;return n?Oo(t,1):[]}var T0=bd(Object.getPrototypeOf,Object);const fu=T0;var E0="[object Object]",S0=Function.prototype,A0=Object.prototype,Ed=S0.toString,M0=A0.hasOwnProperty,C0=Ed.call(Object);function P0(t){if(!Fe(t)||Hn(t)!=E0)return!1;var n=fu(t);if(n===null)return!0;var e=M0.call(n,"constructor")&&n.constructor;return typeof e=="function"&&e instanceof e&&Ed.call(e)==C0}function D0(t,n,e){var r=-1,i=t.length;n<0&&(n=-n>i?0:i+n),e=e>i?i:e,e<0&&(e+=i),i=n>e?0:e-n>>>0,n>>>=0;for(var a=Array(i);++r<i;)a[r]=t[r+n];return a}function L0(t,n,e){var r=t.length;return e=e===void 0?r:e,!n&&e>=r?t:D0(t,n,e)}var R0="\\ud800-\\udfff",k0="\\u0300-\\u036f",I0="\\ufe20-\\ufe2f",N0="\\u20d0-\\u20ff",$0=k0+I0+N0,U0="\\ufe0e\\ufe0f",B0="\\u200d",V0=RegExp("["+B0+R0+$0+U0+"]");function Sd(t){return V0.test(t)}function G0(t){return t.split("")}var Ad="\\ud800-\\udfff",F0="\\u0300-\\u036f",H0="\\ufe20-\\ufe2f",z0="\\u20d0-\\u20ff",W0=F0+H0+z0,j0="\\ufe0e\\ufe0f",q0="["+Ad+"]",ll="["+W0+"]",ul="\\ud83c[\\udffb-\\udfff]",Y0="(?:"+ll+"|"+ul+")",Md="[^"+Ad+"]",Cd="(?:\\ud83c[\\udde6-\\uddff]){2}",Pd="[\\ud800-\\udbff][\\udc00-\\udfff]",X0="\\u200d",Dd=Y0+"?",Ld="["+j0+"]?",Z0="(?:"+X0+"(?:"+[Md,Cd,Pd].join("|")+")"+Ld+Dd+")*",K0=Ld+Dd+Z0,Q0="(?:"+[Md+ll+"?",ll,Cd,Pd,q0].join("|")+")",J0=RegExp(ul+"(?="+ul+")|"+Q0+K0,"g");function t_(t){return t.match(J0)||[]}function e_(t){return Sd(t)?t_(t):G0(t)}function n_(t){return function(n){n=Pi(n);var e=Sd(n)?e_(n):void 0,r=e?e[0]:n.charAt(0),i=e?L0(e,1).join(""):n.slice(1);return r[t]()+i}}var r_=n_("toUpperCase");const i_=r_;function a_(t){return i_(Pi(t).toLowerCase())}function o_(t,n,e,r){var i=-1,a=t==null?0:t.length;for(r&&a&&(e=t[++i]);++i<a;)e=n(e,t[i],i,t);return e}function s_(t){return function(n){return t==null?void 0:t[n]}}var l_={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},u_=s_(l_);const c_=u_;var f_=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,h_="\\u0300-\\u036f",d_="\\ufe20-\\ufe2f",p_="\\u20d0-\\u20ff",v_=h_+d_+p_,g_="["+v_+"]",m_=RegExp(g_,"g");function y_(t){return t=Pi(t),t&&t.replace(f_,c_).replace(m_,"")}var __=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function x_(t){return t.match(__)||[]}var b_=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function w_(t){return b_.test(t)}var Rd="\\ud800-\\udfff",O_="\\u0300-\\u036f",T_="\\ufe20-\\ufe2f",E_="\\u20d0-\\u20ff",S_=O_+T_+E_,kd="\\u2700-\\u27bf",Id="a-z\\xdf-\\xf6\\xf8-\\xff",A_="\\xac\\xb1\\xd7\\xf7",M_="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",C_="\\u2000-\\u206f",P_=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Nd="A-Z\\xc0-\\xd6\\xd8-\\xde",D_="\\ufe0e\\ufe0f",$d=A_+M_+C_+P_,Ud="['’]",Mc="["+$d+"]",L_="["+S_+"]",Bd="\\d+",R_="["+kd+"]",Vd="["+Id+"]",Gd="[^"+Rd+$d+Bd+kd+Id+Nd+"]",k_="\\ud83c[\\udffb-\\udfff]",I_="(?:"+L_+"|"+k_+")",N_="[^"+Rd+"]",Fd="(?:\\ud83c[\\udde6-\\uddff]){2}",Hd="[\\ud800-\\udbff][\\udc00-\\udfff]",ur="["+Nd+"]",$_="\\u200d",Cc="(?:"+Vd+"|"+Gd+")",U_="(?:"+ur+"|"+Gd+")",Pc="(?:"+Ud+"(?:d|ll|m|re|s|t|ve))?",Dc="(?:"+Ud+"(?:D|LL|M|RE|S|T|VE))?",zd=I_+"?",Wd="["+D_+"]?",B_="(?:"+$_+"(?:"+[N_,Fd,Hd].join("|")+")"+Wd+zd+")*",V_="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",G_="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",F_=Wd+zd+B_,H_="(?:"+[R_,Fd,Hd].join("|")+")"+F_,z_=RegExp([ur+"?"+Vd+"+"+Pc+"(?="+[Mc,ur,"$"].join("|")+")",U_+"+"+Dc+"(?="+[Mc,ur+Cc,"$"].join("|")+")",ur+"?"+Cc+"+"+Pc,ur+"+"+Dc,G_,V_,Bd,H_].join("|"),"g");function W_(t){return t.match(z_)||[]}function j_(t,n,e){return t=Pi(t),n=e?void 0:n,n===void 0?w_(t)?W_(t):x_(t):t.match(n)||[]}var q_="['’]",Y_=RegExp(q_,"g");function jd(t){return function(n){return o_(j_(y_(n).replace(Y_,"")),t,"")}}var X_=jd(function(t,n,e){return n=n.toLowerCase(),t+(e?a_(n):n)});const Z_=X_;function K_(t,n,e){return t===t&&(e!==void 0&&(t=t<=e?t:e),n!==void 0&&(t=t>=n?t:n)),t}function Q_(t,n,e){return e===void 0&&(e=n,n=void 0),e!==void 0&&(e=ci(e),e=e===e?e:0),n!==void 0&&(n=ci(n),n=n===n?n:0),K_(ci(t),n,e)}function J_(){this.__data__=new rn,this.size=0}function t1(t){var n=this.__data__,e=n.delete(t);return this.size=n.size,e}function e1(t){return this.__data__.get(t)}function n1(t){return this.__data__.has(t)}var r1=200;function i1(t,n){var e=this.__data__;if(e instanceof rn){var r=e.__data__;if(!gi||r.length<r1-1)return r.push([t,n]),this.size=++e.size,this;e=this.__data__=new an(r)}return e.set(t,n),this.size=e.size,this}function Me(t){var n=this.__data__=new rn(t);this.size=n.size}Me.prototype.clear=J_;Me.prototype.delete=t1;Me.prototype.get=e1;Me.prototype.has=n1;Me.prototype.set=i1;function a1(t,n){return t&&Ai(n,Mi(n),t)}function o1(t,n){return t&&Ai(n,Ci(n),t)}var qd=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Lc=qd&&typeof module=="object"&&module&&!module.nodeType&&module,s1=Lc&&Lc.exports===qd,Rc=s1?Pe.Buffer:void 0,kc=Rc?Rc.allocUnsafe:void 0;function Yd(t,n){if(n)return t.slice();var e=t.length,r=kc?kc(e):new t.constructor(e);return t.copy(r),r}function l1(t,n){for(var e=-1,r=t==null?0:t.length,i=0,a=[];++e<r;){var o=t[e];n(o,e,t)&&(a[i++]=o)}return a}function Xd(){return[]}var u1=Object.prototype,c1=u1.propertyIsEnumerable,Ic=Object.getOwnPropertySymbols,f1=Ic?function(t){return t==null?[]:(t=Object(t),l1(Ic(t),function(n){return c1.call(t,n)}))}:Xd;const hu=f1;function h1(t,n){return Ai(t,hu(t),n)}var d1=Object.getOwnPropertySymbols,p1=d1?function(t){for(var n=[];t;)cu(n,hu(t)),t=fu(t);return n}:Xd;const Zd=p1;function v1(t,n){return Ai(t,Zd(t),n)}function Kd(t,n,e){var r=n(t);return Zt(t)?r:cu(r,e(t))}function cl(t){return Kd(t,Mi,hu)}function g1(t){return Kd(t,Ci,Zd)}var m1=Wn(Pe,"DataView");const fl=m1;var y1=Wn(Pe,"Promise");const hl=y1;var _1=Wn(Pe,"Set");const _r=_1;var Nc="[object Map]",x1="[object Object]",$c="[object Promise]",Uc="[object Set]",Bc="[object WeakMap]",Vc="[object DataView]",b1=zn(fl),w1=zn(gi),O1=zn(hl),T1=zn(_r),E1=zn(sl),Tn=Hn;(fl&&Tn(new fl(new ArrayBuffer(1)))!=Vc||gi&&Tn(new gi)!=Nc||hl&&Tn(hl.resolve())!=$c||_r&&Tn(new _r)!=Uc||sl&&Tn(new sl)!=Bc)&&(Tn=function(t){var n=Hn(t),e=n==x1?t.constructor:void 0,r=e?zn(e):"";if(r)switch(r){case b1:return Vc;case w1:return Nc;case O1:return $c;case T1:return Uc;case E1:return Bc}return n});const Mr=Tn;var S1=Object.prototype,A1=S1.hasOwnProperty;function M1(t){var n=t.length,e=new t.constructor(n);return n&&typeof t[0]=="string"&&A1.call(t,"index")&&(e.index=t.index,e.input=t.input),e}var C1=Pe.Uint8Array;const Ea=C1;function du(t){var n=new t.constructor(t.byteLength);return new Ea(n).set(new Ea(t)),n}function P1(t,n){var e=n?du(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.byteLength)}var D1=/\w*$/;function L1(t){var n=new t.constructor(t.source,D1.exec(t));return n.lastIndex=t.lastIndex,n}var Gc=Oe?Oe.prototype:void 0,Fc=Gc?Gc.valueOf:void 0;function R1(t){return Fc?Object(Fc.call(t)):{}}function Qd(t,n){var e=n?du(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.length)}var k1="[object Boolean]",I1="[object Date]",N1="[object Map]",$1="[object Number]",U1="[object RegExp]",B1="[object Set]",V1="[object String]",G1="[object Symbol]",F1="[object ArrayBuffer]",H1="[object DataView]",z1="[object Float32Array]",W1="[object Float64Array]",j1="[object Int8Array]",q1="[object Int16Array]",Y1="[object Int32Array]",X1="[object Uint8Array]",Z1="[object Uint8ClampedArray]",K1="[object Uint16Array]",Q1="[object Uint32Array]";function J1(t,n,e){var r=t.constructor;switch(n){case F1:return du(t);case k1:case I1:return new r(+t);case H1:return P1(t,e);case z1:case W1:case j1:case q1:case Y1:case X1:case Z1:case K1:case Q1:return Qd(t,e);case N1:return new r;case $1:case V1:return new r(t);case U1:return L1(t);case B1:return new r;case G1:return R1(t)}}function Jd(t){return typeof t.constructor=="function"&&!yo(t)?xm(fu(t)):{}}var tx="[object Map]";function ex(t){return Fe(t)&&Mr(t)==tx}var Hc=Ar&&Ar.isMap,nx=Hc?su(Hc):ex;const rx=nx;var ix="[object Set]";function ax(t){return Fe(t)&&Mr(t)==ix}var zc=Ar&&Ar.isSet,ox=zc?su(zc):ax;const sx=ox;var lx=1,ux=2,cx=4,tp="[object Arguments]",fx="[object Array]",hx="[object Boolean]",dx="[object Date]",px="[object Error]",ep="[object Function]",vx="[object GeneratorFunction]",gx="[object Map]",mx="[object Number]",np="[object Object]",yx="[object RegExp]",_x="[object Set]",xx="[object String]",bx="[object Symbol]",wx="[object WeakMap]",Ox="[object ArrayBuffer]",Tx="[object DataView]",Ex="[object Float32Array]",Sx="[object Float64Array]",Ax="[object Int8Array]",Mx="[object Int16Array]",Cx="[object Int32Array]",Px="[object Uint8Array]",Dx="[object Uint8ClampedArray]",Lx="[object Uint16Array]",Rx="[object Uint32Array]",Dt={};Dt[tp]=Dt[fx]=Dt[Ox]=Dt[Tx]=Dt[hx]=Dt[dx]=Dt[Ex]=Dt[Sx]=Dt[Ax]=Dt[Mx]=Dt[Cx]=Dt[gx]=Dt[mx]=Dt[np]=Dt[yx]=Dt[_x]=Dt[xx]=Dt[bx]=Dt[Px]=Dt[Dx]=Dt[Lx]=Dt[Rx]=!0;Dt[px]=Dt[ep]=Dt[wx]=!1;function la(t,n,e,r,i,a){var o,s=n&lx,l=n&ux,u=n&cx;if(e&&(o=i?e(t,r,i,a):e(t)),o!==void 0)return o;if(!Te(t))return t;var c=Zt(t);if(c){if(o=M1(t),!s)return dd(t,o)}else{var h=Mr(t),f=h==ep||h==vx;if(Sr(t))return Yd(t,s);if(h==np||h==tp||f&&!i){if(o=l||f?{}:Jd(t),!s)return l?v1(t,o1(o,t)):h1(t,a1(o,t))}else{if(!Dt[h])return i?t:{};o=J1(t,h,s)}}a||(a=new Me);var d=a.get(t);if(d)return d;a.set(t,o),sx(t)?t.forEach(function(m){o.add(la(m,n,e,m,t,a))}):rx(t)&&t.forEach(function(m,_){o.set(_,la(m,n,e,_,t,a))});var p=u?l?g1:cl:l?Ci:Mi,g=c?void 0:p(t);return Rm(g||t,function(m,_){g&&(_=m,m=t[_]),pd(o,_,la(m,n,e,_,t,a))}),o}var kx=1,Ix=4;function Nx(t){return la(t,kx|Ix)}var $x="__lodash_hash_undefined__";function Ux(t){return this.__data__.set(t,$x),this}function Bx(t){return this.__data__.has(t)}function mi(t){var n=-1,e=t==null?0:t.length;for(this.__data__=new an;++n<e;)this.add(t[n])}mi.prototype.add=mi.prototype.push=Ux;mi.prototype.has=Bx;function rp(t,n){for(var e=-1,r=t==null?0:t.length;++e<r;)if(n(t[e],e,t))return!0;return!1}function ip(t,n){return t.has(n)}var Vx=1,Gx=2;function ap(t,n,e,r,i,a){var o=e&Vx,s=t.length,l=n.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(t),c=a.get(n);if(u&&c)return u==n&&c==t;var h=-1,f=!0,d=e&Gx?new mi:void 0;for(a.set(t,n),a.set(n,t);++h<s;){var p=t[h],g=n[h];if(r)var m=o?r(g,p,h,n,t,a):r(p,g,h,t,n,a);if(m!==void 0){if(m)continue;f=!1;break}if(d){if(!rp(n,function(_,v){if(!ip(d,v)&&(p===_||i(p,_,e,r,a)))return d.push(v)})){f=!1;break}}else if(!(p===g||i(p,g,e,r,a))){f=!1;break}}return a.delete(t),a.delete(n),f}function Fx(t){var n=-1,e=Array(t.size);return t.forEach(function(r,i){e[++n]=[i,r]}),e}function pu(t){var n=-1,e=Array(t.size);return t.forEach(function(r){e[++n]=r}),e}var Hx=1,zx=2,Wx="[object Boolean]",jx="[object Date]",qx="[object Error]",Yx="[object Map]",Xx="[object Number]",Zx="[object RegExp]",Kx="[object Set]",Qx="[object String]",Jx="[object Symbol]",tb="[object ArrayBuffer]",eb="[object DataView]",Wc=Oe?Oe.prototype:void 0,Xo=Wc?Wc.valueOf:void 0;function nb(t,n,e,r,i,a,o){switch(e){case eb:if(t.byteLength!=n.byteLength||t.byteOffset!=n.byteOffset)return!1;t=t.buffer,n=n.buffer;case tb:return!(t.byteLength!=n.byteLength||!a(new Ea(t),new Ea(n)));case Wx:case jx:case Xx:return Si(+t,+n);case qx:return t.name==n.name&&t.message==n.message;case Zx:case Qx:return t==n+"";case Yx:var s=Fx;case Kx:var l=r&Hx;if(s||(s=pu),t.size!=n.size&&!l)return!1;var u=o.get(t);if(u)return u==n;r|=zx,o.set(t,n);var c=ap(s(t),s(n),r,i,a,o);return o.delete(t),c;case Jx:if(Xo)return Xo.call(t)==Xo.call(n)}return!1}var rb=1,ib=Object.prototype,ab=ib.hasOwnProperty;function ob(t,n,e,r,i,a){var o=e&rb,s=cl(t),l=s.length,u=cl(n),c=u.length;if(l!=c&&!o)return!1;for(var h=l;h--;){var f=s[h];if(!(o?f in n:ab.call(n,f)))return!1}var d=a.get(t),p=a.get(n);if(d&&p)return d==n&&p==t;var g=!0;a.set(t,n),a.set(n,t);for(var m=o;++h<l;){f=s[h];var _=t[f],v=n[f];if(r)var x=o?r(v,_,f,n,t,a):r(_,v,f,t,n,a);if(!(x===void 0?_===v||i(_,v,e,r,a):x)){g=!1;break}m||(m=f=="constructor")}if(g&&!m){var O=t.constructor,b=n.constructor;O!=b&&"constructor"in t&&"constructor"in n&&!(typeof O=="function"&&O instanceof O&&typeof b=="function"&&b instanceof b)&&(g=!1)}return a.delete(t),a.delete(n),g}var sb=1,jc="[object Arguments]",qc="[object Array]",ji="[object Object]",lb=Object.prototype,Yc=lb.hasOwnProperty;function ub(t,n,e,r,i,a){var o=Zt(t),s=Zt(n),l=o?qc:Mr(t),u=s?qc:Mr(n);l=l==jc?ji:l,u=u==jc?ji:u;var c=l==ji,h=u==ji,f=l==u;if(f&&Sr(t)){if(!Sr(n))return!1;o=!0,c=!1}if(f&&!c)return a||(a=new Me),o||_o(t)?ap(t,n,e,r,i,a):nb(t,n,l,e,r,i,a);if(!(e&sb)){var d=c&&Yc.call(t,"__wrapped__"),p=h&&Yc.call(n,"__wrapped__");if(d||p){var g=d?t.value():t,m=p?n.value():n;return a||(a=new Me),i(g,m,e,r,a)}}return f?(a||(a=new Me),ob(t,n,e,r,i,a)):!1}function To(t,n,e,r,i){return t===n?!0:t==null||n==null||!Fe(t)&&!Fe(n)?t!==t&&n!==n:ub(t,n,e,r,To,i)}var cb=1,fb=2;function hb(t,n,e,r){var i=e.length,a=i,o=!r;if(t==null)return!a;for(t=Object(t);i--;){var s=e[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){s=e[i];var l=s[0],u=t[l],c=s[1];if(o&&s[2]){if(u===void 0&&!(l in t))return!1}else{var h=new Me;if(r)var f=r(u,c,l,t,n,h);if(!(f===void 0?To(c,u,cb|fb,r,h):f))return!1}}return!0}function op(t){return t===t&&!Te(t)}function db(t){for(var n=Mi(t),e=n.length;e--;){var r=n[e],i=t[r];n[e]=[r,i,op(i)]}return n}function sp(t,n){return function(e){return e==null?!1:e[t]===n&&(n!==void 0||t in Object(e))}}function pb(t){var n=db(t);return n.length==1&&n[0][2]?sp(n[0][0],n[0][1]):function(e){return e===t||hb(e,t,n)}}function vb(t,n){return t!=null&&n in Object(t)}function gb(t,n,e){n=Od(n,t);for(var r=-1,i=n.length,a=!1;++r<i;){var o=wo(n[r]);if(!(a=t!=null&&e(t,o)))break;t=t[o]}return a||++r!=i?a:(i=t==null?0:t.length,!!i&&ou(i)&&au(o,i)&&(Zt(t)||Er(t)))}function mb(t,n){return t!=null&&gb(t,n,vb)}var yb=1,_b=2;function xb(t,n){return lu(t)&&op(n)?sp(wo(t),n):function(e){var r=Lt(e,t);return r===void 0&&r===n?mb(e,t):To(n,r,yb|_b)}}function bb(t){return function(n){return n==null?void 0:n[t]}}function wb(t){return function(n){return Td(n,t)}}function Ob(t){return lu(t)?bb(wo(t)):wb(t)}function Eo(t){return typeof t=="function"?t:t==null?ru:typeof t=="object"?Zt(t)?xb(t[0],t[1]):pb(t):Ob(t)}function Tb(t,n,e,r){for(var i=-1,a=t==null?0:t.length;++i<a;){var o=t[i];n(r,o,e(o),t)}return r}function Eb(t){return function(n,e,r){for(var i=-1,a=Object(n),o=r(n),s=o.length;s--;){var l=o[t?s:++i];if(e(a[l],l,a)===!1)break}return n}}var Sb=Eb();const lp=Sb;function Ab(t,n){return t&&lp(t,n,Mi)}function Mb(t,n){return function(e,r){if(e==null)return e;if(!jn(e))return t(e,r);for(var i=e.length,a=n?i:-1,o=Object(e);(n?a--:++a<i)&&r(o[a],a,o)!==!1;);return e}}var Cb=Mb(Ab);const vu=Cb;function Pb(t,n,e,r){return vu(t,function(i,a,o){n(r,i,e(i),o)}),r}function Db(t,n){return function(e,r){var i=Zt(e)?Tb:Pb,a=n?n():{};return i(e,t,Eo(r),a)}}var Lb=function(){return Pe.Date.now()};const Zo=Lb;var Rb="Expected a function",kb=Math.max,Ib=Math.min;function Nb(t,n,e){var r,i,a,o,s,l,u=0,c=!1,h=!1,f=!0;if(typeof t!="function")throw new TypeError(Rb);n=ci(n)||0,Te(e)&&(c=!!e.leading,h="maxWait"in e,a=h?kb(ci(e.maxWait)||0,n):a,f="trailing"in e?!!e.trailing:f);function d(w){var M=r,E=i;return r=i=void 0,u=w,o=t.apply(E,M),o}function p(w){return u=w,s=setTimeout(_,n),c?d(w):o}function g(w){var M=w-l,E=w-u,A=n-M;return h?Ib(A,a-E):A}function m(w){var M=w-l,E=w-u;return l===void 0||M>=n||M<0||h&&E>=a}function _(){var w=Zo();if(m(w))return v(w);s=setTimeout(_,g(w))}function v(w){return s=void 0,f&&r?d(w):(r=i=void 0,o)}function x(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function O(){return s===void 0?o:v(Zo())}function b(){var w=Zo(),M=m(w);if(r=arguments,i=this,l=w,M){if(s===void 0)return p(l);if(h)return clearTimeout(s),s=setTimeout(_,n),d(l)}return s===void 0&&(s=setTimeout(_,n)),o}return b.cancel=x,b.flush=O,b}function dl(t,n,e){(e!==void 0&&!Si(t[n],e)||e===void 0&&!(n in t))&&mo(t,n,e)}function pl(t){return Fe(t)&&jn(t)}function vl(t,n){if(!(n==="constructor"&&typeof t[n]=="function")&&n!="__proto__")return t[n]}function $b(t){return Ai(t,Ci(t))}function Ub(t,n,e,r,i,a,o){var s=vl(t,e),l=vl(n,e),u=o.get(l);if(u){dl(t,e,u);return}var c=a?a(s,l,e+"",t,n,o):void 0,h=c===void 0;if(h){var f=Zt(l),d=!f&&Sr(l),p=!f&&!d&&_o(l);c=l,f||d||p?Zt(s)?c=s:pl(s)?c=dd(s):d?(h=!1,c=Yd(l,!0)):p?(h=!1,c=Qd(l,!0)):c=[]:P0(l)||Er(l)?(c=s,Er(s)?c=$b(s):(!Te(s)||iu(s))&&(c=Jd(l))):h=!1}h&&(o.set(l,c),i(c,l,r,a,o),o.delete(l)),dl(t,e,c)}function up(t,n,e,r,i){t!==n&&lp(n,function(a,o){if(i||(i=new Me),Te(a))Ub(t,n,o,e,up,r,i);else{var s=r?r(vl(t,o),a,o+"",t,n,i):void 0;s===void 0&&(s=a),dl(t,o,s)}},Ci)}function Bb(t,n,e){for(var r=-1,i=t==null?0:t.length;++r<i;)if(e(n,t[r]))return!0;return!1}function Vb(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}function Gb(t,n){var e=-1,r=jn(t)?Array(t.length):[];return vu(t,function(i,a,o){r[++e]=n(i,a,o)}),r}function Fb(t,n){var e=Zt(t)?fd:Gb;return e(t,Eo(n))}var Hb=1/0;function zb(t,n){return Oo(Fb(t,n),Hb)}function Wb(t){for(var n=-1,e=t==null?0:t.length,r={};++n<e;){var i=t[n];r[i[0]]=i[1]}return r}var jb=Object.prototype,qb=jb.hasOwnProperty,Yb=Db(function(t,n,e){qb.call(t,e)?t[e].push(n):mo(t,e,[n])});const Xb=Yb;var Zb="[object Map]",Kb="[object Set]",Qb=Object.prototype,Jb=Qb.hasOwnProperty;function tw(t){if(t==null)return!0;if(jn(t)&&(Zt(t)||typeof t=="string"||typeof t.splice=="function"||Sr(t)||_o(t)||Er(t)))return!t.length;var n=Mr(t);if(n==Zb||n==Kb)return!t.size;if(yo(t))return!wd(t).length;for(var e in t)if(Jb.call(t,e))return!1;return!0}function ew(t,n){return To(t,n)}var nw=jd(function(t,n,e){return t+(e?"-":"")+n.toLowerCase()});const rw=nw;var iw=Wm(function(t,n,e){up(t,n,e)});const aw=iw;function ow(t,n){var e;return vu(t,function(r,i,a){return e=n(r,i,a),!e}),!!e}function sw(t,n,e){var r=Zt(t)?rp:ow;return e&&gd(t,n,e)&&(n=void 0),r(t,Eo(n))}var lw=1/0,uw=_r&&1/pu(new _r([,-0]))[1]==lw?function(t){return new _r(t)}:wm;const cw=uw;var fw=200;function cp(t,n,e){var r=-1,i=Um,a=t.length,o=!0,s=[],l=s;if(e)o=!1,i=Bb;else if(a>=fw){var u=n?null:cw(t);if(u)return pu(u);o=!1,i=ip,l=new mi}else l=n?[]:s;t:for(;++r<a;){var c=t[r],h=n?n(c):c;if(c=e||c!==0?c:0,o&&h===h){for(var f=l.length;f--;)if(l[f]===h)continue t;n&&l.push(h),s.push(c)}else i(l,h,e)||(l!==s&&l.push(h),s.push(c))}return s}var hw=vd(function(t){var n=Vb(t);return pl(n)&&(n=void 0),cp(Oo(t,1,pl,!0),Eo(n))});const dw=hw;function pw(t){return t&&t.length?cp(t):[]}var gl="http://www.w3.org/1999/xhtml";const Xc={svg:"http://www.w3.org/2000/svg",xhtml:gl,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function So(t){var n=t+="",e=n.indexOf(":");return e>=0&&(n=t.slice(0,e))!=="xmlns"&&(t=t.slice(e+1)),Xc.hasOwnProperty(n)?{space:Xc[n],local:t}:t}function vw(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===gl&&n.documentElement.namespaceURI===gl?n.createElement(t):n.createElementNS(e,t)}}function gw(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function fp(t){var n=So(t);return(n.local?gw:vw)(n)}function mw(){}function gu(t){return t==null?mw:function(){return this.querySelector(t)}}function yw(t){typeof t!="function"&&(t=gu(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a=n[i],o=a.length,s=r[i]=new Array(o),l,u,c=0;c<o;++c)(l=a[c])&&(u=t.call(l,l.__data__,c,a))&&("__data__"in l&&(u.__data__=l.__data__),s[c]=u);return new me(r,this._parents)}function _w(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function xw(){return[]}function hp(t){return t==null?xw:function(){return this.querySelectorAll(t)}}function bw(t){return function(){return _w(t.apply(this,arguments))}}function ww(t){typeof t=="function"?t=bw(t):t=hp(t);for(var n=this._groups,e=n.length,r=[],i=[],a=0;a<e;++a)for(var o=n[a],s=o.length,l,u=0;u<s;++u)(l=o[u])&&(r.push(t.call(l,l.__data__,u,o)),i.push(l));return new me(r,i)}function dp(t){return function(){return this.matches(t)}}function pp(t){return function(n){return n.matches(t)}}var Ow=Array.prototype.find;function Tw(t){return function(){return Ow.call(this.children,t)}}function Ew(){return this.firstElementChild}function Sw(t){return this.select(t==null?Ew:Tw(typeof t=="function"?t:pp(t)))}var Aw=Array.prototype.filter;function Mw(){return Array.from(this.children)}function Cw(t){return function(){return Aw.call(this.children,t)}}function Pw(t){return this.selectAll(t==null?Mw:Cw(typeof t=="function"?t:pp(t)))}function Dw(t){typeof t!="function"&&(t=dp(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a=n[i],o=a.length,s=r[i]=[],l,u=0;u<o;++u)(l=a[u])&&t.call(l,l.__data__,u,a)&&s.push(l);return new me(r,this._parents)}function vp(t){return new Array(t.length)}function Lw(){return new me(this._enter||this._groups.map(vp),this._parents)}function Sa(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}Sa.prototype={constructor:Sa,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Rw(t){return function(){return t}}function kw(t,n,e,r,i,a){for(var o=0,s,l=n.length,u=a.length;o<u;++o)(s=n[o])?(s.__data__=a[o],r[o]=s):e[o]=new Sa(t,a[o]);for(;o<l;++o)(s=n[o])&&(i[o]=s)}function Iw(t,n,e,r,i,a,o){var s,l,u=new Map,c=n.length,h=a.length,f=new Array(c),d;for(s=0;s<c;++s)(l=n[s])&&(f[s]=d=o.call(l,l.__data__,s,n)+"",u.has(d)?i[s]=l:u.set(d,l));for(s=0;s<h;++s)d=o.call(t,a[s],s,a)+"",(l=u.get(d))?(r[s]=l,l.__data__=a[s],u.delete(d)):e[s]=new Sa(t,a[s]);for(s=0;s<c;++s)(l=n[s])&&u.get(f[s])===l&&(i[s]=l)}function Nw(t){return t.__data__}function $w(t,n){if(!arguments.length)return Array.from(this,Nw);var e=n?Iw:kw,r=this._parents,i=this._groups;typeof t!="function"&&(t=Rw(t));for(var a=i.length,o=new Array(a),s=new Array(a),l=new Array(a),u=0;u<a;++u){var c=r[u],h=i[u],f=h.length,d=Uw(t.call(c,c&&c.__data__,u,r)),p=d.length,g=s[u]=new Array(p),m=o[u]=new Array(p),_=l[u]=new Array(f);e(c,h,g,m,_,d,n);for(var v=0,x=0,O,b;v<p;++v)if(O=g[v]){for(v>=x&&(x=v+1);!(b=m[x])&&++x<p;);O._next=b||null}}return o=new me(o,r),o._enter=s,o._exit=l,o}function Uw(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Bw(){return new me(this._exit||this._groups.map(vp),this._parents)}function Vw(t,n,e){var r=this.enter(),i=this,a=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),n!=null&&(i=n(i),i&&(i=i.selection())),e==null?a.remove():e(a),r&&i?r.merge(i).order():i}function Gw(t){for(var n=t.selection?t.selection():t,e=this._groups,r=n._groups,i=e.length,a=r.length,o=Math.min(i,a),s=new Array(i),l=0;l<o;++l)for(var u=e[l],c=r[l],h=u.length,f=s[l]=new Array(h),d,p=0;p<h;++p)(d=u[p]||c[p])&&(f[p]=d);for(;l<i;++l)s[l]=e[l];return new me(s,this._parents)}function Fw(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r=t[n],i=r.length-1,a=r[i],o;--i>=0;)(o=r[i])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function Hw(t){t||(t=zw);function n(h,f){return h&&f?t(h.__data__,f.__data__):!h-!f}for(var e=this._groups,r=e.length,i=new Array(r),a=0;a<r;++a){for(var o=e[a],s=o.length,l=i[a]=new Array(s),u,c=0;c<s;++c)(u=o[c])&&(l[c]=u);l.sort(n)}return new me(i,this._parents).order()}function zw(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function Ww(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function jw(){return Array.from(this)}function qw(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}function Yw(){let t=0;for(const n of this)++t;return t}function Xw(){return!this.node()}function Zw(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i=n[e],a=0,o=i.length,s;a<o;++a)(s=i[a])&&t.call(s,s.__data__,a,i);return this}function Kw(t){return function(){this.removeAttribute(t)}}function Qw(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Jw(t,n){return function(){this.setAttribute(t,n)}}function tO(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function eO(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttribute(t):this.setAttribute(t,e)}}function nO(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function rO(t,n){var e=So(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((n==null?e.local?Qw:Kw:typeof n=="function"?e.local?nO:eO:e.local?tO:Jw)(e,n))}function gp(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function iO(t){return function(){this.style.removeProperty(t)}}function aO(t,n,e){return function(){this.style.setProperty(t,n,e)}}function oO(t,n,e){return function(){var r=n.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function sO(t,n,e){return arguments.length>1?this.each((n==null?iO:typeof n=="function"?oO:aO)(t,n,e??"")):Cr(this.node(),t)}function Cr(t,n){return t.style.getPropertyValue(n)||gp(t).getComputedStyle(t,null).getPropertyValue(n)}function lO(t){return function(){delete this[t]}}function uO(t,n){return function(){this[t]=n}}function cO(t,n){return function(){var e=n.apply(this,arguments);e==null?delete this[t]:this[t]=e}}function fO(t,n){return arguments.length>1?this.each((n==null?lO:typeof n=="function"?cO:uO)(t,n)):this.node()[t]}function mp(t){return t.trim().split(/^|\s+/)}function mu(t){return t.classList||new yp(t)}function yp(t){this._node=t,this._names=mp(t.getAttribute("class")||"")}yp.prototype={add:function(t){var n=this._names.indexOf(t);n<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function _p(t,n){for(var e=mu(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function xp(t,n){for(var e=mu(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function hO(t){return function(){_p(this,t)}}function dO(t){return function(){xp(this,t)}}function pO(t,n){return function(){(n.apply(this,arguments)?_p:xp)(this,t)}}function vO(t,n){var e=mp(t+"");if(arguments.length<2){for(var r=mu(this.node()),i=-1,a=e.length;++i<a;)if(!r.contains(e[i]))return!1;return!0}return this.each((typeof n=="function"?pO:n?hO:dO)(e,n))}function gO(){this.textContent=""}function mO(t){return function(){this.textContent=t}}function yO(t){return function(){var n=t.apply(this,arguments);this.textContent=n??""}}function _O(t){return arguments.length?this.each(t==null?gO:(typeof t=="function"?yO:mO)(t)):this.node().textContent}function xO(){this.innerHTML=""}function bO(t){return function(){this.innerHTML=t}}function wO(t){return function(){var n=t.apply(this,arguments);this.innerHTML=n??""}}function OO(t){return arguments.length?this.each(t==null?xO:(typeof t=="function"?wO:bO)(t)):this.node().innerHTML}function TO(){this.nextSibling&&this.parentNode.appendChild(this)}function EO(){return this.each(TO)}function SO(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function AO(){return this.each(SO)}function MO(t){var n=typeof t=="function"?t:fp(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function CO(){return null}function PO(t,n){var e=typeof t=="function"?t:fp(t),r=n==null?CO:typeof n=="function"?n:gu(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})}function DO(){var t=this.parentNode;t&&t.removeChild(this)}function LO(){return this.each(DO)}function RO(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function kO(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function IO(t){return this.select(t?kO:RO)}function NO(t){return arguments.length?this.property("__data__",t):this.node().__data__}function $O(t){return function(n){t.call(this,n,this.__data__)}}function UO(t){return t.trim().split(/^|\s+/).map(function(n){var e="",r=n.indexOf(".");return r>=0&&(e=n.slice(r+1),n=n.slice(0,r)),{type:n,name:e}})}function BO(t){return function(){var n=this.__on;if(n){for(var e=0,r=-1,i=n.length,a;e<i;++e)a=n[e],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):n[++r]=a;++r?n.length=r:delete this.__on}}}function VO(t,n,e){return function(){var r=this.__on,i,a=$O(n);if(r){for(var o=0,s=r.length;o<s;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=e),i.value=n;return}}this.addEventListener(t.type,a,e),i={type:t.type,name:t.name,value:n,listener:a,options:e},r?r.push(i):this.__on=[i]}}function GO(t,n,e){var r=UO(t+""),i,a=r.length,o;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,u=s.length,c;l<u;++l)for(i=0,c=s[l];i<a;++i)if((o=r[i]).type===c.type&&o.name===c.name)return c.value}return}for(s=n?VO:BO,i=0;i<a;++i)this.each(s(r[i],n,e));return this}function bp(t,n,e){var r=gp(t),i=r.CustomEvent;typeof i=="function"?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function FO(t,n){return function(){return bp(this,t,n)}}function HO(t,n){return function(){return bp(this,t,n.apply(this,arguments))}}function zO(t,n){return this.each((typeof n=="function"?HO:FO)(t,n))}function*WO(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,a=r.length,o;i<a;++i)(o=r[i])&&(yield o)}var wp=[null];function me(t,n){this._groups=t,this._parents=n}function Di(){return new me([[document.documentElement]],wp)}function jO(){return this}me.prototype=Di.prototype={constructor:me,select:yw,selectAll:ww,selectChild:Sw,selectChildren:Pw,filter:Dw,data:$w,enter:Lw,exit:Bw,join:Vw,merge:Gw,selection:jO,order:Fw,sort:Hw,call:Ww,nodes:jw,node:qw,size:Yw,empty:Xw,each:Zw,attr:rO,style:sO,property:fO,classed:vO,text:_O,html:OO,raise:EO,lower:AO,append:MO,insert:PO,remove:LO,clone:IO,datum:NO,on:GO,dispatch:zO,[Symbol.iterator]:WO};function $(t){return typeof t=="string"?new me([[document.querySelector(t)]],[document.documentElement]):new me([[t]],wp)}function qO(t){let n;for(;n=t.sourceEvent;)t=n;return t}function Nn(t,n){if(t=qO(t),n===void 0&&(n=t.currentTarget),n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(n.getScreenCTM().inverse()),[r.x,r.y]}if(n.getBoundingClientRect){var i=n.getBoundingClientRect();return[t.clientX-i.left-n.clientLeft,t.clientY-i.top-n.clientTop]}}return[t.pageX,t.pageY]}var y;(function(t){t.debounce=Nb,t.clone=Nx,t.merge=aw,t.unionBy=dw,t.removeArrayDuplicates=pw,t.clamp=Q_,t.flatten=O0,t.groupBy=Xb,t.camelCase=Z_,t.isEmpty=tw,t.isEqual=ew,t.flatMapDeep=zb,t.kebabCase=rw,t.fromPairs=Wb,t.some=sw;function n(g,m,_){var v=null;return function(){var x=this,O=arguments;x.mousePosition=Nn(O[0],_),clearTimeout(v),v=setTimeout(function(){g.apply(x,O)},m)}}t.debounceWithD3MousePosition=n;function e(g,m){var _,v,x=t.clone(g),O=Object.keys(m.axes||{});!((v=(_=m)===null||_===void 0?void 0:_.toolbar)===null||v===void 0)&&v.controls&&delete x.toolbar.controls,O.length===0&&delete x.axes;for(var b in x.axes)if(O.includes(b)){var w=m.axes[b];(w.primary||w.secondary)&&console.warn("`primary` & `secondary` are no longer needed for axis configurations. Read more here https://carbon-design-system.github.io/carbon-charts/?path=/story/docs-tutorials--tabular-data-format");var M=w.mapsTo;if(M==null){var E=w.scaleType;E==null?w.mapsTo="value":E===nt.TIME?w.mapsTo="date":E===nt.LABELS&&(w.mapsTo="key")}}else delete x.axes[b];return c(x,m),t.merge(x,m)}t.mergeDefaultChartOptions=e;function r(g){return{width:parseFloat(g.style.width.replace("px","")||g.offsetWidth),height:parseFloat(g.style.height.replace("px","")||g.offsetHeight)}}t.getDimensions=r;function i(g){if(g){var m=/translate\([0-9]+\.?[0-9]*,[0-9]+\.?[0-9]*\)/,_=g.getAttribute("transform").match(m);if(!_)return null;if(_[0]){var v=_[0].replace(/translate\(/,"").replace(/\)/,"").split(",");return{tx:v[0],ty:v[1]}}return null}}t.getTranslationValues=i;function a(g){var m=/\(([^)]+)\)/,_=m.exec(g)[1],v=_.split(",");return{x:parseFloat(v[0]),y:parseFloat(v[1])}}t.getTranformOffsets=a;function o(g){var m=g.toString();return m.match(/[a-z]/i)?m:m+"px"}t.formatWidthHeightValues=o;function s(g){return g[0].toUpperCase()+g.slice(1)}t.capitalizeFirstLetter=s;function l(g,m,_){_===void 0&&(_="value");var v=g/m.reduce(function(x,O){return x+O[_]},0)*100;return v%1!==0?parseFloat(v.toFixed(1)):v}t.convertValueToPercentage=l;function u(g,m,_){if(_>g.length)return g;if(m===be.MID_LINE)return g.substr(0,_/2)+"..."+g.substr(-_/2);if(m===be.FRONT_LINE)return"..."+g.substr(-_);if(m===be.END_LINE)return g.substr(0,_)+"..."}t.truncateLabel=u;function c(g,m){var _=t.getProperty(g,"legend","additionalItems"),v=t.getProperty(m,"legend","additionalItems");if(_&&v){var x=v.map(function(w){return w.type}),O=_.map(function(w){return w.type}),b=ld.filter(function(w){return O.includes(w.type)&&!x.includes(w.type)});g.legend.additionalItems=b,m.legend.additionalItems=t.unionBy(b,v,"name")}}t.updateLegendAdditionalItems=c;function h(g,m){var _={missing:[],added:[]};return g.forEach(function(v){m.indexOf(v)===-1&&_.missing.push(v)}),m.forEach(function(v){g.indexOf(v)===-1&&_.added.push(v)}),_}t.arrayDifferences=h;function f(g){var m=[],_=[];return g.forEach(function(v){m.indexOf(v)!==-1&&_.indexOf(v)===-1&&_.push(v),m.push(v)}),_}t.getDuplicateValues=f;function d(g){return g.each(function(){this.parentNode.appendChild(this)})}t.moveToFront=d,t.getProperty=function(g){for(var m=[],_=1;_<arguments.length;_++)m[_-1]=arguments[_];var v=g;if(v){for(var x=0,O=m;x<O.length;x++){var b=O[x];if(v[b]!==null&&v[b]!==void 0)v=v[b];else return null}return v}return null},t.flipSVGCoordinatesBasedOnOrientation=function(g,m){return m===Ht.HORIZONTAL?{y0:g.x0,y1:g.x1,x0:g.y0,x1:g.y1}:g},t.generateSVGPathString=function(g,m){var _=t.flipSVGCoordinatesBasedOnOrientation(g,m),v=_.x0,x=_.x1,O=_.y0,b=_.y1;return"M"+v+","+O+"L"+v+","+b+"L"+x+","+b+"L"+x+","+O+"L"+v+","+O};function p(g,m,_){return _===Ht.VERTICAL?[g,m]:[m,g]}t.flipDomainAndRangeBasedOnOrientation=p,t.compareNumeric=function(g,m){return Number(g)===Number(m)}})(y||(y={}));function YO(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function XO(t){if(t.__esModule)return t;var n=t.default;if(typeof n=="function"){var e=function r(){if(this instanceof r){var i=[null];i.push.apply(i,arguments);var a=Function.bind.apply(n,i);return new a}return n.apply(this,arguments)};e.prototype=n.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),e}var Aa={},ZO={get exports(){return Aa},set exports(t){Aa=t}},Ma={},KO={get exports(){return Ma},set exports(t){Ma=t}};(function(t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=r;var e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function r(i,a,o){o=o||{};var s;return typeof e[i]=="string"?s=e[i]:a===1?s=e[i].one:s=e[i].other.replace("{{count}}",a),o.addSuffix?o.comparison>0?"in "+s:s+" ago":s}t.exports=n.default})(KO,Ma);var Ca={},QO={get exports(){return Ca},set exports(t){Ca=t}},Pa={},JO={get exports(){return Pa},set exports(t){Pa=t}};(function(t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=e;function e(r){return function(i){var a=i||{},o=a.width?String(a.width):r.defaultWidth,s=r.formats[o]||r.formats[r.defaultWidth];return s}}t.exports=n.default})(JO,Pa);(function(t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=r(Pa);function r(u){return u&&u.__esModule?u:{default:u}}var i={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},a={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},o={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},s={date:(0,e.default)({formats:i,defaultWidth:"full"}),time:(0,e.default)({formats:a,defaultWidth:"full"}),dateTime:(0,e.default)({formats:o,defaultWidth:"full"})},l=s;n.default=l,t.exports=n.default})(QO,Ca);var Da={},tT={get exports(){return Da},set exports(t){Da=t}};(function(t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=r;var e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function r(i,a,o,s){return e[i]}t.exports=n.default})(tT,Da);var La={},eT={get exports(){return La},set exports(t){La=t}},Ra={},nT={get exports(){return Ra},set exports(t){Ra=t}};(function(t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=e;function e(r){return function(i,a){var o=a||{},s=o.context?String(o.context):"standalone",l;if(s==="formatting"&&r.formattingValues){var u=r.defaultFormattingWidth||r.defaultWidth,c=o.width?String(o.width):u;l=r.formattingValues[c]||r.formattingValues[u]}else{var h=r.defaultWidth,f=o.width?String(o.width):r.defaultWidth;l=r.values[f]||r.values[h]}var d=r.argumentCallback?r.argumentCallback(i):i;return l[d]}}t.exports=n.default})(nT,Ra);(function(t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=r(Ra);function r(d){return d&&d.__esModule?d:{default:d}}var i={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},a={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},o={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},s={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},l={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},u={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}};function c(d,p){var g=Number(d),m=g%100;if(m>20||m<10)switch(m%10){case 1:return g+"st";case 2:return g+"nd";case 3:return g+"rd"}return g+"th"}var h={ordinalNumber:c,era:(0,e.default)({values:i,defaultWidth:"wide"}),quarter:(0,e.default)({values:a,defaultWidth:"wide",argumentCallback:function(d){return Number(d)-1}}),month:(0,e.default)({values:o,defaultWidth:"wide"}),day:(0,e.default)({values:s,defaultWidth:"wide"}),dayPeriod:(0,e.default)({values:l,defaultWidth:"wide",formattingValues:u,defaultFormattingWidth:"wide"})},f=h;n.default=f,t.exports=n.default})(eT,La);var ka={},rT={get exports(){return ka},set exports(t){ka=t}},Ia={},iT={get exports(){return Ia},set exports(t){Ia=t}};(function(t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=e;function e(r){return function(i,a){var o=String(i),s=a||{},l=o.match(r.matchPattern);if(!l)return null;var u=l[0],c=o.match(r.parsePattern);if(!c)return null;var h=r.valueCallback?r.valueCallback(c[0]):c[0];return h=s.valueCallback?s.valueCallback(h):h,{value:h,rest:o.slice(u.length)}}}t.exports=n.default})(iT,Ia);var Na={},aT={get exports(){return Na},set exports(t){Na=t}};(function(t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=e;function e(a){return function(o,s){var l=String(o),u=s||{},c=u.width,h=c&&a.matchPatterns[c]||a.matchPatterns[a.defaultMatchWidth],f=l.match(h);if(!f)return null;var d=f[0],p=c&&a.parsePatterns[c]||a.parsePatterns[a.defaultParseWidth],g;return Object.prototype.toString.call(p)==="[object Array]"?g=i(p,function(m){return m.test(l)}):g=r(p,function(m){return m.test(l)}),g=a.valueCallback?a.valueCallback(g):g,g=u.valueCallback?u.valueCallback(g):g,{value:g,rest:l.slice(d.length)}}}function r(a,o){for(var s in a)if(a.hasOwnProperty(s)&&o(a[s]))return s}function i(a,o){for(var s=0;s<a.length;s++)if(o(a[s]))return s}t.exports=n.default})(aT,Na);(function(t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=i(Ia),r=i(Na);function i(x){return x&&x.__esModule?x:{default:x}}var a=/^(\d+)(th|st|nd|rd)?/i,o=/\d+/i,s={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},l={any:[/^b/i,/^(a|c)/i]},u={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},c={any:[/1/i,/2/i,/3/i,/4/i]},h={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},f={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},d={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},p={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},g={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},m={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},_={ordinalNumber:(0,e.default)({matchPattern:a,parsePattern:o,valueCallback:function(x){return parseInt(x,10)}}),era:(0,r.default)({matchPatterns:s,defaultMatchWidth:"wide",parsePatterns:l,defaultParseWidth:"any"}),quarter:(0,r.default)({matchPatterns:u,defaultMatchWidth:"wide",parsePatterns:c,defaultParseWidth:"any",valueCallback:function(x){return x+1}}),month:(0,r.default)({matchPatterns:h,defaultMatchWidth:"wide",parsePatterns:f,defaultParseWidth:"any"}),day:(0,r.default)({matchPatterns:d,defaultMatchWidth:"wide",parsePatterns:p,defaultParseWidth:"any"}),dayPeriod:(0,r.default)({matchPatterns:g,defaultMatchWidth:"any",parsePatterns:m,defaultParseWidth:"any"})},v=_;n.default=v,t.exports=n.default})(rT,ka);(function(t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=s(Ma),r=s(Ca),i=s(Da),a=s(La),o=s(ka);function s(c){return c&&c.__esModule?c:{default:c}}var l={code:"en-US",formatDistance:e.default,formatLong:r.default,formatRelative:i.default,localize:a.default,match:o.default,options:{weekStartsOn:0,firstWeekContainsDate:1}},u=l;n.default=u,t.exports=n.default})(ZO,Aa);const oT=YO(Aa);var sT=globalThis&&globalThis.__spreadArrays||function(){for(var t=0,n=0,e=arguments.length;n<e;n++)t+=arguments[n].length;for(var r=Array(t),i=0,n=0;n<e;n++)for(var a=arguments[n],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r},fr={type:be.END_LINE,threshold:16,numCharacter:14},lT={enabled:!0,position:gr.BOTTOM,clickable:!0,truncation:fr,alignment:Ft.LEFT,order:null,additionalItems:[]},Op={x:{enabled:!0,numberOfTicks:15,alignWithAxisTicks:!1},y:{enabled:!0,numberOfTicks:5,alignWithAxisTicks:!1}},Tp={enabled:!0},yu={enabled:!0,showTotal:!0,truncation:fr,groupLabel:"Group"},Ep={top:{visible:!0,includeZero:!0,truncation:fr},bottom:{visible:!0,includeZero:!0,truncation:fr},left:{visible:!0,includeZero:!0,truncation:fr},right:{visible:!0,includeZero:!0,truncation:fr}},Li={addSpaceOnEdges:1,showDayName:!1,localeObject:oT,timeIntervalFormats:{"15seconds":{primary:"MMM d, pp",secondary:"pp"},minute:{primary:"MMM d, p",secondary:"p"},"30minutes":{primary:"MMM d, p",secondary:"p"},hourly:{primary:"MMM d, hh a",secondary:"hh a"},daily:{primary:"MMM d",secondary:"d"},weekly:{primary:"eee, MMM d",secondary:"eee"},monthly:{primary:"MMM yyyy",secondary:"MMM"},quarterly:{primary:"QQQ ''yy",secondary:"QQQ"},yearly:{primary:"yyyy",secondary:"yyyy"}}},uT=typeof document<"u"&&(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled),re={width:null,height:null,resizable:!0,theme:rl.WHITE,tooltip:yu,legend:lT,style:{prefix:"cc"},data:{groupMapsTo:"group",loading:!1,selectedGroups:[]},color:{scale:null,pairing:{numberOfVariants:null,option:1},gradient:{enabled:!1}},toolbar:{enabled:!0,numberOfIcons:3,controls:sT([{type:kt.SHOW_AS_DATATABLE}],uT?[{type:kt.MAKE_FULLSCREEN}]:[],[{type:kt.EXPORT_CSV},{type:kt.EXPORT_PNG},{type:kt.EXPORT_JPG}])}},Ri=y.merge({},re,{axes:Ep,timeScale:Li,grid:Op,ruler:Tp,zoomBar:{zoomRatio:.4,minZoomRatio:.01,top:{enabled:!1,type:Se.GRAPH_VIEW}}}),$n=y.merge({},Ri,{bars:{maxWidth:16,spacingFactor:.25},timeScale:y.merge(Li,{addSpaceOnEdges:1})}),cT=y.merge({},$n,{}),fT=y.merge({},$n,{}),hT=y.merge({},$n,{bars:y.merge({},$n.bars,{dividerSize:1.5})}),dT=y.merge({},$n,{}),_u=y.merge({},Ri,{points:{radius:4,fillOpacity:.3,filled:!0,enabled:!0}}),pT=_u,Sp=y.merge({},_u,{points:{radius:3,filled:!1,enabled:!0}}),Ap=y.merge({},Sp,{timeScale:y.merge(Li,{addSpaceOnEdges:0})}),vT=Ap,gT=y.merge({},Ri,{bubble:{radiusMapsTo:"radius",radiusLabel:"Radius",radiusRange:function(t,n){var e=Math.min(t.width,t.height);return[e*3/400,e*25/400]},fillOpacity:.2,enabled:!0},points:{filled:!0},legend:{additionalItems:[{type:Vt.RADIUS,name:"Radius"}]}}),mT=y.merge({},Ri,{bullet:{performanceAreaTitles:["Poor","Satisfactory","Great"]},grid:{x:{enabled:!1},y:{enabled:!1}},legend:{additionalItems:[{type:Vt.AREA,name:"Poor area"},{type:Vt.AREA,name:"Satisfactory area"},{type:Vt.AREA,name:"Great area"},{type:Vt.QUARTILE,name:"Quartiles"}]}}),yT=y.merge({},$n,{bars:{dividerSize:1.5},timeScale:y.merge(Li,{addSpaceOnEdges:0})}),_T=y.merge({},re,{tooltip:y.merge({},yu,{wordLabel:"Word",valueLabel:"Value"}),wordCloud:{fontSizeMapsTo:"value",fontSizeRange:function(t,n){var e=Math.min(t.width,t.height);return[e*20/400,e*75/400]},wordMapsTo:"word"}}),Mp=y.merge({},re,{pie:{labels:{formatter:null,enabled:!0},alignment:Ft.LEFT,sortFunction:null,valueMapsTo:"value"}}),xT=y.merge({},re,{legend:{enabled:!1},gauge:{type:Dn.SEMI,arcWidth:16,deltaArrow:{size:function(t){return t/8},enabled:!0},showPercentageSymbol:!0,status:null,numberSpacing:10,deltaFontSize:function(t){return t/8},valueFontSize:function(t){return t/2.5},numberFormatter:function(t){return t.toFixed(2)%1!==0?t.toFixed(2).toLocaleString():t.toFixed().toLocaleString()},alignment:Ft.LEFT}}),bT=y.merge({},Mp,{donut:{center:{numberFontSize:function(t){return Math.min(t/100*24,24)+"px"},titleFontSize:function(t){return Math.min(t/100*15,15)+"px"},titleYPosition:function(t){return Math.min(t/80*20,20)},numberFormatter:function(t){return Math.floor(t).toLocaleString()}},alignment:Ft.LEFT}}),Cp=y.merge({},re,{legend:{enabled:!1,clickable:!1},meter:{showLabels:!0,proportional:null,statusBar:{percentageIndicator:{enabled:!0}}}}),wT=y.merge({},Cp,{legend:{enabled:!0}}),OT=y.merge({},re,{radar:{axes:{angle:"key",value:"value"},alignment:Ft.LEFT},tooltip:{gridline:{enabled:!0},valueFormatter:function(t){return t??"N/A"}}}),TT=y.merge({},$n,{comboChartTypes:[]}),ET=y.merge({tree:{type:ba.TREE}},re,{}),ST=y.merge({},re,{data:y.merge(re.data,{groupMapsTo:"name"})}),AT=y.merge({},re,Mn,{data:y.merge(re.data,{groupMapsTo:"name"})}),MT=y.merge({},re,{alluvial:{data:y.merge(re.data,{groupMapsTo:"source"}),nodeAlignment:Ft.CENTER,nodePadding:24,monochrome:!1,nodes:[]}}),CT=y.merge({},re,{axes:Ep,heatmap:{divider:{state:mr.AUTO},colorLegend:{type:"linear"}}}),Pt={chart:re,axisChart:Ri,simpleBarChart:cT,groupedBarChart:fT,stackedBarChart:hT,boxplotChart:dT,bubbleChart:gT,bulletChart:mT,histogramChart:yT,lineChart:Sp,areaChart:Ap,stackedAreaChart:vT,scatterChart:_u,lollipopChart:pT,pieChart:Mp,donutChart:bT,meterChart:Cp,proportionalMeterChart:wT,radarChart:OT,gaugeChart:xT,comboChart:TT,treeChart:ET,treemapChart:ST,circlePackChart:AT,wordCloudChart:_T,alluvialChart:MT,heatmapChart:CT};const Pp=Object.freeze(Object.defineProperty({__proto__:null,alluvial:xe,area:$e,axis:Qe,baseTooltip:yu,boxplot:pe,canvasZoomSettings:yr,carbonPrefix:ne,circlePack:Mn,color:nu,defaultLegendAdditionalItems:ld,grid:Op,heatmap:il,histogram:od,legend:$t,lines:Ne,meter:zt,options:Pt,pie:Ct,radar:pn,ruler:Tp,spacers:al,timeScale:Li,toolbar:Dg,tooltips:sd,transitions:ol,zoomBar:le},Symbol.toStringTag,{value:"Module"}));function Rn(t,n){return t==null||n==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function PT(t,n){return t==null||n==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function xu(t){let n,e,r;t.length!==2?(n=Rn,e=(s,l)=>Rn(t(s),l),r=(s,l)=>t(s)-l):(n=t===Rn||t===PT?t:DT,e=t,r=t);function i(s,l,u=0,c=s.length){if(u<c){if(n(l,l)!==0)return c;do{const h=u+c>>>1;e(s[h],l)<0?u=h+1:c=h}while(u<c)}return u}function a(s,l,u=0,c=s.length){if(u<c){if(n(l,l)!==0)return c;do{const h=u+c>>>1;e(s[h],l)<=0?u=h+1:c=h}while(u<c)}return u}function o(s,l,u=0,c=s.length){const h=i(s,l,u,c-1);return h>u&&r(s[h-1],l)>-r(s[h],l)?h-1:h}return{left:i,center:o,right:a}}function DT(){return 0}function LT(t){return t===null?NaN:+t}function*RT(t,n){if(n===void 0)for(let e of t)e!=null&&(e=+e)>=e&&(yield e);else{let e=-1;for(let r of t)(r=n(r,++e,t))!=null&&(r=+r)>=r&&(yield r)}}const kT=xu(Rn),IT=kT.right;xu(LT).center;const bu=IT;function NT(t,n){let e=0;if(n===void 0)for(let r of t)r!=null&&(r=+r)>=r&&++e;else{let r=-1;for(let i of t)(i=n(i,++r,t))!=null&&(i=+i)>=i&&++e}return e}function Ue(t,n){let e,r;if(n===void 0)for(const i of t)i!=null&&(e===void 0?i>=i&&(e=r=i):(e>i&&(e=i),r<i&&(r=i)));else{let i=-1;for(let a of t)(a=n(a,++i,t))!=null&&(e===void 0?a>=a&&(e=r=a):(e>a&&(e=a),r<a&&(r=a)))}return[e,r]}class Zc extends Map{constructor(n,e=BT){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),n!=null)for(const[r,i]of n)this.set(r,i)}get(n){return super.get(Kc(this,n))}has(n){return super.has(Kc(this,n))}set(n,e){return super.set($T(this,n),e)}delete(n){return super.delete(UT(this,n))}}function Kc({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):e}function $T({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):(t.set(r,e),e)}function UT({_intern:t,_key:n},e){const r=n(e);return t.has(r)&&(e=t.get(r),t.delete(r)),e}function BT(t){return t!==null&&typeof t=="object"?t.valueOf():t}function VT(t){return t}function GT(t=Rn){if(t===Rn)return Dp;if(typeof t!="function")throw new TypeError("compare is not a function");return(n,e)=>{const r=t(n,e);return r||r===0?r:(t(e,e)===0)-(t(n,n)===0)}}function Dp(t,n){return(t==null||!(t>=t))-(n==null||!(n>=n))||(t<n?-1:t>n?1:0)}var FT=Array.prototype,HT=FT.slice;function Ko(t){return()=>t}const zT=Math.sqrt(50),WT=Math.sqrt(10),jT=Math.sqrt(2);function $a(t,n,e){const r=(n-t)/Math.max(0,e),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=zT?10:a>=WT?5:a>=jT?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(t*u),l=Math.round(n*u),s/u<t&&++s,l/u>n&&--l,u=-u):(u=Math.pow(10,i)*o,s=Math.round(t/u),l=Math.round(n/u),s*u<t&&++s,l*u>n&&--l),l<s&&.5<=e&&e<2?$a(t,n,e*2):[s,l,u]}function Ua(t,n,e){if(n=+n,t=+t,e=+e,!(e>0))return[];if(t===n)return[t];const r=n<t,[i,a,o]=r?$a(n,t,e):$a(t,n,e);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(r)if(o<0)for(let u=0;u<s;++u)l[u]=(a-u)/-o;else for(let u=0;u<s;++u)l[u]=(a-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(i+u)/-o;else for(let u=0;u<s;++u)l[u]=(i+u)*o;return l}function Pr(t,n,e){return n=+n,t=+t,e=+e,$a(t,n,e)[2]}function ml(t,n,e){n=+n,t=+t,e=+e;const r=n<t,i=r?Pr(n,t,e):Pr(t,n,e);return(r?-1:1)*(i<0?1/-i:i)}function qT(t,n,e){let r;for(;;){const i=Pr(t,n,e);if(i===r||i===0||!isFinite(i))return[t,n];i>0?(t=Math.floor(t/i)*i,n=Math.ceil(n/i)*i):i<0&&(t=Math.ceil(t*i)/i,n=Math.floor(n*i)/i),r=i}}function YT(t){return Math.ceil(Math.log(NT(t))/Math.LN2)+1}function XT(){var t=VT,n=Ue,e=YT;function r(i){Array.isArray(i)||(i=Array.from(i));var a,o=i.length,s,l,u=new Array(o);for(a=0;a<o;++a)u[a]=t(i[a],a,i);var c=n(u),h=c[0],f=c[1],d=e(u,h,f);if(!Array.isArray(d)){const x=f,O=+d;if(n===Ue&&([h,f]=qT(h,f,O)),d=Ua(h,f,O),d[0]<=h&&(l=Pr(h,f,O)),d[d.length-1]>=f)if(x>=f&&n===Ue){const b=Pr(h,f,O);isFinite(b)&&(b>0?f=(Math.floor(f/b)+1)*b:b<0&&(f=(Math.ceil(f*-b)+1)/-b))}else d.pop()}for(var p=d.length,g=0,m=p;d[g]<=h;)++g;for(;d[m-1]>f;)--m;(g||m<p)&&(d=d.slice(g,m),p=m-g);var _=new Array(p+1),v;for(a=0;a<=p;++a)v=_[a]=[],v.x0=a>0?d[a-1]:h,v.x1=a<p?d[a]:f;if(isFinite(l)){if(l>0)for(a=0;a<o;++a)(s=u[a])!=null&&h<=s&&s<=f&&_[Math.min(p,Math.floor((s-h)/l))].push(i[a]);else if(l<0){for(a=0;a<o;++a)if((s=u[a])!=null&&h<=s&&s<=f){const x=Math.floor((h-s)*l);_[Math.min(p,x+(d[x]<=s))].push(i[a])}}}else for(a=0;a<o;++a)(s=u[a])!=null&&h<=s&&s<=f&&_[bu(d,s,0,p)].push(i[a]);return _}return r.value=function(i){return arguments.length?(t=typeof i=="function"?i:Ko(i),r):t},r.domain=function(i){return arguments.length?(n=typeof i=="function"?i:Ko([i[0],i[1]]),r):n},r.thresholds=function(i){return arguments.length?(e=typeof i=="function"?i:Ko(Array.isArray(i)?HT.call(i):i),r):e},r}function Un(t,n){let e;if(n===void 0)for(const r of t)r!=null&&(e<r||e===void 0&&r>=r)&&(e=r);else{let r=-1;for(let i of t)(i=n(i,++r,t))!=null&&(e<i||e===void 0&&i>=i)&&(e=i)}return e}function mn(t,n){let e;if(n===void 0)for(const r of t)r!=null&&(e>r||e===void 0&&r>=r)&&(e=r);else{let r=-1;for(let i of t)(i=n(i,++r,t))!=null&&(e>i||e===void 0&&i>=i)&&(e=i)}return e}function Lp(t,n,e=0,r=1/0,i){if(n=Math.floor(n),e=Math.floor(Math.max(0,e)),r=Math.floor(Math.min(t.length-1,r)),!(e<=n&&n<=r))return t;for(i=i===void 0?Dp:GT(i);r>e;){if(r-e>600){const l=r-e+1,u=n-e+1,c=Math.log(l),h=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*h*(l-h)/l)*(u-l/2<0?-1:1),d=Math.max(e,Math.floor(n-u*h/l+f)),p=Math.min(r,Math.floor(n+(l-u)*h/l+f));Lp(t,n,d,p,i)}const a=t[n];let o=e,s=r;for(zr(t,e,n),i(t[r],a)>0&&zr(t,e,r);o<s;){for(zr(t,o,s),++o,--s;i(t[o],a)<0;)++o;for(;i(t[s],a)>0;)--s}i(t[e],a)===0?zr(t,e,s):(++s,zr(t,s,r)),s<=n&&(e=s+1),n<=s&&(r=s-1)}return t}function zr(t,n,e){const r=t[n];t[n]=t[e],t[e]=r}function Qo(t,n,e){if(t=Float64Array.from(RT(t,e)),!(!(r=t.length)||isNaN(n=+n))){if(n<=0||r<2)return mn(t);if(n>=1)return Un(t);var r,i=(r-1)*n,a=Math.floor(i),o=Un(Lp(t,a).subarray(0,a+1)),s=mn(t.subarray(a+1));return o+(s-o)*(i-a)}}function ZT(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=Math.max(0,Math.ceil((n-t)/e))|0,a=new Array(i);++r<i;)a[r]=t+r*e;return a}function Gr(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t);break}return this}const Qc=Symbol("implicit");function Ao(){var t=new Zc,n=[],e=[],r=Qc;function i(a){let o=t.get(a);if(o===void 0){if(r!==Qc)return r;t.set(a,o=n.push(a)-1)}return e[o%e.length]}return i.domain=function(a){if(!arguments.length)return n.slice();n=[],t=new Zc;for(const o of a)t.has(o)||t.set(o,n.push(o)-1);return i},i.range=function(a){return arguments.length?(e=Array.from(a),i):e.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Ao(n,e).unknown(r)},Gr.apply(i,arguments),i}function ki(){var t=Ao().unknown(void 0),n=t.domain,e=t.range,r=0,i=1,a,o,s=!1,l=0,u=0,c=.5;delete t.unknown;function h(){var f=n().length,d=i<r,p=d?i:r,g=d?r:i;a=(g-p)/Math.max(1,f-l+u*2),s&&(a=Math.floor(a)),p+=(g-p-a*(f-l))*c,o=a*(1-l),s&&(p=Math.round(p),o=Math.round(o));var m=ZT(f).map(function(_){return p+a*_});return e(d?m.reverse():m)}return t.domain=function(f){return arguments.length?(n(f),h()):n()},t.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,s=!0,h()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(f){return arguments.length?(s=!!f,h()):s},t.padding=function(f){return arguments.length?(l=Math.min(1,u=+f),h()):l},t.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),h()):l},t.paddingOuter=function(f){return arguments.length?(u=+f,h()):u},t.align=function(f){return arguments.length?(c=Math.max(0,Math.min(1,f)),h()):c},t.copy=function(){return ki(n(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},Gr.apply(h(),arguments)}function wu(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function Rp(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function Ii(){}var yi=.7,Ba=1/yi,xr="\\s*([+-]?\\d+)\\s*",_i="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Be="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",KT=/^#([0-9a-f]{3,8})$/,QT=new RegExp(`^rgb\\(${xr},${xr},${xr}\\)$`),JT=new RegExp(`^rgb\\(${Be},${Be},${Be}\\)$`),tE=new RegExp(`^rgba\\(${xr},${xr},${xr},${_i}\\)$`),eE=new RegExp(`^rgba\\(${Be},${Be},${Be},${_i}\\)$`),nE=new RegExp(`^hsl\\(${_i},${Be},${Be}\\)$`),rE=new RegExp(`^hsla\\(${_i},${Be},${Be},${_i}\\)$`),Jc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};wu(Ii,en,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:tf,formatHex:tf,formatHex8:iE,formatHsl:aE,formatRgb:ef,toString:ef});function tf(){return this.rgb().formatHex()}function iE(){return this.rgb().formatHex8()}function aE(){return kp(this).formatHsl()}function ef(){return this.rgb().formatRgb()}function en(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=KT.exec(t))?(e=n[1].length,n=parseInt(n[1],16),e===6?nf(n):e===3?new ce(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):e===8?qi(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):e===4?qi(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=QT.exec(t))?new ce(n[1],n[2],n[3],1):(n=JT.exec(t))?new ce(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=tE.exec(t))?qi(n[1],n[2],n[3],n[4]):(n=eE.exec(t))?qi(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=nE.exec(t))?of(n[1],n[2]/100,n[3]/100,1):(n=rE.exec(t))?of(n[1],n[2]/100,n[3]/100,n[4]):Jc.hasOwnProperty(t)?nf(Jc[t]):t==="transparent"?new ce(NaN,NaN,NaN,0):null}function nf(t){return new ce(t>>16&255,t>>8&255,t&255,1)}function qi(t,n,e,r){return r<=0&&(t=n=e=NaN),new ce(t,n,e,r)}function oE(t){return t instanceof Ii||(t=en(t)),t?(t=t.rgb(),new ce(t.r,t.g,t.b,t.opacity)):new ce}function yl(t,n,e,r){return arguments.length===1?oE(t):new ce(t,n,e,r??1)}function ce(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}wu(ce,yl,Rp(Ii,{brighter(t){return t=t==null?Ba:Math.pow(Ba,t),new ce(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?yi:Math.pow(yi,t),new ce(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ce(kn(this.r),kn(this.g),kn(this.b),Va(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rf,formatHex:rf,formatHex8:sE,formatRgb:af,toString:af}));function rf(){return`#${Ln(this.r)}${Ln(this.g)}${Ln(this.b)}`}function sE(){return`#${Ln(this.r)}${Ln(this.g)}${Ln(this.b)}${Ln((isNaN(this.opacity)?1:this.opacity)*255)}`}function af(){const t=Va(this.opacity);return`${t===1?"rgb(":"rgba("}${kn(this.r)}, ${kn(this.g)}, ${kn(this.b)}${t===1?")":`, ${t})`}`}function Va(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function kn(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ln(t){return t=kn(t),(t<16?"0":"")+t.toString(16)}function of(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new Ae(t,n,e,r)}function kp(t){if(t instanceof Ae)return new Ae(t.h,t.s,t.l,t.opacity);if(t instanceof Ii||(t=en(t)),!t)return new Ae;if(t instanceof Ae)return t;t=t.rgb();var n=t.r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),a=Math.max(n,e,r),o=NaN,s=a-i,l=(a+i)/2;return s?(n===a?o=(e-r)/s+(e<r)*6:e===a?o=(r-n)/s+2:o=(n-e)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new Ae(o,s,l,t.opacity)}function Ou(t,n,e,r){return arguments.length===1?kp(t):new Ae(t,n,e,r??1)}function Ae(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}wu(Ae,Ou,Rp(Ii,{brighter(t){return t=t==null?Ba:Math.pow(Ba,t),new Ae(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?yi:Math.pow(yi,t),new Ae(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new ce(Jo(t>=240?t-240:t+120,i,r),Jo(t,i,r),Jo(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Ae(sf(this.h),Yi(this.s),Yi(this.l),Va(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Va(this.opacity);return`${t===1?"hsl(":"hsla("}${sf(this.h)}, ${Yi(this.s)*100}%, ${Yi(this.l)*100}%${t===1?")":`, ${t})`}`}}));function sf(t){return t=(t||0)%360,t<0?t+360:t}function Yi(t){return Math.max(0,Math.min(1,t||0))}function Jo(t,n,e){return(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)*255}const Tu=t=>()=>t;function lE(t,n){return function(e){return t+e*n}}function uE(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}function cE(t){return(t=+t)==1?Ip:function(n,e){return e-n?uE(n,e,t):Tu(isNaN(n)?e:n)}}function Ip(t,n){var e=n-t;return e?lE(t,e):Tu(isNaN(t)?n:t)}const Ga=function t(n){var e=cE(n);function r(i,a){var o=e((i=yl(i)).r,(a=yl(a)).r),s=e(i.g,a.g),l=e(i.b,a.b),u=Ip(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function fE(t,n){n||(n=[]);var e=t?Math.min(n.length,t.length):0,r=n.slice(),i;return function(a){for(i=0;i<e;++i)r[i]=t[i]*(1-a)+n[i]*a;return r}}function hE(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function dE(t,n){var e=n?n.length:0,r=t?Math.min(e,t.length):0,i=new Array(r),a=new Array(e),o;for(o=0;o<r;++o)i[o]=Ni(t[o],n[o]);for(;o<e;++o)a[o]=n[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function pE(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function ge(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function vE(t,n){var e={},r={},i;(t===null||typeof t!="object")&&(t={}),(n===null||typeof n!="object")&&(n={});for(i in n)i in t?e[i]=Ni(t[i],n[i]):r[i]=n[i];return function(a){for(i in e)r[i]=e[i](a);return r}}var _l=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ts=new RegExp(_l.source,"g");function gE(t){return function(){return t}}function mE(t){return function(n){return t(n)+""}}function Np(t,n){var e=_l.lastIndex=ts.lastIndex=0,r,i,a,o=-1,s=[],l=[];for(t=t+"",n=n+"";(r=_l.exec(t))&&(i=ts.exec(n));)(a=i.index)>e&&(a=n.slice(e,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:ge(r,i)})),e=ts.lastIndex;return e<n.length&&(a=n.slice(e),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?mE(l[0].x):gE(n):(n=l.length,function(u){for(var c=0,h;c<n;++c)s[(h=l[c]).i]=h.x(u);return s.join("")})}function Ni(t,n){var e=typeof n,r;return n==null||e==="boolean"?Tu(n):(e==="number"?ge:e==="string"?(r=en(n))?(n=r,Ga):Np:n instanceof en?Ga:n instanceof Date?pE:hE(n)?fE:Array.isArray(n)?dE:typeof n.valueOf!="function"&&typeof n.toString!="function"||isNaN(n)?vE:ge)(t,n)}function $p(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}var lf=180/Math.PI,xl={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Up(t,n,e,r,i,a){var o,s,l;return(o=Math.sqrt(t*t+n*n))&&(t/=o,n/=o),(l=t*e+n*r)&&(e-=t*l,r-=n*l),(s=Math.sqrt(e*e+r*r))&&(e/=s,r/=s,l/=s),t*r<n*e&&(t=-t,n=-n,l=-l,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(n,t)*lf,skewX:Math.atan(l)*lf,scaleX:o,scaleY:s}}var Xi;function yE(t){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?xl:Up(n.a,n.b,n.c,n.d,n.e,n.f)}function _E(t){return t==null||(Xi||(Xi=document.createElementNS("http://www.w3.org/2000/svg","g")),Xi.setAttribute("transform",t),!(t=Xi.transform.baseVal.consolidate()))?xl:(t=t.matrix,Up(t.a,t.b,t.c,t.d,t.e,t.f))}function Bp(t,n,e,r){function i(u){return u.length?u.pop()+" ":""}function a(u,c,h,f,d,p){if(u!==h||c!==f){var g=d.push("translate(",null,n,null,e);p.push({i:g-4,x:ge(u,h)},{i:g-2,x:ge(c,f)})}else(h||f)&&d.push("translate("+h+n+f+e)}function o(u,c,h,f){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),f.push({i:h.push(i(h)+"rotate(",null,r)-2,x:ge(u,c)})):c&&h.push(i(h)+"rotate("+c+r)}function s(u,c,h,f){u!==c?f.push({i:h.push(i(h)+"skewX(",null,r)-2,x:ge(u,c)}):c&&h.push(i(h)+"skewX("+c+r)}function l(u,c,h,f,d,p){if(u!==h||c!==f){var g=d.push(i(d)+"scale(",null,",",null,")");p.push({i:g-4,x:ge(u,h)},{i:g-2,x:ge(c,f)})}else(h!==1||f!==1)&&d.push(i(d)+"scale("+h+","+f+")")}return function(u,c){var h=[],f=[];return u=t(u),c=t(c),a(u.translateX,u.translateY,c.translateX,c.translateY,h,f),o(u.rotate,c.rotate,h,f),s(u.skewX,c.skewX,h,f),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,h,f),u=c=null,function(d){for(var p=-1,g=f.length,m;++p<g;)h[(m=f[p]).i]=m.x(d);return h.join("")}}}var xE=Bp(yE,"px, ","px)","deg)"),bE=Bp(_E,", ",")",")");function wE(t,n){for(var e=new Array(n),r=0;r<n;++r)e[r]=t(r/(n-1));return e}function OE(t){return function(){return t}}function TE(t){return+t}var uf=[0,1];function hr(t){return t}function bl(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:OE(isNaN(n)?NaN:.5)}function EE(t,n){var e;return t>n&&(e=t,t=n,n=e),function(r){return Math.max(t,Math.min(n,r))}}function SE(t,n,e){var r=t[0],i=t[1],a=n[0],o=n[1];return i<r?(r=bl(i,r),a=e(o,a)):(r=bl(r,i),a=e(a,o)),function(s){return a(r(s))}}function AE(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++o<r;)i[o]=bl(t[o],t[o+1]),a[o]=e(n[o],n[o+1]);return function(s){var l=bu(t,s,1,r)-1;return a[l](i[l](s))}}function Eu(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Vp(){var t=uf,n=uf,e=Ni,r,i,a,o=hr,s,l,u;function c(){var f=Math.min(t.length,n.length);return o!==hr&&(o=EE(t[0],t[f-1])),s=f>2?AE:SE,l=u=null,h}function h(f){return f==null||isNaN(f=+f)?a:(l||(l=s(t.map(r),n,e)))(r(o(f)))}return h.invert=function(f){return o(i((u||(u=s(n,t.map(r),ge)))(f)))},h.domain=function(f){return arguments.length?(t=Array.from(f,TE),c()):t.slice()},h.range=function(f){return arguments.length?(n=Array.from(f),c()):n.slice()},h.rangeRound=function(f){return n=Array.from(f),e=$p,c()},h.clamp=function(f){return arguments.length?(o=f?!0:hr,c()):o!==hr},h.interpolate=function(f){return arguments.length?(e=f,c()):e},h.unknown=function(f){return arguments.length?(a=f,h):a},function(f,d){return r=f,i=d,c()}}function Gp(){return Vp()(hr,hr)}function ME(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Fa(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function Dr(t){return t=Fa(Math.abs(t)),t?t[1]:NaN}function CE(t,n){return function(e,r){for(var i=e.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(e.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(n)}}function PE(t){return function(n){return n.replace(/[0-9]/g,function(e){return t[+e]})}}var DE=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function xi(t){if(!(n=DE.exec(t)))throw new Error("invalid format: "+t);var n;return new Su({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}xi.prototype=Su.prototype;function Su(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Su.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function LE(t){t:for(var n=t.length,e=1,r=-1,i;e<n;++e)switch(t[e]){case".":r=i=e;break;case"0":r===0&&(r=e),i=e;break;default:if(!+t[e])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Fp;function RE(t,n){var e=Fa(t,n);if(!e)return t+"";var r=e[0],i=e[1],a=i-(Fp=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Fa(t,Math.max(0,n+a-1))[0]}function cf(t,n){var e=Fa(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const ff={"%":(t,n)=>(t*100).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:ME,e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>cf(t*100,n),r:cf,s:RE,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function hf(t){return t}var df=Array.prototype.map,pf=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function kE(t){var n=t.grouping===void 0||t.thousands===void 0?hf:CE(df.call(t.grouping,Number),t.thousands+""),e=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?hf:PE(df.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(h){h=xi(h);var f=h.fill,d=h.align,p=h.sign,g=h.symbol,m=h.zero,_=h.width,v=h.comma,x=h.precision,O=h.trim,b=h.type;b==="n"?(v=!0,b="g"):ff[b]||(x===void 0&&(x=12),O=!0,b="g"),(m||f==="0"&&d==="=")&&(m=!0,f="0",d="=");var w=g==="$"?e:g==="#"&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",M=g==="$"?r:/[%p]/.test(b)?o:"",E=ff[b],A=/[defgprs%]/.test(b);x=x===void 0?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function C(T){var k=w,D=M,I,L,R;if(b==="c")D=E(T)+D,T="";else{T=+T;var N=T<0||1/T<0;if(T=isNaN(T)?l:E(Math.abs(T),x),O&&(T=LE(T)),N&&+T==0&&p!=="+"&&(N=!1),k=(N?p==="("?p:s:p==="-"||p==="("?"":p)+k,D=(b==="s"?pf[8+Fp/3]:"")+D+(N&&p==="("?")":""),A){for(I=-1,L=T.length;++I<L;)if(R=T.charCodeAt(I),48>R||R>57){D=(R===46?i+T.slice(I+1):T.slice(I))+D,T=T.slice(0,I);break}}}v&&!m&&(T=n(T,1/0));var G=k.length+T.length+D.length,P=G<_?new Array(_-G+1).join(f):"";switch(v&&m&&(T=n(P+T,P.length?_-D.length:1/0),P=""),d){case"<":T=k+T+D+P;break;case"=":T=k+P+T+D;break;case"^":T=P.slice(0,G=P.length>>1)+k+T+D+P.slice(G);break;default:T=P+k+T+D;break}return a(T)}return C.toString=function(){return h+""},C}function c(h,f){var d=u((h=xi(h),h.type="f",h)),p=Math.max(-8,Math.min(8,Math.floor(Dr(f)/3)))*3,g=Math.pow(10,-p),m=pf[8+p/3];return function(_){return d(g*_)+m}}return{format:u,formatPrefix:c}}var Zi,Au,Hp;IE({thousands:",",grouping:[3],currency:["$",""]});function IE(t){return Zi=kE(t),Au=Zi.format,Hp=Zi.formatPrefix,Zi}function NE(t){return Math.max(0,-Dr(Math.abs(t)))}function $E(t,n){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Dr(n)/3)))*3-Dr(Math.abs(t)))}function UE(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,Dr(n)-Dr(t))+1}function BE(t,n,e,r){var i=ml(t,n,e),a;switch(r=xi(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(n));return r.precision==null&&!isNaN(a=$E(i,o))&&(r.precision=a),Hp(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=UE(i,Math.max(Math.abs(t),Math.abs(n))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=NE(i))&&(r.precision=a-(r.type==="%")*2);break}}return Au(r)}function zp(t){var n=t.domain;return t.ticks=function(e){var r=n();return Ua(r[0],r[r.length-1],e??10)},t.tickFormat=function(e,r){var i=n();return BE(i[0],i[i.length-1],e??10,r)},t.nice=function(e){e==null&&(e=10);var r=n(),i=0,a=r.length-1,o=r[i],s=r[a],l,u,c=10;for(s<o&&(u=o,o=s,s=u,u=i,i=a,a=u);c-- >0;){if(u=Pr(o,s,e),u===l)return r[i]=o,r[a]=s,n(r);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function He(){var t=Gp();return t.copy=function(){return Eu(t,He())},Gr.apply(t,arguments),zp(t)}function Wp(t,n){t=t.slice();var e=0,r=t.length-1,i=t[e],a=t[r],o;return a<i&&(o=e,e=r,r=o,o=i,i=a,a=o),t[e]=n.floor(i),t[r]=n.ceil(a),t}function vf(t){return Math.log(t)}function gf(t){return Math.exp(t)}function VE(t){return-Math.log(-t)}function GE(t){return-Math.exp(-t)}function FE(t){return isFinite(t)?+("1e"+t):t<0?0:t}function HE(t){return t===10?FE:t===Math.E?Math.exp:n=>Math.pow(t,n)}function zE(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),n=>Math.log(n)/t)}function mf(t){return(n,e)=>-t(-n,e)}function WE(t){const n=t(vf,gf),e=n.domain;let r=10,i,a;function o(){return i=zE(r),a=HE(r),e()[0]<0?(i=mf(i),a=mf(a),t(VE,GE)):t(vf,gf),n}return n.base=function(s){return arguments.length?(r=+s,o()):r},n.domain=function(s){return arguments.length?(e(s),o()):e()},n.ticks=s=>{const l=e();let u=l[0],c=l[l.length-1];const h=c<u;h&&([u,c]=[c,u]);let f=i(u),d=i(c),p,g;const m=s==null?10:+s;let _=[];if(!(r%1)&&d-f<m){if(f=Math.floor(f),d=Math.ceil(d),u>0){for(;f<=d;++f)for(p=1;p<r;++p)if(g=f<0?p/a(-f):p*a(f),!(g<u)){if(g>c)break;_.push(g)}}else for(;f<=d;++f)for(p=r-1;p>=1;--p)if(g=f>0?p/a(-f):p*a(f),!(g<u)){if(g>c)break;_.push(g)}_.length*2<m&&(_=Ua(u,c,m))}else _=Ua(f,d,Math.min(d-f,m)).map(a);return h?_.reverse():_},n.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=xi(l)).precision==null&&(l.trim=!0),l=Au(l)),s===1/0)return l;const u=Math.max(1,r*s/n.ticks().length);return c=>{let h=c/a(Math.round(i(c)));return h*r<r-.5&&(h*=r),h<=u?l(c):""}},n.nice=()=>e(Wp(e(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),n}function jp(){const t=WE(Vp()).domain([1,10]);return t.copy=()=>Eu(t,jp()).base(t.base()),Gr.apply(t,arguments),t}function qp(){var t=0,n=1,e=1,r=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[bu(r,l,0,e)]:a}function s(){var l=-1;for(r=new Array(e);++l<e;)r[l]=((l+1)*n-(l-e)*t)/(e+1);return o}return o.domain=function(l){return arguments.length?([t,n]=l,t=+t,n=+n,s()):[t,n]},o.range=function(l){return arguments.length?(e=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=e?[r[e-1],n]:[r[u-1],r[u]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return qp().domain([t,n]).range(i).unknown(a)},Gr.apply(zp(o),arguments)}var es=new Date,ns=new Date;function Wt(t,n,e,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=function(a){return t(a=new Date(+a)),a},i.ceil=function(a){return t(a=new Date(a-1)),n(a,1),t(a),a},i.round=function(a){var o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=function(a,o){return n(a=new Date(+a),o==null?1:Math.floor(o)),a},i.range=function(a,o,s){var l=[],u;if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;do l.push(u=new Date(+a)),n(a,s),t(a);while(u<a&&a<o);return l},i.filter=function(a){return Wt(function(o){if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},function(o,s){if(o>=o)if(s<0)for(;++s<=0;)for(;n(o,-1),!a(o););else for(;--s>=0;)for(;n(o,1),!a(o););})},e&&(i.count=function(a,o){return es.setTime(+a),ns.setTime(+o),t(es),t(ns),Math.floor(e(es,ns))},i.every=function(a){return a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?function(o){return r(o)%a===0}:function(o){return i.count(0,o)%a===0}):i}),i}var Ha=Wt(function(){},function(t,n){t.setTime(+t+n)},function(t,n){return n-t});Ha.every=function(t){return t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Wt(function(n){n.setTime(Math.floor(n/t)*t)},function(n,e){n.setTime(+n+e*t)},function(n,e){return(e-n)/t}):Ha};const jE=Ha;Ha.range;const Je=1e3,we=Je*60,tn=we*60,Bn=tn*24,Mu=Bn*7,yf=Bn*30,rs=Bn*365;var Yp=Wt(function(t){t.setTime(t-t.getMilliseconds())},function(t,n){t.setTime(+t+n*Je)},function(t,n){return(n-t)/Je},function(t){return t.getUTCSeconds()});const Qr=Yp;Yp.range;var Xp=Wt(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Je)},function(t,n){t.setTime(+t+n*we)},function(t,n){return(n-t)/we},function(t){return t.getMinutes()});const Zp=Xp;Xp.range;var Kp=Wt(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Je-t.getMinutes()*we)},function(t,n){t.setTime(+t+n*tn)},function(t,n){return(n-t)/tn},function(t){return t.getHours()});const Qp=Kp;Kp.range;var Jp=Wt(t=>t.setHours(0,0,0,0),(t,n)=>t.setDate(t.getDate()+n),(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*we)/Bn,t=>t.getDate()-1);const Mo=Jp;Jp.range;function qn(t){return Wt(function(n){n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)},function(n,e){n.setDate(n.getDate()+e*7)},function(n,e){return(e-n-(e.getTimezoneOffset()-n.getTimezoneOffset())*we)/Mu})}var Co=qn(0),za=qn(1),qE=qn(2),YE=qn(3),Lr=qn(4),XE=qn(5),ZE=qn(6);Co.range;za.range;qE.range;YE.range;Lr.range;XE.range;ZE.range;var tv=Wt(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,n){t.setMonth(t.getMonth()+n)},function(t,n){return n.getMonth()-t.getMonth()+(n.getFullYear()-t.getFullYear())*12},function(t){return t.getMonth()});const ev=tv;tv.range;var Cu=Wt(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n)},function(t,n){return n.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});Cu.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:Wt(function(n){n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)},function(n,e){n.setFullYear(n.getFullYear()+e*t)})};const Vn=Cu;Cu.range;var nv=Wt(function(t){t.setUTCSeconds(0,0)},function(t,n){t.setTime(+t+n*we)},function(t,n){return(n-t)/we},function(t){return t.getUTCMinutes()});const KE=nv;nv.range;var rv=Wt(function(t){t.setUTCMinutes(0,0,0)},function(t,n){t.setTime(+t+n*tn)},function(t,n){return(n-t)/tn},function(t){return t.getUTCHours()});const QE=rv;rv.range;var iv=Wt(function(t){t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+n)},function(t,n){return(n-t)/Bn},function(t){return t.getUTCDate()-1});const Pu=iv;iv.range;function Yn(t){return Wt(function(n){n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)},function(n,e){n.setUTCDate(n.getUTCDate()+e*7)},function(n,e){return(e-n)/Mu})}var Du=Yn(0),Wa=Yn(1),JE=Yn(2),tS=Yn(3),Rr=Yn(4),eS=Yn(5),nS=Yn(6);Du.range;Wa.range;JE.range;tS.range;Rr.range;eS.range;nS.range;var av=Wt(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCMonth(t.getUTCMonth()+n)},function(t,n){return n.getUTCMonth()-t.getUTCMonth()+(n.getUTCFullYear()-t.getUTCFullYear())*12},function(t){return t.getUTCMonth()});const rS=av;av.range;var Lu=Wt(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)},function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});Lu.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:Wt(function(n){n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},function(n,e){n.setUTCFullYear(n.getUTCFullYear()+e*t)})};const kr=Lu;Lu.range;function ov(t,n,e,r,i,a){const o=[[Qr,1,Je],[Qr,5,5*Je],[Qr,15,15*Je],[Qr,30,30*Je],[a,1,we],[a,5,5*we],[a,15,15*we],[a,30,30*we],[i,1,tn],[i,3,3*tn],[i,6,6*tn],[i,12,12*tn],[r,1,Bn],[r,2,2*Bn],[e,1,Mu],[n,1,yf],[n,3,3*yf],[t,1,rs]];function s(u,c,h){const f=c<u;f&&([u,c]=[c,u]);const d=h&&typeof h.range=="function"?h:l(u,c,h),p=d?d.range(u,+c+1):[];return f?p.reverse():p}function l(u,c,h){const f=Math.abs(c-u)/h,d=xu(([,,m])=>m).right(o,f);if(d===o.length)return t.every(ml(u/rs,c/rs,h));if(d===0)return jE.every(Math.max(ml(u,c,h),1));const[p,g]=o[f/o[d-1][2]<o[d][2]/f?d-1:d];return p.every(g)}return[s,l]}ov(kr,rS,Du,Pu,QE,KE);const[iS,aS]=ov(Vn,ev,Co,Mo,Qp,Zp);function is(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function as(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Wr(t,n,e){return{y:t,m:n,d:e,H:0,M:0,S:0,L:0}}function oS(t){var n=t.dateTime,e=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,l=t.shortMonths,u=jr(i),c=qr(i),h=jr(a),f=qr(a),d=jr(o),p=qr(o),g=jr(s),m=qr(s),_=jr(l),v=qr(l),x={a:N,A:G,b:P,B:F,c:null,d:Tf,e:Tf,f:CS,g:BS,G:GS,H:SS,I:AS,j:MS,L:sv,m:PS,M:DS,p:H,q:J,Q:Af,s:Mf,S:LS,u:RS,U:kS,V:IS,w:NS,W:$S,x:null,X:null,y:US,Y:VS,Z:FS,"%":Sf},O={a:lt,A:ut,b:X,B:rt,c:null,d:Ef,e:Ef,f:jS,g:nA,G:iA,H:HS,I:zS,j:WS,L:uv,m:qS,M:YS,p:tt,q:ot,Q:Af,s:Mf,S:XS,u:ZS,U:KS,V:QS,w:JS,W:tA,x:null,X:null,y:eA,Y:rA,Z:aA,"%":Sf},b={a:C,A:T,b:k,B:D,c:I,d:wf,e:wf,f:wS,g:bf,G:xf,H:Of,I:Of,j:yS,L:bS,m:mS,M:_S,p:A,q:gS,Q:TS,s:ES,S:xS,u:fS,U:hS,V:dS,w:cS,W:pS,x:L,X:R,y:bf,Y:xf,Z:vS,"%":OS};x.x=w(e,x),x.X=w(r,x),x.c=w(n,x),O.x=w(e,O),O.X=w(r,O),O.c=w(n,O);function w(K,et){return function(st){var j=[],vt=-1,ct=0,W=K.length,Z,z,dt;for(st instanceof Date||(st=new Date(+st));++vt<W;)K.charCodeAt(vt)===37&&(j.push(K.slice(ct,vt)),(z=_f[Z=K.charAt(++vt)])!=null?Z=K.charAt(++vt):z=Z==="e"?" ":"0",(dt=et[Z])&&(Z=dt(st,z)),j.push(Z),ct=vt+1);return j.push(K.slice(ct,vt)),j.join("")}}function M(K,et){return function(st){var j=Wr(1900,void 0,1),vt=E(j,K,st+="",0),ct,W;if(vt!=st.length)return null;if("Q"in j)return new Date(j.Q);if("s"in j)return new Date(j.s*1e3+("L"in j?j.L:0));if(et&&!("Z"in j)&&(j.Z=0),"p"in j&&(j.H=j.H%12+j.p*12),j.m===void 0&&(j.m="q"in j?j.q:0),"V"in j){if(j.V<1||j.V>53)return null;"w"in j||(j.w=1),"Z"in j?(ct=as(Wr(j.y,0,1)),W=ct.getUTCDay(),ct=W>4||W===0?Wa.ceil(ct):Wa(ct),ct=Pu.offset(ct,(j.V-1)*7),j.y=ct.getUTCFullYear(),j.m=ct.getUTCMonth(),j.d=ct.getUTCDate()+(j.w+6)%7):(ct=is(Wr(j.y,0,1)),W=ct.getDay(),ct=W>4||W===0?za.ceil(ct):za(ct),ct=Mo.offset(ct,(j.V-1)*7),j.y=ct.getFullYear(),j.m=ct.getMonth(),j.d=ct.getDate()+(j.w+6)%7)}else("W"in j||"U"in j)&&("w"in j||(j.w="u"in j?j.u%7:"W"in j?1:0),W="Z"in j?as(Wr(j.y,0,1)).getUTCDay():is(Wr(j.y,0,1)).getDay(),j.m=0,j.d="W"in j?(j.w+6)%7+j.W*7-(W+5)%7:j.w+j.U*7-(W+6)%7);return"Z"in j?(j.H+=j.Z/100|0,j.M+=j.Z%100,as(j)):is(j)}}function E(K,et,st,j){for(var vt=0,ct=et.length,W=st.length,Z,z;vt<ct;){if(j>=W)return-1;if(Z=et.charCodeAt(vt++),Z===37){if(Z=et.charAt(vt++),z=b[Z in _f?et.charAt(vt++):Z],!z||(j=z(K,st,j))<0)return-1}else if(Z!=st.charCodeAt(j++))return-1}return j}function A(K,et,st){var j=u.exec(et.slice(st));return j?(K.p=c.get(j[0].toLowerCase()),st+j[0].length):-1}function C(K,et,st){var j=d.exec(et.slice(st));return j?(K.w=p.get(j[0].toLowerCase()),st+j[0].length):-1}function T(K,et,st){var j=h.exec(et.slice(st));return j?(K.w=f.get(j[0].toLowerCase()),st+j[0].length):-1}function k(K,et,st){var j=_.exec(et.slice(st));return j?(K.m=v.get(j[0].toLowerCase()),st+j[0].length):-1}function D(K,et,st){var j=g.exec(et.slice(st));return j?(K.m=m.get(j[0].toLowerCase()),st+j[0].length):-1}function I(K,et,st){return E(K,n,et,st)}function L(K,et,st){return E(K,e,et,st)}function R(K,et,st){return E(K,r,et,st)}function N(K){return o[K.getDay()]}function G(K){return a[K.getDay()]}function P(K){return l[K.getMonth()]}function F(K){return s[K.getMonth()]}function H(K){return i[+(K.getHours()>=12)]}function J(K){return 1+~~(K.getMonth()/3)}function lt(K){return o[K.getUTCDay()]}function ut(K){return a[K.getUTCDay()]}function X(K){return l[K.getUTCMonth()]}function rt(K){return s[K.getUTCMonth()]}function tt(K){return i[+(K.getUTCHours()>=12)]}function ot(K){return 1+~~(K.getUTCMonth()/3)}return{format:function(K){var et=w(K+="",x);return et.toString=function(){return K},et},parse:function(K){var et=M(K+="",!1);return et.toString=function(){return K},et},utcFormat:function(K){var et=w(K+="",O);return et.toString=function(){return K},et},utcParse:function(K){var et=M(K+="",!0);return et.toString=function(){return K},et}}}var _f={"-":"",_:" ",0:"0"},jt=/^\s*\d+/,sS=/^%/,lS=/[\\^$*+?|[\]().{}]/g;function Tt(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<e?new Array(e-a+1).join(n)+i:i)}function uS(t){return t.replace(lS,"\\$&")}function jr(t){return new RegExp("^(?:"+t.map(uS).join("|")+")","i")}function qr(t){return new Map(t.map((n,e)=>[n.toLowerCase(),e]))}function cS(t,n,e){var r=jt.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function fS(t,n,e){var r=jt.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function hS(t,n,e){var r=jt.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function dS(t,n,e){var r=jt.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function pS(t,n,e){var r=jt.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function xf(t,n,e){var r=jt.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function bf(t,n,e){var r=jt.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function vS(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function gS(t,n,e){var r=jt.exec(n.slice(e,e+1));return r?(t.q=r[0]*3-3,e+r[0].length):-1}function mS(t,n,e){var r=jt.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function wf(t,n,e){var r=jt.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function yS(t,n,e){var r=jt.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function Of(t,n,e){var r=jt.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function _S(t,n,e){var r=jt.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function xS(t,n,e){var r=jt.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function bS(t,n,e){var r=jt.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function wS(t,n,e){var r=jt.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function OS(t,n,e){var r=sS.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function TS(t,n,e){var r=jt.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function ES(t,n,e){var r=jt.exec(n.slice(e));return r?(t.s=+r[0],e+r[0].length):-1}function Tf(t,n){return Tt(t.getDate(),n,2)}function SS(t,n){return Tt(t.getHours(),n,2)}function AS(t,n){return Tt(t.getHours()%12||12,n,2)}function MS(t,n){return Tt(1+Mo.count(Vn(t),t),n,3)}function sv(t,n){return Tt(t.getMilliseconds(),n,3)}function CS(t,n){return sv(t,n)+"000"}function PS(t,n){return Tt(t.getMonth()+1,n,2)}function DS(t,n){return Tt(t.getMinutes(),n,2)}function LS(t,n){return Tt(t.getSeconds(),n,2)}function RS(t){var n=t.getDay();return n===0?7:n}function kS(t,n){return Tt(Co.count(Vn(t)-1,t),n,2)}function lv(t){var n=t.getDay();return n>=4||n===0?Lr(t):Lr.ceil(t)}function IS(t,n){return t=lv(t),Tt(Lr.count(Vn(t),t)+(Vn(t).getDay()===4),n,2)}function NS(t){return t.getDay()}function $S(t,n){return Tt(za.count(Vn(t)-1,t),n,2)}function US(t,n){return Tt(t.getFullYear()%100,n,2)}function BS(t,n){return t=lv(t),Tt(t.getFullYear()%100,n,2)}function VS(t,n){return Tt(t.getFullYear()%1e4,n,4)}function GS(t,n){var e=t.getDay();return t=e>=4||e===0?Lr(t):Lr.ceil(t),Tt(t.getFullYear()%1e4,n,4)}function FS(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+Tt(n/60|0,"0",2)+Tt(n%60,"0",2)}function Ef(t,n){return Tt(t.getUTCDate(),n,2)}function HS(t,n){return Tt(t.getUTCHours(),n,2)}function zS(t,n){return Tt(t.getUTCHours()%12||12,n,2)}function WS(t,n){return Tt(1+Pu.count(kr(t),t),n,3)}function uv(t,n){return Tt(t.getUTCMilliseconds(),n,3)}function jS(t,n){return uv(t,n)+"000"}function qS(t,n){return Tt(t.getUTCMonth()+1,n,2)}function YS(t,n){return Tt(t.getUTCMinutes(),n,2)}function XS(t,n){return Tt(t.getUTCSeconds(),n,2)}function ZS(t){var n=t.getUTCDay();return n===0?7:n}function KS(t,n){return Tt(Du.count(kr(t)-1,t),n,2)}function cv(t){var n=t.getUTCDay();return n>=4||n===0?Rr(t):Rr.ceil(t)}function QS(t,n){return t=cv(t),Tt(Rr.count(kr(t),t)+(kr(t).getUTCDay()===4),n,2)}function JS(t){return t.getUTCDay()}function tA(t,n){return Tt(Wa.count(kr(t)-1,t),n,2)}function eA(t,n){return Tt(t.getUTCFullYear()%100,n,2)}function nA(t,n){return t=cv(t),Tt(t.getUTCFullYear()%100,n,2)}function rA(t,n){return Tt(t.getUTCFullYear()%1e4,n,4)}function iA(t,n){var e=t.getUTCDay();return t=e>=4||e===0?Rr(t):Rr.ceil(t),Tt(t.getUTCFullYear()%1e4,n,4)}function aA(){return"+0000"}function Sf(){return"%"}function Af(t){return+t}function Mf(t){return Math.floor(+t/1e3)}var er,fv;oA({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function oA(t){return er=oS(t),fv=er.format,er.parse,er.utcFormat,er.utcParse,er}function sA(t){return new Date(t)}function lA(t){return t instanceof Date?+t:+new Date(+t)}function hv(t,n,e,r,i,a,o,s,l,u){var c=Gp(),h=c.invert,f=c.domain,d=u(".%L"),p=u(":%S"),g=u("%I:%M"),m=u("%I %p"),_=u("%a %d"),v=u("%b %d"),x=u("%B"),O=u("%Y");function b(w){return(l(w)<w?d:s(w)<w?p:o(w)<w?g:a(w)<w?m:r(w)<w?i(w)<w?_:v:e(w)<w?x:O)(w)}return c.invert=function(w){return new Date(h(w))},c.domain=function(w){return arguments.length?f(Array.from(w,lA)):f().map(sA)},c.ticks=function(w){var M=f();return t(M[0],M[M.length-1],w??10)},c.tickFormat=function(w,M){return M==null?b:u(M)},c.nice=function(w){var M=f();return(!w||typeof w.range!="function")&&(w=n(M[0],M[M.length-1],w??10)),w?f(Wp(M,w)):c},c.copy=function(){return Eu(c,hv(t,n,e,r,i,a,o,s,l,u))},c}function dv(){return Gr.apply(hv(iS,aS,Vn,ev,Co,Mo,Qp,Zp,Qr,fv).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function gt(t){return function(){return t}}const Cf=Math.abs,Kt=Math.atan2,wn=Math.cos,uA=Math.max,os=Math.min,Re=Math.sin,dr=Math.sqrt,te=1e-12,bi=Math.PI,ja=bi/2,ua=2*bi;function cA(t){return t>1?0:t<-1?bi:Math.acos(t)}function Pf(t){return t>=1?ja:t<=-1?-ja:Math.asin(t)}const wl=Math.PI,Ol=2*wl,En=1e-6,fA=Ol-En;function pv(t){this._+=t[0];for(let n=1,e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function hA(t){let n=Math.floor(t);if(!(n>=0))throw new Error(`invalid digits: ${t}`);if(n>15)return pv;const e=10**n;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*e)/e+r[i]}}let dA=class{constructor(n){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=n==null?pv:hA(n)}moveTo(n,e){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(n,e){this._append`L${this._x1=+n},${this._y1=+e}`}quadraticCurveTo(n,e,r,i){this._append`Q${+n},${+e},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(n,e,r,i,a,o){this._append`C${+n},${+e},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(n,e,r,i,a){if(n=+n,e=+e,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=r-n,u=i-e,c=o-n,h=s-e,f=c*c+h*h;if(this._x1===null)this._append`M${this._x1=n},${this._y1=e}`;else if(f>En)if(!(Math.abs(h*l-u*c)>En)||!a)this._append`L${this._x1=n},${this._y1=e}`;else{let d=r-o,p=i-s,g=l*l+u*u,m=d*d+p*p,_=Math.sqrt(g),v=Math.sqrt(f),x=a*Math.tan((wl-Math.acos((g+f-m)/(2*_*v)))/2),O=x/v,b=x/_;Math.abs(O-1)>En&&this._append`L${n+O*c},${e+O*h}`,this._append`A${a},${a},0,0,${+(h*d>c*p)},${this._x1=n+b*l},${this._y1=e+b*u}`}}arc(n,e,r,i,a,o){if(n=+n,e=+e,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=n+s,c=e+l,h=1^o,f=o?i-a:a-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>En||Math.abs(this._y1-c)>En)&&this._append`L${u},${c}`,r&&(f<0&&(f=f%Ol+Ol),f>fA?this._append`A${r},${r},0,1,${h},${n-s},${e-l}A${r},${r},0,1,${h},${this._x1=u},${this._y1=c}`:f>En&&this._append`A${r},${r},0,${+(f>=wl)},${h},${this._x1=n+r*Math.cos(a)},${this._y1=e+r*Math.sin(a)}`)}rect(n,e,r,i){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function Po(t){let n=3;return t.digits=function(e){if(!arguments.length)return n;if(e==null)n=null;else{const r=Math.floor(e);if(!(r>=0))throw new RangeError(`invalid digits: ${e}`);n=r}return t},()=>new dA(n)}function pA(t){return t.innerRadius}function vA(t){return t.outerRadius}function gA(t){return t.startAngle}function mA(t){return t.endAngle}function yA(t){return t&&t.padAngle}function _A(t,n,e,r,i,a,o,s){var l=e-t,u=r-n,c=o-i,h=s-a,f=h*l-c*u;if(!(f*f<te))return f=(c*(n-a)-h*(t-i))/f,[t+f*l,n+f*u]}function Ki(t,n,e,r,i,a,o){var s=t-e,l=n-r,u=(o?a:-a)/dr(s*s+l*l),c=u*l,h=-u*s,f=t+c,d=n+h,p=e+c,g=r+h,m=(f+p)/2,_=(d+g)/2,v=p-f,x=g-d,O=v*v+x*x,b=i-a,w=f*g-p*d,M=(x<0?-1:1)*dr(uA(0,b*b*O-w*w)),E=(w*x-v*M)/O,A=(-w*v-x*M)/O,C=(w*x+v*M)/O,T=(-w*v+x*M)/O,k=E-m,D=A-_,I=C-m,L=T-_;return k*k+D*D>I*I+L*L&&(E=C,A=T),{cx:E,cy:A,x01:-c,y01:-h,x11:E*(i/b-1),y11:A*(i/b-1)}}function wi(){var t=pA,n=vA,e=gt(0),r=null,i=gA,a=mA,o=yA,s=null,l=Po(u);function u(){var c,h,f=+t.apply(this,arguments),d=+n.apply(this,arguments),p=i.apply(this,arguments)-ja,g=a.apply(this,arguments)-ja,m=Cf(g-p),_=g>p;if(s||(s=c=l()),d<f&&(h=d,d=f,f=h),!(d>te))s.moveTo(0,0);else if(m>ua-te)s.moveTo(d*wn(p),d*Re(p)),s.arc(0,0,d,p,g,!_),f>te&&(s.moveTo(f*wn(g),f*Re(g)),s.arc(0,0,f,g,p,_));else{var v=p,x=g,O=p,b=g,w=m,M=m,E=o.apply(this,arguments)/2,A=E>te&&(r?+r.apply(this,arguments):dr(f*f+d*d)),C=os(Cf(d-f)/2,+e.apply(this,arguments)),T=C,k=C,D,I;if(A>te){var L=Pf(A/f*Re(E)),R=Pf(A/d*Re(E));(w-=L*2)>te?(L*=_?1:-1,O+=L,b-=L):(w=0,O=b=(p+g)/2),(M-=R*2)>te?(R*=_?1:-1,v+=R,x-=R):(M=0,v=x=(p+g)/2)}var N=d*wn(v),G=d*Re(v),P=f*wn(b),F=f*Re(b);if(C>te){var H=d*wn(x),J=d*Re(x),lt=f*wn(O),ut=f*Re(O),X;if(m<bi)if(X=_A(N,G,lt,ut,H,J,P,F)){var rt=N-X[0],tt=G-X[1],ot=H-X[0],K=J-X[1],et=1/Re(cA((rt*ot+tt*K)/(dr(rt*rt+tt*tt)*dr(ot*ot+K*K)))/2),st=dr(X[0]*X[0]+X[1]*X[1]);T=os(C,(f-st)/(et-1)),k=os(C,(d-st)/(et+1))}else T=k=0}M>te?k>te?(D=Ki(lt,ut,N,G,d,k,_),I=Ki(H,J,P,F,d,k,_),s.moveTo(D.cx+D.x01,D.cy+D.y01),k<C?s.arc(D.cx,D.cy,k,Kt(D.y01,D.x01),Kt(I.y01,I.x01),!_):(s.arc(D.cx,D.cy,k,Kt(D.y01,D.x01),Kt(D.y11,D.x11),!_),s.arc(0,0,d,Kt(D.cy+D.y11,D.cx+D.x11),Kt(I.cy+I.y11,I.cx+I.x11),!_),s.arc(I.cx,I.cy,k,Kt(I.y11,I.x11),Kt(I.y01,I.x01),!_))):(s.moveTo(N,G),s.arc(0,0,d,v,x,!_)):s.moveTo(N,G),!(f>te)||!(w>te)?s.lineTo(P,F):T>te?(D=Ki(P,F,H,J,f,-T,_),I=Ki(N,G,lt,ut,f,-T,_),s.lineTo(D.cx+D.x01,D.cy+D.y01),T<C?s.arc(D.cx,D.cy,T,Kt(D.y01,D.x01),Kt(I.y01,I.x01),!_):(s.arc(D.cx,D.cy,T,Kt(D.y01,D.x01),Kt(D.y11,D.x11),!_),s.arc(0,0,f,Kt(D.cy+D.y11,D.cx+D.x11),Kt(I.cy+I.y11,I.cx+I.x11),_),s.arc(I.cx,I.cy,T,Kt(I.y11,I.x11),Kt(I.y01,I.x01),!_))):s.arc(0,0,f,b,O,_)}if(s.closePath(),c)return s=null,c+""||null}return u.centroid=function(){var c=(+t.apply(this,arguments)+ +n.apply(this,arguments))/2,h=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-bi/2;return[wn(h)*c,Re(h)*c]},u.innerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:gt(+c),u):t},u.outerRadius=function(c){return arguments.length?(n=typeof c=="function"?c:gt(+c),u):n},u.cornerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:gt(+c),u):e},u.padRadius=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:gt(+c),u):r},u.startAngle=function(c){return arguments.length?(i=typeof c=="function"?c:gt(+c),u):i},u.endAngle=function(c){return arguments.length?(a=typeof c=="function"?c:gt(+c),u):a},u.padAngle=function(c){return arguments.length?(o=typeof c=="function"?c:gt(+c),u):o},u.context=function(c){return arguments.length?(s=c??null,u):s},u}var xA=Array.prototype.slice;function Do(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function vv(t){this._context=t}vv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n);break}}};function Lo(t){return new vv(t)}function Ru(t){return t[0]}function ku(t){return t[1]}function Ro(t,n){var e=gt(!0),r=null,i=Lo,a=null,o=Po(s);t=typeof t=="function"?t:t===void 0?Ru:gt(t),n=typeof n=="function"?n:n===void 0?ku:gt(n);function s(l){var u,c=(l=Do(l)).length,h,f=!1,d;for(r==null&&(a=i(d=o())),u=0;u<=c;++u)!(u<c&&e(h=l[u],u,l))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+t(h,u,l),+n(h,u,l));if(d)return a=null,d+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:gt(+l),s):t},s.y=function(l){return arguments.length?(n=typeof l=="function"?l:gt(+l),s):n},s.defined=function(l){return arguments.length?(e=typeof l=="function"?l:gt(!!l),s):e},s.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),s):r},s}function Iu(t,n,e){var r=null,i=gt(!0),a=null,o=Lo,s=null,l=Po(u);t=typeof t=="function"?t:t===void 0?Ru:gt(+t),n=typeof n=="function"?n:gt(n===void 0?0:+n),e=typeof e=="function"?e:e===void 0?ku:gt(+e);function u(h){var f,d,p,g=(h=Do(h)).length,m,_=!1,v,x=new Array(g),O=new Array(g);for(a==null&&(s=o(v=l())),f=0;f<=g;++f){if(!(f<g&&i(m=h[f],f,h))===_)if(_=!_)d=f,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),p=f-1;p>=d;--p)s.point(x[p],O[p]);s.lineEnd(),s.areaEnd()}_&&(x[f]=+t(m,f,h),O[f]=+n(m,f,h),s.point(r?+r(m,f,h):x[f],e?+e(m,f,h):O[f]))}if(v)return s=null,v+""||null}function c(){return Ro().defined(i).curve(o).context(a)}return u.x=function(h){return arguments.length?(t=typeof h=="function"?h:gt(+h),r=null,u):t},u.x0=function(h){return arguments.length?(t=typeof h=="function"?h:gt(+h),u):t},u.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:gt(+h),u):r},u.y=function(h){return arguments.length?(n=typeof h=="function"?h:gt(+h),e=null,u):n},u.y0=function(h){return arguments.length?(n=typeof h=="function"?h:gt(+h),u):n},u.y1=function(h){return arguments.length?(e=h==null?null:typeof h=="function"?h:gt(+h),u):e},u.lineX0=u.lineY0=function(){return c().x(t).y(n)},u.lineY1=function(){return c().x(t).y(e)},u.lineX1=function(){return c().x(r).y(n)},u.defined=function(h){return arguments.length?(i=typeof h=="function"?h:gt(!!h),u):i},u.curve=function(h){return arguments.length?(o=h,a!=null&&(s=o(a)),u):o},u.context=function(h){return arguments.length?(h==null?a=s=null:s=o(a=h),u):a},u}function bA(t,n){return n<t?-1:n>t?1:n>=t?0:NaN}function wA(t){return t}function OA(){var t=wA,n=bA,e=null,r=gt(0),i=gt(ua),a=gt(0);function o(s){var l,u=(s=Do(s)).length,c,h,f=0,d=new Array(u),p=new Array(u),g=+r.apply(this,arguments),m=Math.min(ua,Math.max(-ua,i.apply(this,arguments)-g)),_,v=Math.min(Math.abs(m)/u,a.apply(this,arguments)),x=v*(m<0?-1:1),O;for(l=0;l<u;++l)(O=p[d[l]=l]=+t(s[l],l,s))>0&&(f+=O);for(n!=null?d.sort(function(b,w){return n(p[b],p[w])}):e!=null&&d.sort(function(b,w){return e(s[b],s[w])}),l=0,h=f?(m-u*x)/f:0;l<u;++l,g=_)c=d[l],O=p[c],_=g+(O>0?O*h:0)+x,p[c]={data:s[c],index:l,value:O,startAngle:g,endAngle:_,padAngle:v};return p}return o.value=function(s){return arguments.length?(t=typeof s=="function"?s:gt(+s),o):t},o.sortValues=function(s){return arguments.length?(n=s,e=null,o):n},o.sort=function(s){return arguments.length?(e=s,n=null,o):e},o.startAngle=function(s){return arguments.length?(r=typeof s=="function"?s:gt(+s),o):r},o.endAngle=function(s){return arguments.length?(i=typeof s=="function"?s:gt(+s),o):i},o.padAngle=function(s){return arguments.length?(a=typeof s=="function"?s:gt(+s),o):a},o}var TA=mv(Lo);function gv(t){this._curve=t}gv.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,n){this._curve.point(n*Math.sin(t),n*-Math.cos(t))}};function mv(t){function n(e){return new gv(t(e))}return n._curve=t,n}function EA(t){var n=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(e){return arguments.length?n(mv(e)):n()._curve},t}function SA(){return EA(Ro().curve(TA))}class AA{constructor(n,e){this._context=n,this._x=e}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(n,e){switch(n=+n,e=+e,this._point){case 0:{this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+n)/2,this._y0,this._x0,e,n,e):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+e)/2,n,this._y0,n,e);break}}this._x0=n,this._y0=e}}function MA(t){return new AA(t,!0)}function CA(t){return t.source}function PA(t){return t.target}function DA(t){let n=CA,e=PA,r=Ru,i=ku,a=null,o=null,s=Po(l);function l(){let u;const c=xA.call(arguments),h=n.apply(this,c),f=e.apply(this,c);if(a==null&&(o=t(u=s())),o.lineStart(),c[0]=h,o.point(+r.apply(this,c),+i.apply(this,c)),c[0]=f,o.point(+r.apply(this,c),+i.apply(this,c)),o.lineEnd(),u)return o=null,u+""||null}return l.source=function(u){return arguments.length?(n=u,l):n},l.target=function(u){return arguments.length?(e=u,l):e},l.x=function(u){return arguments.length?(r=typeof u=="function"?u:gt(+u),l):r},l.y=function(u){return arguments.length?(i=typeof u=="function"?u:gt(+u),l):i},l.context=function(u){return arguments.length?(u==null?a=o=null:o=t(a=u),l):a},l}function LA(){return DA(MA)}function yn(){}function qa(t,n,e){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+e)/6)}function ko(t){this._context=t}ko.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:qa(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:qa(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function RA(t){return new ko(t)}function yv(t){this._context=t}yv.prototype={areaStart:yn,areaEnd:yn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x2=t,this._y2=n;break;case 1:this._point=2,this._x3=t,this._y3=n;break;case 2:this._point=3,this._x4=t,this._y4=n,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+n)/6);break;default:qa(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function kA(t){return new yv(t)}function _v(t){this._context=t}_v.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var e=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+n)/6;this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 3:this._point=4;default:qa(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function IA(t){return new _v(t)}function xv(t,n){this._basis=new ko(t),this._beta=n}xv.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,n=this._y,e=t.length-1;if(e>0)for(var r=t[0],i=n[0],a=t[e]-r,o=n[e]-i,s=-1,l;++s<=e;)l=s/e,this._basis.point(this._beta*t[s]+(1-this._beta)*(r+l*a),this._beta*n[s]+(1-this._beta)*(i+l*o));this._x=this._y=null,this._basis.lineEnd()},point:function(t,n){this._x.push(+t),this._y.push(+n)}};const NA=function t(n){function e(r){return n===1?new ko(r):new xv(r,n)}return e.beta=function(r){return t(+r)},e}(.85);function Ya(t,n,e){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-e),t._x2,t._y2)}function Nu(t,n){this._context=t,this._k=(1-n)/6}Nu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Ya(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:Ya(this,t,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const $A=function t(n){function e(r){return new Nu(r,n)}return e.tension=function(r){return t(+r)},e}(0);function $u(t,n){this._context=t,this._k=(1-n)/6}$u.prototype={areaStart:yn,areaEnd:yn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:Ya(this,t,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const UA=function t(n){function e(r){return new $u(r,n)}return e.tension=function(r){return t(+r)},e}(0);function Uu(t,n){this._context=t,this._k=(1-n)/6}Uu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ya(this,t,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const BA=function t(n){function e(r){return new Uu(r,n)}return e.tension=function(r){return t(+r)},e}(0);function Bu(t,n,e){var r=t._x1,i=t._y1,a=t._x2,o=t._y2;if(t._l01_a>te){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,l=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/l,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/l}if(t._l23_a>te){var u=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,c=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*u+t._x1*t._l23_2a-n*t._l12_2a)/c,o=(o*u+t._y1*t._l23_2a-e*t._l12_2a)/c}t._context.bezierCurveTo(r,i,a,o,t._x2,t._y2)}function bv(t,n){this._context=t,this._alpha=n}bv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3;default:Bu(this,t,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const VA=function t(n){function e(r){return n?new bv(r,n):new Nu(r,0)}return e.alpha=function(r){return t(+r)},e}(.5);function wv(t,n){this._context=t,this._alpha=n}wv.prototype={areaStart:yn,areaEnd:yn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:Bu(this,t,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const GA=function t(n){function e(r){return n?new wv(r,n):new $u(r,0)}return e.alpha=function(r){return t(+r)},e}(.5);function Ov(t,n){this._context=t,this._alpha=n}Ov.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Bu(this,t,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const FA=function t(n){function e(r){return n?new Ov(r,n):new Uu(r,0)}return e.alpha=function(r){return t(+r)},e}(.5);function Tv(t){this._context=t}Tv.prototype={areaStart:yn,areaEnd:yn,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,n){t=+t,n=+n,this._point?this._context.lineTo(t,n):(this._point=1,this._context.moveTo(t,n))}};function Ev(t){return new Tv(t)}function Df(t){return t<0?-1:1}function Lf(t,n,e){var r=t._x1-t._x0,i=n-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(e-t._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(Df(a)+Df(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function Rf(t,n){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-n)/2:n}function ss(t,n,e){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-r)/3;t._context.bezierCurveTo(r+s,i+s*n,a-s,o-s*e,a,o)}function Xa(t){this._context=t}Xa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ss(this,this._t0,Rf(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var e=NaN;if(t=+t,n=+n,!(t===this._x1&&n===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,ss(this,Rf(this,e=Lf(this,t,n)),e);break;default:ss(this,this._t0,e=Lf(this,t,n));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=e}}};function Sv(t){this._context=new Av(t)}(Sv.prototype=Object.create(Xa.prototype)).point=function(t,n){Xa.prototype.point.call(this,n,t)};function Av(t){this._context=t}Av.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,e,r,i,a){this._context.bezierCurveTo(n,t,r,e,a,i)}};function HA(t){return new Xa(t)}function zA(t){return new Sv(t)}function Mv(t){this._context=t}Mv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,n=this._y,e=t.length;if(e)if(this._line?this._context.lineTo(t[0],n[0]):this._context.moveTo(t[0],n[0]),e===2)this._context.lineTo(t[1],n[1]);else for(var r=kf(t),i=kf(n),a=0,o=1;o<e;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],n[o]);(this._line||this._line!==0&&e===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,n){this._x.push(+t),this._y.push(+n)}};function kf(t){var n,e=t.length-1,r,i=new Array(e),a=new Array(e),o=new Array(e);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],n=1;n<e-1;++n)i[n]=1,a[n]=4,o[n]=4*t[n]+2*t[n+1];for(i[e-1]=2,a[e-1]=7,o[e-1]=8*t[e-1]+t[e],n=1;n<e;++n)r=i[n]/a[n-1],a[n]-=r,o[n]-=r*o[n-1];for(i[e-1]=o[e-1]/a[e-1],n=e-2;n>=0;--n)i[n]=(o[n]-i[n+1])/a[n];for(a[e-1]=(t[e]+i[e-1])/2,n=0;n<e-1;++n)a[n]=2*t[n+1]-i[n+1];return[i,a]}function WA(t){return new Mv(t)}function Io(t,n){this._context=t,this._t=n}Io.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var e=this._x*(1-this._t)+t*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,n)}break}}this._x=t,this._y=n}};function jA(t){return new Io(t,.5)}function qA(t){return new Io(t,0)}function YA(t){return new Io(t,1)}function If(t,n){if((o=t.length)>1)for(var e=1,r,i,a=t[n[0]],o,s=a.length;e<o;++e)for(i=a,a=t[n[e]],r=0;r<s;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Nf(t){for(var n=t.length,e=new Array(n);--n>=0;)e[n]=n;return e}function XA(t,n){return t[n]}function ZA(t){const n=[];return n.key=t,n}function ls(){var t=gt([]),n=Nf,e=If,r=XA;function i(a){var o=Array.from(t.apply(this,arguments),ZA),s,l=o.length,u=-1,c;for(const h of a)for(s=0,++u;s<l;++s)(o[s][u]=[0,+r(h,o[s].key,u,a)]).data=h;for(s=0,c=Do(n(o));s<l;++s)o[c[s]].index=s;return e(o,c),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:gt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:gt(+a),i):r},i.order=function(a){return arguments.length?(n=a==null?Nf:typeof a=="function"?a:gt(Array.from(a)),i):n},i.offset=function(a){return arguments.length?(e=a??If,i):e},i}function KA(t,n){if((l=t.length)>0)for(var e,r=0,i,a,o,s,l,u=t[n[0]].length;r<u;++r)for(o=s=0,e=0;e<l;++e)(a=(i=t[n[e]][r])[1]-i[0])>0?(i[0]=o,i[1]=o+=a):a<0?(i[1]=s,i[0]=s+=a):(i[0]=0,i[1]=a)}function Mt(t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&n==="[object Date]"?new Date(t.getTime()):typeof t=="number"||n==="[object Number]"?new Date(t):((typeof t=="string"||n==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn(new Error().stack)),new Date(NaN))}function Nt(t){if(t===null||t===!0||t===!1)return NaN;var n=Number(t);return isNaN(n)?n:n<0?Math.ceil(n):Math.floor(n)}function Cv(t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var e=Mt(t),r=Nt(n);return e.setDate(e.getDate()+r),e}function No(t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var e=Mt(t).getTime(),r=Nt(n);return new Date(e+r)}var QA=36e5;function Pv(t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var e=Nt(n);return No(t,e*QA)}var $f=6e4;function Tl(t){var n=new Date(t.getTime()),e=Math.ceil(n.getTimezoneOffset());n.setSeconds(0,0);var r=n.getTime()%$f;return e*$f+r}function Uf(t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Mt(t);return n.setHours(0,0,0,0),n}var JA=864e5;function t2(t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var e=Uf(t),r=Uf(n),i=e.getTime()-Tl(e),a=r.getTime()-Tl(r);return Math.round((i-a)/JA)}var e2=6e4;function El(t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var e=Nt(n);return No(t,e*e2)}function n2(t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Mt(t),e=n.getFullYear(),r=n.getMonth(),i=new Date(0);return i.setFullYear(e,r+1,0),i.setHours(0,0,0,0),i.getDate()}function Vu(t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var e=Mt(t),r=Nt(n),i=e.getMonth()+r,a=new Date(0);a.setFullYear(e.getFullYear(),i,1),a.setHours(0,0,0,0);var o=n2(a);return e.setMonth(i,Math.min(o,e.getDate())),e}function Sl(t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var e=Nt(n);return No(t,e*1e3)}function Dv(t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var e=Nt(n);return Vu(t,e*12)}function Ir(t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var e=Mt(t),r=Mt(n),i=e.getTime()-r.getTime();return i<0?-1:i>0?1:i}function r2(t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Mt(t);return!isNaN(n)}function i2(t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var e=Mt(t),r=Mt(n),i=e.getFullYear()-r.getFullYear(),a=e.getMonth()-r.getMonth();return i*12+a}function a2(t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var e=Mt(t),r=Mt(n);return e.getFullYear()-r.getFullYear()}function o2(t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var e=Mt(t),r=Mt(n),i=Ir(e,r),a=Math.abs(t2(e,r));e.setDate(e.getDate()-i*a);var o=Ir(e,r)===-i,s=i*(a-o);return s===0?0:s}function Gu(t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var e=Mt(t),r=Mt(n);return e.getTime()-r.getTime()}var s2=36e5;function l2(t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var e=Gu(t,n)/s2;return e>0?Math.floor(e):Math.ceil(e)}var u2=6e4;function Bf(t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var e=Gu(t,n)/u2;return e>0?Math.floor(e):Math.ceil(e)}function c2(t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var e=Mt(t),r=Mt(n),i=Ir(e,r),a=Math.abs(i2(e,r));e.setMonth(e.getMonth()-i*a);var o=Ir(e,r)===-i,s=i*(a-o);return s===0?0:s}function Vf(t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var e=Gu(t,n)/1e3;return e>0?Math.floor(e):Math.ceil(e)}function f2(t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var e=Mt(t),r=Mt(n),i=Ir(e,r),a=Math.abs(a2(e,r));e.setFullYear(e.getFullYear()-i*a);var o=Ir(e,r)===-i,s=i*(a-o);return s===0?0:s}var Qi={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function h2(t,n,e){e=e||{};var r;return typeof Qi[t]=="string"?r=Qi[t]:n===1?r=Qi[t].one:r=Qi[t].other.replace("{{count}}",n),e.addSuffix?e.comparison>0?"in "+r:r+" ago":r}function us(t){return function(n){var e=n||{},r=e.width?String(e.width):t.defaultWidth,i=t.formats[r]||t.formats[t.defaultWidth];return i}}var d2={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},p2={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},v2={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},g2={date:us({formats:d2,defaultWidth:"full"}),time:us({formats:p2,defaultWidth:"full"}),dateTime:us({formats:v2,defaultWidth:"full"})};const m2=g2;var y2={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function _2(t,n,e,r){return y2[t]}function Yr(t){return function(n,e){var r=e||{},i=r.context?String(r.context):"standalone",a;if(i==="formatting"&&t.formattingValues){var o=t.defaultFormattingWidth||t.defaultWidth,s=r.width?String(r.width):o;a=t.formattingValues[s]||t.formattingValues[o]}else{var l=t.defaultWidth,u=r.width?String(r.width):t.defaultWidth;a=t.values[u]||t.values[l]}var c=t.argumentCallback?t.argumentCallback(n):n;return a[c]}}var x2={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},b2={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},w2={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},O2={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},T2={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},E2={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}};function S2(t,n){var e=Number(t),r=e%100;if(r>20||r<10)switch(r%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"}var A2={ordinalNumber:S2,era:Yr({values:x2,defaultWidth:"wide"}),quarter:Yr({values:b2,defaultWidth:"wide",argumentCallback:function(t){return Number(t)-1}}),month:Yr({values:w2,defaultWidth:"wide"}),day:Yr({values:O2,defaultWidth:"wide"}),dayPeriod:Yr({values:T2,defaultWidth:"wide",formattingValues:E2,defaultFormattingWidth:"wide"})};const M2=A2;function C2(t){return function(n,e){var r=String(n),i=e||{},a=r.match(t.matchPattern);if(!a)return null;var o=a[0],s=r.match(t.parsePattern);if(!s)return null;var l=t.valueCallback?t.valueCallback(s[0]):s[0];return l=i.valueCallback?i.valueCallback(l):l,{value:l,rest:r.slice(o.length)}}}function Xr(t){return function(n,e){var r=String(n),i=e||{},a=i.width,o=a&&t.matchPatterns[a]||t.matchPatterns[t.defaultMatchWidth],s=r.match(o);if(!s)return null;var l=s[0],u=a&&t.parsePatterns[a]||t.parsePatterns[t.defaultParseWidth],c;return Object.prototype.toString.call(u)==="[object Array]"?c=D2(u,function(h){return h.test(r)}):c=P2(u,function(h){return h.test(r)}),c=t.valueCallback?t.valueCallback(c):c,c=i.valueCallback?i.valueCallback(c):c,{value:c,rest:r.slice(l.length)}}}function P2(t,n){for(var e in t)if(t.hasOwnProperty(e)&&n(t[e]))return e}function D2(t,n){for(var e=0;e<t.length;e++)if(n(t[e]))return e}var L2=/^(\d+)(th|st|nd|rd)?/i,R2=/\d+/i,k2={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},I2={any:[/^b/i,/^(a|c)/i]},N2={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},$2={any:[/1/i,/2/i,/3/i,/4/i]},U2={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},B2={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},V2={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},G2={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},F2={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},H2={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},z2={ordinalNumber:C2({matchPattern:L2,parsePattern:R2,valueCallback:function(t){return parseInt(t,10)}}),era:Xr({matchPatterns:k2,defaultMatchWidth:"wide",parsePatterns:I2,defaultParseWidth:"any"}),quarter:Xr({matchPatterns:N2,defaultMatchWidth:"wide",parsePatterns:$2,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Xr({matchPatterns:U2,defaultMatchWidth:"wide",parsePatterns:B2,defaultParseWidth:"any"}),day:Xr({matchPatterns:V2,defaultMatchWidth:"wide",parsePatterns:G2,defaultParseWidth:"any"}),dayPeriod:Xr({matchPatterns:F2,defaultMatchWidth:"any",parsePatterns:H2,defaultParseWidth:"any"})};const W2=z2;var j2={code:"en-US",formatDistance:h2,formatLong:m2,formatRelative:_2,localize:M2,match:W2,options:{weekStartsOn:0,firstWeekContainsDate:1}};const q2=j2;function Y2(t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var e=Nt(n);return No(t,-e)}function At(t,n){for(var e=t<0?"-":"",r=Math.abs(t).toString();r.length<n;)r="0"+r;return e+r}var X2={y:function(t,n){var e=t.getUTCFullYear(),r=e>0?e:1-e;return At(n==="yy"?r%100:r,n.length)},M:function(t,n){var e=t.getUTCMonth();return n==="M"?String(e+1):At(e+1,2)},d:function(t,n){return At(t.getUTCDate(),n.length)},a:function(t,n){var e=t.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":case"aaa":return e.toUpperCase();case"aaaaa":return e[0];case"aaaa":default:return e==="am"?"a.m.":"p.m."}},h:function(t,n){return At(t.getUTCHours()%12||12,n.length)},H:function(t,n){return At(t.getUTCHours(),n.length)},m:function(t,n){return At(t.getUTCMinutes(),n.length)},s:function(t,n){return At(t.getUTCSeconds(),n.length)},S:function(t,n){var e=n.length,r=t.getUTCMilliseconds(),i=Math.floor(r*Math.pow(10,e-3));return At(i,n.length)}};const cn=X2;var Z2=864e5;function K2(t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Mt(t),e=n.getTime();n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0);var r=n.getTime(),i=e-r;return Math.floor(i/Z2)+1}function Za(t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=1,e=Mt(t),r=e.getUTCDay(),i=(r<n?7:0)+r-n;return e.setUTCDate(e.getUTCDate()-i),e.setUTCHours(0,0,0,0),e}function Lv(t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Mt(t),e=n.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(e+1,0,4),r.setUTCHours(0,0,0,0);var i=Za(r),a=new Date(0);a.setUTCFullYear(e,0,4),a.setUTCHours(0,0,0,0);var o=Za(a);return n.getTime()>=i.getTime()?e+1:n.getTime()>=o.getTime()?e:e-1}function Q2(t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Lv(t),e=new Date(0);e.setUTCFullYear(n,0,4),e.setUTCHours(0,0,0,0);var r=Za(e);return r}var J2=6048e5;function tM(t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Mt(t),e=Za(n).getTime()-Q2(n).getTime();return Math.round(e/J2)+1}function Ka(t,n){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var e=n||{},r=e.locale,i=r&&r.options&&r.options.weekStartsOn,a=i==null?0:Nt(i),o=e.weekStartsOn==null?a:Nt(e.weekStartsOn);if(!(o>=0&&o<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var s=Mt(t),l=s.getUTCDay(),u=(l<o?7:0)+l-o;return s.setUTCDate(s.getUTCDate()-u),s.setUTCHours(0,0,0,0),s}function Rv(t,n){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var e=Mt(t,n),r=e.getUTCFullYear(),i=n||{},a=i.locale,o=a&&a.options&&a.options.firstWeekContainsDate,s=o==null?1:Nt(o),l=i.firstWeekContainsDate==null?s:Nt(i.firstWeekContainsDate);if(!(l>=1&&l<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var u=new Date(0);u.setUTCFullYear(r+1,0,l),u.setUTCHours(0,0,0,0);var c=Ka(u,n),h=new Date(0);h.setUTCFullYear(r,0,l),h.setUTCHours(0,0,0,0);var f=Ka(h,n);return e.getTime()>=c.getTime()?r+1:e.getTime()>=f.getTime()?r:r-1}function eM(t,n){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var e=n||{},r=e.locale,i=r&&r.options&&r.options.firstWeekContainsDate,a=i==null?1:Nt(i),o=e.firstWeekContainsDate==null?a:Nt(e.firstWeekContainsDate),s=Rv(t,n),l=new Date(0);l.setUTCFullYear(s,0,o),l.setUTCHours(0,0,0,0);var u=Ka(l,n);return u}var nM=6048e5;function rM(t,n){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var e=Mt(t),r=Ka(e,n).getTime()-eM(e,n).getTime();return Math.round(r/nM)+1}var nr={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},iM={G:function(t,n,e){var r=t.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return e.era(r,{width:"abbreviated"});case"GGGGG":return e.era(r,{width:"narrow"});case"GGGG":default:return e.era(r,{width:"wide"})}},y:function(t,n,e){if(n==="yo"){var r=t.getUTCFullYear(),i=r>0?r:1-r;return e.ordinalNumber(i,{unit:"year"})}return cn.y(t,n)},Y:function(t,n,e,r){var i=Rv(t,r),a=i>0?i:1-i;if(n==="YY"){var o=a%100;return At(o,2)}return n==="Yo"?e.ordinalNumber(a,{unit:"year"}):At(a,n.length)},R:function(t,n){var e=Lv(t);return At(e,n.length)},u:function(t,n){var e=t.getUTCFullYear();return At(e,n.length)},Q:function(t,n,e){var r=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"Q":return String(r);case"QQ":return At(r,2);case"Qo":return e.ordinalNumber(r,{unit:"quarter"});case"QQQ":return e.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return e.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return e.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,n,e){var r=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"q":return String(r);case"qq":return At(r,2);case"qo":return e.ordinalNumber(r,{unit:"quarter"});case"qqq":return e.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return e.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return e.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,n,e){var r=t.getUTCMonth();switch(n){case"M":case"MM":return cn.M(t,n);case"Mo":return e.ordinalNumber(r+1,{unit:"month"});case"MMM":return e.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return e.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return e.month(r,{width:"wide",context:"formatting"})}},L:function(t,n,e){var r=t.getUTCMonth();switch(n){case"L":return String(r+1);case"LL":return At(r+1,2);case"Lo":return e.ordinalNumber(r+1,{unit:"month"});case"LLL":return e.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return e.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return e.month(r,{width:"wide",context:"standalone"})}},w:function(t,n,e,r){var i=rM(t,r);return n==="wo"?e.ordinalNumber(i,{unit:"week"}):At(i,n.length)},I:function(t,n,e){var r=tM(t);return n==="Io"?e.ordinalNumber(r,{unit:"week"}):At(r,n.length)},d:function(t,n,e){return n==="do"?e.ordinalNumber(t.getUTCDate(),{unit:"date"}):cn.d(t,n)},D:function(t,n,e){var r=K2(t);return n==="Do"?e.ordinalNumber(r,{unit:"dayOfYear"}):At(r,n.length)},E:function(t,n,e){var r=t.getUTCDay();switch(n){case"E":case"EE":case"EEE":return e.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return e.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return e.day(r,{width:"short",context:"formatting"});case"EEEE":default:return e.day(r,{width:"wide",context:"formatting"})}},e:function(t,n,e,r){var i=t.getUTCDay(),a=(i-r.weekStartsOn+8)%7||7;switch(n){case"e":return String(a);case"ee":return At(a,2);case"eo":return e.ordinalNumber(a,{unit:"day"});case"eee":return e.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return e.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return e.day(i,{width:"short",context:"formatting"});case"eeee":default:return e.day(i,{width:"wide",context:"formatting"})}},c:function(t,n,e,r){var i=t.getUTCDay(),a=(i-r.weekStartsOn+8)%7||7;switch(n){case"c":return String(a);case"cc":return At(a,n.length);case"co":return e.ordinalNumber(a,{unit:"day"});case"ccc":return e.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return e.day(i,{width:"narrow",context:"standalone"});case"cccccc":return e.day(i,{width:"short",context:"standalone"});case"cccc":default:return e.day(i,{width:"wide",context:"standalone"})}},i:function(t,n,e){var r=t.getUTCDay(),i=r===0?7:r;switch(n){case"i":return String(i);case"ii":return At(i,n.length);case"io":return e.ordinalNumber(i,{unit:"day"});case"iii":return e.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return e.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return e.day(r,{width:"short",context:"formatting"});case"iiii":default:return e.day(r,{width:"wide",context:"formatting"})}},a:function(t,n,e){var r=t.getUTCHours(),i=r/12>=1?"pm":"am";switch(n){case"a":case"aa":case"aaa":return e.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaaaa":return e.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return e.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,n,e){var r=t.getUTCHours(),i;switch(r===12?i=nr.noon:r===0?i=nr.midnight:i=r/12>=1?"pm":"am",n){case"b":case"bb":case"bbb":return e.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbbbb":return e.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return e.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,n,e){var r=t.getUTCHours(),i;switch(r>=17?i=nr.evening:r>=12?i=nr.afternoon:r>=4?i=nr.morning:i=nr.night,n){case"B":case"BB":case"BBB":return e.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return e.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return e.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,n,e){if(n==="ho"){var r=t.getUTCHours()%12;return r===0&&(r=12),e.ordinalNumber(r,{unit:"hour"})}return cn.h(t,n)},H:function(t,n,e){return n==="Ho"?e.ordinalNumber(t.getUTCHours(),{unit:"hour"}):cn.H(t,n)},K:function(t,n,e){var r=t.getUTCHours()%12;return n==="Ko"?e.ordinalNumber(r,{unit:"hour"}):At(r,n.length)},k:function(t,n,e){var r=t.getUTCHours();return r===0&&(r=24),n==="ko"?e.ordinalNumber(r,{unit:"hour"}):At(r,n.length)},m:function(t,n,e){return n==="mo"?e.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):cn.m(t,n)},s:function(t,n,e){return n==="so"?e.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):cn.s(t,n)},S:function(t,n){return cn.S(t,n)},X:function(t,n,e,r){var i=r._originalDate||t,a=i.getTimezoneOffset();if(a===0)return"Z";switch(n){case"X":return Ff(a);case"XXXX":case"XX":return Sn(a);case"XXXXX":case"XXX":default:return Sn(a,":")}},x:function(t,n,e,r){var i=r._originalDate||t,a=i.getTimezoneOffset();switch(n){case"x":return Ff(a);case"xxxx":case"xx":return Sn(a);case"xxxxx":case"xxx":default:return Sn(a,":")}},O:function(t,n,e,r){var i=r._originalDate||t,a=i.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+Gf(a,":");case"OOOO":default:return"GMT"+Sn(a,":")}},z:function(t,n,e,r){var i=r._originalDate||t,a=i.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+Gf(a,":");case"zzzz":default:return"GMT"+Sn(a,":")}},t:function(t,n,e,r){var i=r._originalDate||t,a=Math.floor(i.getTime()/1e3);return At(a,n.length)},T:function(t,n,e,r){var i=r._originalDate||t,a=i.getTime();return At(a,n.length)}};function Gf(t,n){var e=t>0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),a=r%60;if(a===0)return e+String(i);var o=n||"";return e+String(i)+o+At(a,2)}function Ff(t,n){if(t%60===0){var e=t>0?"-":"+";return e+At(Math.abs(t)/60,2)}return Sn(t,n)}function Sn(t,n){var e=n||"",r=t>0?"-":"+",i=Math.abs(t),a=At(Math.floor(i/60),2),o=At(i%60,2);return r+a+e+o}const aM=iM;function Hf(t,n){switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}}function kv(t,n){switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}}function oM(t,n){var e=t.match(/(P+)(p+)?/),r=e[1],i=e[2];if(!i)return Hf(t,n);var a;switch(r){case"P":a=n.dateTime({width:"short"});break;case"PP":a=n.dateTime({width:"medium"});break;case"PPP":a=n.dateTime({width:"long"});break;case"PPPP":default:a=n.dateTime({width:"full"});break}return a.replace("{{date}}",Hf(r,n)).replace("{{time}}",kv(i,n))}var sM={p:kv,P:oM};const lM=sM;var uM=["D","DD"],cM=["YY","YYYY"];function fM(t){return uM.indexOf(t)!==-1}function hM(t){return cM.indexOf(t)!==-1}function zf(t){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` for formatting years; see: https://git.io/fxCyr");if(t==="YY")throw new RangeError("Use `yy` instead of `YY` for formatting years; see: https://git.io/fxCyr");if(t==="D")throw new RangeError("Use `d` instead of `D` for formatting days of the month; see: https://git.io/fxCyr");if(t==="DD")throw new RangeError("Use `dd` instead of `DD` for formatting days of the month; see: https://git.io/fxCyr")}var dM=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,pM=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,vM=/^'([^]*?)'?$/,gM=/''/g,mM=/[a-zA-Z]/;function Nr(t,n,e){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var r=String(n),i=e||{},a=i.locale||q2,o=a.options&&a.options.firstWeekContainsDate,s=o==null?1:Nt(o),l=i.firstWeekContainsDate==null?s:Nt(i.firstWeekContainsDate);if(!(l>=1&&l<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var u=a.options&&a.options.weekStartsOn,c=u==null?0:Nt(u),h=i.weekStartsOn==null?c:Nt(i.weekStartsOn);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!a.localize)throw new RangeError("locale must contain localize property");if(!a.formatLong)throw new RangeError("locale must contain formatLong property");var f=Mt(t);if(!r2(f))throw new RangeError("Invalid time value");var d=Tl(f),p=Y2(f,d),g={firstWeekContainsDate:l,weekStartsOn:h,locale:a,_originalDate:f},m=r.match(pM).map(function(_){var v=_[0];if(v==="p"||v==="P"){var x=lM[v];return x(_,a.formatLong,g)}return _}).join("").match(dM).map(function(_){if(_==="''")return"'";var v=_[0];if(v==="'")return yM(_);var x=aM[v];if(x)return!i.useAdditionalWeekYearTokens&&hM(_)&&zf(_),!i.useAdditionalDayOfYearTokens&&fM(_)&&zf(_),x(p,_,a.localize,g);if(v.match(mM))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return _}).join("");return m}function yM(t){return t.match(vM)[1].replace(gM,"'")}function _M(t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var e=Nt(n);return Cv(t,-e)}function xM(t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var e=Nt(n);return Pv(t,-e)}function Wf(t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var e=Nt(n);return El(t,-e)}function bM(t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var e=Nt(n);return Vu(t,-e)}function jf(t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var e=Nt(n);return Sl(t,-e)}function wM(t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var e=Nt(n);return Dv(t,-e)}var cs=[["15seconds",15*1e3],["minute",60*1e3],["30minutes",30*60*1e3],["hourly",60*60*1e3],["daily",24*60*60*1e3],["monthly",30*24*60*60*1e3],["quarterly",3*30*24*60*60*1e3],["yearly",12*30*24*60*60*1e3]];function Iv(t,n,e,r,i){var a=n===0,o=Number(Nr(new Date(t),"c"))===2,s=Number(Nr(new Date(t),"q"))===1,l=n!==0?e[n-1]:null;switch(r){case"15seconds":return a||Ji(t)||Zr(t,l)||On(t);case"minute":return a||Ji(t)||Zr(t,l)||On(t);case"30minutes":return a||Ji(t)||Zr(t,l)||On(t);case"hourly":return a||Ji(t)||Zr(t,l)||On(t);case"daily":return i?a||o||On(t):a||Zr(t,l)||On(t);case"monthly":return a||On(t);case"quarterly":return a||s;case"yearly":return!1;default:throw new Error(r+" is not a valid time interval.")}}function Al(t,n,e,r,i){var a=i.showDayName,o=r==="daily"&&a?"weekly":r,s=new Date(t),l=y.getProperty(i,"timeIntervalFormats")[o],u=y.getProperty(l,"primary"),c=y.getProperty(l,"secondary"),h=Iv(t,n,e,r,a)?u:c;r==="15seconds"&&s.getMilliseconds()!==0&&(h=h.replace("pp","h:mm:ss.SSS a"));var f=i.localeObject;return Nr(s,h,{locale:f})}function Qa(t){var n=new Date(t);return{M:n.getMonth()+1,d:n.getDate(),H:n.getHours(),m:n.getMinutes(),s:n.getSeconds()}}function OM(t){if(t)return t.slice(1).map(function(n,e){return n-t[e]})}function TM(t){var n=cs.reduce(function(e,r,i){r[0];var a=r[1],o=cs[e][1],s=Math.abs(o-t),l=Math.abs(a-t);return s<l?e:i},0);return cs[n][0]}function Ml(t){if(t.length===1)return"15seconds";var n=OM(t),e=mn(n);return TM(e)}function Ji(t){var n=Qa(t),e=n.s,r=n.m,i=n.H;return i===0&&r===0&&e===0}function Zr(t,n){var e=Qa(t).M,r=Qa(n).M;return e!==r}function On(t){var n=Qa(t),e=n.M,r=n.d,i=n.s,a=n.m,o=n.H;return e===1&&r===1&&o===0&&a===0&&i===0}function qf(t){return t===void 0?"":t.toISOString()}var Ja=globalThis&&globalThis.__assign||function(){return Ja=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++){n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ja.apply(this,arguments)},on=function(){function t(n){this.state={options:{}},this.colorScale={},this.colorClassNames={},this.services=n}return t.prototype.getAllDataFromDomain=function(n){if(!this.getData())return null;var e=this.getOptions(),r=this.getData(),i=this.getDataGroups(),a=y.getProperty(e,"data").groupMapsTo,o=y.getProperty(e,"axes");return n&&(r=r.filter(function(s){return n.includes(s[a])})),o&&Object.keys(o).forEach(function(s){var l=o[s].mapsTo,u=o[s].scaleType;if((u===nt.LINEAR||u===nt.LOG)&&(r=r.map(function(d){var p;return Ja(Ja({},d),(p={},p[l]=d[l]===null?d[l]:Number(d[l]),p))})),l&&o[s].domain)if(u===nt.LABELS)r=r.filter(function(d){return o[s].domain.includes(d[l])});else{var c=o[s].domain,h=c[0],f=c[1];r=r.filter(function(d){return!(l in d)||d[l]>=h&&d[l]<=f})}}),r.filter(function(s){return i.find(function(l){return l.name===s[a]})})},t.prototype.getDisplayData=function(n){if(!this.get("data"))return null;var e=$t.items.status.ACTIVE,r=this.getDataGroups(n),i=this.getOptions().data.groupMapsTo,a=this.getAllDataFromDomain(n);return a.filter(function(o){return r.find(function(s){return s.name===o[i]&&s.status===e})})},t.prototype.getData=function(){return this.get("data")},t.prototype.isDataEmpty=function(){return!this.getData().length},t.prototype.setData=function(n){var e=this.sanitize(y.clone(n)),r=this.generateDataGroups(e);return this.set({data:e,dataGroups:r}),e},t.prototype.getDataGroups=function(n){var e=y.getProperty(this.getOptions(),"data","loading");return e?[]:n?this.get("dataGroups").filter(function(r){return n.includes(r.name)}):this.get("dataGroups")},t.prototype.getActiveDataGroups=function(n){var e=$t.items.status.ACTIVE;return this.getDataGroups(n).filter(function(r){return r.status===e})},t.prototype.getDataGroupNames=function(n){var e=this.getDataGroups(n);return e.map(function(r){return r.name})},t.prototype.getActiveDataGroupNames=function(n){var e=this.getActiveDataGroups(n);return e.map(function(r){return r.name})},t.prototype.aggregateBinDataByGroup=function(n){return y.groupBy(n,"group")},t.prototype.getBinConfigurations=function(){var n=this,e=this.getDisplayData(),r=this.getOptions(),i=this.services.cartesianScales.getMainXAxisPosition(),a=this.services.cartesianScales.getDomainIdentifier(),o=r.axes[i],s=r.data.groupMapsTo,l=o.bins,u=l===void 0?od.defaultBins:l,c=Array.isArray(u),h=XT().value(function(m){return m[a]}).thresholds(u)(e);if(c)h[h.length-1].x1=u[u.length-1];else{var f=h[0].x1-h[0].x0;h[h.length-1].x1=+h[h.length-1].x0+f}var d=c?[u[0],u[u.length-1]]:[h[0].x0,h[h.length-1].x1],p=Array.from(new Set(e.map(function(m){return m[s]}))),g=[];return h.forEach(function(m){var _=m.x0+"-"+m.x1,v=n.aggregateBinDataByGroup(m);p.forEach(function(x){g.push({group:x,key:_,value:v[x]||0,bin:m.x0})})}),{bins:h,binsDomain:d}},t.prototype.getBinnedStackedData=function(){var n=this.getOptions(),e=n.data.groupMapsTo,r=this.getActiveDataGroupNames(),i=this.getBinConfigurations().bins,a=this.getDataValuesGroupedByKeys({bins:i});return ls().keys(r)(a).map(function(o,s){return Object.keys(o).filter(function(l){return!isNaN(l)}).map(function(l){var u=o[l];return u[e]=r[s],u})})},t.prototype.getGroupedData=function(n){var e=this.getDisplayData(n),r={},i=this.getOptions().data.groupMapsTo;return e.map(function(a){var o=a[i];r[o]!==null&&r[o]!==void 0?r[o].push(a):r[o]=[a]}),Object.keys(r).map(function(a){return{name:a,data:r[a]}})},t.prototype.getStackKeys=function(n){var e=this,r=n===void 0?{bins:null,groups:null}:n,i=r.bins,a=i===void 0?null:i,o=r.groups,s=o===void 0?null:o,l=this.getOptions(),u=this.getDisplayData(s),c;a?c=a.map(function(d){return d.x0+"-"+d.x1}):c=y.removeArrayDuplicates(u.map(function(d){var p=e.services.cartesianScales.getDomainIdentifier(d);return d[p]instanceof Date?qf(d[p]):d[p]&&typeof d[p].toString=="function"?d[p].toString():d[p]}));var h=this.services.cartesianScales.domainAxisPosition,f=l.axes[h].scaleType;return f===nt.TIME?c.sort(function(d,p){var g=new Date(d),m=new Date(p);return g-m}):(f===nt.LOG||f===nt.LINEAR)&&c.sort(function(d,p){return d-p}),c},t.prototype.getDataValuesGroupedByKeys=function(n){var e=this,r=n.bins,i=r===void 0?null:r,a=n.groups,o=a===void 0?null:a,s=this.getOptions(),l=s.data.groupMapsTo,u=this.getDisplayData(o),c=this.getDataGroupNames(),h=this.getStackKeys({bins:i,groups:o});return i?h.map(function(f){var d=f.split("-"),p=d[0],g=d[1],m={x0:p,x1:g},_=i.find(function(v){return v.x0.toString()===p.toString()});return c.forEach(function(v){m[v]=_.filter(function(x){return x[l]===v}).length}),m}):h.map(function(f){var d={sharedStackKey:f};return c.forEach(function(p){var g=u.find(function(_){var v=e.services.cartesianScales.getDomainIdentifier(_);return _[l]===p&&_.hasOwnProperty(v)&&(_[v]instanceof Date?qf(_[v])===f:_[v].toString()===f)}),m=e.services.cartesianScales.getRangeIdentifier(d);d[p]=g?g[m]:null}),d})},t.prototype.getStackedData=function(n){var e=n.percentage,r=e===void 0?!1:e,i=n.groups,a=i===void 0?null:i,o=n.divergent,s=o===void 0?!1:o,l=this.getOptions(),u=l.data.groupMapsTo,c=this.getActiveDataGroupNames(a),h=this.getDataValuesGroupedByKeys({groups:a});if(r){var f=y.fromPairs(h.map(function(p){return[p.sharedStackKey,0]}));h.forEach(function(p){c.forEach(function(g){f[p.sharedStackKey]+=p[g]})}),h.forEach(function(p){c.forEach(function(g){f[p.sharedStackKey]?p[g]=p[g]/f[p.sharedStackKey]*100:p[g]=0})})}var d=s?ls().offset(KA):ls();return d.keys(c)(h).map(function(p,g){return Object.keys(p).filter(function(m){return!isNaN(m)}).map(function(m){var _=p[m];return _[u]=c[g],_})})},t.prototype.getOptions=function(){return this.state.options},t.prototype.set=function(n,e){this.state=Object.assign({},this.state,n);var r=Object.assign({skipUpdate:!1,animate:!0},e);r.skipUpdate||this.update(r.animate)},t.prototype.get=function(n){return n?this.state[n]:this.state},t.prototype.setOptions=function(n){var e=this.getOptions();y.updateLegendAdditionalItems(e,n),this.set({options:y.merge(e,n)})},t.prototype.update=function(n){n===void 0&&(n=!0),this.getDisplayData()&&(this.updateAllDataGroups(),this.setCustomColorScale(),this.setColorClassNames(),this.services.events.dispatchEvent(S.Model.UPDATE,{animate:n}))},t.prototype.toggleDataLabel=function(n){var e=$t.items.status,r=e.ACTIVE,i=e.DISABLED,a=this.getDataGroups(),o=a.some(function(f){return f.status===i}),s=a.filter(function(f){return f.status===r});if(o)if(s.length===1&&s[0].name===n)a.forEach(function(f,d){a[d].status=r});else{var l=a.findIndex(function(f){return f.name===n});a[l].status=a[l].status===i?r:i}else a.forEach(function(f,d){a[d].status=f.name===n?r:i});var u=a.filter(function(f){return f.status===r}),c=this.getOptions(),h=a.some(function(f){return f.status===i});h?c.data.selectedGroups=u.map(function(f){return f.name}):c.data.selectedGroups=[],this.services.events.dispatchEvent(S.Legend.ITEMS_UPDATE,{dataGroups:a}),this.set({dataGroups:a})},t.prototype.getIsFilled=function(n,e,r,i){var a=this.getOptions();return a.getIsFilled?a.getIsFilled(n,e,r,i):i},t.prototype.getFillColor=function(n,e,r){var i=this.getOptions(),a=y.getProperty(this.colorScale,n);return i.getFillColor?i.getFillColor(n,e,r,a):a},t.prototype.getStrokeColor=function(n,e,r){var i=this.getOptions(),a=y.getProperty(this.colorScale,n);return i.getStrokeColor?i.getStrokeColor(n,e,r,a):a},t.prototype.isUserProvidedColorScaleValid=function(){var n=y.getProperty(this.getOptions(),"color","scale"),e=this.getDataGroups();return n==null||Object.keys(n).length==0?!1:e.some(function(r){return Object.keys(n).includes(r.name)})},t.prototype.getColorClassName=function(n){var e=this.colorClassNames(n.dataGroupName),r=n.originalClassName;return n.classNameTypes.forEach(function(i){return r=n.originalClassName?r+" "+i+"-"+e:i+"-"+e}),r},t.prototype.getStatus=function(){return null},t.prototype.getAllDataGroupsNames=function(){return this.allDataGroups},t.prototype.transformToTabularData=function(n){console.warn("We've updated the charting data format to be tabular by default. The current format you're using is deprecated and will be removed in v1.0, read more here https://carbon-design-system.github.io/carbon-charts/?path=/story/docs-tutorials--tabular-data-format");var e=[],r=n.datasets,i=n.labels;return r.forEach(function(a){a.data.forEach(function(o,s){var l,u=y.getProperty(a,"label");if(u===null){var c=y.getProperty(i,s);c?l=c:l="Ungrouped"}else l=u;var h={group:l,key:i[s]};isNaN(o)?(h.value=o.value,h.date=o.date):h.value=o,e.push(h)})}),e},t.prototype.getTabularDataArray=function(){return[]},t.prototype.exportToCSV=function(){var n=this.getTabularDataArray().map(function(i){return i.map(function(a){return'"'+a+'"'})}),e="",r="";n.forEach(function(i,a){r=i.join(","),e+=a<n.length?r+`
`:r}),this.services.files.downloadCSV(e,"myChart.csv")},t.prototype.getTabularData=function(n){return Array.isArray(n)?n:this.transformToTabularData(n)},t.prototype.sanitize=function(n){return n=this.getTabularData(n),n},t.prototype.updateAllDataGroups=function(){var n=this;this.allDataGroups?this.getDataGroupNames().forEach(function(e){n.allDataGroups.indexOf(e)===-1&&n.allDataGroups.push(e)}):this.allDataGroups=this.getDataGroupNames()},t.prototype.generateDataGroups=function(n){var e=this.getOptions().data.groupMapsTo,r=$t.items.status,i=r.ACTIVE,a=r.DISABLED,o=this.getOptions(),s=y.removeArrayDuplicates(n.map(function(c){return c[e]}));if(o.data.selectedGroups.length){var l=o.data.selectedGroups.every(function(c){return s.includes(c)});l||(o.data.selectedGroups=[])}var u=function(c){return!o.data.selectedGroups.length||o.data.selectedGroups.includes(c)?i:a};return s.map(function(c){return{name:c,status:u(c)}})},t.prototype.setCustomColorScale=function(){var n=this;if(this.isUserProvidedColorScaleValid()){var e=this.getOptions(),r=y.getProperty(e,"color","scale");Object.keys(r).forEach(function(a){n.allDataGroups.includes(a)||console.warn('"'+a+'" does not exist in data groups.')});var i=this.allDataGroups.filter(function(a){return r[a]});i.forEach(function(a){return n.colorScale[a]=r[a]})}},t.prototype.setColorClassNames=function(){var n=y.getProperty(this.getOptions(),"color","pairing"),e=y.getProperty(n,"numberOfVariants");(!e||e<this.allDataGroups.length)&&(e=this.allDataGroups.length);var r=y.getProperty(n,"option"),i=nu.pairingOptions,a=e>5?14:e;r=r<=i[a+"-color"]?r:1;var o=this.allDataGroups.map(function(s,l){return a+"-"+r+"-"+(l%14+1)});this.colorClassNames=Ao().range(o).domain(this.allDataGroups)},t}(),sn=function(){function t(n,e){this.model=n,this.services=e,this.init()}return t.prototype.init=function(){},t.prototype.update=function(){},t.prototype.setModel=function(n){this.model=n},t.prototype.setServices=function(n){this.services=n},t}(),Nv=function(){if(typeof Map<"u")return Map;function t(n,e){var r=-1;return n.some(function(i,a){return i[0]===e?(r=a,!0):!1}),r}return function(){function n(){this.__entries__=[]}var e={size:{configurable:!0}};return e.size.get=function(){return this.__entries__.length},n.prototype.get=function(r){var i=t(this.__entries__,r),a=this.__entries__[i];return a&&a[1]},n.prototype.set=function(r,i){var a=t(this.__entries__,r);~a?this.__entries__[a][1]=i:this.__entries__.push([r,i])},n.prototype.delete=function(r){var i=this.__entries__,a=t(i,r);~a&&i.splice(a,1)},n.prototype.has=function(r){return!!~t(this.__entries__,r)},n.prototype.clear=function(){this.__entries__.splice(0)},n.prototype.forEach=function(r,i){var a=this;i===void 0&&(i=null);for(var o=0,s=a.__entries__;o<s.length;o+=1){var l=s[o];r.call(i,l[1],l[0])}},Object.defineProperties(n.prototype,e),n}()}(),Fu=typeof window<"u"&&typeof document<"u"&&window.document===document,to=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),EM=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(to):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),SM=2,AM=function(t,n){var e=!1,r=!1,i=0;function a(){e&&(e=!1,t()),r&&s()}function o(){EM(a)}function s(){var l=Date.now();if(e){if(l-i<SM)return;r=!0}else e=!0,r=!1,setTimeout(o,n);i=l}return s},MM=20,CM=["top","right","bottom","left","width","height","size","weight"],PM=typeof MutationObserver<"u",Ce=function(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=AM(this.refresh.bind(this),MM)};Ce.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()};Ce.prototype.removeObserver=function(t){var n=this.observers_,e=n.indexOf(t);~e&&n.splice(e,1),!n.length&&this.connected_&&this.disconnect_()};Ce.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()};Ce.prototype.updateObservers_=function(){var t=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return t.forEach(function(n){return n.broadcastActive()}),t.length>0};Ce.prototype.connect_=function(){!Fu||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),PM?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)};Ce.prototype.disconnect_=function(){!Fu||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)};Ce.prototype.onTransitionEnd_=function(t){var n=t.propertyName;n===void 0&&(n="");var e=CM.some(function(r){return!!~n.indexOf(r)});e&&this.refresh()};Ce.getInstance=function(){return this.instance_||(this.instance_=new Ce),this.instance_};Ce.instance_=null;var $v=function(t,n){for(var e=0,r=Object.keys(n);e<r.length;e+=1){var i=r[e];Object.defineProperty(t,i,{value:n[i],enumerable:!1,writable:!1,configurable:!0})}return t},$r=function(t){var n=t&&t.ownerDocument&&t.ownerDocument.defaultView;return n||to},Uv=$o(0,0,0,0);function eo(t){return parseFloat(t)||0}function Yf(t){for(var n=[],e=arguments.length-1;e-- >0;)n[e]=arguments[e+1];return n.reduce(function(r,i){var a=t["border-"+i+"-width"];return r+eo(a)},0)}function DM(t){for(var n=["top","right","bottom","left"],e={},r=0,i=n;r<i.length;r+=1){var a=i[r],o=t["padding-"+a];e[a]=eo(o)}return e}function LM(t){var n=t.getBBox();return $o(0,0,n.width,n.height)}function RM(t){var n=t.clientWidth,e=t.clientHeight;if(!n&&!e)return Uv;var r=$r(t).getComputedStyle(t),i=DM(r),a=i.left+i.right,o=i.top+i.bottom,s=eo(r.width),l=eo(r.height);if(r.boxSizing==="border-box"&&(Math.round(s+a)!==n&&(s-=Yf(r,"left","right")+a),Math.round(l+o)!==e&&(l-=Yf(r,"top","bottom")+o)),!IM(t)){var u=Math.round(s+a)-n,c=Math.round(l+o)-e;Math.abs(u)!==1&&(s-=u),Math.abs(c)!==1&&(l-=c)}return $o(i.left,i.top,s,l)}var kM=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof $r(t).SVGGraphicsElement}:function(t){return t instanceof $r(t).SVGElement&&typeof t.getBBox=="function"}}();function IM(t){return t===$r(t).document.documentElement}function NM(t){return Fu?kM(t)?LM(t):RM(t):Uv}function $M(t){var n=t.x,e=t.y,r=t.width,i=t.height,a=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,o=Object.create(a.prototype);return $v(o,{x:n,y:e,width:r,height:i,top:e,right:n+r,bottom:i+e,left:n}),o}function $o(t,n,e,r){return{x:t,y:n,width:e,height:r}}var Hu=function(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=$o(0,0,0,0),this.target=t};Hu.prototype.isActive=function(){var t=NM(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight};Hu.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t};var UM=function(t,n){var e=$M(n);$v(this,{target:t,contentRect:e})},_n=function(t,n,e){if(this.activeObservations_=[],this.observations_=new Nv,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=n,this.callbackCtx_=e};_n.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof $r(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(t)||(n.set(t,new Hu(t)),this.controller_.addObserver(this),this.controller_.refresh())}};_n.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof $r(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(t)&&(n.delete(t),n.size||this.controller_.removeObserver(this))}};_n.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)};_n.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&t.activeObservations_.push(n)})};_n.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,n=this.activeObservations_.map(function(e){return new UM(e.target,e.broadcastRect())});this.callback_.call(t,n,t),this.clearActive()}};_n.prototype.clearActive=function(){this.activeObservations_.splice(0)};_n.prototype.hasActive=function(){return this.activeObservations_.length>0};var Bv=typeof WeakMap<"u"?new WeakMap:new Nv,zu=function(t){if(!(this instanceof zu))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=Ce.getInstance(),e=new _n(t,n,this);Bv.set(this,e)};["observe","unobserve","disconnect"].forEach(function(t){zu.prototype[t]=function(){return(n=Bv.get(this))[t].apply(n,arguments);var n}});var BM=function(){return typeof to.ResizeObserver<"u"?to.ResizeObserver:zu}(),Cl={},VM={get exports(){return Cl},set exports(t){Cl=t}};(function(t){(function(n){var e=x(),r=O(),i=b(),a=w(),o={imagePlaceholder:void 0,cacheBust:!1},s={toSvg:l,toPng:c,toJpeg:h,toBlob:f,toPixelData:u,impl:{fontFaces:i,images:a,util:e,inliner:r,options:{}}};t.exports=s;function l(M,E){return E=E||{},d(E),Promise.resolve(M).then(function(C){return g(C,E.filter,!0)}).then(m).then(_).then(A).then(function(C){return v(C,E.width||e.width(M),E.height||e.height(M))});function A(C){return E.bgcolor&&(C.style.backgroundColor=E.bgcolor),E.width&&(C.style.width=E.width+"px"),E.height&&(C.style.height=E.height+"px"),E.style&&Object.keys(E.style).forEach(function(T){C.style[T]=E.style[T]}),C}}function u(M,E){return p(M,E||{}).then(function(A){return A.getContext("2d").getImageData(0,0,e.width(M),e.height(M)).data})}function c(M,E){return p(M,E||{}).then(function(A){return A.toDataURL()})}function h(M,E){return E=E||{},p(M,E).then(function(A){return A.toDataURL("image/jpeg",E.quality||1)})}function f(M,E){return p(M,E||{}).then(e.canvasToBlob)}function d(M){typeof M.imagePlaceholder>"u"?s.impl.options.imagePlaceholder=o.imagePlaceholder:s.impl.options.imagePlaceholder=M.imagePlaceholder,typeof M.cacheBust>"u"?s.impl.options.cacheBust=o.cacheBust:s.impl.options.cacheBust=M.cacheBust}function p(M,E){return l(M,E).then(e.makeImage).then(e.delay(100)).then(function(C){var T=A(M);return T.getContext("2d").drawImage(C,0,0),T});function A(C){var T=document.createElement("canvas");if(T.width=E.width||e.width(C),T.height=E.height||e.height(C),E.bgcolor){var k=T.getContext("2d");k.fillStyle=E.bgcolor,k.fillRect(0,0,T.width,T.height)}return T}}function g(M,E,A){if(!A&&E&&!E(M))return Promise.resolve();return Promise.resolve(M).then(C).then(function(D){return T(M,D,E)}).then(function(D){return k(M,D)});function C(D){return D instanceof HTMLCanvasElement?e.makeImage(D.toDataURL()):D.cloneNode(!1)}function T(D,I,L){var R=D.childNodes;if(R.length===0)return Promise.resolve(I);return N(I,e.asArray(R),L).then(function(){return I});function N(G,P,F){var H=Promise.resolve();return P.forEach(function(J){H=H.then(function(){return g(J,F)}).then(function(lt){lt&&G.appendChild(lt)})}),H}}function k(D,I){if(!(I instanceof Element))return I;return Promise.resolve().then(L).then(R).then(N).then(G).then(function(){return I});function L(){P(window.getComputedStyle(D),I.style);function P(F,H){F.cssText?H.cssText=F.cssText:J(F,H);function J(lt,ut){e.asArray(lt).forEach(function(X){ut.setProperty(X,lt.getPropertyValue(X),lt.getPropertyPriority(X))})}}}function R(){[":before",":after"].forEach(function(F){P(F)});function P(F){var H=window.getComputedStyle(D,F),J=H.getPropertyValue("content");if(J===""||J==="none")return;var lt=e.uid();I.className=I.className+" "+lt;var ut=document.createElement("style");ut.appendChild(X(lt,F,H)),I.appendChild(ut);function X(rt,tt,ot){var K="."+rt+":"+tt,et=ot.cssText?st(ot):j(ot);return document.createTextNode(K+"{"+et+"}");function st(vt){var ct=vt.getPropertyValue("content");return vt.cssText+" content: "+ct+";"}function j(vt){return e.asArray(vt).map(ct).join("; ")+";";function ct(W){return W+": "+vt.getPropertyValue(W)+(vt.getPropertyPriority(W)?" !important":"")}}}}}function N(){D instanceof HTMLTextAreaElement&&(I.innerHTML=D.value),D instanceof HTMLInputElement&&I.setAttribute("value",D.value)}function G(){I instanceof SVGElement&&(I.setAttribute("xmlns","http://www.w3.org/2000/svg"),I instanceof SVGRectElement&&["width","height"].forEach(function(P){var F=I.getAttribute(P);F&&I.style.setProperty(P,F)}))}}}function m(M){return i.resolveAll().then(function(E){var A=document.createElement("style");return M.appendChild(A),A.appendChild(document.createTextNode(E)),M})}function _(M){return a.inlineAll(M).then(function(){return M})}function v(M,E,A){return Promise.resolve(M).then(function(C){return C.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),new XMLSerializer().serializeToString(C)}).then(e.escapeXhtml).then(function(C){return'<foreignObject x="0" y="0" width="100%" height="100%">'+C+"</foreignObject>"}).then(function(C){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+E+'" height="'+A+'">'+C+"</svg>"}).then(function(C){return"data:image/svg+xml;charset=utf-8,"+C})}function x(){return{escape:G,parseExtension:E,mimeType:A,dataAsUrl:N,isDataUrl:C,canvasToBlob:k,resolveUrl:D,getAndEncode:R,uid:I(),delay:P,asArray:F,escapeXhtml:H,makeImage:L,width:J,height:lt};function M(){var X="application/font-woff",rt="image/jpeg";return{woff:X,woff2:X,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:rt,jpeg:rt,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"}}function E(X){var rt=/\.([^\.\/]*?)$/g.exec(X);return rt?rt[1]:""}function A(X){var rt=E(X).toLowerCase();return M()[rt]||""}function C(X){return X.search(/^(data:)/)!==-1}function T(X){return new Promise(function(rt){for(var tt=window.atob(X.toDataURL().split(",")[1]),ot=tt.length,K=new Uint8Array(ot),et=0;et<ot;et++)K[et]=tt.charCodeAt(et);rt(new Blob([K],{type:"image/png"}))})}function k(X){return X.toBlob?new Promise(function(rt){X.toBlob(rt)}):T(X)}function D(X,rt){var tt=document.implementation.createHTMLDocument(),ot=tt.createElement("base");tt.head.appendChild(ot);var K=tt.createElement("a");return tt.body.appendChild(K),ot.href=rt,K.href=X,K.href}function I(){var X=0;return function(){return"u"+rt()+X++;function rt(){return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)}}}function L(X){return new Promise(function(rt,tt){var ot=new Image;ot.onload=function(){rt(ot)},ot.onerror=tt,ot.src=X})}function R(X){var rt=3e4;return s.impl.options.cacheBust&&(X+=(/\?/.test(X)?"&":"?")+new Date().getTime()),new Promise(function(tt){var ot=new XMLHttpRequest;ot.onreadystatechange=st,ot.ontimeout=j,ot.responseType="blob",ot.timeout=rt,ot.open("GET",X,!0),ot.send();var K;if(s.impl.options.imagePlaceholder){var et=s.impl.options.imagePlaceholder.split(/,/);et&&et[1]&&(K=et[1])}function st(){if(ot.readyState===4){if(ot.status!==200){K?tt(K):vt("cannot fetch resource: "+X+", status: "+ot.status);return}var ct=new FileReader;ct.onloadend=function(){var W=ct.result.split(/,/)[1];tt(W)},ct.readAsDataURL(ot.response)}}function j(){K?tt(K):vt("timeout of "+rt+"ms occured while fetching resource: "+X)}function vt(ct){console.error(ct),tt("")}})}function N(X,rt){return"data:"+rt+";base64,"+X}function G(X){return X.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")}function P(X){return function(rt){return new Promise(function(tt){setTimeout(function(){tt(rt)},X)})}}function F(X){for(var rt=[],tt=X.length,ot=0;ot<tt;ot++)rt.push(X[ot]);return rt}function H(X){return X.replace(/#/g,"%23").replace(/\n/g,"%0A")}function J(X){var rt=ut(X,"border-left-width"),tt=ut(X,"border-right-width");return X.scrollWidth+rt+tt}function lt(X){var rt=ut(X,"border-top-width"),tt=ut(X,"border-bottom-width");return X.scrollHeight+rt+tt}function ut(X,rt){var tt=window.getComputedStyle(X).getPropertyValue(rt);return parseFloat(tt.replace("px",""))}}function O(){var M=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:T,shouldProcess:E,impl:{readUrls:A,inline:C}};function E(k){return k.search(M)!==-1}function A(k){for(var D=[],I;(I=M.exec(k))!==null;)D.push(I[1]);return D.filter(function(L){return!e.isDataUrl(L)})}function C(k,D,I,L){return Promise.resolve(D).then(function(N){return I?e.resolveUrl(N,I):N}).then(L||e.getAndEncode).then(function(N){return e.dataAsUrl(N,e.mimeType(D))}).then(function(N){return k.replace(R(D),"$1"+N+"$3")});function R(N){return new RegExp(`(url\\(['"]?)(`+e.escape(N)+`)(['"]?\\))`,"g")}}function T(k,D,I){if(L())return Promise.resolve(k);return Promise.resolve(k).then(A).then(function(R){var N=Promise.resolve(k);return R.forEach(function(G){N=N.then(function(P){return C(P,G,D,I)})}),N});function L(){return!E(k)}}}function b(){return{resolveAll:M,impl:{readAll:E}};function M(){return E().then(function(A){return Promise.all(A.map(function(C){return C.resolve()}))}).then(function(A){return A.join(`
`)})}function E(){return Promise.resolve(e.asArray(document.styleSheets)).then(C).then(A).then(function(k){return k.map(T)});function A(k){return k.filter(function(D){return D.type===CSSRule.FONT_FACE_RULE}).filter(function(D){return r.shouldProcess(D.style.getPropertyValue("src"))})}function C(k){var D=[];return k.forEach(function(I){try{e.asArray(I.cssRules||[]).forEach(D.push.bind(D))}catch(L){console.log("Error while reading CSS rules from "+I.href,L.toString())}}),D}function T(k){return{resolve:function(){var I=(k.parentStyleSheet||{}).href;return r.inlineAll(k.cssText,I)},src:function(){return k.style.getPropertyValue("src")}}}}}function w(){return{inlineAll:E,impl:{newImage:M}};function M(A){return{inline:C};function C(T){return e.isDataUrl(A.src)?Promise.resolve():Promise.resolve(A.src).then(T||e.getAndEncode).then(function(k){return e.dataAsUrl(k,e.mimeType(A.src))}).then(function(k){return new Promise(function(D,I){A.onload=D,A.onerror=I,A.src=k})})}}function E(A){if(!(A instanceof Element))return Promise.resolve(A);return C(A).then(function(){return A instanceof HTMLImageElement?M(A).inline():Promise.all(e.asArray(A.childNodes).map(function(T){return E(T)}))});function C(T){var k=T.style.getPropertyValue("background");return k?r.inlineAll(k).then(function(D){T.style.setProperty("background",D,T.style.getPropertyPriority("background"))}).then(function(){return T}):Promise.resolve(T)}}}})()})(VM);const Xf=Cl;var GM=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Zf="DONT_STYLE_ME_css_styles_verifier",U=function(t){GM(n,t);function n(e,r){return t.call(this,e,r)||this}return n.getHTMLElementSize=function(e){return{width:e.clientWidth,height:e.clientHeight}},n.getSVGElementSize=function(e,r){r===void 0&&(r={useAttrs:!1,useClientDimensions:!1,useBBox:!1,useBoundingRect:!1}),e.attr||(e=$(e));var i={width:0,height:0},a=function(d){d&&Object.keys(i).forEach(function(p){if(d[p]){var g=d[p],m=parseFloat(g);g&&m>i[p]&&(""+g).indexOf("%")===-1&&(i[p]=m)}})},o={width:e.attr("width"),height:e.attr("height")},s,l,u,c;try{s=e.node().getBBox(),l={width:s.width,height:s.height}}catch{}try{u=e.node().getBoundingClientRect(),c={width:u.width,height:u.height}}catch{}var h={width:e.node().clientWidth,height:e.node().clientHeight};if(r){if(r.useAttrs&&(a(o),i.width>0&&i.height>0))return i;if(r.useClientDimensions&&(a(h),i.width>0&&i.height>0))return h;if(r.useBBox&&(a(l),i.width>0&&i.height>0))return l;if(r.useBoundingRect&&(a(c),i.width>0&&i.height>0))return c}try{var f={width:y.getProperty(e.node(),"width","baseVal","value"),height:y.getProperty(e.node(),"height","baseVal","value")};a(f)}catch{a(h),a(l),a(o)}return i},n.appendOrSelect=function(e,r){var i=e.select(""+r);if(i.empty()){var a=r.split("#"),o=void 0,s=void 0;return a.length===2?(o=a[0],a=a[1].split("."),s=a[0]):(a=r.split("."),o=a[0]),e.append(o).attr("id",s).attr("class",a.slice(1).join(" "))}return i},n.prototype.init=function(){this.styleHolderElement(),this.initializeID(),this.addMainContainer(),this.verifyCSSStylesBeingApplied(),this.model.getOptions().resizable&&this.addResizeListener(),this.addHolderListeners(),this.handleFullscreenChange()},n.prototype.getChartID=function(){return this.chartID},n.prototype.generateElementIDString=function(e){return"chart-"+this.chartID+"-"+e},n.prototype.initializeID=function(){this.chartID=Math.floor((1+Math.random())*281474976710656).toString(16)},n.prototype.addMainContainer=function(){var e=this.model.getOptions(),r=y.getProperty(e,"style","prefix"),i=$(this.getHolder()).append("div").classed(ne+"--"+r+"--chart-wrapper",!0).attr("id","chart-"+this.getChartID()).style("height","100%").style("width","100%");i.append("g").attr("class",Zf),this.mainContainer=i.node()},n.prototype.update=function(){this.styleHolderElement()},n.prototype.styleHolderElement=function(){var e=this.getHolder(),r=this.model.getOptions(),i=r.width,a=r.height,o=r.theme;i!==this.width&&(e.style.width=i,this.width=i),a!==this.height&&(e.style.height=a,this.height=a),$(this.getHolder()).classed(ne+"--chart-holder",!0).attr("data-carbon-theme",o)},n.prototype.getHolder=function(){return this.model.get("holder")},n.prototype.exportToJPG=function(){var e=this,r=this.getHolder(),i=$(r);i.classed("filled",!0),Xf.toJpeg(this.getMainContainer(),{bgcolor:typeof window<"u"?window.getComputedStyle(r).getPropertyValue("background-color"):void 0,quality:1,filter:function(a){return!(a.classList&&a.classList.contains("cds--cc--toolbar"))}}).then(function(a){e.services.files.downloadImage(a,"myChart.jpg"),i.classed("filled",!1)})},n.prototype.exportToPNG=function(){var e=this,r=this.getHolder(),i=$(r);i.classed("filled",!0),Xf.toPng(this.getMainContainer(),{bgcolor:typeof window<"u"?window.getComputedStyle(r).getPropertyValue("background-color"):void 0,quality:1,filter:function(a){return!(a.classList&&a.classList.contains("cds--cc--toolbar"))}}).then(function(a){e.services.files.downloadImage(a,"myChart.png"),i.classed("filled",!1)}).catch(function(a){console.error("oops, something went wrong!",a)})},n.prototype.toggleFullscreen=function(){var e=this.getHolder(),r=$(e),i=r.classed("fullscreen");i&&(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen():e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen&&e.msRequestFullscreen()},n.prototype.handleFullscreenChange=function(){var e=this;document.addEventListener("fullscreenchange",function(){var r=$(e.getHolder()),i=r.classed("fullscreen");r.classed("fullscreen",!i)})},n.prototype.verifyCSSStylesBeingApplied=function(){var e=this;setTimeout(function(){var r=$(e.mainContainer).select("g."+Zf).node(),i=getComputedStyle(r);(i.getPropertyValue("overflow")!=="hidden"||i.getPropertyValue("opacity")!=="0")&&console.error("Missing CSS styles for Carbon Charts. Please read the Carbon Charts getting started guide.")})},n.prototype.setSVGMaxHeight=function(){if(!this.model.getOptions().height){var e=n.getSVGElementSize($(this.mainContainer),{useBBox:!0}).height,r=$(this.mainContainer).attr("class"),i=$(this.mainContainer).selectAll("."+r+" > svg"),a=0;i.nodes().forEach(function(o){a+=Number(n.getSVGElementSize($(o),{useBBox:!0}).height)}),a<=e?$(this.mainContainer).attr("height",a):$(this.mainContainer).attr("height","100%")}},n.prototype.getMainContainer=function(){return this.mainContainer},n.prototype.addHolderListeners=function(){var e=this,r=this.getHolder();r&&$(r).on("mouseover",function(){e.services.events.dispatchEvent(S.Chart.MOUSEOVER)}).on("mouseout",function(){e.services.events.dispatchEvent(S.Chart.MOUSEOUT)})},n.prototype.addResizeListener=function(){var e=this,r=this.getHolder();if(r){var i=r.clientWidth,a=r.clientHeight,o=y.debounce(function(l,u){r&&(Math.abs(i-r.clientWidth)>1||Math.abs(a-r.clientHeight)>1)&&(i=r.clientWidth,a=r.clientHeight,e.services.events.dispatchEvent(S.Chart.RESIZE))},12.5),s=new BM(o);s.observe(r)}},n}(sn),FM=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),HM=function(t){FM(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.prototype.init=function(){this.documentFragment=document.createDocumentFragment()},n.prototype.addEventListener=function(e,r){this.documentFragment.addEventListener(e,r)},n.prototype.removeEventListener=function(e,r){this.documentFragment.removeEventListener(e,r)},n.prototype.dispatchEvent=function(e,r){var i;r?i=new CustomEvent(e,{detail:r}):(i=document.createEvent("Event"),i.initEvent(e,!1,!0)),this.documentFragment.dispatchEvent(i)},n}(sn),zM=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),WM=function(t){zM(n,t);function n(e,r){return t.call(this,e,r)||this}return n.prototype.downloadCSV=function(e,r){var i=document.createElement("a"),a="text/csv;encoding:utf-8";if(navigator.msSaveBlob)navigator.msSaveBlob(new Blob([e],{type:a}),r);else if(URL&&"download"in i){var o=URL.createObjectURL(new Blob([e],{type:a}));i.href=o,i.setAttribute("download",r),document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(o)}else location.href="data:application/octet-stream,"+encodeURIComponent(e)},n.prototype.downloadImage=function(e,r){var i=document.createElement("a");i.download=r,i.href=e,document.body.appendChild(i),i.click(),document.body.removeChild(i)},n}(sn),jM=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),qM=function(t){jM(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.pendingTransitions={},e}return n.prototype.init=function(){var e=this;this.services.events.addEventListener(S.Model.UPDATE,function(){e.pendingTransitions={}})},n.prototype.setupTransition=function(e){var r=this,i=e.transition,a=e.name,o=e.animate;return this.pendingTransitions[i._id]=i,i.on("end interrupt cancel",function(){delete r.pendingTransitions[i._id]}),this.model.getOptions().animations===!1||o===!1?i.duration(0):i.duration(y.getProperty(ol,a,"duration")||ol.default.duration)},n.prototype.getPendingTransitions=function(){return this.pendingTransitions},n}(sn),YM=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Pl=function(t){YM(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.appendOrUpdateLinearGradient=function(e){var r=e.svg.select("defs linearGradient#"+e.id);r.empty()&&(r=e.svg.append("defs").append("linearGradient").attr("id",e.id).attr("x1",e.x1).attr("x2",e.x2).attr("y1",e.y1).attr("y2",e.y2)),r.selectAll("stop").remove(),r.selectAll("stop").data(e.stops).enter().append("stop").attr("offset",function(i){return i.offset}).style("stop-color",function(i){return i.color}).style("stop-opacity",function(i){return i.opacity})},n.getOffsetRatio=function(e){var r=(Math.abs(e[1])*100/Math.abs(e[0]-e[1])).toFixed(2)+"%";return r},n.getStops=function(e,r){var i=e[0]<0&&e[1]>0,a=[{offset:"0%",color:r,opacity:"0.6"},{offset:"80%",color:r,opacity:"0"}];return i&&(a=[{offset:"0%",color:r,opacity:"0.6"},{offset:n.getOffsetRatio(e),color:r,opacity:"0"},{offset:"100%",color:r,opacity:"0.6"}]),a},n}(sn),XM=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ZM=globalThis&&globalThis.__rest||function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e},KM=globalThis&&globalThis.__spreadArrays||function(){for(var t=0,n=0,e=arguments.length;n<e;n++)t+=arguments[n].length;for(var r=Array(t),i=0,n=0;n<e;n++)for(var a=arguments[n],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r},QM=function(t){XM(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.scaleTypes={top:null,right:null,bottom:null,left:null},e.scales={top:null,right:null,bottom:null,left:null},e}return n.prototype.getDomainAxisPosition=function(e){var r=(e===void 0?{}:e).datum,i=r===void 0?null:r,a;if(this.dualAxes&&i){var o=this.model.getOptions(),s=o.data.groupMapsTo,l=y.getProperty(o,"axes",this.secondaryDomainAxisPosition),u=i[s];if(!((a=l)===null||a===void 0)&&a.correspondingDatasets&&l.correspondingDatasets.includes(u))return this.secondaryDomainAxisPosition}return this.domainAxisPosition},n.prototype.getRangeAxisPosition=function(e){var r=e===void 0?{}:e,i=r.datum,a=i===void 0?null:i,o=r.groups,s=o===void 0?null:o,l;if(this.dualAxes){var u=this.model.getOptions(),c=u.data.groupMapsTo,h=y.getProperty(u,"axes",this.secondaryRangeAxisPosition),f=void 0;if(a!==null?f=a[c]:s&&s.length>0&&(f=s[0]),!((l=h)===null||l===void 0)&&l.correspondingDatasets&&h.correspondingDatasets.includes(f))return this.secondaryRangeAxisPosition}return this.rangeAxisPosition},n.prototype.getAxisOptions=function(e){return y.getProperty(this.model.getOptions(),"axes",e)},n.prototype.getDomainAxisOptions=function(){var e=this.getDomainAxisPosition();return this.getAxisOptions(e)},n.prototype.getRangeAxisOptions=function(){var e=this.getRangeAxisPosition();return this.getAxisOptions(e)},n.prototype.getScaleLabel=function(e){var r=this.getAxisOptions(e),i=r.title;return i||(e===q.BOTTOM||e===q.TOP?"x-value":"y-value")},n.prototype.getDomainLabel=function(){return this.getScaleLabel(this.getDomainAxisPosition())},n.prototype.getRangeLabel=function(){return this.getScaleLabel(this.getRangeAxisPosition())},n.prototype.update=function(e){var r=this;this.determineAxisDuality(),this.findDomainAndRangeAxes(),this.determineOrientation();var i=Object.keys(q).map(function(a){return q[a]});i.forEach(function(a){r.scales[a]=r.createScale(a)})},n.prototype.findDomainAndRangeAxes=function(){var e=this.findVerticalAxesPositions(),r=this.findHorizontalAxesPositions(),i=this.findDomainAndRangeAxesPositions(e,r);this.domainAxisPosition=i.primaryDomainAxisPosition,this.rangeAxisPosition=i.primaryRangeAxisPosition,this.isDualAxes()&&(this.secondaryDomainAxisPosition=i.secondaryDomainAxisPosition,this.secondaryRangeAxisPosition=i.secondaryRangeAxisPosition)},n.prototype.determineOrientation=function(){(this.rangeAxisPosition===q.LEFT||this.rangeAxisPosition===q.RIGHT)&&(this.domainAxisPosition===q.BOTTOM||this.domainAxisPosition===q.TOP)?this.orientation=Ht.VERTICAL:this.orientation=Ht.HORIZONTAL},n.prototype.isDualAxes=function(){return this.dualAxes},n.prototype.determineAxisDuality=function(){var e,r,i,a,o=this.model.getOptions(),s=y.getProperty(o,"axes");(!((e=s[q.LEFT])===null||e===void 0)&&e.correspondingDatasets&&s[q.RIGHT]||!((r=s[q.RIGHT])===null||r===void 0)&&r.correspondingDatasets&&s[q.LEFT]||!((i=s[q.TOP])===null||i===void 0)&&i.correspondingDatasets&&s[q.BOTTOM]||!((a=s[q.BOTTOM])===null||a===void 0)&&a.correspondingDatasets&&s[q.TOP])&&(this.dualAxes=!0)},n.prototype.getCustomDomainValuesByposition=function(e){var r=y.getProperty(this.model.getOptions(),"axes",e,"domain");if(r&&!Array.isArray(r))throw new Error("Domain in "+e+" axis is not a valid array");if(Array.isArray(r)&&(this.scaleTypes[e]===nt.LINEAR||this.scaleTypes[e]===nt.TIME)&&r.length!==2)throw new Error("There can only be 2 elements in domain for scale type: "+this.scaleTypes[e]);return r},n.prototype.getOrientation=function(){return this.orientation},n.prototype.getScaleByPosition=function(e){return this.scales[e]},n.prototype.getScaleTypeByPosition=function(e){return this.scaleTypes[e]},n.prototype.getDomainAxisScaleType=function(){var e=this.getDomainAxisPosition();return this.getScaleTypeByPosition(e)},n.prototype.getRangeAxisScaleType=function(){var e=this.getRangeAxisPosition();return this.getScaleTypeByPosition(e)},n.prototype.getDomainScale=function(){return this.scales[this.domainAxisPosition]},n.prototype.getRangeScale=function(){return this.scales[this.rangeAxisPosition]},n.prototype.getMainXAxisPosition=function(){var e=[q.BOTTOM,q.TOP];return[this.domainAxisPosition,this.rangeAxisPosition].find(function(r){return e.indexOf(r)>-1})},n.prototype.getMainYAxisPosition=function(){var e=[q.LEFT,q.RIGHT];return[this.domainAxisPosition,this.rangeAxisPosition].find(function(r){return e.indexOf(r)>-1})},n.prototype.getMainXScale=function(){return this.scales[this.getMainXAxisPosition()]},n.prototype.getMainYScale=function(){return this.scales[this.getMainYAxisPosition()]},n.prototype.getValueFromScale=function(e,r,i,a,o){var s=this.model.getOptions(),l=y.getProperty(s,"axes"),u=l[i],c=u.mapsTo,h=y.getProperty(a,c)!==null?a[c]:a,f;switch(r){case nt.LABELS:f=e(h)+e.step()/2;break;case nt.TIME:f=e(new Date(h));break;default:f=e(h)}return f},n.prototype.getBoundedScaledValues=function(e,r){var i=this.model.getOptions().bounds,a=this.getRangeAxisPosition({datum:e}),o=this.scales[a],s=this.model.getOptions(),l=y.getProperty(s,"axes"),u=l[a],c=u.mapsTo,h=e[c]!==void 0?e[c]:e,f=[o(y.getProperty(e,i.upperBoundMapsTo)!==null?e[i.upperBoundMapsTo]:h),o(y.getProperty(e,i.lowerBoundMapsTo)!==null?e[i.lowerBoundMapsTo]:h)];return f},n.prototype.getValueThroughAxisPosition=function(e,r,i){var a=this.scaleTypes[e],o=this.scales[e];return this.getValueFromScale(o,a,e,r,i)},n.prototype.getDomainValue=function(e,r){var i=this.getDomainAxisPosition({datum:e});return this.getValueThroughAxisPosition(i,e,r)},n.prototype.getRangeValue=function(e,r){var i=this.getRangeAxisPosition({datum:e});return this.getValueThroughAxisPosition(i,e,r)},n.prototype.getMainXScaleType=function(){return this.getScaleTypeByPosition(this.getMainXAxisPosition())},n.prototype.getMainYScaleType=function(){return this.getScaleTypeByPosition(this.getMainYAxisPosition())},n.prototype.getDomainIdentifier=function(e){var r=this.model.getOptions();return y.getProperty(r,"axes",this.getDomainAxisPosition({datum:e}),"mapsTo")},n.prototype.getRangeIdentifier=function(e){var r=this.model.getOptions();return y.getProperty(r,"axes",this.getRangeAxisPosition({datum:e}),"mapsTo")},n.prototype.extendsDomain=function(e,r){var i=this.model.getOptions(),a=y.getProperty(i,"axes",e);if(a.scaleType===nt.TIME){var o=y.getProperty(i,"timeScale","addSpaceOnEdges");return JM(r,o)}else return tC(r,Qe.paddingRatio,a.scaleType)},n.prototype.findVerticalAxesPositions=function(){var e=this.model.getOptions(),r=y.getProperty(e,"axes"),i=this.isDualAxes();return y.getProperty(r,q.LEFT)===null&&y.getProperty(r,q.RIGHT)!==null||y.getProperty(r,q.RIGHT,"main")===!0||i&&y.getProperty(r,q.LEFT,"correspondingDatasets")?{primary:q.RIGHT,secondary:q.LEFT}:{primary:q.LEFT,secondary:q.RIGHT}},n.prototype.findHorizontalAxesPositions=function(){var e=this.model.getOptions(),r=y.getProperty(e,"axes"),i=this.isDualAxes();return y.getProperty(r,q.BOTTOM)===null&&y.getProperty(r,q.TOP)!==null||y.getProperty(r,q.TOP,"main")===!0||i&&y.getProperty(r,q.BOTTOM,"correspondingDatasets")?{primary:q.TOP,secondary:q.BOTTOM}:{primary:q.BOTTOM,secondary:q.TOP}},n.prototype.findDomainAndRangeAxesPositions=function(e,r){var i=this.model.getOptions(),a=y.getProperty(i,"axes",e.primary),o=y.getProperty(i,"axes",r.primary),s=a.scaleType||nt.LINEAR,l=o.scaleType||nt.LINEAR,u={primaryDomainAxisPosition:null,secondaryDomainAxisPosition:null,primaryRangeAxisPosition:null,secondaryRangeAxisPosition:null};return u.primaryDomainAxisPosition=r.primary,u.primaryRangeAxisPosition=e.primary,u.secondaryDomainAxisPosition=r.secondary,u.secondaryRangeAxisPosition=e.secondary,(!(l===nt.LABELS||l===nt.TIME)&&s===nt.LABELS||s===nt.TIME)&&(u.primaryDomainAxisPosition=e.primary,u.primaryRangeAxisPosition=r.primary,u.secondaryDomainAxisPosition=e.secondary,u.secondaryRangeAxisPosition=r.secondary),u},n.prototype.getScaleDomain=function(e){var r=this.model.getOptions(),i=y.getProperty(r,"axes",e),a=y.getProperty(r,"bounds"),o=i.includeZero,s=y.getProperty(i,"scaleType")||nt.LINEAR;if(this.model.isDataEmpty())return[];if(i.binned){var l=this.model.getBinConfigurations().bins;return[0,Un(l,function(A){return A.length})]}else if(i.limitDomainToBins){var l=this.model.getBinConfigurations().bins,u=this.model.getStackKeys({bins:l});return[u[0].split("-")[0],u[u.length-1].split("-")[1]]}var c=this.model.getDisplayData(),h=i.extendLinearDomainBy,f=i.mapsTo,d=i.percentage,p=i.thresholds,g=Qe.ratio,m=g.reference,_=g.compareTo;if(i.domain)return s===nt.LABELS?i.domain:(s===nt.TIME&&(i.domain=i.domain.map(function(A){return A.getTime===void 0?new Date(A):A})),this.extendsDomain(e,i.domain));if(d)return[0,100];if(i&&s===nt.LABELS)return y.removeArrayDuplicates(c.map(function(A){return A[f]}));var v,x,O=this.model.getDataGroupNames();if(s===nt.LABELS_RATIO)return c.map(function(A){return A[m]+"/"+A[_]});if(s===nt.TIME)x=c.map(function(A){return+new Date(A[f])});else if(a&&r.axes)x=[],c.forEach(function(A){x.push(A[f]),A[a.upperBoundMapsTo]&&x.push(A[a.upperBoundMapsTo]),A[a.lowerBoundMapsTo]&&x.push(A[a.lowerBoundMapsTo])});else if(i.stacked===!0&&O&&e===this.getRangeAxisPosition()){var b=r.data.groupMapsTo,w=this.model.getDataValuesGroupedByKeys({groups:O}),M=c.filter(function(A){return!O.includes(A[b])}),E=[];w.forEach(function(A){A.sharedStackKey;var C=ZM(A,["sharedStackKey"]),T=0,k=0;Object.values(C).forEach(function(D){isNaN(D)||(D<0?k+=D:T+=D)}),E.push([k,T])}),x=KM(y.flatten(E),M.map(function(A){return A[f]}))}else x=[],c.forEach(function(A){var C=A[f];Array.isArray(C)&&C.length===2?(x.push(C[0]),x.push(C[1])):(h&&x.push(Math.max(A[f],A[h])),x.push(C))});return s!==nt.TIME&&s!==nt.LOG&&o&&x.push(0),p&&p.length>0&&p.forEach(function(A){var C=y.getProperty(A,"value");C!==null&&x.push(C)}),v=Ue(x),v=this.extendsDomain(e,v),v},n.prototype.createScale=function(e){var r=this.model.getOptions(),i=y.getProperty(r,"axes",e);if(!i)return null;var a=y.getProperty(i,"scaleType")||nt.LINEAR;this.scaleTypes[e]=a;var o;return a===nt.TIME?o=dv():a===nt.LOG?o=jp().base(i.base||10):a===nt.LABELS||a===nt.LABELS_RATIO?o=ki():o=He(),o.domain(this.getScaleDomain(e)),o},n.prototype.getHighestDomainThreshold=function(){var e=y.getProperty(this.model.getOptions(),"axes"),r=this.getDomainAxisPosition(),i=e[r].thresholds;if(!Array.isArray(i)||Array.isArray(i)&&!i.length)return null;var a=this.getDomainScale(),o=i.sort(function(l,u){return u.value-l.value})[0],s=this.getScaleTypeByPosition(r);return s===nt.TIME&&(typeof o.value=="string"||o.value.getTime===void 0)&&(o.value=new Date(o.value)),{threshold:o,scaleValue:a(o.value)}},n.prototype.getHighestRangeThreshold=function(){var e=y.getProperty(this.model.getOptions(),"axes"),r=this.getRangeAxisPosition(),i=e[r].thresholds;if(!Array.isArray(i)||Array.isArray(i)&&!i.length)return null;var a=this.getRangeScale(),o=i.sort(function(s,l){return l.value-s.value})[0];return{threshold:o,scaleValue:a(o.value)}},n}(sn);function JM(t,n){var e=new Date(t[0]),r=new Date(t[1]);return f2(r,e)>1?[wM(e,n),Dv(r,n)]:c2(r,e)>1?[bM(e,n),Vu(r,n)]:o2(r,e)>1?[_M(e,n),Cv(r,n)]:l2(r,e)>1?[xM(e,n),Pv(r,n)]:Bf(r,e)>30?[Wf(e,n*30),El(r,n*30)]:Bf(r,e)>1?[Wf(e,n),El(r,n)]:Vf(r,e)>15?[jf(e,n*15),Sl(r,n*15)]:Vf(r,e)>1?[jf(e,n),Sl(r,n)]:[e,r]}function tC(t,n,e){var r=t[0],i=t[1],a=i-r,o=a*n,s=i<=0&&i+o>0?0:i+o,l=r>=0&&r-o<0?0:r-o;if(e===nt.LOG&&l<=0){if(r<=0)throw Error("Data must have values greater than 0 if log scale type is used.");l=r}return[l,s]}var eC=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),nC=function(t){eC(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.curveTypes={curveLinear:Lo,curveLinearClosed:Ev,curveBasis:RA,curveBasisClosed:kA,curveBasisOpen:IA,curveBundle:NA,curveCardinal:$A,curveCardinalClosed:UA,curveCardinalOpen:BA,curveCatmullRom:VA,curveCatmullRomClosed:GA,curveCatmullRomOpen:FA,curveMonotoneX:HA,curveMonotoneY:zA,curveNatural:WA,curveStep:jA,curveStepAfter:YA,curveStepBefore:qA},e}return n.prototype.getD3Curve=function(){var e="curveLinear",r=this.model.getOptions().curve;if(r&&(typeof r=="string"?e=r:e=r.name),this.curveTypes[e]){var i=this.curveTypes[e];return r&&Object.keys(r).forEach(function(a){i[a]&&(i=i[a](r[a]))}),i}return console.warn("The curve type '"+e+"' is invalid, using 'curveLinear' instead"),this.curveTypes.curveLinear},n}(sn),rC=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),iC=function(t){rC(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.prototype.isZoomBarEnabled=function(){if(!this.services.cartesianScales||!y.getProperty(this.model.getOptions(),"zoomBar","top","enabled"))return!1;this.services.cartesianScales.findDomainAndRangeAxes();var e=this.services.cartesianScales.getMainXAxisPosition(),r=y.getProperty(this.model.getOptions(),"axes",e,"scaleType");return e===q.BOTTOM&&r===nt.TIME},n.prototype.getZoomBarData=function(){var e=this.model.getZoomBarData();return e&&e.length>1?e:this.model.getDisplayData()},n.prototype.getDefaultZoomBarDomain=function(e){var r=e||this.services.zoom.getZoomBarData(),i=this.services.cartesianScales,a=i.getMainXAxisPosition(),o=i.getDomainIdentifier(),s=y.getProperty(this.model.getOptions(),"axes",a,"domain");return Array.isArray(s)&&s.length===2?s:i.extendsDomain(a,Ue(r,function(l){return l[o]}))},n.prototype.handleDomainChange=function(e,r){r===void 0&&(r={dispatchEvent:!0}),this.model.set({zoomDomain:e},{animate:!1}),r.dispatchEvent&&this.services.events.dispatchEvent(S.ZoomDomain.CHANGE,{newDomain:e})},n.prototype.getZoomRatio=function(){return y.getProperty(this.model.getOptions(),"zoomBar","zoomRatio")},n.prototype.filterDataForRangeAxis=function(e,r){var i=this.model.get("zoomDomain"),a=Object.assign({stacked:!1},r),o=y.getProperty(this.model.getOptions(),"zoomBar","updateRangeAxis");if(this.isZoomBarEnabled()&&o&&i){var s=a.stacked?"sharedStackKey":this.services.cartesianScales.getDomainIdentifier(),l=e.filter(function(u){return new Date(u[s])>=i[0]&&new Date(u[s])<=i[1]});if(l.length>0)return l}return e},n.prototype.zoomIn=function(e){e===void 0&&(e=this.getZoomRatio());var r=this.model.get("zoomDomain"),i=le.handleWidth,a=this.services.cartesianScales.getMainXScale().copy();a.domain(this.getDefaultZoomBarDomain());var o=a(r[0]),s=a(r[1]);if(!(s-o<i+1)){var l=a.range(),u=s-o,c=Math.min((l[1]-l[0])/2*(e/2),u/2),h=o+c,f=s-c;h>=f&&(h=o+u/2-i/2,f=s-u/2+i/2);var d=[a.invert(h),a.invert(f)];(r[0].valueOf()!==d[0].valueOf()||r[1].valueOf()!==d[1].valueOf())&&this.handleDomainChange(d)}},n.prototype.zoomOut=function(e){e===void 0&&(e=this.getZoomRatio());var r=this.model.get("zoomDomain"),i=this.services.cartesianScales.getMainXScale().copy();i.domain(this.getDefaultZoomBarDomain());var a=i(r[0]),o=i(r[1]),s=i.range(),l=(s[1]-s[0])/2*(e/2),u=Math.max(a-l,s[0]),c=Math.min(o+l,s[1]),h=[i.invert(u),i.invert(c)];(r[0].valueOf()!==h[0].valueOf()||r[1].valueOf()!==h[1].valueOf())&&this.handleDomainChange(h)},n.prototype.resetZoomDomain=function(){var e=this.model.get("zoomDomain"),r=this.getDefaultZoomBarDomain();(e[0].valueOf()!==r[0].valueOf()||e[1].valueOf()!==r[1].valueOf())&&this.handleDomainChange(r)},n.prototype.isMinZoomDomain=function(){var e=this.model.get("zoomDomain"),r=this.getDefaultZoomBarDomain();if(!e||!r)return!1;var i=e[1].valueOf()-e[0].valueOf(),a=r[1].valueOf()-r[0].valueOf(),o=y.getProperty(this.model.getOptions(),"zoomBar","minZoomRatio");return i/a<o},n.prototype.isMaxZoomDomain=function(){var e=this.model.get("zoomDomain"),r=this.getDefaultZoomBarDomain();return!!(e&&r&&e[0].valueOf()===r[0].valueOf()&&e[1].valueOf()===r[1].valueOf())},n.prototype.isEmptyState=function(){return this.getZoomBarData().length===0},n.prototype.isZoomBarLoading=function(e){return y.getProperty(this.model.getOptions(),"zoomBar",e,"loading")},n.prototype.isZoomBarLocked=function(e){return y.getProperty(this.model.getOptions(),"zoomBar",e,"locked")},n}(sn),aC=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),oC=function(t){aC(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.prototype.zoomIn=function(e,r,i){var a,o,s,l=i||yr;e&&(a=e.x,o=e.y,s=2);var u=U.getSVGElementSize(this.services.domUtils.getHolder(),{useClientDimensions:!0}),c=u.width,h=u.height;r.transition().duration(l.duration).ease(l.ease).attr("transform","translate("+c/2+", "+h/2+") scale("+s+") translate("+-a+","+-o+")"),this.services.events.dispatchEvent(S.CanvasZoom.CANVAS_ZOOM_IN,{element:$(e)})},n.prototype.zoomOut=function(e,r){var i=r||yr;e.transition().duration(i.duration).ease(i.ease).attr("transform",""),this.services.events.dispatchEvent(S.CanvasZoom.CANVAS_ZOOM_OUT)},n}(sn),xt=function(){function t(n,e,r){if(this.renderType=it.HTML,this.configs={},this.model=n,this.services=e,r&&(this.configs=r,this.configs.id)){var i=y.getProperty(this.model.getOptions(),"style","prefix");this.id=i+"--"+this.configs.id}this.parent||this.setParent($(this.services.domUtils.getMainContainer()))}return t.prototype.init=function(){},t.prototype.render=function(n){console.error("render() method is not implemented")},t.prototype.destroy=function(){},t.prototype.setModel=function(n){this.model=n},t.prototype.setServices=function(n){this.services=n},t.prototype.setParent=function(n){var e=this.parent;if(this.parent=n,!(e&&e.node()===n.node())&&this.type){var r=y.getProperty(this.model.getOptions(),"style","prefix");this.parent.classed(ne+"--"+r+"--"+this.type,!0),e&&e.classed(ne+"--"+r+"--"+this.type,!1)}},t.prototype.getParent=function(){return this.parent},t.prototype.getComponentContainer=function(n){if(n===void 0&&(n={withinChartClip:!1}),this.type){var e=y.getProperty(this.model.getOptions(),"style","prefix"),r=this.id?"#"+this.id:"",i=U.appendOrSelect(this.parent,(this.renderType===it.SVG?"svg":"div")+r+"."+ne+"--"+e+"--"+this.type);if(n.withinChartClip){var a=this.model.get("chartClipId");if(a){var o=$("#"+a),s=o.select("rect");s.size()!==0&&parseFloat(s.attr("height"))>0&&i.attr("clip-path","url(#"+a+")")}}return i.attr("width","100%").attr("height","100%")}return this.parent},t.prototype.getOptions=function(){if(this.configs.options){var n=y.merge({},this.model.getOptions(),this.configs.options);return n}return this.model.getOptions()},t}(),sC=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Wu=function(t){sC(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="legend",e.renderType=it.HTML,e}return n.prototype.render=function(){var e=this,r=this.getOptions(),i=y.getProperty(r,"legend"),a=y.getProperty(i,"alignment"),o=y.getProperty(r,"legend","orientation"),s=this.model.getDataGroups(),l=$t.items.status.DISABLED,u=s.some(function(E){return E.status===l}),c=y.getProperty(i,"order"),h=this.getComponentContainer().classed("center-aligned",a===Ft.CENTER).classed("right-aligned",a===Ft.RIGHT).classed(o,!0).classed("has-deactivated-items",u).attr("role",ht.GROUP).attr("aria-label","Data groups").attr("data-name","legend-items");c&&(s=this.sortDataGroups(s,c));var f=h.selectAll("div.legend-item").data(s,function(E){return E.name}),d=f.enter().append("div").attr("class","legend-item");d.merge(h.selectAll("div.legend-item")).classed("active",function(E,A){return E.status===$t.items.status.ACTIVE});var p=y.getProperty(this.getOptions(),"legend","clickable");h.classed("clickable",p&&s.length>1);var g=$t.checkbox.radius,m=d.append("div").classed("checkbox",!0),_=m.merge(f.select("div.checkbox")).attr("role",ht.CHECKBOX).attr("tabindex",p?0:-1).attr("aria-labelledby",function(E,A){return e.services.domUtils.generateElementIDString("legend-datagroup-"+A+"-title")}).attr("aria-checked",function(E){var A=E.status;return A===$t.items.status.ACTIVE}).attr("width",g*2).attr("height",g*2).attr("class",function(E,A){return e.model.getColorClassName({classNameTypes:[at.BACKGROUND],dataGroupName:E.name,originalClassName:"checkbox"})}).style("background",function(E){return E.status===$t.items.status.ACTIVE?e.model.getFillColor(E.name)||e.model.getStrokeColor(E.name):null}).classed("active",function(E,A){return E.status===$t.items.status.ACTIVE});m.append("svg").attr("focusable",!1).attr("preserveAspectRatio","xMidYMid meet").attr("xmlns","http://www.w3.org/2000/svg").attr("width","11").attr("height","11").attr("viewBox","0 0 31 28").attr("aria-hidden",!0).style("will-change","transform").append("path").attr("d","M13 21.2l-7.1-7.1-1.4 1.4 7.1 7.1L13 24 27.1 9.9l-1.4-1.5z"),d.append("p").merge(f.select("p"));var v=y.getProperty(r,"legend","additionalItems");if(v&&s.length){var x=this,O=h.selectAll("div.additional-item").data(v);O.exit().remove();var b=O.enter().append("div").merge(O).classed("legend-item",!0).classed("additional",!0).attr("aria-labelledby",function(E,A){return e.services.domUtils.generateElementIDString("legend-datagroup-"+(_.size()+A)+"-title")});b.selectAll("*").remove();var w,M=1;b.append("svg").classed("icon",!0).each(function(E,A){var C=$(this);!w||w!=E.type?(w=E.type,M=1):M++,x.addAdditionalItem(C,E,M)}),b.append("p").merge(b.select("p")),this.truncateLegendText()}f.exit().on("mouseover",null).on("click",null).on("mouseout",null).remove(),p&&d.size()>1&&this.addEventListeners()},n.prototype.sortDataGroups=function(e,r){if(e.sort(function(o,s){return r.indexOf(o.name)-r.indexOf(s.name)}),r.length<e.length){var i=e.length-r.length,a=e.slice(i);return a.concat(e.slice(0,i))}return e},n.prototype.addAdditionalItem=function(e,r,i){var a=$t.area,o=a.width,s=a.height;if(r.type===Vt.RADIUS?e.style("width",s+"px").style("height",s+"px"):e.style("width",o+"px").style("height",s+"px"),r.type===Vt.RADIUS){var l=$t.radius,u=l.iconData,c=l.fill,h=l.stroke,f=e.attr("fill","none").selectAll("circle").data(u).enter();f.append("circle").classed("radius",!0).attr("role",ht.IMG).attr("aria-label","radius").attr("cx",function(O){return O.cx}).attr("cy",function(O){return O.cy}).attr("r",function(O){return O.r}).style("fill",r.fill?r.fill:c).style("stroke",r.stroke?r.stroke:h)}else if(r.type===Vt.LINE){var d=$t.line;e.select("line.line").empty()&&e.append("line").classed("line-"+i,!0).attr("role",ht.IMG).attr("aria-label","line").attr("x1",0).attr("y1",d.yPosition).attr("x2",o).attr("y2",d.yPosition).style("stroke",r.stroke?r.stroke:d.stroke).style("stroke-width",d.strokeWidth)}else if(r.type===Vt.AREA)e.select("rect.area").empty()&&e.append("rect").classed("area-"+i,!0).attr("role",ht.IMG).attr("aria-label","area").attr("width",o).attr("height",s).style("fill",i>3&&!r.fill?$t.area.fill:r.fill).style("stroke",r.stroke);else if(r.type===Vt.SIZE){var p=$t.size,u=p.iconData,c=p.fill,h=p.stroke,g=e.attr("fill","none").attr("role",ht.IMG).attr("aria-label","size").selectAll("rect").data(u).enter();g.append("rect").classed("size",!0).attr("width",function(M){return M.width}).attr("height",function(M){return M.height}).attr("y",function(M){return 0}).style("fill",r.fill?r.fill:c).style("stroke",r.stroke?r.stroke:h).style("stroke-width",1)}else if(r.type===Vt.QUARTILE){var u=$t.quartile.iconData,m=e.selectAll("rect").attr("role",ht.IMG).attr("aria-label","quartile").data(u).enter();m.append("rect").attr("class",function(b,w){return"quartile-"+(w===0?"wrapper":"line")}).attr("x",function(b){return b.x}).attr("y",function(b){return b.y}).attr("width",function(b){return b.width}).attr("height",function(b){return b.height})}else if(r.type===Vt.ZOOM){var _=y.getProperty(Pp,"legend","zoom"),u=_.iconData,v=_.color,x=e.attr("role",ht.IMG).attr("aria-label","zoom").selectAll("g.icon").data(u).enter();x.append("g").attr("x",function(b){return b.x}).attr("y",function(b){return b.y}).attr("width",function(b){return b.width}).attr("height",function(b){return b.height}).append("polygon").attr("points","7.7 4.82 5.78 4.82 5.78 2.89 4.82 2.89 4.82 4.82 2.89 4.82 2.89 5.78 4.82 5.78 4.82 7.7 5.78 7.7 5.78 5.78 7.7 5.78 7.7 4.82").attr("fill",function(b){return r.color?r.color:v}),x.append("path").attr("d","M9.36,8.67A5.22,5.22,0,0,0,10.59,5.3,5.3,5.3,0,1,0,5.3,10.59,5.22,5.22,0,0,0,8.67,9.36L12.32,13l.68-.68Zm-4.06,1A4.34,4.34,0,1,1,9.63,5.3,4.33,4.33,0,0,1,5.3,9.63Z").attr("fill",function(b){return r.color?r.color:v})}},n.prototype.truncateLegendText=function(){var e=this.getComponentContainer(),r=y.getProperty(this.getOptions(),"legend","truncation"),i=y.getProperty(r,"type"),a=y.getProperty(r,"threshold"),o=y.getProperty(r,"numCharacter"),s=e.selectAll("div.legend-item p");s.attr("id",function(l,u){var c=this.parentNode.querySelector("div.checkbox")||this.parentNode;return c.getAttribute("aria-labelledby")}),i!==be.NONE?s.html(function(l){return l.name.length>a?y.truncateLabel(l.name,i,o):l.name}):s.html(function(l){return l.name})},n.prototype.addEventListeners=function(){var e=this,r=this.getComponentContainer(),i=this.getOptions(),a=y.getProperty(i,"legend"),o=y.getProperty(a,"truncation");r.selectAll("div.legend-item").on("mouseover",function(s){e.services.events.dispatchEvent(S.Legend.ITEM_HOVER,{hoveredElement:$(this)});var l=$(this);l.select("div.checkbox").classed("hovered",!0);var u=l.datum();u.name.length>o.threshold&&o.type!==be.NONE&&e.services.events.dispatchEvent(S.Tooltip.SHOW,{event:s,hoveredElement:l,content:u.name})}).on("mousemove",function(s){var l=$(this).datum();l.name.length>o.threshold&&o.type!==be.NONE&&e.services.events.dispatchEvent(S.Tooltip.MOVE,{event:s})}).on("click",function(){e.services.events.dispatchEvent(S.Legend.ITEM_CLICK,{clickedElement:$(this)});var s=$(this),l=s.datum();e.model.toggleDataLabel(l.name)}).on("mouseout",function(){var s=$(this);s.select("div.checkbox").classed("hovered",!1);var l=s.datum();l.name.length>o.threshold&&o.type!==be.NONE&&e.services.events.dispatchEvent(S.Tooltip.HIDE),e.services.events.dispatchEvent(S.Legend.ITEM_MOUSEOUT,{hoveredElement:s})}),r.selectAll("div.legend-item div.checkbox").on("keyup",function(s){s.key&&s.key==="Tab"&&e.services.events.dispatchEvent(S.Legend.ITEM_HOVER,{hoveredElement:$(this)})}),r.selectAll("div.legend-item div.checkbox").on("keydown",function(s,l){s.key&&s.key===" "?(s.preventDefault(),e.model.toggleDataLabel(l.name)):s.key&&s.key==="Tab"&&e.services.events.dispatchEvent(S.Legend.ITEM_MOUSEOUT,{hoveredElement:$(this)})}),r.selectAll("g.additional-item").on("mouseover",function(s){var l=$(this),u=l.datum();u.name.length>o.threshold&&e.services.events.dispatchEvent(S.Tooltip.SHOW,{event:s,hoveredElement:l,content:u.name})})},n}(xt);function lC(t){return t}var ca=1,fa=2,Dl=3,Jr=4,Kf=1e-6;function uC(t){return"translate("+t+",0)"}function cC(t){return"translate(0,"+t+")"}function fC(t){return n=>+t(n)}function hC(t,n){return n=Math.max(0,t.bandwidth()-n*2)/2,t.round()&&(n=Math.round(n)),e=>+t(e)+n}function dC(){return!this.__axis}function Uo(t,n){var e=[],r=null,i=null,a=6,o=6,s=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===ca||t===Jr?-1:1,c=t===Jr||t===fa?"x":"y",h=t===ca||t===Dl?uC:cC;function f(d){var p=r??(n.ticks?n.ticks.apply(n,e):n.domain()),g=i??(n.tickFormat?n.tickFormat.apply(n,e):lC),m=Math.max(a,0)+s,_=n.range(),v=+_[0]+l,x=+_[_.length-1]+l,O=(n.bandwidth?hC:fC)(n.copy(),l),b=d.selection?d.selection():d,w=b.selectAll(".domain").data([null]),M=b.selectAll(".tick").data(p,n).order(),E=M.exit(),A=M.enter().append("g").attr("class","tick"),C=M.select("line"),T=M.select("text");w=w.merge(w.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),M=M.merge(A),C=C.merge(A.append("line").attr("stroke","currentColor").attr(c+"2",u*a)),T=T.merge(A.append("text").attr("fill","currentColor").attr(c,u*m).attr("dy",t===ca?"0em":t===Dl?"0.71em":"0.32em")),d!==b&&(w=w.transition(d),M=M.transition(d),C=C.transition(d),T=T.transition(d),E=E.transition(d).attr("opacity",Kf).attr("transform",function(k){return isFinite(k=O(k))?h(k+l):this.getAttribute("transform")}),A.attr("opacity",Kf).attr("transform",function(k){var D=this.parentNode.__axis;return h((D&&isFinite(D=D(k))?D:O(k))+l)})),E.remove(),w.attr("d",t===Jr||t===fa?o?"M"+u*o+","+v+"H"+l+"V"+x+"H"+u*o:"M"+l+","+v+"V"+x:o?"M"+v+","+u*o+"V"+l+"H"+x+"V"+u*o:"M"+v+","+l+"H"+x),M.attr("opacity",1).attr("transform",function(k){return h(O(k)+l)}),C.attr(c+"2",u*a),T.attr(c,u*m).text(g),b.filter(dC).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===fa?"start":t===Jr?"end":"middle"),b.each(function(){this.__axis=O})}return f.scale=function(d){return arguments.length?(n=d,f):n},f.ticks=function(){return e=Array.from(arguments),f},f.tickArguments=function(d){return arguments.length?(e=d==null?[]:Array.from(d),f):e.slice()},f.tickValues=function(d){return arguments.length?(r=d==null?null:Array.from(d),f):r&&r.slice()},f.tickFormat=function(d){return arguments.length?(i=d,f):i},f.tickSize=function(d){return arguments.length?(a=o=+d,f):a},f.tickSizeInner=function(d){return arguments.length?(a=+d,f):a},f.tickSizeOuter=function(d){return arguments.length?(o=+d,f):o},f.tickPadding=function(d){return arguments.length?(s=+d,f):s},f.offset=function(d){return arguments.length?(l=+d,f):l},f}function pC(t){return Uo(ca,t)}function vC(t){return Uo(fa,t)}function ju(t){return Uo(Dl,t)}function Vv(t){return Uo(Jr,t)}var gC=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),mC=function(t){gC(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="color-legend",e.renderType=it.SVG,e.gradient_id="gradient-id-"+Math.floor(Math.random()*99999999999),e.handleAxisCompleteEvent=function(r){var i=e.getComponentContainer(),a=U.getSVGElementSize(i,{useAttrs:!0}).width,o=y.getProperty(e.getOptions(),"data","loading");if(a>$t.color.barWidth&&!o){var s=y.getProperty(e.getOptions(),"heatmap","colorLegend","title"),l=e.services.cartesianScales,u=l.getMainXScale(),c=u.range();if(c[0]>1&&(i.select("g.legend").attr("transform","translate("+c[0]+", 0)"),s)){var h=U.getSVGElementSize(i.select("g.legend-title").select("text"),{useBBox:!0}).width,f=c[0]-h-9;f>1?i.select("g.legend-title").attr("transform","translate("+f+", 0)"):(i.select("g.legend").attr("transform","translate("+c[0]+", 16)"),i.select("g.legend-title").attr("transform","translate("+c[0]+", 0)"))}}else i.select("g.legend-title").attr("transform","translate(0, 0)")},e}return n.prototype.init=function(){var e=this.services.events;e.addEventListener(S.Axis.RENDER_COMPLETE,this.handleAxisCompleteEvent)},n.prototype.render=function(e){var r=this.getOptions(),i=this.getComponentContainer(),a=U.getSVGElementSize(i,{useAttrs:!0}).width,o=y.getProperty(r,"color","gradient","colors"),s=y.getProperty(r,"heatmap","colorLegend","type"),l=y.getProperty(r,"color","pairing","option"),u=y.getProperty(r,"heatmap","colorLegend","title"),c=y.getProperty(this.getOptions(),"data","loading");if(c){i.html("");return}var h=!y.isEmpty(o),f=this.model.getValueDomain(),d=!(a<=$t.color.barWidth),p=d?$t.color.barWidth:a,g=U.appendOrSelect(i,"g.legend"),m=U.appendOrSelect(g,"g.legend-axis");if(u){var _=U.appendOrSelect(i,"g.legend-title"),v=U.appendOrSelect(_,"text");v.text(u).attr("dy","0.7em"),g.attr("transform","translate(0, 16)")}var x=f[0]<0&&f[1]>0?"diverge":"mono";(l<1&&l>4&&x==="mono"||l<1&&l>2&&x==="diverge")&&(l=1);var O=[],b=x==="diverge"?17:11;if(h)O=o;else for(var w=1;w<b+1;w++)O.push(s===ui.LINEAR?"stop-color-"+x+"-"+l+"-"+w:"fill-"+x+"-"+l+"-"+w);var M=ge(f[0],f[1]),E=wE(M,3),A=He().domain(f).range([0,p]),C=ju(A).tickSize(0).tickValues(E);switch(s){case ui.LINEAR:this.drawLinear(O,g,p);break;case ui.QUANTIZE:var T=this.drawQuantize(O,x,h,g,p);A.range([T,p]);break;default:throw Error("Entered color legend type is not supported.")}m.attr("transform","translate(0,"+$t.color.axisYTranslation+")").call(C),m.select(".domain").remove(),m.select("g.tick:last-of-type text").style("text-anchor",d?"middle":"end"),m.select("g.tick:first-of-type text").style("text-anchor",d?"middle":"start")},n.prototype.drawLinear=function(e,r,i){var a=100/(e.length-1),o=U.appendOrSelect(r,"linearGradient");o.attr("id",this.gradient_id+"-legend").selectAll("stop").data(e).enter().append("stop").attr("offset",function(l,u){return u*a+"%"}).attr("class",function(l,u){return e[u]}).attr("stop-color",function(l){return l});var s=U.appendOrSelect(r,"rect");s.attr("width",i).attr("height",$t.color.barHeight).style("fill","url(#"+this.gradient_id+"-legend)")},n.prototype.drawQuantize=function(e,r,i,a,o){!i&&r==="diverge"&&e.splice(e.length/2,1);var s=ki().domain(e).range([0,o]),l=U.appendOrSelect(a,"g.quantized-rect");return l.selectAll("rect").data(s.domain()).join("rect").attr("x",function(u){return s(u)}).attr("y",0).attr("width",Math.max(0,s.bandwidth()-1)).attr("height",$t.color.barHeight).attr("class",function(u){return u}).attr("fill",function(u){return u}),(!i&&r)==="mono"?s.bandwidth()-1:0},n.prototype.destroy=function(){var e=this.services.events;e.removeEventListener(S.Axis.RENDER_COMPLETE,this.handleAxisCompleteEvent)},n}(Wu),yC={prefix:"bx",selectorTabbable:`
    a[href], area[href], input:not([disabled]):not([tabindex='-1']),
    button:not([disabled]):not([tabindex='-1']),select:not([disabled]):not([tabindex='-1']),
    textarea:not([disabled]):not([tabindex='-1']),
    iframe, object, embed, *[tabindex]:not([tabindex='-1']), *[contenteditable=true]
  `,selectorFocusable:`
    a[href], area[href], input:not([disabled]),
    button:not([disabled]),select:not([disabled]),
    textarea:not([disabled]),
    iframe, object, embed, *[tabindex], *[contenteditable=true]
  `},fs=yC;function Qf(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _C(t,n,e){return n&&Qf(t.prototype,n),e&&Qf(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xC(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function bC(t){return EC(t)||TC(t)||OC(t)||wC()}function wC(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OC(t,n){if(t){if(typeof t=="string")return Ll(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);if(e==="Object"&&t.constructor&&(e=t.constructor.name),e==="Map"||e==="Set")return Array.from(t);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return Ll(t,n)}}function TC(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function EC(t){if(Array.isArray(t))return Ll(t)}function Ll(t,n){(n==null||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function Gv(t){return t.reduce(function(n,e){return Array.isArray(e)?n.push.apply(n,bC(Gv(e))):n.push(e),n},[])}function SC(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return Gv(n).reduce(function(r,i){return i(r)},function(){function r(){xC(this,r)}return _C(r)}())}function Rl(t){return Rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Rl(t)}function AC(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function Jf(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function MC(t,n,e){return n&&Jf(t.prototype,n),e&&Jf(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function CC(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&kl(t,n)}function kl(t,n){return kl=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},kl(t,n)}function PC(t){var n=LC();return function(){var r=no(t),i;if(n){var a=no(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return DC(this,i)}}function DC(t,n){if(n&&(Rl(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fv(t)}function Fv(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LC(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function no(t){return no=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},no(t)}function RC(t){var n=function(e){CC(i,e);var r=PC(i);function i(a){var o,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(AC(this,i),o=r.call(this,a,s),o.children=[],!a||a.nodeType!==Node.ELEMENT_NODE)throw new TypeError("DOM element should be given to initialize this widget.");return o.element=a,o.options=Object.assign(Object.create(o.constructor.options),s),o.constructor.components.set(o.element,Fv(o)),o}return MC(i,[{key:"release",value:function(){for(var o=this.children.pop();o;o=this.children.pop())o.release();return this.constructor.components.delete(this.element),null}}],[{key:"create",value:function(o,s){return this.components.get(o)||new this(o,s)}}]),i}(t);return n}function Il(t){return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Il(t)}function kC(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function th(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function IC(t,n,e){return n&&th(t.prototype,n),e&&th(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ha(){return typeof Reflect<"u"&&Reflect.get?ha=Reflect.get:ha=function(n,e,r){var i=NC(n,e);if(i){var a=Object.getOwnPropertyDescriptor(i,e);return a.get?a.get.call(arguments.length<3?n:r):a.value}},ha.apply(this,arguments)}function NC(t,n){for(;!Object.prototype.hasOwnProperty.call(t,n)&&(t=Ur(t),t!==null););return t}function $C(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&Nl(t,n)}function Nl(t,n){return Nl=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Nl(t,n)}function UC(t){var n=GC();return function(){var r=Ur(t),i;if(n){var a=Ur(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return BC(this,i)}}function BC(t,n){if(n&&(Il(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VC(t)}function VC(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GC(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ur(t){return Ur=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ur(t)}function FC(t){var n=function(e){$C(i,e);var r=UC(i);function i(){var a;kC(this,i);for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return a=r.call.apply(r,[this].concat(s)),a.handles=new Set,a}return IC(i,[{key:"manage",value:function(o){return this.handles.add(o),o}},{key:"unmanage",value:function(o){return this.handles.delete(o),o}},{key:"release",value:function(){var o=this;return this.handles.forEach(function(s){s.release(),o.handles.delete(s)}),ha(Ur(i.prototype),"release",this).call(this)}}]),i}(t);return n}function ti(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];return t.addEventListener.apply(t,e),{release:function(){return t.removeEventListener.apply(t,e),null}}}function $l(t){return $l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},$l(t)}function HC(t){return qC(t)||jC(t)||WC(t)||zC()}function zC(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WC(t,n){if(t){if(typeof t=="string")return Ul(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);if(e==="Object"&&t.constructor&&(e=t.constructor.name),e==="Map"||e==="Set")return Array.from(t);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return Ul(t,n)}}function jC(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qC(t){if(Array.isArray(t))return Ul(t)}function Ul(t,n){(n==null||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function YC(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function eh(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function XC(t,n,e){return n&&eh(t.prototype,n),e&&eh(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ZC(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&Bl(t,n)}function Bl(t,n){return Bl=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Bl(t,n)}function KC(t){var n=tP();return function(){var r=ro(t),i;if(n){var a=ro(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return QC(this,i)}}function QC(t,n){if(n&&($l(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JC(t)}function JC(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tP(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ro(t){return ro=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ro(t)}function eP(t){var n=function(e){ZC(i,e);var r=KC(i);function i(){return YC(this,i),r.apply(this,arguments)}return XC(i,[{key:"_changeState",value:function(){throw new Error("_changeState() should be overridden to perform actual change in state.")}},{key:"changeState",value:function(){for(var o=this,s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var c=typeof l[0]=="string"?l.shift():void 0,h=Object(l[0])===l[0]&&typeof l[0]!="function"?l.shift():void 0,f=typeof l[0]=="function"?l.shift():void 0;if(typeof this.shouldStateBeChanged=="function"&&!this.shouldStateBeChanged(c,h)){f&&f(null,!0);return}var d={group:h&&h.group,state:c},p=[d.group,c].filter(Boolean).join("-").split("-").map(function(O){return O[0].toUpperCase()+O.substr(1)}).join(""),g=new CustomEvent(this.options["eventBefore".concat(p)],{bubbles:!0,cancelable:!0,detail:h}),m=h&&h.delegatorNode||this.element,_=!m.dispatchEvent(g);if(_){if(f){var v=new Error("Changing state (".concat(JSON.stringify(d),") has been canceled."));v.canceled=!0,f(v)}}else{var x=[c,h].filter(Boolean);this._changeState.apply(this,HC(x).concat([function(){m.dispatchEvent(new CustomEvent(o.options["eventAfter".concat(p)],{bubbles:!0,cancelable:!0,detail:h})),f&&f()}]))}}}]),i}(t);return n}function Vl(t,n){var e=t.target,r=t.currentTarget;if(typeof e.matches=="function"){if(e.matches(n))return e;if(e.matches("".concat(n," *"))){var i=e.closest(n);if((r.nodeType===Node.DOCUMENT_NODE?r.documentElement:r).contains(i))return i}}}function nh(t){if(!t||typeof t=="function")return{launchingElement:null,launchingEvent:null};var n=t.delegateTarget||t.currentTarget||t,e=t.currentTarget&&t;if(n&&!n.nodeType)throw new TypeError("DOM Node should be given for launching element.");if(e&&!e.type)throw new TypeError("DOM event should be given for launching event.");return{launchingElement:n,launchingEvent:e}}function Gl(t){return Gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Gl(t)}function nP(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function rh(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rP(t,n,e){return n&&rh(t.prototype,n),e&&rh(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function iP(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&Fl(t,n)}function Fl(t,n){return Fl=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Fl(t,n)}function aP(t){var n=lP();return function(){var r=io(t),i;if(n){var a=io(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return oP(this,i)}}function oP(t,n){if(n&&(Gl(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sP(t)}function sP(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lP(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function io(t){return io=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},io(t)}function uP(t){var n=function(e){iP(i,e);var r=aP(i);function i(){return nP(this,i),r.apply(this,arguments)}return rP(i,[{key:"show",value:function(o,s){(!o||typeof o=="function")&&(s=o),this.changeState("shown",nh(o),s)}},{key:"hide",value:function(o,s){(!o||typeof o=="function")&&(s=o),this.changeState("hidden",nh(o),s)}}]),i}(t);return n}var cP=[eP,uP];const fP=cP;function Hl(t){return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Hl(t)}function hP(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function ih(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dP(t,n,e){return n&&ih(t.prototype,n),e&&ih(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pP(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&zl(t,n)}function zl(t,n){return zl=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},zl(t,n)}function vP(t){var n=yP();return function(){var r=ao(t),i;if(n){var a=ao(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return gP(this,i)}}function gP(t,n){if(n&&(Hl(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mP(t)}function mP(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yP(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ao(t){return ao=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ao(t)}function _P(t){var n=function(e){pP(i,e);var r=vP(i);function i(){return hP(this,i),r.apply(this,arguments)}return dP(i,null,[{key:"init",value:function(){var o=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=Object.assign(Object.create(this.options),l);if(!s||s.nodeType!==Node.ELEMENT_NODE&&s.nodeType!==Node.DOCUMENT_NODE)throw new TypeError("DOM document or DOM element should be given to search for and initialize this widget.");if(s.nodeType===Node.ELEMENT_NODE&&s.matches(u.selectorInit))this.create(s,l);else{var c=u.initEventNames.map(function(h){return ti(s,h,function(f){var d=Vl(f,"[".concat(u.attribInitTarget,"]"));if(d){f.delegateTarget=d;var p=d.ownerDocument.querySelectorAll(d.getAttribute(u.attribInitTarget));if(p.length>1)throw new Error("Target widget must be unique.");if(p.length===1){d.tagName==="A"&&f.preventDefault();var g=o.create(p[0],l);typeof g.createdByLauncher=="function"&&g.createdByLauncher(f)}}})});return{release:function(){for(var f=c.pop();f;f=c.pop())f.release()}}}return""}}]),i.forLazyInit=!0,i}(t);return n}function Wl(t){return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Wl(t)}function xP(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function ah(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bP(t,n,e){return n&&ah(t.prototype,n),e&&ah(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function wP(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&jl(t,n)}function jl(t,n){return jl=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},jl(t,n)}function OP(t){var n=SP();return function(){var r=oo(t),i;if(n){var a=oo(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return TP(this,i)}}function TP(t,n){if(n&&(Wl(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EP(t)}function EP(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SP(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function oo(t){return oo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},oo(t)}var AP=function(t){wP(e,t);var n=OP(e);function e(r,i){var a;return xP(this,e),a=n.call(this,r,i),a._handleFocusinListener=void 0,a._handleKeydownListener=void 0,a._handleFocusin=function(o){var s=a.element.querySelector(a.options.selectorModalContainer)||a.element;a.element.classList.contains(a.options.classVisible)&&!s.contains(o.target)&&a.options.selectorsFloatingMenus.every(function(l){return!Vl(o,l)})&&a.element.querySelector(fs.selectorTabbable).focus()},a._hookCloseActions(),a}return bP(e,[{key:"createdByLauncher",value:function(i){this.show(i)}},{key:"shouldStateBeChanged",value:function(i){return i==="shown"?!this.element.classList.contains(this.options.classVisible):this.element.classList.contains(this.options.classVisible)}},{key:"_changeState",value:function(i,a,o){var s=this,l,u=function(){if(l&&(l=s.unmanage(l).release()),i==="shown"&&s.element.offsetWidth>0&&s.element.offsetHeight>0){s.previouslyFocusedNode=s.element.ownerDocument.activeElement;var d=s.element.querySelector(s.options.selectorPrimaryFocus)||s.element.querySelector(fs.selectorTabbable);d.focus()}o()};if(this._handleFocusinListener&&(this._handleFocusinListener=this.unmanage(this._handleFocusinListener).release()),i==="shown"){var c="onfocusin"in this.element.ownerDocument.defaultView,h=c?"focusin":"focus";this._handleFocusinListener=this.manage(ti(this.element.ownerDocument,h,this._handleFocusin,!c))}i==="hidden"?(this.element.classList.toggle(this.options.classVisible,!1),this.element.ownerDocument.body.classList.toggle(this.options.classBody,!1),(this.options.selectorFocusOnClose||this.previouslyFocusedNode)&&(this.element.ownerDocument.querySelector(this.options.selectorFocusOnClose)||this.previouslyFocusedNode).focus()):i==="shown"&&(this.element.classList.toggle(this.options.classVisible,!0),this.element.ownerDocument.body.classList.toggle(this.options.classBody,!0)),l=this.manage(ti(this.element,"transitionend",u))}},{key:"_hookCloseActions",value:function(){var i=this;this.manage(ti(this.element,"click",function(a){var o=Vl(a,i.options.selectorModalClose);o&&(a.delegateTarget=o),(o||a.target===i.element)&&i.hide(a)})),this._handleKeydownListener&&(this._handleKeydownListener=this.unmanage(this._handleKeydownListener).release()),this._handleKeydownListener=this.manage(ti(this.element.ownerDocument.body,"keydown",function(a){a.which===27&&i.shouldStateBeChanged("hidden")&&(a.stopPropagation(),i.hide(a))}))}}],[{key:"options",get:function(){var i=fs.prefix;return{selectorInit:"[data-modal]",selectorModalClose:"[data-modal-close]",selectorPrimaryFocus:"[data-modal-primary-focus]",selectorsFloatingMenus:[".".concat(i,"--overflow-menu-options"),".".concat(i,"--tooltip"),".flatpickr-calendar"],selectorModalContainer:".".concat(i,"--modal-container"),classVisible:"is-visible",classBody:"".concat(i,"--body--with-modal-open"),attribInitTarget:"data-modal-target",initEventNames:["click"],eventBeforeShown:"modal-beingshown",eventAfterShown:"modal-shown",eventBeforeHidden:"modal-beinghidden",eventAfterHidden:"modal-hidden"}}}]),e.components=new WeakMap,e}(SC(RC,_P,fP,FC));const MP=AP;var CP=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),qu=function(t){CP(n,t);function n(e,r,i){var a=t.call(this,e,r,i)||this;return a.type="modal",a.isEventListenerAdded=!1,a.handleShowModal=function(){a.modal.html(a.getModalHTML()),a.modal.select("div.cds--modal-footer button.cds--btn").on("click",function(){return a.model.exportToCSV()});var o=MP.create(a.modal.node());o.show()},a.init(),a}return n.prototype.addEventListeners=function(){this.services.events.addEventListener(S.Modal.SHOW,this.handleShowModal)},n.prototype.removeEventListeners=function(){this.services.events.removeEventListener(S.Modal.SHOW,this.handleShowModal)},n.prototype.getModalHTML=function(){var e=this.model.getOptions(),r=y.getProperty(e,"style","prefix"),i=this.model.getTabularDataArray();return`
		<div class="cds--modal-container cds--modal-container">
			<div class="cds--modal-header cds--modal-header">
				<p class="cds--modal-header__label cds--type-delta cds--modal-header__label cds--type-delta" id="modal-title">Tabular representation</p>

				<p class="cds--modal-header__heading cds--type-beta cds--modal-header__heading cds--type-beta" id="modal-description">`+e.title+`</p>

				<button class="cds--modal-close cds--modal-close" type="button" data-modal-close aria-label="close modal"  data-modal-primary-focus>
					<svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" fill="currentColor" aria-label="Close" width="20" height="20" viewBox="0 0 32 32" role="img" class="cds--modal-close__icon cds--modal-close__icon">
						<path d="M24 9.4L22.6 8 16 14.6 9.4 8 8 9.4 14.6 16 8 22.6 9.4 24 16 17.4 22.6 24 24 22.6 17.4 16 24 9.4z"></path>
					</svg>
				</button>
			</div>

			<div class="cds--modal-content cds--modal-content">
				<table class="cds--data-table cds--data-table--no-border cds--data-table cds--data-table--no-border">
					<thead>
						<tr>
							`+Lt(i,0).map(function(a){return`<th scope="col">
								<div class="cds--table-header-label cds--table-header-label">`+a+`</div>
							</th>`}).join("")+`
						</tr>
					</thead>

					<tbody>`+i.slice(1).map(function(a){return`
							<tr>
								`+a.map(function(o){return"<td>"+o+"</td>"}).join("")+`
							</tr>`}).join("")+`
					</tbody>
				</table>
			</div>

			<div class="cds--modal-footer cds--modal-footer">
			  <div class="`+ne+"--"+r+`-modal-footer-spacer"></div>
			  <button class="cds--btn cds--btn--primary cds--btn cds--btn--primary" type="button" data-modal-primary-focus>Download as CSV</button>
			</div>
		</div>`},n.prototype.render=function(){var e=this.model.getOptions();if(!this.isEventListenerAdded){var r=$(this.services.domUtils.getHolder()),i=y.getProperty(e,"style","prefix");this.modal=U.appendOrSelect(r,"div."+ne+"--"+i+"--modal"),this.addEventListeners(),this.isEventListenerAdded=!0,this.modal.attr("data-modal",!0).attr("class","cds--modal cds--modal").attr("role","dialog").attr("aria-modal",!0).attr("aria-labelledby","modal-title").attr("aria-describedby","modal-description").attr("tabindex",-1)}},n.prototype.destroy=function(){this.removeEventListeners(),this.isEventListenerAdded=!1},n}(xt),rr,Xt;(function(t){t.LEFT="left",t.RIGHT="right",t.TOP="top",t.BOTTOM="bottom"})(Xt||(Xt={}));var oh=(rr={},rr[Xt.LEFT]=function(t,n,e){return{top:t.top-Math.round(n.offsetHeight/2)+Math.round(e.height/2),left:Math.round(t.left-n.offsetWidth)}},rr[Xt.RIGHT]=function(t,n,e){return{top:t.top-Math.round(n.offsetHeight/2)+Math.round(e.height/2),left:Math.round(t.left+e.width)}},rr[Xt.TOP]=function(t,n,e){return{top:Math.round(t.top-n.offsetHeight),left:t.left-Math.round(n.offsetWidth/2)+Math.round(e.width/2)}},rr[Xt.BOTTOM]=function(t,n,e){return{top:Math.round(t.top+e.height),left:t.left-Math.round(n.offsetWidth/2)+Math.round(e.width/2)}},rr),ta=typeof window<"u"?window:{innerHeight:0,scrollY:0,innerWidth:0,scrollX:0},Bo=function(){function t(n){n===void 0&&(n={}),this.positions=oh,this.positions=Object.assign({},oh,n)}return t.prototype.getRelativeOffset=function(n){for(var e={left:n.offsetLeft,top:n.offsetTop};n.offsetParent&&getComputedStyle(n.offsetParent).position==="static";)e.left+=n.offsetLeft,e.top+=n.offsetTop,n=n.offsetParent;return e},t.prototype.getAbsoluteOffset=function(n){for(var e=n,r={top:0,left:0};e.offsetParent;){var i=getComputedStyle(e.offsetParent);i.position==="static"&&i.marginLeft&&i.marginTop&&(parseInt(i.marginTop,10)&&(r.top+=parseInt(i.marginTop,10)),parseInt(i.marginLeft,10)&&(r.left+=parseInt(i.marginLeft,10))),e=e.offsetParent}var a=n.getBoundingClientRect(),o=document.body.getBoundingClientRect();return{top:a.top-o.top+r.top,left:a.left-o.left+r.left}},t.prototype.findRelative=function(n,e,r){var i=this.getRelativeOffset(n),a=n.getBoundingClientRect();return this.calculatePosition(i,a,e,r)},t.prototype.findAbsolute=function(n,e,r){var i=this.getAbsoluteOffset(n),a=n.getBoundingClientRect();return this.calculatePosition(i,a,e,r)},t.prototype.findPosition=function(n,e,r,i){i===void 0&&(i=this.getAbsoluteOffset);var a=i(n),o=n.getBoundingClientRect();return this.calculatePosition(a,o,e,r)},t.prototype.findPositionAt=function(n,e,r){return this.calculatePosition(n,{height:0,width:0},e,r)},t.prototype.getPlacementBox=function(n,e){var r=n.offsetHeight+e.top,i=n.offsetWidth+e.left;return{top:e.top,bottom:r,left:e.left,right:i}},t.prototype.addOffset=function(n,e,r){return e===void 0&&(e=0),r===void 0&&(r=0),Object.assign({},n,{top:n.top+e,left:n.left+r})},t.prototype.setElement=function(n,e){n.style.top=e.top+"px",n.style.left=e.left+"px"},t.prototype.findBestPlacement=function(n,e,r,i,a){var o=this;i===void 0&&(i=this.defaultContainerFunction),a===void 0&&(a=this.findPosition);var s=r.map(function(l){var u=a(n,e,l),c=o.getPlacementBox(e,u),h=c.bottom-i().height,f=c.right-i().width;h=h<0?e.offsetHeight:h,f=f<0?e.offsetWidth:f;var d=e.offsetHeight*e.offsetWidth,p=h*f,g=d-p;g=g===0?d:g;var m=g/d;return{placement:l,weight:m}});return s.sort(function(l,u){return u.weight-l.weight}),s[0].placement},t.prototype.findBestPlacementAt=function(n,e,r,i){var a=this;i===void 0&&(i=this.defaultContainerFunction);var o=function(s,l,u){return a.findPositionAt(n,l,u)};return this.findBestPlacement(null,e,r,i,o)},t.prototype.defaultContainerFunction=function(){return{width:ta.innerHeight-ta.scrollY,height:ta.innerWidth-ta.scrollX}},t.prototype.calculatePosition=function(n,e,r,i){return this.positions[i]?this.positions[i](n,r,e):(console.error("No function found for placement, defaulting to 0,0"),{left:0,top:0})},t}();new Bo;var PP=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),DP=function(t){PP(n,t);function n(e,r){var i=t.call(this,e,r)||this;return i.type="threshold",i.renderType=it.SVG,i.positionService=new Bo,i}return n.prototype.render=function(e){var r=this;e===void 0&&(e=!1);var i=y.getProperty(this.getOptions(),"axes"),a=[];Object.keys(i).forEach(function(p){var g,m;if(Object.values(q).includes(p)){var _=i[p];_.thresholds&&_.thresholds.length>0&&a.push({axisPosition:p,thresholds:_.thresholds,correspondingDatasets:(g=_)===null||g===void 0?void 0:g.correspondingDatasets,mapsTo:(m=_)===null||m===void 0?void 0:m.mapsTo})}});var o=this.getComponentContainer({withinChartClip:!0}),s=o.selectAll("g.axis-thresholds").data(a,function(p){return p.axisPosition});s.exit().attr("opacity",0).remove();var l=s.enter().append("g"),u=l.merge(s);u.attr("class",function(p){return"axis-thresholds "+p.axisPosition});var c=u.selectAll("g.threshold-group").data(function(p){return p.thresholds.map(function(g){return g.axisPosition=p.axisPosition,g.datum=r.constructDatumObj(p,g),g})});c.exit().attr("opacity",0).remove();var h=c.enter().append("g");h.append("line").attr("class","threshold-line"),h.append("rect").attr("class","threshold-hoverable-area");var f=h.merge(c);f.attr("class","threshold-group");var d=this;u.each(function(p){var g=p.axisPosition,m=d.services.cartesianScales.getScaleByPosition(g),_=d.services.cartesianScales.getScaleTypeByPosition(g),v=null,x=null;g===q.LEFT||g===q.RIGHT?(x=m,v=d.services.cartesianScales.getMainXScale()):(v=m,x=d.services.cartesianScales.getMainYScale());var O=_===nt.LABELS,b=v.range(),w=b[0],M=b[1],E=x.range(),A=E[0],C=E[1],T=d.services.cartesianScales,k=T.getOrientation(),D=function(P){return T.getDomainValue(P)},I=function(P){return T.getRangeValue(P)},L=y.flipDomainAndRangeBasedOnOrientation(D,I,k),R=L[0],N=L[1],G=$(this);g===q.TOP||g===q.BOTTOM?(G.selectAll("line.threshold-line").transition().call(function(P){return d.services.transitions.setupTransition({transition:P,name:"threshold-line-update",animate:e})}).attr("y1",C).attr("y2",A).attr("x1",function(P){var F=P.datum;return R(F)+(O?m.step()/2:0)}).attr("x2",function(P){var F=P.datum;return R(F)+(O?m.step()/2:0)}).style("stroke",function(P){var F=P.fillColor;return F}),G.selectAll("rect.threshold-hoverable-area").attr("x",0).attr("y",function(P){var F=P.datum;return-R(F)}).attr("width",Math.abs(A-C)).classed("rotate",!0)):(G.selectAll("line.threshold-line").transition().call(function(P){return d.services.transitions.setupTransition({transition:P,name:"threshold-line-update",animate:e})}).attr("x1",w).attr("x2",M).attr("y1",function(P){var F=P.datum;return N(F)+(O?m.step()/2:0)}).attr("y2",function(P){var F=P.datum;return N(F)+(O?m.step()/2:0)}).style("stroke",function(P){var F=P.fillColor;return F}),G.selectAll("rect.threshold-hoverable-area").attr("x",w).attr("y",function(P){var F=P.datum;return N(F)}).attr("width",Math.abs(M-w)).classed("rotate",!1))}),this.services.events.addEventListener(S.Threshold.SHOW,function(p){r.setThresholdLabelPosition(p.detail),r.label.classed("hidden",!1)}),this.services.events.addEventListener(S.Threshold.HIDE,function(p){r.label.classed("hidden",!0)}),this.appendThresholdLabel(),this.addEventListeners()},n.prototype.getFormattedValue=function(e){var r=e.value,i=e.axisPosition,a=this.getOptions(),o=this.services.cartesianScales.getScaleTypeByPosition(i);if(o===nt.TIME){var s=[q.LEFT,q.RIGHT].includes(i),l=this.services.cartesianScales.getMainXScale(),u=this.services.cartesianScales.getMainYScale(),c=s?u:l,h=y.getProperty(a,"timeScale"),f=Ml(c.ticks());return Al(r,0,c.ticks(),f,h)}return r.toLocaleString("en")},n.prototype.appendThresholdLabel=function(){var e=$(this.services.domUtils.getHolder()),r=y.getProperty(this.getOptions(),"style","prefix");this.label=U.appendOrSelect(e,"div."+ne+"--"+r+"--threshold--label").classed("hidden",!0)},n.prototype.setThresholdLabelPosition=function(e){var r=e.event,i=e.datum,a=this.services.domUtils.getHolder(),o=Nn(r,a),s=i.valueFormatter?i.valueFormatter(i.value):this.getFormattedValue(i);this.label.html((i.label||"Threshold")+": "+s).style("background-color",i.fillColor);var l=this.label.node(),u=this.positionService.findBestPlacementAt({left:o[0],top:o[1]},l,[Xt.RIGHT,Xt.LEFT,Xt.TOP,Xt.BOTTOM],function(){return{width:a.offsetWidth,height:a.offsetHeight}}),c=this.positionService.findPositionAt({left:o[0],top:o[1]},l,u);this.positionService.setElement(l,c)},n.prototype.constructDatumObj=function(e,r){var i={};return e.correspondingDatasets&&(i.group=y.getProperty(e,"correspondingDatasets",0)),i[e.mapsTo]=r.value,i},n.prototype.addEventListeners=function(){var e=this,r=this.getComponentContainer({withinChartClip:!0});r.selectAll("rect.threshold-hoverable-area").on("mouseover mousemove",function(i){$(this.parentNode).select("line.threshold-line").classed("active",!0),e.services.events.dispatchEvent(S.Threshold.SHOW,{event:i,hoveredElement:$(this),datum:$(this).datum()})}).on("mouseout",function(i){$(this.parentNode).select("line.threshold-line").classed("active",!1),e.services.events.dispatchEvent(S.Threshold.HIDE,{event:i,hoveredElement:$(this),datum:$(this).datum()})})},n}(xt),LP=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Vo=function(t){LP(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="title",e.renderType=it.HTML,e}return n.prototype.render=function(){var e=this.getComponentContainer(),r=y.getProperty(this.getOptions(),"title"),i=e.selectAll("p.title").data([r]);if(i.enter().append("p").classed("title",!0).attr("role","heading").attr("aria-level",2).merge(i).html(function(o){return o}),i.node()&&i.node().offsetWidth<i.node().scrollWidth){var a=this;i.on("mouseover",function(o){a.services.events.dispatchEvent(S.Tooltip.SHOW,{event:o,hoveredElement:i,content:i.text()})}).on("mousemove",function(o){a.services.events.dispatchEvent(S.Tooltip.MOVE,{event:o})}).on("mouseout",function(){a.services.events.dispatchEvent(S.Tooltip.HIDE)})}i.exit().remove()},n.prototype.truncateTitle=function(e,r){if(!(r<=0)){var i=e.text();if(e.node().getComputedTextLength()>r){e.append("tspan").text("...");var a=U.appendOrSelect(e,"tspan").node().getComputedTextLength(),o=e.text(),s=this.getSubstringIndex(e.node(),0,o.length-1,r-a);e.html(o.substring(0,s-1)).append("tspan").text("...");var l=this;e.on("mouseover",function(u){l.services.events.dispatchEvent(S.Tooltip.SHOW,{event:u,hoveredElement:e,content:i})}).on("mousemove",function(u){l.services.events.dispatchEvent(S.Tooltip.MOVE,{event:u})}).on("mouseout",function(){l.services.events.dispatchEvent(S.Tooltip.HIDE)})}}},n.prototype.getMaxTitleWidth=function(){return U.getSVGElementSize(this.parent.node(),{useAttrs:!0}).width},n.prototype.getSubstringIndex=function(e,r,i,a){var o=Math.floor((i+r)/2);return e.getSubStringLength(0,o)>a?this.getSubstringIndex(e,r,o,a):e.getSubStringLength(0,o)<a?e.getSubStringLength(0,o+1)>a?o:this.getSubstringIndex(e,o,i,a):o},n}(xt),RP=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),kP=function(t){RP(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="meter-title",e.renderType=it.SVG,e}return n.prototype.render=function(){var e=y.getProperty(this.model.getDisplayData(),0),r=this.getOptions(),i=this.getComponentContainer(),a=r.data.groupMapsTo,o=y.getProperty(r,"meter","proportional");if(o)this.displayTotal(),this.displayBreakdownTitle();else{var s=i.selectAll("text.meter-title").data([e[a]]);s.enter().append("text").classed("meter-title",!0).merge(s).attr("x",0).attr("y","1em").text(function(c){return c}),s.exit().remove(),this.appendPercentage()}this.displayStatus();var l=this.getMaxTitleWidth(),u=U.appendOrSelect(i,"text.meter-title");l>0&&u.node().getComputedTextLength()>l&&this.truncateTitle(u,l)},n.prototype.displayBreakdownTitle=function(){var e=this.getComponentContainer(),r=this.getOptions(),i=this.model.getMaximumDomain(this.model.getDisplayData()),a=y.getProperty(r,"meter","proportional","total"),o=y.getProperty(r,"meter","proportional","unit")?y.getProperty(r,"meter","proportional","unit"):"",s;if(i===a)s=null;else{var l=a!==null?a-i:i,u=y.getProperty(r,"meter","proportional","breakdownFormatter");s=u!==null?u({datasetsTotal:i,total:a}):i+" "+o+" used ("+l+" "+o+" available)"}var c=e.selectAll("text.proportional-meter-title").data([s]);c.enter().append("text").classed("proportional-meter-title",!0).merge(c).attr("x",0).attr("y","1em").text(function(d){return d}),c.exit().remove();var h=this.getMaxTitleWidth(),f=U.appendOrSelect(e,"text.proportional-meter-title");h>0&&f.node().getComputedTextLength()>h&&this.truncateTitle(f,h)},n.prototype.displayTotal=function(){var e=this.getComponentContainer(),r=this.getOptions(),i=y.getProperty(r,"meter","proportional","total"),a=i?y.getProperty(r,"meter","proportional","total"):this.model.getMaximumDomain(this.model.getDisplayData()),o=y.getProperty(r,"meter","proportional","unit")?y.getProperty(r,"meter","proportional","unit"):"",s=y.getProperty(r,"meter","proportional","totalFormatter"),l=s!==null?s(a):i+" "+o+" total",u=U.getHTMLElementSize(this.services.domUtils.getMainContainer()),c=u.width?u.width:this.parent.node().getAttribute("width"),h=e.selectAll("text.proportional-meter-total").data([l]);h.enter().append("text").classed("proportional-meter-total",!0).merge(h).attr("x",this.model.getStatus()?c-zt.total.paddingRight:c).attr("y","1em").attr("text-anchor","end").text(function(f){return f}),h.exit().remove()},n.prototype.displayStatus=function(){var e=this,r=this.getComponentContainer(),i=U.getHTMLElementSize(this.services.domUtils.getMainContainer()),a=i.width?i.width:0,o=this.model.getStatus(),s=zt.status.indicatorSize/2,l=U.appendOrSelect(r,"g.status-indicator").attr("class",o!==null?"status-indicator status--"+o:"").attr("transform","translate("+(a-s)+", 0)"),u=o?[o]:[],c=l.selectAll("circle.status").data(u);c.enter().append("circle").merge(c).attr("class","status").attr("r",s).attr("cx",0).attr("cy","calc(1em / 2)");var h=l.selectAll("path.innerFill").data(u);h.enter().append("path").merge(h).attr("d",e.getStatusIconPathString(o)).attr("transform","translate(-"+s+", 0)").attr("class","innerFill"),h.exit().remove(),c.exit().remove()},n.prototype.appendPercentage=function(){var e=y.getProperty(this.model.getDisplayData(),0,"value"),r=this.getComponentContainer(),i=U.appendOrSelect(r,"text.meter-title"),a=y.getProperty(this.getOptions(),"meter","statusBar","percentageIndicator","enabled")===!0?[e]:[],o=r.selectAll("text.percent-value").data(a),s=zt.statusBar.paddingRight;o.enter().append("text").classed("percent-value",!0).merge(o).text(function(l){return l+"%"}).attr("x",+i.attr("x")+i.node().getComputedTextLength()+s).attr("y",i.attr("y")),o.exit().remove()},n.prototype.truncateTitle=function(e,r){t.prototype.truncateTitle.call(this,e,r);var i=U.appendOrSelect(this.parent,"tspan"),a=zt.statusBar.paddingRight,o=Math.ceil(i.node().getComputedTextLength()),s=U.appendOrSelect(this.parent,"text.percent-value");s.attr("x",+e.attr("x")+e.node().getComputedTextLength()+o+a)},n.prototype.getMaxTitleWidth=function(){var e=U.getHTMLElementSize(this.services.domUtils.getMainContainer()),r=y.getProperty(this.getOptions(),"meter","proportional"),i=e.width?e.width:this.parent.node().getAttribute("width");if(r!==null){var a=U.appendOrSelect(this.parent,"text.proportional-meter-total").node(),o=U.getSVGElementSize(a,{useBBox:!0}).width;return i-o-zt.total.paddingLeft}else{var s=U.appendOrSelect(this.parent,"text.percent-value"),l=zt.statusBar.paddingRight,u=s.node().getComputedTextLength(),c=U.appendOrSelect(this.parent,"g.status-indicator").node(),h=U.getSVGElementSize(c,{useBBox:!0}).width+zt.status.paddingLeft;return i-u-l-h}},n.prototype.getStatusIconPathString=function(e){switch(e){case si.SUCCESS:return"M6.875 11.3125 3.75 8.1875 4.74375 7.25 6.875 9.34375 11.50625 4.75 12.5 5.7375 Z";case si.DANGER:return"M10.7 11.5 4.5 5.3 5.3 4.5 11.5 10.7 Z";case si.WARNING:return"M7.9375,11.125 C7.41973305,11.125 7,11.544733 7,12.0625 C7,12.580267 7.41973305,13 7.9375,13 C8.45526695,13 8.875,12.580267 8.875,12.0625 C8.875,11.544733 8.45526695,11.125 7.9375,11.125 M7.3125, 3 8.5625, 3 8.5625, 9.875 7.3125, 9.875, 7.3125, 3 Z"}},n}(Vo),IP=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Hv=function(t){IP(n,t);function n(e,r,i){var a=t.call(this,e,r,i)||this;return a.type="tooltip",a.renderType=it.HTML,a.isEventListenerAdded=!1,a.positionService=new Bo,a.handleShowTooltip=function(o){var s=o.detail.data||o.detail.items,l=a.getTooltipHTML(o),u=U.appendOrSelect(a.tooltip,"div.content-box");if(y.getProperty(a.getOptions(),"tooltip","customHTML"))if(o.detail.content){var c='<div class="title-tooltip"><p>'+o.detail.content+"</p></div>";u.html(c)}else u.html(a.model.getOptions().tooltip.customHTML(s,l));else u.html(l);a.positionTooltip(o),a.tooltip.classed("hidden",!1).attr("aria-hidden",!1)},a.handleHideTooltip=function(){a.tooltip.classed("hidden",!0).attr("aria-hidden",!0)},a.init(),a}return n.prototype.addTooltipEventListener=function(){var e=this;this.services.events.addEventListener(S.Tooltip.MOVE,function(r){e.tooltip.classed("hidden")===!1&&e.positionTooltip(r)}),this.services.events.addEventListener(S.Tooltip.SHOW,this.handleShowTooltip),this.services.events.addEventListener(S.Tooltip.HIDE,this.handleHideTooltip),this.services.events.addEventListener(S.Chart.MOUSEOUT,this.handleHideTooltip)},n.prototype.removeTooltipEventListener=function(){this.services.events.removeEventListener(S.Tooltip.MOVE,null),this.services.events.removeEventListener(S.Tooltip.SHOW,this.handleShowTooltip),this.services.events.removeEventListener(S.Tooltip.HIDE,this.handleHideTooltip),this.services.events.removeEventListener(S.Chart.MOUSEOUT,this.handleHideTooltip)},n.prototype.getItems=function(e){return e.detail.items?e.detail.items:[]},n.prototype.formatItems=function(e){var r=this,i=this.getOptions(),a=y.getProperty(i,"tooltip","truncation","type"),o=y.getProperty(i,"tooltip","truncation","threshold"),s=y.getProperty(i,"tooltip","truncation","numCharacter");return a!==be.NONE?e.map(function(l){var u=l.labelIcon?12:0;return l.value=l.value?r.valueFormatter(l.value,l.label):l.value,l.label&&l.label.length+u>o&&(l.label=y.truncateLabel(l.label,a,s)),l.value&&l.value.length>o&&(l.value=y.truncateLabel(l.value,a,s)),l}):e},n.prototype.getTooltipHTML=function(e){var r;if(e.detail.content)r='<div class="title-tooltip"><p>'+e.detail.content+"</p></div>";else{var i=this.getItems(e),a=this.formatItems(i);r='<ul class="multi-tooltip">'+a.map(function(o){return`<li>
							<div class="datapoint-tooltip `+(o.bold?"bold":"")+`">
								`+(o.class?'<div class="tooltip-color '+o.class+'"></div>':"")+`
								`+(o.color?'<div style="background-color: '+o.color+'" class="tooltip-color"></div>':"")+`
								<div class="label">
								<p>`+(o.label||"")+`</p>
								`+(o.labelIcon?'<span class="label-icon"/>'+o.labelIcon+"</span>":"")+`
								</div>
								`+(o.value===void 0||o.value===null?"":'<p class="value"/>'+o.value+"</p>")+`
							</div>
						</li>`}).join("")+"</ul>"}return r},n.prototype.valueFormatter=function(e,r){var i=this.getOptions(),a=y.getProperty(i,"tooltip","valueFormatter");if(a)return a(e,r);if(typeof e.getTime=="function")return Nr(e,"MMM d, yyyy");try{if(typeof e=="string"&&/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/.test(e))return Nr(Date.parse(e),"MMM d, yyyy")}catch{}return e.toLocaleString()},n.prototype.render=function(){var e=this.getOptions(),r=y.getProperty(e,"tooltip","enabled");if(r){var i=$(this.services.domUtils.getHolder()),a=y.getProperty(e,"style","prefix");this.tooltip=U.appendOrSelect(i,"div."+ne+"--"+a+"--tooltip"),this.tooltip.style("max-width",null).attr("role","tooltip"),this.isEventListenerAdded||(this.addTooltipEventListener(),this.isEventListenerAdded=!0),this.tooltip.classed("hidden",!0)}else!r&&this.isEventListenerAdded&&(this.removeTooltipEventListener(),this.isEventListenerAdded=!1)},n.prototype.positionTooltip=function(e){var r=this.services.domUtils.getHolder(),i=this.tooltip.node(),a=this.getOptions(),o=y.getProperty(a,"zoomBar","top","enabled"),s=y.getProperty(e,"detail","mousePosition");if(!s)s=Nn(y.getProperty(e,"detail","event"),r);else{var l=y.getProperty(a,"zoomBar","top","type"),u=le.height[l];o&&(s[1]+=u+le.spacerHeight)}var c,h=r.offsetWidth,f=r.offsetHeight,d;s[0]/h>.9?d=Xt.LEFT:s[0]/h<.1?d=Xt.RIGHT:d=this.positionService.findBestPlacementAt({left:s[0],top:s[1]},i,[Xt.RIGHT,Xt.LEFT,Xt.TOP,Xt.BOTTOM],function(){return{width:h,height:f}});var p=sd.horizontalOffset;d===Xt.LEFT&&(p*=-1),c=this.positionService.findPositionAt({left:s[0]+p,top:s[1]},i,d),this.positionService.setElement(i,c)},n}(xt),NP=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),$P=globalThis&&globalThis.__spreadArrays||function(){for(var t=0,n=0,e=arguments.length;n<e;n++)t+=arguments[n].length;for(var r=Array(t),i=0,n=0;n<e;n++)for(var a=arguments[n],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r},zv=function(t){NP(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.prototype.getItems=function(e){var r=this;if(e.detail.items)return e.detail.items;var i=e.detail.data;if(!i.length||!i[0])return[];var a=this.getOptions(),o=this.services.cartesianScales,s=o.getDomainIdentifier(),l=o.isDualAxes(),u=a.data.groupMapsTo,c=o.getDomainLabel(),h=o.getRangeLabel(),f=i[0][s],d;if(i.length===1){var p=i[0],g=o.getRangeIdentifier(p);if(l){var m=o.getRangeAxisPosition({datum:p,groups:[p[u]]});h=o.getScaleLabel(m)}var _=p[g];d=$P([{label:c,value:f}],Array.isArray(_)&&_.length===2?[{label:"Start",value:_[0]},{label:"End",value:_[1]}]:[{label:h,value:p[g]}]),e.detail.additionalItems&&e.detail.additionalItems.forEach(function(x){return d.push({label:x.label,value:x.value})}),d.push({label:a.tooltip.groupLabel,value:p[u],color:this.model.getFillColor(p[u]),class:this.model.getColorClassName({classNameTypes:[at.TOOLTIP],dataGroupName:p[u]})})}else if(i.length>1&&(d=[{label:c,value:f}],d=d.concat(i.map(function(x){var O=x[o.getRangeIdentifier(x)];return{label:x[u],value:Array.isArray(O)&&O.length===2?O[0]+" - "+O[1]:O,color:r.model.getFillColor(x[u]),class:r.model.getColorClassName({classNameTypes:[at.TOOLTIP],dataGroupName:x[u]})}}).sort(function(x,O){return O.value-x.value})),!l&&y.getProperty(a,"tooltip","showTotal")===!0)){var v=o.getRangeIdentifier();d.push({label:Lt(a,"tooltip.totalLabel")||"Total",value:i.reduce(function(x,O){return x+O[v]},0),bold:!0})}return d},n}(Hv),UP=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Wv=function(t){UP(n,t);function n(e,r,i){var a=t.call(this,e,r,i)||this;return a.type="chart-clip",a.renderType=it.SVG,a.chartClipId="chart-clip-id-"+Math.floor(Math.random()*99999999999),a.init(),a}return n.prototype.init=function(){this.model.set({chartClipId:this.chartClipId},{skipUpdate:!0})},n.prototype.render=function(e){this.createClipPath()},n.prototype.createClipPath=function(){var e=this.parent,r=this.services.cartesianScales,i=r.getMainXScale(),a=r.getMainYScale(),o=i.range(),s=o[0],l=o[1],u=a.range(),c=u[0],h=u[1];this.chartClipPath=U.appendOrSelect(e,"clipPath."+this.type).attr("id",this.chartClipId);var f=U.appendOrSelect(this.chartClipPath,"rect."+this.type);f.attr("x",s).attr("y",h).attr("width",l-s).attr("height",c-h),this.chartClipPath.merge(f).lower()},n}(xt),BP=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),VP=function(t){BP(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="canvas-chart-clip",e.chartClipId="canvas-chart-clip-id-"+Math.floor(Math.random()*99999999999),e}return n.prototype.createClipPath=function(){var e=this.parent,r=U.getSVGElementSize(this.parent,{useAttrs:!0}),i=r.width,a=r.height;this.chartClipPath=U.appendOrSelect(e,"clipPath."+this.type).attr("id",this.chartClipId);var o=U.appendOrSelect(this.chartClipPath,"rect."+this.type);o.attr("x",0).attr("y",0).attr("width",i).attr("height",a),this.chartClipPath.merge(o).lower()},n}(Wv),GP=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),fn=globalThis&&globalThis.__rest||function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e},FP=function(t){GP(n,t);function n(e,r){var i=t.call(this,e,r)||this;return i.type="highlight",i.renderType=it.SVG,i.positionService=new Bo,i.highlightStrokeWidth=1,i}return n.prototype.render=function(e){e===void 0&&(e=!1);var r=y.getProperty(this.getOptions(),"axes"),i=[];Object.keys(r).forEach(function(d){if(Object.values(q).includes(d)){var p=r[d];p.highlights&&p.highlights.data.length>0&&i.push({axisPosition:d,highlightStartMapsTo:p.highlights.highlightStartMapsTo,highlightEndMapsTo:p.highlights.highlightEndMapsTo,labelMapsTo:p.highlights.labelMapsTo,highlight:p.highlights.data,color:p.highlights.color})}});var a=this.getComponentContainer({withinChartClip:!0}),o=a.selectAll("g.axis-highlight").data(i,function(d){return d.axisPosition});o.exit().attr("opacity",0).remove();var s=o.enter().append("g"),l=s.merge(o);l.attr("class",function(d){return"axis-highlight "+d.axisPosition});var u=l.selectAll("g.highlight-group").data(function(d){return d.highlight.map(function(p){return p.axisPosition=d.axisPosition,p.highlightStartMapsTo=d.highlightStartMapsTo,p.labelMapsTo=d.labelMapsTo,p.color=d.color,p.highlightEndMapsTo=d.highlightEndMapsTo,p})});u.exit().attr("opacity",0).remove();var c=u.enter().append("g");c.append("rect").attr("class","highlight-bar"),c.append("line").attr("class","highlight-line");var h=c.merge(u);h.attr("class","highlight-group");var f=this;l.each(function(d){var p=d.axisPosition,g=f.services.cartesianScales.getMainXScale(),m=f.services.cartesianScales.getMainYScale(),_=g.range(),v=_[0],x=_[1],O=m.range(),b=O[0],w=O[1],M=f.services.cartesianScales,E=M.getOrientation(),A=function(L){return M.getDomainValue(L)},C=function(L){return M.getRangeValue(L)},T=y.flipDomainAndRangeBasedOnOrientation(A,C,E),k=T[0],D=T[1],I=$(this);p===q.TOP||p===q.BOTTOM?I.selectAll("rect.highlight-bar").transition().call(function(L){return f.services.transitions.setupTransition({transition:L,name:"highlight-bar-update",animate:e})}).attr("y",Math.max(w+f.highlightStrokeWidth,0)).attr("height",Math.max(b-2*f.highlightStrokeWidth,0)).attr("x",function(L){var R=L.highlightStartMapsTo,N=fn(L,["highlightStartMapsTo"]);return k(N[R])}).attr("width",function(L){var R=L.highlightStartMapsTo,N=L.highlightEndMapsTo,G=fn(L,["highlightStartMapsTo","highlightEndMapsTo"]);return Math.max(k(G[N])-k(G[R]),0)}).style("stroke",function(L){var R=L.color,N=L.labelMapsTo,G=fn(L,["color","labelMapsTo"]);return R&&R.scale[G[N]]?R.scale[G[N]]:null}).style("stroke-dasharray","2, 2").attr("stroke-width",f.highlightStrokeWidth+"px").style("fill-opacity",.1).style("fill",function(L){var R=L.color,N=L.labelMapsTo,G=fn(L,["color","labelMapsTo"]);return R&&R.scale[G[N]]?R.scale[G[N]]:null}):I.selectAll("rect.highlight-bar").transition().call(function(L){return f.services.transitions.setupTransition({transition:L,name:"highlight-bar-update",animate:e})}).attr("x",v).attr("width",Math.max(x-v,0)).attr("y",function(L){var R=L.highlightEndMapsTo,N=fn(L,["highlightEndMapsTo"]);return D(N[R])}).attr("height",function(L){var R=L.highlightStartMapsTo,N=L.highlightEndMapsTo,G=fn(L,["highlightStartMapsTo","highlightEndMapsTo"]);return Math.max(D(G[R])-D(G[N]),0)}).style("stroke",function(L){var R=L.color,N=L.labelMapsTo,G=fn(L,["color","labelMapsTo"]);return R&&R.scale[G[N]]?R.scale[G[N]]:null}).style("stroke-dasharray","2, 2").attr("stroke-width",f.highlightStrokeWidth+"px").style("fill-opacity",.1).style("fill",function(L){var R=L.color,N=L.labelMapsTo,G=fn(L,["color","labelMapsTo"]);return R&&R.scale[G[N]]?R.scale[G[N]]:null})})},n}(xt),HP=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),jv=function(t){HP(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="area",e.renderType=it.SVG,e.gradient_id="gradient-id-"+Math.floor(Math.random()*99999999999),e.handleLegendOnHover=function(r){var i=r.detail.hoveredElement;e.parent.selectAll("path.area").transition("legend-hover-area").call(function(a){return e.services.transitions.setupTransition({transition:a,name:"legend-hover-area"})}).attr("opacity",function(a){return a.name!==i.datum().name?$e.opacity.unselected:$e.opacity.selected})},e.handleLegendMouseOut=function(r){e.parent.selectAll("path.area").transition("legend-mouseout-area").call(function(i){return e.services.transitions.setupTransition({transition:i,name:"legend-mouseout-area"})}).attr("opacity",$e.opacity.selected)},e}return n.prototype.init=function(){var e=this.services.events;e.addEventListener(S.Legend.ITEM_HOVER,this.handleLegendOnHover),e.addEventListener(S.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},n.prototype.render=function(e){var r=this;e===void 0&&(e=!0);var i=this.getComponentContainer({withinChartClip:!0}),a=this.getOptions(),o=[0,0],s=this.services.cartesianScales,l=s.getOrientation(),u=Iu().curve(this.services.curves.getD3Curve()).defined(function(T,k){var D=s.getRangeIdentifier(),I=T[D];return I!=null}),c=this.model.getGroupedData(this.configs.groups),h=y.getProperty(a,"bounds"),f=h&&c&&c.length===1;!f&&h&&console.warn("Bounds can only be shown when having 1 single datagroup, you've supplied "+c.length);var d=0,p=function(T,k){y.getProperty(a,"axes",T,"includeZero")===!1&&k[0]>0&&k[1]>0&&(d=k[0])},g=function(T,k){return f?s.getBoundedScaledValues(T,k)[0]:s.getRangeValue(d)},m=function(T,k){return f?s.getBoundedScaledValues(T,k)[1]:s.getRangeValue(T,k)};l===Ht.VERTICAL?(o=s.getMainYScale().domain(),p(s.getMainYAxisPosition(),o),u.x(function(T,k){return s.getDomainValue(T,k)}).y0(function(T,k){return g(T,k)}).y1(function(T,k){return m(T,k)})):(o=s.getMainXScale().domain(),p(s.getMainXAxisPosition(),o),u.x0(function(T,k){return g(T,k)}).x1(function(T,k){return m(T,k)}).y(function(T,k){return s.getDomainValue(T,k)}));var _=y.getProperty(a,"color","gradient","enabled"),v=c&&c.length===1&&_;c.length>1&&_&&console.error("Gradients can only be enabled when having 1 single dataset");var x=i.selectAll("path.area").data(c,function(T){return T.name}),O=$(this.services.domUtils.getMainContainer());if(x.exit().attr("opacity",0).remove(),!!c.length){if(v){var b=O.select("path."+this.model.getColorClassName({classNameTypes:[at.STROKE],dataGroupName:c[0].name})).node(),w=void 0;if(b)w=getComputedStyle(b,null).getPropertyValue("stroke");else{var M=y.getProperty(this.model.getOptions(),"color","scale");if(M!==null){var E=Object.keys(M);w=M[E[0]]}}Pl.appendOrUpdateLinearGradient({svg:this.parent,id:this.services.domUtils.generateElementIDString(c[0].name.replace(" ","")+"_"+this.gradient_id),x1:"0%",x2:"0%",y1:"0%",y2:"100%",stops:Pl.getStops(o,w)})}else this.parent.selectAll("defs linearGradient").empty()||this.parent.selectAll("defs linearGradient").each(function(){this.parentNode.remove()});var A=this,C=x.enter().append("path");v?C.merge(x).style("fill",function(T){return"url(#"+r.services.domUtils.generateElementIDString(T.name.replace(" ","")+"_"+r.gradient_id)+")"}).attr("class","area").attr("class",function(T){return r.model.getColorClassName({classNameTypes:[at.FILL],dataGroupName:T.name,originalClassName:"area"})}).attr("d",function(T){var k=T.data;return u(k)}):(C.attr("opacity",0).merge(x).attr("class","area").attr("class",function(T){return r.model.getColorClassName({classNameTypes:[at.FILL,at.STROKE],dataGroupName:T.name,originalClassName:"area"})}).style("fill",function(T){return A.model.getFillColor(T.name)}).transition().call(function(T){return r.services.transitions.setupTransition({transition:T,name:"area-update-enter",animate:e})}).attr("opacity",f?1:$e.opacity.selected).attr("d",function(T){var k=T.data;return u(k)}),f&&C.attr("fill-opacity",$e.opacity.selected).style("stroke",function(T){return A.model.getStrokeColor(T.name)}).style("stroke-dasharray","2, 2").attr("stroke-width",.7+"px"))}},n.prototype.destroy=function(){var e=this.services.events;e.removeEventListener(S.Legend.ITEM_HOVER,this.handleLegendOnHover),e.removeEventListener(S.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},n}(xt),zP=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),qv=function(t){zP(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="area-stacked",e.renderType=it.SVG,e.handleLegendOnHover=function(r){var i=r.detail.hoveredElement,a=e.getOptions(),o=a.data.groupMapsTo;e.parent.selectAll("path.area").transition("legend-hover-area").call(function(s){return e.services.transitions.setupTransition({transition:s,name:"legend-hover-area"})}).attr("opacity",function(s){return y.getProperty(s,0,o)!==i.datum().name?$e.opacity.unselected:$e.opacity.selected})},e.handleLegendMouseOut=function(){e.parent.selectAll("path.area").transition("legend-mouseout-area").call(function(r){return e.services.transitions.setupTransition({transition:r,name:"legend-mouseout-area"})}).attr("opacity",$e.opacity.selected)},e}return n.prototype.init=function(){var e=this.services.events;e.addEventListener(S.Legend.ITEM_HOVER,this.handleLegendOnHover),e.addEventListener(S.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},n.prototype.render=function(e){var r=this;e===void 0&&(e=!0);var i=this.getComponentContainer({withinChartClip:!0}),a=this,o=this.getOptions(),s=o.data.groupMapsTo,l=Object.keys(o.axes).some(function(m){return o.axes[m].percentage}),u=this.model.getStackedData({percentage:l,groups:this.configs.groups}),c=y.getProperty(u,0,0),h=this.services.cartesianScales.getDomainAxisPosition({firstDatum:c}),f=this.services.cartesianScales.getRangeAxisPosition({firstDatum:c}),d=this.services.cartesianScales.getScaleByPosition(f),p=i.selectAll("path.area").data(u,function(m){return y.getProperty(m,0,s)});this.areaGenerator=Iu().x(function(m,_){return r.services.cartesianScales.getValueThroughAxisPosition(h,m.data.sharedStackKey,_)}).y0(function(m){return d(m[0])}).y1(function(m){return d(m[1])}).curve(this.services.curves.getD3Curve()),p.exit().attr("opacity",0).remove();var g=p.enter().append("path").attr("opacity",0);g.merge(p).data(u,function(m){return y.getProperty(m,0,s)}).attr("class","area").attr("class",function(m){return r.model.getColorClassName({classNameTypes:[at.FILL],dataGroupName:y.getProperty(m,0,s),originalClassName:"area"})}).style("fill",function(m){return a.model.getFillColor(y.getProperty(m,0,s))}).attr("role",ht.GRAPHICS_SYMBOL).attr("aria-roledescription","area").attr("aria-label",function(m){return y.getProperty(m,0,s)}).transition().call(function(m){return r.services.transitions.setupTransition({transition:m,name:"area-update-enter",animate:e})}).attr("opacity",$e.opacity.selected).attr("d",this.areaGenerator)},n}(xt),WP=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Yu=function(t){WP(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.prototype.getBarWidth=function(e){var r=this.getOptions();if(r.bars.width)return r.bars.width;var i=this.model.getDisplayData().length,a=this.services.cartesianScales.getMainXScale(),o=U.getSVGElementSize(this.parent,{useAttrs:!0}).width;if(!a.step){var s=y.getProperty(r,"bars","spacingFactor");return Math.min(r.bars.maxWidth,o*s/i)}return Math.min(r.bars.maxWidth,a.step()/2)},n.prototype.isOutsideZoomedDomain=function(e,r){var i=this.model.getDisplayData().length;if(i<=1)return!1;var a=this.model.get("zoomDomain");if(a!==void 0){var o=this.services.cartesianScales.getDomainScale();return e<o(a[0])||r>o(a[1])}return!1},n}(xt),jP=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Yv=function(t){jP(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="simple-bar",e.renderType=it.SVG,e.handleLegendOnHover=function(r){var i=r.detail.hoveredElement,a=e.getOptions().data.groupMapsTo;e.parent.selectAll("path.bar").transition("legend-hover-simple-bar").call(function(o){return e.services.transitions.setupTransition({transition:o,name:"legend-hover-simple-bar"})}).attr("opacity",function(o){return o[a]!==i.datum().name?.3:1})},e.handleLegendMouseOut=function(r){e.parent.selectAll("path.bar").transition("legend-mouseout-simple-bar").call(function(i){return e.services.transitions.setupTransition({transition:i,name:"legend-mouseout-simple-bar"})}).attr("opacity",1)},e}return n.prototype.init=function(){var e=this.services.events;e.addEventListener(S.Legend.ITEM_HOVER,this.handleLegendOnHover),e.addEventListener(S.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},n.prototype.render=function(e){var r=this,i=this.getOptions(),a=i.data.groupMapsTo,o=this.getComponentContainer({withinChartClip:!0}),s=this.model.getDisplayData(this.configs.groups),l=this.services.cartesianScales.getOrientation(),u=o.selectAll("path.bar").data(s,function(h){return h[a]});u.exit().attr("opacity",0).remove();var c=u.enter().append("path").attr("opacity",0);c.merge(u).classed("bar",!0).attr("width",this.getBarWidth.bind(this)).transition().call(function(h){return r.services.transitions.setupTransition({transition:h,name:"bar-update-enter",animate:e})}).attr("class",function(h){return r.model.getColorClassName({classNameTypes:[at.FILL],dataGroupName:h[a],originalClassName:"bar"})}).style("fill",function(h){return r.model.getFillColor(h[a])}).attr("d",function(h,f){var d=r.services.cartesianScales.getRangeIdentifier(),p=r.getBarWidth(),g=h[d],m=r.services.cartesianScales.getDomainValue(h,f)-p/2,_=m+p,v,x;if(Array.isArray(g)&&g.length===2)v=r.services.cartesianScales.getRangeValue(g[0]),x=r.services.cartesianScales.getRangeValue(g[1],f);else{var O=r.services.cartesianScales.getRangeScale(),b=O.domain()[0];v=r.services.cartesianScales.getRangeValue(Math.max(0,b)),x=r.services.cartesianScales.getRangeValue(h,f)}var w=Math.abs(x-v);if(w!==0&&w<2&&(g>0&&l===Ht.VERTICAL||g<0&&l===Ht.HORIZONTAL?x=v-2:x=v+2),!r.isOutsideZoomedDomain(m,_))return y.generateSVGPathString({x0:m,x1:_,y0:v,y1:x},l)}).attr("opacity",1).attr("role",ht.GRAPHICS_SYMBOL).attr("aria-roledescription","bar").attr("aria-label",function(h){return h.value}),this.addEventListeners()},n.prototype.addEventListeners=function(){var e=this;this.parent.selectAll("path.bar").on("mouseover",function(r,i){var a=$(this);a.classed("hovered",!0),e.services.events.dispatchEvent(S.Bar.BAR_MOUSEOVER,{event:r,element:a,datum:i}),e.services.events.dispatchEvent(S.Tooltip.SHOW,{event:r,hoveredElement:a,data:[i]})}).on("mousemove",function(r,i){e.services.events.dispatchEvent(S.Bar.BAR_MOUSEMOVE,{event:r,element:$(this),datum:i}),e.services.events.dispatchEvent(S.Tooltip.MOVE,{event:r})}).on("click",function(r,i){e.services.events.dispatchEvent(S.Bar.BAR_CLICK,{event:r,element:$(this),datum:i})}).on("mouseout",function(r,i){var a=$(this);a.classed("hovered",!1),e.services.events.dispatchEvent(S.Bar.BAR_MOUSEOUT,{event:r,element:a,datum:i}),e.services.events.dispatchEvent(S.Tooltip.HIDE,{hoveredElement:a})})},n.prototype.destroy=function(){this.parent.selectAll("path.bar").on("mouseover",null).on("mousemove",null).on("mouseout",null);var e=this.services.events;e.removeEventListener(S.Legend.ITEM_HOVER,this.handleLegendOnHover),e.removeEventListener(S.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},n}(Yu),qP=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Xv=function(t){qP(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="grouped-bar",e.renderType=it.SVG,e.padding=5,e.defaultStepFactor=70,e.handleLegendOnHover=function(r){var i=r.detail.hoveredElement,a=e.getOptions().data.groupMapsTo;e.parent.selectAll("path.bar").transition("legend-hover-bar").call(function(o){return e.services.transitions.setupTransition({transition:o,name:"legend-hover-bar"})}).attr("opacity",function(o){return o[a]!==i.datum().name?.3:1})},e.handleLegendMouseOut=function(r){e.parent.selectAll("path.bar").transition("legend-mouseout-bar").call(function(i){return e.services.transitions.setupTransition({transition:i,name:"legend-mouseout-bar"})}).attr("opacity",1)},e}return n.prototype.init=function(){var e=this.services.events;e.addEventListener(S.Legend.ITEM_HOVER,this.handleLegendOnHover),e.addEventListener(S.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},n.prototype.render=function(e){var r=this,i=this.model.getDisplayData(this.configs.groups),a=this.getOptions(),o=a.data.groupMapsTo;this.setGroupScale();var s=this.getComponentContainer({withinChartClip:!0}),l=y.removeArrayDuplicates(i.map(function(p){var g=r.services.cartesianScales.getDomainIdentifier(p);return p[g]&&typeof p[g].toString=="function"?p[g].toString():p[g]})),u=s.selectAll("g.bars").data(l,function(p){return p});u.exit().attr("opacity",0).remove();var c=u.enter().append("g").classed("bars",!0).attr("role",ht.GROUP).attr("data-name","bars"),h=c.merge(u);h.transition().call(function(p){return r.services.transitions.setupTransition({transition:p,name:"bar-group-update-enter",animate:e})}).attr("transform",function(p,g){var m=r.services.cartesianScales.getDomainValue(p,g),_=m-r.getGroupWidth()/2;return r.services.cartesianScales.getOrientation()===Ht.VERTICAL?"translate("+_+", 0)":"translate(0, "+_+")"});var f=h.selectAll("path.bar").data(function(p){return r.getDataCorrespondingToLabel(p)},function(p){return p[o]});f.exit().attr("opacity",0).remove();var d=f.enter().append("path").attr("opacity",0);d.merge(f).classed("bar",!0).transition().call(function(p){return r.services.transitions.setupTransition({transition:p,name:"bar-update-enter",animate:e})}).attr("class",function(p){return r.model.getColorClassName({classNameTypes:[at.FILL],dataGroupName:p[o],originalClassName:"bar"})}).style("fill",function(p){return r.model.getFillColor(p[o])}).attr("d",function(p,g){var m=r.groupScale(p[o]),_=r.getBarWidth(),v=m,x=m+_,O=r.services.cartesianScales.getRangeAxisPosition({datum:p}),b=r.services.cartesianScales.getValueThroughAxisPosition(O,0),w=r.services.cartesianScales.getRangeValue(p),M=r.services.cartesianScales.getDomainValue(p,g)-_/2,E=M+_;if(!r.isOutsideZoomedDomain(M,E))return y.generateSVGPathString({x0:v,x1:x,y0:b,y1:w},r.services.cartesianScales.getOrientation())}).attr("opacity",1).attr("role",ht.GRAPHICS_SYMBOL).attr("aria-roledescription","bar").attr("aria-label",function(p){return p.value}),this.addEventListeners()},n.prototype.addEventListeners=function(){var e=this;this.parent.selectAll("path.bar").on("mouseover",function(r,i){var a=$(this);a.classed("hovered",!0),e.services.events.dispatchEvent(S.Bar.BAR_MOUSEOVER,{event:r,element:a,datum:i}),e.services.events.dispatchEvent(S.Tooltip.SHOW,{event:r,hoveredElement:a,data:[i]})}).on("mousemove",function(r,i){var a=$(this);e.services.events.dispatchEvent(S.Bar.BAR_MOUSEMOVE,{event:r,element:a,datum:i}),e.services.events.dispatchEvent(S.Tooltip.MOVE,{event:r})}).on("click",function(r,i){e.services.events.dispatchEvent(S.Bar.BAR_CLICK,{event:r,element:$(this),datum:i})}).on("mouseout",function(r,i){var a=$(this);a.classed("hovered",!1),e.services.events.dispatchEvent(S.Bar.BAR_MOUSEOUT,{event:r,element:a,datum:i}),e.services.events.dispatchEvent(S.Tooltip.HIDE,{hoveredElement:a})})},n.prototype.destroy=function(){this.parent.selectAll("path.bar").on("mouseover",null).on("mousemove",null).on("mouseout",null);var e=this.services.events;e.removeEventListener(S.Legend.ITEM_HOVER,this.handleLegendOnHover),e.removeEventListener(S.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},n.prototype.getDataCorrespondingToLabel=function(e){var r=this,i=this.model.getDisplayData(this.configs.groups);return i.filter(function(a){var o=r.services.cartesianScales.getDomainIdentifier(a);return a[o].toString()===e})},n.prototype.getGroupWidth=function(){var e=this.model.getGroupedData(this.configs.groups),r=this.getTotalGroupPadding();return this.getBarWidth()*e.length+r},n.prototype.getDomainScaleStep=function(){var e=this.services.cartesianScales.getDomainScale(),r=this.model.getGroupedData(this.configs.groups),i=this.defaultStepFactor;if(typeof e.step=="function")i=e.step();else if(r.length>0){var a=r.find(function(s){var l;return((l=s.data)===null||l===void 0?void 0:l.length)>1});if(a){var o=this.services.cartesianScales.getDomainIdentifier(a.data[0]);i=Math.abs(e(a.data[1][o])-e(a.data[0][o]))}}return i},n.prototype.getTotalGroupPadding=function(){var e=this.model.getGroupedData(this.configs.groups);if(e.length===1)return 0;var r=Math.min(5,5*(this.getDomainScaleStep()/this.defaultStepFactor));return r*(e.length-1)},n.prototype.getBarWidth=function(){var e=this.getOptions(),r=y.getProperty(e,"bars","width"),i=y.getProperty(e,"bars","maxWidth");if(r!==null&&(i===null||r<=i))return r;var a=this.model.getGroupedData(this.configs.groups),o=a.length,s=this.getTotalGroupPadding();return Math.min(i,(this.getDomainScaleStep()-s)/o)},n.prototype.setGroupScale=function(){var e=this.model.getActiveDataGroupNames(this.configs.groups);this.groupScale=ki().domain(e).rangeRound([0,this.getGroupWidth()])},n}(Yu),YP=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Zv=function(t){YP(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="stacked-bar",e.renderType=it.SVG,e.handleLegendOnHover=function(r){var i=r.detail.hoveredElement,a=e.model.getOptions().data.groupMapsTo;e.parent.selectAll("path.bar").transition("legend-hover-bar").call(function(o){return e.services.transitions.setupTransition({transition:o,name:"legend-hover-bar"})}).attr("opacity",function(o){return o[a]!==i.datum().name?.3:1})},e.handleLegendMouseOut=function(r){e.parent.selectAll("path.bar").transition("legend-mouseout-bar").call(function(i){return e.services.transitions.setupTransition({transition:i,name:"legend-mouseout-bar"})}).attr("opacity",1)},e}return n.prototype.init=function(){var e=this.services.events;e.addEventListener(S.Legend.ITEM_HOVER,this.handleLegendOnHover),e.addEventListener(S.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},n.prototype.render=function(e){var r=this,i=this.getComponentContainer({withinChartClip:!0}),a=this.getOptions(),o=a.data.groupMapsTo,s=this.model.getStackedData({groups:this.configs.groups,divergent:!0}),l=this.model.getActiveDataGroupNames(),u=i.selectAll("g.bars").data(s,function(h){return y.getProperty(h,0,o)});u.exit().attr("opacity",0).remove(),u.enter().append("g").classed("bars",!0).attr("role",ht.GROUP).attr("data-name","bars");var c=i.selectAll("g.bars").selectAll("path.bar").data(function(h){return h},function(h){return h.data.sharedStackKey});c.exit().remove(),c.enter().append("path").merge(c).classed("bar",!0).transition().call(function(h){return r.services.transitions.setupTransition({transition:h,name:"bar-update-enter",animate:e})}).attr("class",function(h){return r.model.getColorClassName({classNameTypes:[at.FILL],dataGroupName:h[o],originalClassName:"bar"})}).style("fill",function(h){return r.model.getFillColor(h[o])}).attr("d",function(h,f){var d=h.data.sharedStackKey,p=r.getBarWidth(),g=r.services.cartesianScales.getDomainValue(d,f)-p/2,m=g+p,_=r.services.cartesianScales.getRangeValue(h[0],f),v=r.services.cartesianScales.getRangeValue(h[1],f);if(!r.isOutsideZoomedDomain(g,m)){if(Math.abs(v-_)>0&&Math.abs(v-_)>a.bars.dividerSize){var x=h[0]<0&&h[1]<=0;x&&l.length>1?r.services.cartesianScales.getOrientation()===Ht.VERTICAL?v+=h[1]===0?2:1:v-=1:x||(r.services.cartesianScales.getOrientation()===Ht.VERTICAL?v+=1:v-=1)}return y.generateSVGPathString({x0:g,x1:m,y0:_,y1:v},r.services.cartesianScales.getOrientation())}}).attr("opacity",1).attr("role",ht.GRAPHICS_SYMBOL).attr("aria-roledescription","bar").attr("aria-label",function(h){return h[1]-h[0]}),this.addEventListeners()},n.prototype.addEventListeners=function(){var e=this.getOptions(),r=e.data.groupMapsTo,i=this;this.parent.selectAll("path.bar").on("mouseover",function(a,o){var s,l=$(this);l.classed("hovered",!0),i.services.events.dispatchEvent(S.Bar.BAR_MOUSEOVER,{event:a,element:l,datum:o});var u=i.model.getDisplayData(i.configs.groups),c=u.find(function(d){var p=i.services.cartesianScales.getDomainIdentifier(d),g=i.services.cartesianScales.getRangeIdentifier(d);return d[g]===o.data[o[r]]&&d[p].toString()===o.data.sharedStackKey&&d[r]===o[r]});if(c===void 0){var h=i.services.cartesianScales.getDomainIdentifier(),f=i.services.cartesianScales.getRangeIdentifier();c=(s={},s[h]=o.data.sharedStackKey,s[f]=o.data[o[r]],s[r]=o[r],s)}i.services.events.dispatchEvent(S.Tooltip.SHOW,{event:a,hoveredElement:l,data:[c]})}).on("mousemove",function(a,o){var s=$(this);i.services.events.dispatchEvent(S.Bar.BAR_MOUSEMOVE,{event:a,element:s,datum:o}),i.services.events.dispatchEvent(S.Tooltip.MOVE,{event:a})}).on("click",function(a,o){i.services.events.dispatchEvent(S.Bar.BAR_CLICK,{event:a,element:$(this),datum:o})}).on("mouseout",function(a,o){var s=$(this);s.classed("hovered",!1),i.services.events.dispatchEvent(S.Bar.BAR_MOUSEOUT,{event:a,element:s,datum:o}),i.services.events.dispatchEvent(S.Tooltip.HIDE,{hoveredElement:s})})},n.prototype.getBarWidth=function(){var e=this.getOptions();if(y.getProperty(e,"bars","width"))return e.bars.width;var r=this.services.cartesianScales.getMainXScale(),i=U.getSVGElementSize(this.parent,{useAttrs:!0}).width,a=this.model.getStackKeys().length,o=y.getProperty(e,"bars","spacingFactor");return r.step?Math.min(e.bars.maxWidth,r.step()/2):Math.min(e.bars.maxWidth,i*o/a)},n.prototype.destroy=function(){this.parent.selectAll("path.bar").on("mouseover",null).on("mousemove",null).on("mouseout",null);var e=this.services.events;e.removeEventListener(S.Legend.ITEM_HOVER,this.handleLegendOnHover),e.removeEventListener(S.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},n}(Yu),XP=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ZP=function(t){XP(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="boxplot",e.renderType=it.SVG,e}return n.prototype.render=function(e){var r=this,i=this.getComponentContainer({withinChartClip:!0}),a=this.getOptions(),o=a.data.groupMapsTo,s=this.model.getDataGroupNames(),l=this.services.cartesianScales.getMainXScale(),u=this.services.cartesianScales.getMainYScale(),c=l.range(),h=c[0],f=c[1],d=u.range(),p=d[0],g=d[1],m=f-h,_=p-g;if(m!==0){var v=this.services.cartesianScales,x=v.getOrientation(),O=x===Ht.VERTICAL,b=y.flipDomainAndRangeBasedOnOrientation(function(R,N){return r.services.cartesianScales.getDomainValue(R,N)},function(R,N){return r.services.cartesianScales.getRangeValue(R,N)},x),w=b[0],M=b[1],E=Math.floor((O?m:_)/s.length),A=Math.min(E/2,16),C=this.model.getBoxplotData(),T=i.selectAll(".box-group").data(C);T.exit().remove();var k=T.enter().append("g").attr("class","box-group"),D=T.merge(k);k.append("path").merge(T.select("path.vertical-line.start")).attr("class",function(){return r.model.getColorClassName({classNameTypes:[at.STROKE],originalClassName:"vertical-line start"})}).attr("stroke-width",pe.strokeWidth.default).attr("fill","none").transition().call(function(R){return r.services.transitions.setupTransition({transition:R,name:"boxplot-update-verticalstartline",animate:e})}).attr("d",function(R){var N=v.getDomainValue(R[o]),G=N,P=v.getRangeValue(R.whiskers.min),F=v.getRangeValue(R.quartiles.q_25);return y.generateSVGPathString({x0:N,x1:G,y0:P,y1:F},x)}),k.append("path").merge(T.select("path.vertical-line.end")).attr("class",function(){return r.model.getColorClassName({classNameTypes:[at.STROKE],originalClassName:"vertical-line end"})}).attr("stroke-width",pe.strokeWidth.default).attr("fill","none").transition().call(function(R){return r.services.transitions.setupTransition({transition:R,name:"boxplot-update-verticalendline",animate:e})}).attr("d",function(R){var N=v.getDomainValue(R[o]),G=N,P=v.getRangeValue(R.whiskers.max),F=v.getRangeValue(R.quartiles.q_75);return y.generateSVGPathString({x0:N,x1:G,y0:P,y1:F},x)}),k.append("path").merge(T.select("path.box")).attr("class",function(){return r.model.getColorClassName({classNameTypes:[at.FILL,at.STROKE],originalClassName:"box"})}).attr("fill-opacity",pe.box.opacity.default).attr("stroke-width",pe.strokeWidth.default).attr("role",ht.GRAPHICS_SYMBOL).attr("aria-roledescription","box").attr("aria-label",function(R){return R[o]}).transition().call(function(R){return r.services.transitions.setupTransition({transition:R,name:"boxplot-update-quartiles",animate:e})}).attr("d",function(R){var N=v.getDomainValue(R[o])-A/2,G=N+A,P=v.getRangeValue(Math[O?"max":"min"](R.quartiles.q_75,R.quartiles.q_25)),F=P+Math.abs(v.getRangeValue(R.quartiles.q_75)-v.getRangeValue(R.quartiles.q_25));return y.generateSVGPathString({x0:N,x1:G,y0:P,y1:F},x)}),k.append("path").merge(T.select("path.highlight-area")).attr("class","highlight-area").attr("opacity",0).attr("d",function(R){var N=v.getDomainValue(R[o])-A/2,G=N+A,P=v.getRangeValue(R.whiskers.min),F=v.getRangeValue(R.whiskers.max);return y.generateSVGPathString({x0:N,x1:G,y0:P,y1:F},x)}),k.append("path").merge(T.select("path.whisker.start")).attr("class",function(){return r.model.getColorClassName({classNameTypes:[at.STROKE],originalClassName:"whisker start"})}).attr("stroke-width",pe.strokeWidth.thicker).attr("fill","none").transition().call(function(R){return r.services.transitions.setupTransition({transition:R,name:"boxplot-update-startingwhisker",animate:e})}).attr("d",function(R){var N=v.getDomainValue(R[o])-A/4,G=N+A/2,P=v.getRangeValue(R.whiskers.min),F=v.getRangeValue(R.whiskers.min);return y.generateSVGPathString({x0:N,x1:G,y0:P,y1:F},x)}),k.append("path").merge(T.select("path.median")).attr("fill","none").attr("class",function(){return r.model.getColorClassName({classNameTypes:[at.STROKE],originalClassName:"median"})}).attr("stroke-width",2).transition().call(function(R){return r.services.transitions.setupTransition({transition:R,name:"boxplot-update-median",animate:e})}).attr("d",function(R){var N=v.getDomainValue(R[o])-A/2,G=N+A,P=v.getRangeValue(R.quartiles.q_50),F=P;return y.generateSVGPathString({x0:N,x1:G,y0:P,y1:F},x)}),k.append("path").merge(T.select("path.whisker.end")).attr("class",function(){return r.model.getColorClassName({classNameTypes:[at.STROKE],originalClassName:"whisker end"})}).attr("stroke-width",pe.strokeWidth.thicker).attr("fill","none").transition().call(function(R){return r.services.transitions.setupTransition({transition:R,name:"boxplot-update-endingwhisker",animate:e})}).attr("d",function(R){var N=v.getDomainValue(R[o])-A/4,G=N+A/2,P=v.getRangeValue(R.whiskers.max),F=v.getRangeValue(R.whiskers.max);return y.generateSVGPathString({x0:N,x1:G,y0:P,y1:F},x)});var I=D.selectAll("circle.outlier").data(function(R){return R.outliers.map(function(N){var G;return G={min:R.whiskers.min,max:R.whiskers.max},G[o]=R[o],G.value=N,G})});I.exit().remove();var L=I.enter().append("circle");I.merge(L).attr("r",pe.circle.radius).attr("class",function(){return r.model.getColorClassName({classNameTypes:[at.FILL,at.STROKE],originalClassName:"outlier"})}).attr("fill-opacity",pe.circle.opacity.default).attr("cx",w).transition().call(function(R){return r.services.transitions.setupTransition({transition:R,name:"boxplot-update-circles",animate:e})}).attr("cy",M),this.addBoxEventListeners(),this.addCircleEventListeners()}},n.prototype.addBoxEventListeners=function(){var e=this,r=this.getOptions(),i=r.data.groupMapsTo;this.parent.selectAll("path.highlight-area").on("mouseover",function(a,o){var s=$(this),l=$(this.parentNode);l.select("path.box").classed("hovered",!0).attr("fill-opacity",pe.box.opacity.hovered),e.services.events.dispatchEvent(S.Tooltip.SHOW,{event:a,hoveredElement:s,items:[{label:r.tooltip.groupLabel,value:o[i],class:e.model.getColorClassName({classNameTypes:[at.TOOLTIP]})},{label:"Minimum",value:o.whiskers.min},{label:"Q1",value:o.quartiles.q_25},{label:"Median",value:o.quartiles.q_50},{label:"Q3",value:o.quartiles.q_75},{label:"Maximum",value:o.whiskers.max},{label:"IQR",value:o.quartiles.q_75-o.quartiles.q_25}]}),e.services.events.dispatchEvent(S.Boxplot.BOX_MOUSEOVER,{event:a,element:s,datum:o})}).on("mousemove",function(a,o){var s=$(this);e.services.events.dispatchEvent(S.Boxplot.BOX_MOUSEMOVE,{event:a,element:s,datum:o}),e.services.events.dispatchEvent(S.Tooltip.MOVE,{event:a})}).on("click",function(a,o){e.services.events.dispatchEvent(S.Boxplot.BOX_CLICK,{event:a,element:$(this),datum:o})}).on("mouseout",function(a,o){var s=$(this),l=$(this.parentNode);l.select("path.box").classed("hovered",!1).attr("fill-opacity",pe.box.opacity.default),e.services.events.dispatchEvent(S.Boxplot.BOX_MOUSEOUT,{event:a,element:s,datum:o}),e.services.events.dispatchEvent(S.Tooltip.HIDE,{hoveredElement:s})})},n.prototype.addCircleEventListeners=function(){var e=this,r=this.getOptions(),i=r.data.groupMapsTo,a=this.services.cartesianScales.getRangeIdentifier();this.parent.selectAll("circle").on("mouseover",function(o,s){var l=$(this);l.classed("hovered",!0).attr("fill-opacity",pe.circle.opacity.hovered).classed("unfilled",!1),e.services.events.dispatchEvent(S.Tooltip.SHOW,{event:o,hoveredElement:l,items:[{label:r.tooltip.groupLabel,value:s[i],class:e.model.getColorClassName({classNameTypes:[at.TOOLTIP]})},{label:"Outlier",value:s[a]}]}),e.services.events.dispatchEvent(S.Boxplot.OUTLIER_MOUSEOVER,{event:o,element:l,datum:s})}).on("mousemove",function(o,s){var l=$(this);e.services.events.dispatchEvent(S.Boxplot.OUTLIER_MOUSEMOVE,{event:o,element:l,datum:s}),e.services.events.dispatchEvent(S.Tooltip.MOVE,{event:o})}).on("click",function(o,s){e.services.events.dispatchEvent(S.Boxplot.OUTLIER_CLICK,{event:o,element:$(this),datum:s})}).on("mouseout",function(o,s){var l=$(this);l.classed("hovered",!1).attr("fill-opacity",pe.circle.opacity.default),e.services.events.dispatchEvent(S.Boxplot.OUTLIER_MOUSEOUT,{event:o,element:l,datum:s}),e.services.events.dispatchEvent(S.Tooltip.HIDE,{hoveredElement:l})})},n}(xt),KP=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ve=function(t){KP(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="scatter",e.renderType=it.SVG,e.handleChartHolderOnHover=function(r){e.parent.selectAll("circle.dot").transition("chart-holder-hover-scatter").call(function(i){return e.services.transitions.setupTransition({transition:i,name:"chart-holder-hover-scatter"})}).attr("opacity",1)},e.handleChartHolderOnMouseOut=function(r){e.parent.selectAll("circle.dot").transition("chart-holder-mouseout-scatter").call(function(i){return e.services.transitions.setupTransition({transition:i,name:"chart-holder-mouseout-scatter"})}).attr("opacity",0)},e.handleLegendOnHover=function(r){var i=r.detail.hoveredElement,a=e.getOptions().data.groupMapsTo;e.parent.selectAll("circle.dot").transition("legend-hover-scatter").call(function(o){return e.services.transitions.setupTransition({transition:o,name:"legend-hover-scatter"})}).attr("opacity",function(o){return o[a]!==i.datum().name?.3:1})},e.handleLegendMouseOut=function(r){e.parent.selectAll("circle.dot").transition("legend-mouseout-scatter").call(function(i){return e.services.transitions.setupTransition({transition:i,name:"legend-mouseout-scatter"})}).attr("opacity",1)},e}return n.prototype.init=function(){var e=this.services.events;e.addEventListener(S.Legend.ITEM_HOVER,this.handleLegendOnHover),e.addEventListener(S.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut);var r=this.configs.fadeInOnChartHolderMouseover;r&&(e.addEventListener(S.Chart.MOUSEOVER,this.handleChartHolderOnHover),e.addEventListener(S.Chart.MOUSEOUT,this.handleChartHolderOnMouseOut))},n.prototype.filterBasedOnZoomDomain=function(e){var r=this.services.cartesianScales.getDomainIdentifier(e),i=this.model.get("zoomDomain");return i!==void 0?e.filter(function(a){return a[r].getTime()>=i[0].getTime()&&a[r].getTime()<=i[1].getTime()}):e},n.prototype.getScatterData=function(){var e=this,r=this.getOptions(),i=this.configs.stacked,a;if(i){var o=Object.keys(r.axes).some(function(s){return r.axes[s].percentage});a=this.model.getStackedData({groups:this.configs.groups,percentage:o})}else a=this.model.getDisplayData(this.configs.groups).filter(function(s){var l=e.services.cartesianScales.getRangeIdentifier(s);return s[l]!==void 0&&s[l]!==null});return this.filterBasedOnZoomDomain(a)},n.prototype.render=function(e){var r=y.getProperty(this.getOptions(),"points","enabled")||y.getProperty(this.getOptions(),"bubble","enabled");if(r){var i=this.getComponentContainer({withinChartClip:!0}),a=this.getOptions(),o=a.data.groupMapsTo,s=this.services.cartesianScales.getDomainIdentifier(),l=i.selectAll("circle.dot").data(this.getScatterData(),function(h){return h[o]+"-"+h[s]});l.exit().attr("opacity",0).remove();var u=l.enter().append("circle").classed("dot",!0).attr("opacity",0),c=u.merge(l);this.styleCircles(c,e),this.addEventListeners()}},n.prototype.isDatapointThresholdAnomaly=function(e,r){var i=this,a=this.configs.handleThresholds;if(!a)return!1;var o=this.services.cartesianScales,s=o.getOrientation(),l=y.flipDomainAndRangeBasedOnOrientation(this.services.cartesianScales.getHighestDomainThreshold(),this.services.cartesianScales.getHighestRangeThreshold(),s),u=l[0],c=l[1],h=y.flipDomainAndRangeBasedOnOrientation(function(m,_){return i.services.cartesianScales.getDomainValue(m,_)},function(m,_){return i.services.cartesianScales.getRangeValue(m,_)},s),f=h[0],d=h[1],p=f(e,r),g=d(e,r);if(c&&u)return g<=c.scaleValue&&p>=u.scaleValue;if(c)return g<=c.scaleValue;if(u)return p>=u.scaleValue},n.prototype.styleCircles=function(e,r){var i=this,a=this.getOptions(),o=a.points,s=o.filled,l=o.fillOpacity,u=this.services,c=u.cartesianScales;u.transitions;var h=a.data.groupMapsTo,f=function(v,x){return c.getDomainValue(v,x)},d=function(v,x){return c.getRangeValue(v,x)},p=y.flipDomainAndRangeBasedOnOrientation(f,d,c.getOrientation()),g=p[0],m=p[1],_=this.configs.fadeInOnChartHolderMouseover;e.raise().classed("dot",!0).attr("class",function(v){var x=c.getDomainIdentifier(v),O=i.model.getIsFilled(v[h],v[x],v,s),b=O?[at.FILL,at.STROKE]:[at.STROKE];return i.model.getColorClassName({classNameTypes:b,dataGroupName:v[h],originalClassName:"dot"})}).classed("threshold-anomaly",function(v,x){return i.isDatapointThresholdAnomaly(v,x)}).classed("filled",function(v){var x=c.getDomainIdentifier(v);return i.model.getIsFilled(v[h],v[x],v,s)}).classed("unfilled",function(v){var x=c.getDomainIdentifier(v);return!i.model.getIsFilled(v[h],v[x],v,s)}).transition().call(function(v){return i.services.transitions.setupTransition({transition:v,name:"scatter-update-enter",animate:r})}).attr("cx",g).attr("cy",m).attr("r",a.points.radius).style("fill",function(v){var x=c.getDomainIdentifier(v);if(i.model.getIsFilled(v[h],v[x],v,s))return i.model.getFillColor(v[h],v[x],v)}).style("stroke",function(v){var x=c.getDomainIdentifier(v);return i.model.getStrokeColor(v[h],v[x],v)}).attr("fill-opacity",s?l:1).attr("opacity",_?0:1).attr("role",ht.GRAPHICS_SYMBOL).attr("aria-roledescription","point").attr("aria-label",function(v){var x=c.getRangeIdentifier(v);return v[x]}),this.addEventListeners()},n.prototype.getTooltipAdditionalItems=function(e){return null},n.prototype.addEventListeners=function(){var e=this,r=e.getOptions().data.groupMapsTo;this.parent.selectAll("circle").on("mouseover",function(i,a){var o=$(this);o.classed("hovered",!0).attr("class",function(s){return e.model.getColorClassName({classNameTypes:[at.FILL],dataGroupName:s[r],originalClassName:o.attr("class")})}).style("fill",function(s){var l=e.services.cartesianScales.getDomainIdentifier(s);return e.model.getFillColor(s[r],s[l],s)}).classed("unfilled",!1),e.services.events.dispatchEvent(S.Tooltip.SHOW,{event:i,hoveredElement:o,data:[a],additionalItems:e.getTooltipAdditionalItems(a)}),e.services.events.dispatchEvent(S.Scatter.SCATTER_MOUSEOVER,{event:i,element:o,datum:a})}).on("mousemove",function(i,a){var o=$(this);e.services.events.dispatchEvent(S.Scatter.SCATTER_MOUSEMOVE,{event:i,element:o,datum:a}),e.services.events.dispatchEvent(S.Tooltip.MOVE,{event:i})}).on("click",function(i,a){e.services.events.dispatchEvent(S.Scatter.SCATTER_CLICK,{event:i,element:$(this),datum:a})}).on("mouseout",function(i,a){var o=$(this);if(o.classed("hovered",!1),!e.configs.filled){var s=e.getOptions().points.filled,l=e.services.cartesianScales.getDomainIdentifier(a),u=e.model.getIsFilled(a[r],a[l],a,s);o.classed("unfilled",!u).style("fill",function(c){return u||s?e.model.getFillColor(c[r],c[l],c):null})}e.services.events.dispatchEvent(S.Scatter.SCATTER_MOUSEOUT,{event:i,element:o,datum:a}),e.services.events.dispatchEvent(S.Tooltip.HIDE,{hoveredElement:o})})},n.prototype.destroy=function(){this.parent.selectAll("circle").on("mousemove",null).on("mouseout",null);var e=this.services.events;e.removeEventListener(S.Legend.ITEM_HOVER,this.handleLegendOnHover),e.removeEventListener(S.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut),e.removeEventListener(S.Chart.MOUSEOVER,this.handleChartHolderOnHover),e.removeEventListener(S.Chart.MOUSEOUT,this.handleChartHolderOnMouseOut)},n}(xt),QP=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),JP=function(t){QP(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="bubble",e.renderType=it.SVG,e}return n.prototype.getRadiusScale=function(e){var r=this.getOptions(),i=r.bubble.radiusMapsTo,a=e.data(),o=a.map(function(c){return c[i]}).filter(function(c){return c}),s=U.getHTMLElementSize(this.services.domUtils.getMainContainer()),l=o.length>0,u=l?Ue(o):[1,1];return He().domain(u).range(l?r.bubble.radiusRange(s,a):[4,4])},n.prototype.styleCircles=function(e,r){var i=this,a=this.getOptions(),o=a.bubble.radiusMapsTo,s=this.getRadiusScale(e),l=a.data.groupMapsTo,u=this.services.cartesianScales,c=function(g,m){return u.getDomainValue(g,m)},h=function(g,m){return u.getRangeValue(g,m)},f=y.flipDomainAndRangeBasedOnOrientation(c,h,u.getOrientation()),d=f[0],p=f[1];e.raise().classed("dot",!0).attr("role",ht.GRAPHICS_SYMBOL).attr("aria-label",function(g){var m=u.getRangeIdentifier(g);return g[m]}).transition().call(function(g){return i.services.transitions.setupTransition({transition:g,name:"bubble-update-enter",animate:r})}).attr("cx",d).attr("cy",p).attr("r",function(g){return s(g[o]||1)}).attr("class",function(g){return i.model.getColorClassName({classNameTypes:[at.FILL,at.STROKE],dataGroupName:g[l],originalClassName:"dot"})}).style("fill",function(g){var m=i.services.cartesianScales.getDomainIdentifier(g);return i.model.getFillColor(g[l],g[m],g)}).style("stroke",function(g){var m=i.services.cartesianScales.getDomainIdentifier(g);return i.model.getStrokeColor(g[l],g[m],g)}).attr("fill-opacity",a.bubble.fillOpacity).attr("opacity",1)},n.prototype.getTooltipAdditionalItems=function(e){var r=y.getProperty(this.getOptions(),"bubble");return[{label:y.getProperty(r,"radiusLabel"),value:e[y.getProperty(r,"radiusMapsTo")]}]},n}(Ve),tD=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),eD=function(t){tD(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="bullet",e.renderType=it.SVG,e.handleLegendOnHover=function(r){var i=r.detail.hoveredElement,a=e.getOptions().data.groupMapsTo;e.parent.selectAll("path.bar").transition("legend-hover-simple-bar").call(function(o){return e.services.transitions.setupTransition({transition:o,name:"legend-hover-simple-bar"})}).attr("opacity",function(o){return o[a]!==i.datum().name?.3:1})},e.handleLegendMouseOut=function(r){e.parent.selectAll("path.bar").transition("legend-mouseout-simple-bar").call(function(i){return e.services.transitions.setupTransition({transition:i,name:"legend-mouseout-simple-bar"})}).attr("opacity",1)},e}return n.prototype.init=function(){var e=this.services.events;e.addEventListener(S.Legend.ITEM_HOVER,this.handleLegendOnHover),e.addEventListener(S.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},n.prototype.render=function(e){var r=this,i=this.getOptions(),a=i.data.groupMapsTo,o=this.getComponentContainer({withinChartClip:!0}),s=this.model.getDisplayData(this.configs.groups),l=this.services.cartesianScales.getRangeScale(),u=this.services.cartesianScales.getRangeIdentifier(),c=l.range(),h=c[0],f=c[1],d=l.domain();d[0];var p=d[1],g=function(){var x=[];s.forEach(function(w){w.ranges?w.ranges.forEach(function(M,E){M!=null&&M<p&&x.push({datum:w,value:M,order:E+1})}):x.push({datum:w,order:1})});var O=U.appendOrSelect(o,"g.range-boxes").selectAll("path.range-box").data(x,function(w){return w[a]+"-"+w.order});O.exit().attr("opacity",0).remove();var b=O.enter().append("path").attr("opacity",0);b.merge(O).attr("class",function(w){return"range-box order-"+w.order}).transition().call(function(w){return r.services.transitions.setupTransition({transition:w,name:"bullet-range-box-update-enter",animate:e})}).attr("d",function(w,M){var E=16,A,C,T,k;return w.order===1?(A=r.services.cartesianScales.getDomainValue(w.datum,M)-E/2,C=A+E,T=f-2,k=h+1):(A=r.services.cartesianScales.getDomainValue(w.datum,M)-E/2,C=A+E,T=r.services.cartesianScales.getRangeValue(w.value,M),k=f),y.generateSVGPathString({x0:A,x1:C,y0:T,y1:k},r.services.cartesianScales.getOrientation())}).attr("opacity",1)},m=function(){var x=U.appendOrSelect(o,"g.bars").selectAll("path.bar").data(s,function(b){return b[a]});x.exit().attr("opacity",0).remove();var O=x.enter().append("path").attr("opacity",0);O.merge(x).classed("bar",!0).transition().call(function(b){return r.services.transitions.setupTransition({transition:b,name:"bullet-bar-update-enter",animate:e})}).attr("class",function(b){return r.model.getColorClassName({classNameTypes:[at.FILL],dataGroupName:b[a],originalClassName:"bar"})}).style("fill",function(b){return r.model.getFillColor(b[a])}).attr("d",function(b,w){var M=8,E=r.services.cartesianScales.getDomainValue(b,w)-M/2,A=E+M,C=r.services.cartesianScales.getRangeValue(0)+1,T=r.services.cartesianScales.getRangeValue(b,w);return y.generateSVGPathString({x0:E,x1:A,y0:C,y1:T},r.services.cartesianScales.getOrientation())}).attr("opacity",1).attr("role",ht.GRAPHICS_SYMBOL).attr("aria-roledescription","bar").attr("aria-label",function(b){return b.value})},_=function(){var x=U.appendOrSelect(o,"g.markers").selectAll("path.marker").data(s.filter(function(b){return y.getProperty(b,"marker")!==null}),function(b){return b[a]});x.exit().attr("opacity",0).remove();var O=x.enter().append("path").attr("opacity",0);O.merge(x).classed("marker",!0).transition().call(function(b){return r.services.transitions.setupTransition({transition:b,name:"bullet-marker-update-enter",animate:e})}).attr("d",function(b,w){var M=24,E=r.services.cartesianScales.getDomainValue(b,w)-M/2,A=E+M,C=r.services.cartesianScales.getRangeValue(b.marker,w),T=C;return y.generateSVGPathString({x0:E,x1:A,y0:C,y1:T},r.services.cartesianScales.getOrientation())}).attr("opacity",1)},v=function(){var x=[];s.filter(function(w){return y.getProperty(w,"marker")!==null}).forEach(function(w){var M=w.marker,E=w[u];x=x.concat([{datum:w,value:M*.25,barValue:E},{datum:w,value:M*.5,barValue:E},{datum:w,value:M*.75,barValue:E}])});var O=U.appendOrSelect(o,"g.quartiles").selectAll("path.quartile").data(x,function(w){return w[a]});O.exit().attr("opacity",0).remove();var b=O.enter().append("path").attr("opacity",0);b.merge(O).attr("class",function(w){return"quartile "+(w.value<=w.barValue?"over-bar":"")}).transition().call(function(w){return r.services.transitions.setupTransition({transition:w,name:"bullet-quartile-update-enter",animate:e})}).attr("d",function(w,M){var E=w.datum,A=w.value,C=4;E.ranges&&E.ranges.indexOf(A)!==-1&&(C=8);var T=r.services.cartesianScales.getDomainValue(E,M)-C/2,k=T+C,D=r.services.cartesianScales.getRangeValue(A,M),I=D;return y.generateSVGPathString({x0:T,x1:k,y0:D,y1:I},r.services.cartesianScales.getOrientation())}).attr("opacity",1)};g(),m(),_(),v(),this.addEventListeners()},n.prototype.addEventListeners=function(){var e=this,r=this.getOptions(),i=r.data.groupMapsTo,a=this.services.cartesianScales.getRangeIdentifier();this.parent.selectAll("path.bar").on("mouseover",function(o,s){var l=$(this);l.classed("hovered",!0),e.services.events.dispatchEvent(S.Bar.BAR_MOUSEOVER,{event:o,element:l,datum:s});var u=y.getProperty(r,"bullet","performanceAreaTitles"),c=e.model.getMatchingRangeIndexForDatapoint(s);e.services.events.dispatchEvent(S.Tooltip.SHOW,{event:o,hoveredElement:l,items:[{label:r.tooltip.groupLabel||"Group",value:s[i],class:e.model.getColorClassName({classNameTypes:[at.TOOLTIP],dataGroupName:s[i]})},{label:"Value",value:s[a]},{label:"Target",value:s.marker},{label:"Percentage",value:Math.floor(s[a]/s.marker*100)+"%"},{label:"Performance",value:u[c]}]})}).on("mousemove",function(o,s){e.services.events.dispatchEvent(S.Bar.BAR_MOUSEMOVE,{event:o,element:$(this),datum:s}),e.services.events.dispatchEvent(S.Tooltip.MOVE,{event:o})}).on("click",function(o,s){e.services.events.dispatchEvent(S.Bar.BAR_CLICK,{event:o,element:$(this),datum:s})}).on("mouseout",function(o,s){var l=$(this);l.classed("hovered",!1),e.services.events.dispatchEvent(S.Bar.BAR_MOUSEOUT,{event:o,element:l,datum:s}),e.services.events.dispatchEvent(S.Tooltip.HIDE,{hoveredElement:l})})},n.prototype.destroy=function(){this.parent.selectAll("path.bar").on("mouseover",null).on("mousemove",null).on("mouseout",null);var e=this.services.events;e.removeEventListener(S.Legend.ITEM_HOVER,this.handleLegendOnHover),e.removeEventListener(S.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},n}(xt),nD=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),rD=function(t){nD(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="histogram",e.renderType=it.SVG,e.handleLegendOnHover=function(r){var i=r.detail.hoveredElement,a=e.getOptions(),o=a.data.groupMapsTo;e.parent.selectAll("path.bar").transition("legend-hover-bar").call(function(s){return e.services.transitions.setupTransition({transition:s,name:"legend-hover-bar"})}).attr("opacity",function(s){return s[o]!==i.datum().name?.3:1})},e.handleLegendMouseOut=function(r){e.parent.selectAll("path.bar").transition("legend-mouseout-bar").call(function(i){return e.services.transitions.setupTransition({transition:i,name:"legend-mouseout-bar"})}).attr("opacity",1)},e}return n.prototype.init=function(){var e=this.services.events;e.addEventListener(S.Legend.ITEM_HOVER,this.handleLegendOnHover),e.addEventListener(S.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},n.prototype.render=function(e){var r=this,i=this.getComponentContainer(),a=this.model.getOptions(),o=a.groupIdentifier,s=a.data.groupMapsTo,l=this.model.getBinnedStackedData(),u=this.services.cartesianScales.getMainXScale(),c=i.selectAll("g.bars").data(l,function(f){return Lt(f,"0."+s)});c.exit().attr("opacity",0).remove(),c.enter().append("g").classed("bars",!0).attr("role",ht.GROUP);var h=i.selectAll("g.bars").selectAll("path.bar").data(function(f){return f});h.exit().remove(),h.enter().append("path").merge(h).classed("bar",!0).attr(o,function(f,d){return d}).transition().call(function(f){return r.services.transitions.setupTransition({transition:f,name:"histogram-bar-update-enter",animate:e})}).attr("class",function(f){return r.model.getColorClassName({classNameTypes:[at.FILL],dataGroupName:f[s],originalClassName:"bar"})}).style("fill",function(f){return r.model.getFillColor(f[s])}).attr("d",function(f,d){var p=Lt(f,"data");if(p){var g=u(p.x1)-u(p.x0)-1,m=r.services.cartesianScales.getDomainValue(p.x0,d),_=m+g,v=r.services.cartesianScales.getRangeValue(f[0],d),x=r.services.cartesianScales.getRangeValue(f[1],d);return Math.abs(x-v)>0&&Math.abs(x-v)>a.bars.dividerSize&&(r.services.cartesianScales.getOrientation()===Ht.VERTICAL?x+=1:x-=1),y.generateSVGPathString({x0:m,x1:_,y0:v,y1:x},r.services.cartesianScales.getOrientation())}}).attr("opacity",1).attr("role",ht.GRAPHICS_SYMBOL).attr("aria-roledescription","bar").attr("aria-label",function(f){return y.getProperty(f,"data",f[s])}),this.addEventListeners()},n.prototype.addEventListeners=function(){var e=this.model.getOptions(),r=e.data.groupMapsTo,i=this;this.parent.selectAll("path.bar").on("mouseover",function(a,o){var s=$(this);s.classed("hovered",!0);var l=parseFloat(Lt(o,"data.x0")),u=parseFloat(Lt(o,"data.x1")),c=i.services.cartesianScales.getRangeAxisPosition(),h=i.services.cartesianScales.getScaleLabel(c);i.services.events.dispatchEvent(S.Tooltip.SHOW,{event:a,hoveredElement:s,items:[{label:Lt(e,"bins.rangeLabel")||"Range",value:l+" – "+u},{label:e.tooltip.groupLabel||"Group",value:o[r],class:i.model.getColorClassName({classNameTypes:[at.TOOLTIP],dataGroupName:o[r]})},{label:h,value:Lt(o,"data."+o[r])}]})}).on("mousemove",function(a,o){i.services.events.dispatchEvent(S.Tooltip.MOVE,{event:a})}).on("mouseout",function(a,o){var s=$(this);s.classed("hovered",!1),i.services.events.dispatchEvent(S.Tooltip.HIDE)})},n.prototype.destroy=function(){this.parent.selectAll("path.bar").on("mouseover",null).on("mousemove",null).on("mouseout",null);var e=this.services.events;e.removeEventListener(S.Legend.ITEM_HOVER,this.handleLegendOnHover),e.removeEventListener(S.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},n}(xt),iD=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),br=function(t){iD(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="line",e.renderType=it.SVG,e.handleLegendOnHover=function(r){var i=r.detail.hoveredElement;e.parent.selectAll("path.line").transition("legend-hover-line").call(function(a){return e.services.transitions.setupTransition({transition:a,name:"legend-hover-line"})}).attr("opacity",function(a){return a.name!==i.datum().name?Ne.opacity.unselected:Ne.opacity.selected})},e.handleLegendMouseOut=function(r){e.parent.selectAll("path.line").transition("legend-mouseout-line").call(function(i){return e.services.transitions.setupTransition({transition:i,name:"legend-mouseout-line"})}).attr("opacity",Ne.opacity.selected)},e}return n.prototype.init=function(){var e=this.services.events;e.addEventListener(S.Legend.ITEM_HOVER,this.handleLegendOnHover),e.addEventListener(S.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},n.prototype.render=function(e){var r=this;e===void 0&&(e=!0);var i=this.getComponentContainer({withinChartClip:!0}),a=this.services,o=a.cartesianScales,s=a.curves,l=function(b,w){return o.getDomainValue(b,w)},u=function(b,w){return o.getRangeValue(b,w)},c=y.flipDomainAndRangeBasedOnOrientation(l,u,o.getOrientation()),h=c[0],f=c[1],d=this.getOptions(),p=Ro().x(h).y(f).curve(s.getD3Curve()).defined(function(b,w){var M=o.getRangeIdentifier(b),E=b[M];return E!=null}),g=[];if(this.configs.stacked){var m=Object.keys(d.axes).some(function(b){return d.axes[b].percentage}),_=d.data.groupMapsTo,v=this.model.getStackedData({groups:this.configs.groups,percentage:m});g=v.map(function(b){var w=r.services.cartesianScales.getDomainIdentifier(b),M=r.services.cartesianScales.getRangeIdentifier(b);return{name:y.getProperty(b,0,_),data:b.map(function(E){var A;return A={},A[w]=E.data.sharedStackKey,A[_]=E[_],A[M]=E[1],A}),hidden:!y.some(b,function(E){return E[0]!==E[1]})}})}else g=this.model.getGroupedData(this.configs.groups);var x=i.selectAll("path.line").data(g,function(b){return b.name});x.exit().attr("opacity",0).remove();var O=x.enter().append("path").classed("line",!0).attr("opacity",0);O.merge(x).data(g,function(b){return b.name}).attr("class",function(b){return r.model.getColorClassName({classNameTypes:[at.STROKE],dataGroupName:b.name,originalClassName:"line"})}).style("stroke",function(b){return r.model.getStrokeColor(b.name)}).attr("role",ht.GRAPHICS_SYMBOL).attr("aria-roledescription","line").attr("aria-label",function(b){var w=b.data;return w.map(function(M){var E=r.services.cartesianScales.getRangeIdentifier(M);return M[E]}).join(",")}).transition().call(function(b){return r.services.transitions.setupTransition({transition:b,name:"line-update-enter",animate:e})}).attr("opacity",function(b){return b.hidden?0:1}).attr("d",function(b){var w=b.data;return p(w)})},n.prototype.destroy=function(){var e=this.services.events;e.removeEventListener(S.Legend.ITEM_HOVER,this.handleLegendOnHover),e.removeEventListener(S.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},n}(xt),aD=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),oD=function(t){aD(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="lollipop",e.renderType=it.SVG,e.handleScatterOnHover=function(r){var i=r.detail,a=e.getOptions(),o=a.data.groupMapsTo;e.parent.selectAll("line.line").attr("stroke-width",function(s){return s[o]!==i.datum[o]?Ne.weight.unselected:Ne.weight.selected})},e.handleScatterOnMouseOut=function(r){e.parent.selectAll("line.line").attr("stroke-width",Ne.weight.unselected)},e.handleLegendOnHover=function(r){var i=r.detail.hoveredElement,a=e.getOptions(),o=a.data.groupMapsTo;e.parent.selectAll("line.line").transition("legend-hover-line").call(function(s){return e.services.transitions.setupTransition({transition:s,name:"legend-hover-line"})}).attr("opacity",function(s){return s[o]!==i.datum().name?Ne.opacity.unselected:Ne.opacity.selected})},e.handleLegendMouseOut=function(r){e.parent.selectAll("line.line").transition("legend-mouseout-line").call(function(i){return e.services.transitions.setupTransition({transition:i,name:"legend-mouseout-line"})}).attr("opacity",Ne.opacity.selected)},e}return n.prototype.init=function(){var e=this.services.events;e.addEventListener(S.Legend.ITEM_HOVER,this.handleLegendOnHover),e.addEventListener(S.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},n.prototype.render=function(e){var r=this,i=this.getComponentContainer({withinChartClip:!0}),a=this.model.getOptions(),o=a.data.groupMapsTo,s=this.services.cartesianScales,l=s.getMainXScale(),u=s.getMainYScale(),c=s.getDomainIdentifier(),h=function(O,b){return s.getDomainValue(O,b)},f=function(O,b){return s.getRangeValue(O,b)},d=s.getOrientation(),p=y.flipDomainAndRangeBasedOnOrientation(h,f,d),g=p[0],m=p[1],_=i.selectAll("line.line").data(this.getScatterData(),function(O){return O[o]+"-"+O[c]});_.exit().attr("opacity",0).remove();var v=_.enter().append("line").attr("opacity",0),x=v.merge(_).classed("line",!0).attr("class",function(O){return r.model.getColorClassName({classNameTypes:[at.STROKE],dataGroupName:O[o],originalClassName:"line"})}).transition().call(function(O){return r.services.transitions.setupTransition({transition:O,name:"lollipop-line-update-enter",animate:e})}).style("stroke",function(O){return r.model.getFillColor(O[o],O[c],O)}).attr("opacity",1);d===Ht.HORIZONTAL?x.attr("y1",m).attr("y2",m).attr("x1",l.range()[0]).attr("x2",function(O,b){return g(O,b)-a.points.radius}):x.attr("x1",g).attr("x2",g).attr("y1",u.range()[0]).attr("y2",function(O,b){return m(O,b)+a.points.radius}),this.addScatterPointEventListeners()},n.prototype.addScatterPointEventListeners=function(){this.services.events.addEventListener(S.Scatter.SCATTER_MOUSEOVER,this.handleScatterOnHover),this.services.events.addEventListener(S.Scatter.SCATTER_MOUSEOUT,this.handleScatterOnMouseOut)},n.prototype.destroy=function(){var e=this.services.events;e.removeEventListener(S.Legend.ITEM_HOVER,this.handleLegendOnHover),e.removeEventListener(S.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut),e.removeEventListener(S.Scatter.SCATTER_MOUSEOVER,this.handleScatterOnHover),e.removeEventListener(S.Scatter.SCATTER_MOUSEOUT,this.handleScatterOnMouseOut)},n}(Ve),sD=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Kv=function(t){sD(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="scatter-stacked",e.renderType=it.SVG,e}return n.prototype.render=function(e){var r=this,i=y.getProperty(this.getOptions(),"points","enabled");if(i){var a=this.getComponentContainer({withinChartClip:!0}),o=this.getOptions(),s=o.data.groupMapsTo,l=Object.keys(o.axes).some(function(g){return o.axes[g].percentage}),u=this.model.getStackedData({groups:this.configs.groups,percentage:l}),c=a.selectAll("g.dots").data(u,function(g){return y.getProperty(g,0,s)});c.exit().attr("opacity",0).remove();var h=c.enter().append("g").classed("dots",!0).attr("role",ht.GROUP),f=h.merge(c).selectAll("circle.dot").data(function(g){return g});f.exit().attr("opacity",0).remove();var d=f.enter().append("circle").classed("dot",!0).attr("opacity",0),p=d.merge(f).datum(function(g){var m,_=g[s],v=r.services.cartesianScales.getDomainIdentifier(g),x=r.services.cartesianScales.getRangeIdentifier(g);return m={},m[s]=_,m[v]=g.data.sharedStackKey,m[x]=g[1],m});this.styleCircles(p,e),this.addEventListeners()}},n.prototype.getTooltipData=function(e,r){var i=this,a=this.getOptions(),o=a.data.groupMapsTo,s=Object.keys(a.axes).some(function(c){return a.axes[c].percentage}),l=this.model.getStackedData({groups:this.configs.groups,percentage:s}),u=[];return l.forEach(function(c,h){c.forEach(function(f,d){var p,g=f[o],m=f.data.sharedStackKey,_=f.data[g],v=f[1],x=i.services.cartesianScales.getDomainIdentifier(f),O=i.services.cartesianScales.getRangeIdentifier(f);_!=null&&e===i.services.cartesianScales.getDomainValue(m)&&r===i.services.cartesianScales.getRangeValue(v)&&(s&&(_=i.model.getStackedData({groups:i.configs.groups})[h][d].data[g]),_!==null&&u.push((p={},p[o]=g,p[x]=m,p[O]=_,p)))})}),this.model.getDisplayData(this.configs.groups).filter(function(c){var h=i.services.cartesianScales.getDomainIdentifier(c),f=i.services.cartesianScales.getRangeIdentifier(c);return u.find(function(d){return d[o]==c[o]&&d[h]==c[h]&&d[f]==c[f]})!==void 0})},n}(Ve),lD=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}();function uD(t,n){var e=this,r=Ni(this._current,t);return function(i){return e._current=r(i),n(e._current)}}var Qv=function(t){lD(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="pie",e.renderType=it.SVG,e.handleLegendOnHover=function(r){var i=r.detail.hoveredElement,a=e.getOptions().data.groupMapsTo;e.parent.selectAll("path.slice").transition("legend-hover-bar").call(function(o){return e.services.transitions.setupTransition({transition:o,name:"legend-hover-bar"})}).attr("opacity",function(o){return o.data[a]!==i.datum().name?.3:1})},e.handleLegendMouseOut=function(r){e.parent.selectAll("path.slice").transition("legend-mouseout-bar").call(function(i){return e.services.transitions.setupTransition({transition:i,name:"legend-mouseout-bar"})}).attr("opacity",1)},e}return n.prototype.init=function(){var e=this.services.events;e.addEventListener(S.Legend.ITEM_HOVER,this.handleLegendOnHover),e.addEventListener(S.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},n.prototype.getInnerRadius=function(){return Ct.innerRadius},n.prototype.render=function(e){var r=this;e===void 0&&(e=!0);var i=this,a=this.getComponentContainer(),o=this.getOptions(),s=o.data.groupMapsTo,l=o.pie.valueMapsTo,u=this.model.getDisplayData().filter(function(I){return I[l]>0}),c=this.computeRadius();this.arc=wi().innerRadius(this.getInnerRadius()).outerRadius(c),this.hoverArc=wi().innerRadius(this.getInnerRadius()).outerRadius(c+Ct.hoverArc.outerRadiusOffset);var h=OA().value(function(I){return I[l]}).sort(y.getProperty(o,"pie","sortFunction")).padAngle(Ct.padAngle),f=h(u),d=U.appendOrSelect(a,"g.slices").attr("role",ht.GROUP).attr("data-name","slices"),p=d.selectAll("path.slice").data(f,function(I){return I.data[s]});p.exit().attr("opacity",0).remove();var g=p.enter().append("path").classed("slice",!0).attr("opacity",0),m=g.merge(p).attr("class",function(I){return r.model.getColorClassName({classNameTypes:[at.FILL],dataGroupName:I.data[s],originalClassName:"slice"})}).style("fill",function(I){return i.model.getFillColor(I.data[s])}).attr("d",this.arc);m.transition().call(function(I){return r.services.transitions.setupTransition({transition:I,name:"pie_slice_enter_update",animate:e})}).attr("opacity",1).attr("role",ht.GRAPHICS_SYMBOL).attr("aria-roledescription","slice").attr("aria-label",function(I){return I[l]+", "+(y.convertValueToPercentage(I.data[l],u,l)+"%")}).attrTween("d",function(I){return uD.bind(this)(I,i.arc)});var _=o.pie.labels.enabled,v=_?f.filter(function(I){return I.data[l]>0}):[],x=U.appendOrSelect(a,"g.labels").attr("role",ht.GROUP).attr("data-name","labels"),O=x.selectAll("text.pie-label").data(v,function(I){return I.data[s]});O.exit().attr("opacity",0).remove();var b=O.enter().append("text").classed("pie-label",!0),w=[];b.merge(O).style("text-anchor","middle").text(function(I){return o.pie.labels.formatter?o.pie.labels.formatter(I):y.convertValueToPercentage(I.data[l],u,l)+"%"}).datum(function(I){var L=c+7,R=(I.endAngle-I.startAngle)/2+I.startAngle,N=R/Math.PI*180,G=this.getComputedTextLength();return I.textOffsetX=G/2,I.textOffsetY=N>90&&N<270?10:0,I.xPosition=(I.textOffsetX+L)*Math.sin(R),I.yPosition=(I.textOffsetY+L)*-Math.cos(R),I}).attr("transform",function(I,L){var R=v.length,N=(I.endAngle-I.startAngle)*(180/Math.PI);if(L>=R-2&&N<Ct.callout.minSliceDegree){var G=void 0,P=void 0;return I.index===R-1?(G=I.xPosition+Ct.callout.offsetX+Ct.callout.textMargin+I.textOffsetX,P=I.yPosition-Ct.callout.offsetY,I.direction=oi.RIGHT,w.push(I)):(G=I.xPosition-Ct.callout.offsetX-I.textOffsetX-Ct.callout.textMargin,P=I.yPosition-Ct.callout.offsetY,I.direction=oi.LEFT,w.push(I)),"translate("+G+", "+P+")"}return"translate("+I.xPosition+", "+I.yPosition+")"}),this.renderCallouts(w);var M=y.getProperty(o,"donut")?"donut":"pie",E=y.getProperty(o,M,"alignment"),A=U.getSVGElementSize(this.getParent(),{useAttrs:!0}).width,C=_?Ct.xOffset:0,T=_?Ct.yOffset:0,k=c+C;E===Ft.CENTER?k=A/2:E===Ft.RIGHT&&(k=A-c-Ct.xOffset);var D=c+T;w.length>0&&(D+=Ct.yOffsetCallout),a.attr("x",k+7).attr("y",D),this.addEventListeners()},n.prototype.renderCallouts=function(e){var r=U.appendOrSelect(this.getComponentContainer(),"g.callouts").attr("role",ht.GROUP).attr("data-name","callouts"),i=r.selectAll("g.callout").data(e);i.exit().remove();var a=i.enter().append("g").classed("callout",!0).attr("role",ht.GROUP).attr("aria-roledescription","label callout");a.merge(i).datum(function(l){var u=l.xPosition,c=l.yPosition,h=l.direction;return h===oi.RIGHT?(l.startPos={x:u,y:c+l.textOffsetY},l.endPos={x:u+Ct.callout.offsetX,y:c-Ct.callout.offsetY+l.textOffsetY},l.intersectPointX=l.endPos.x-Ct.callout.horizontalLineLength):(l.startPos={x:u,y:c+l.textOffsetY},l.endPos={x:u-Ct.callout.offsetX,y:c-Ct.callout.offsetY+l.textOffsetY},l.intersectPointX=l.endPos.x+Ct.callout.horizontalLineLength),l});var o=a.append("line").classed("vertical-line",!0);o.merge(r.selectAll("line.vertical-line")).datum(function(l){return $(this.parentNode).datum()}).style("stroke-width","1px").attr("x1",function(l){return l.startPos.x}).attr("y1",function(l){return l.startPos.y}).attr("x2",function(l){return l.intersectPointX}).attr("y2",function(l){return l.endPos.y});var s=a.append("line").classed("horizontal-line",!0);s.merge(r.selectAll("line.horizontal-line")).datum(function(l){return $(this.parentNode).datum()}).style("stroke-width","1px").attr("x1",function(l){return l.intersectPointX}).attr("y1",function(l){return l.endPos.y}).attr("x2",function(l){return l.endPos.x}).attr("y2",function(l){return l.endPos.y})},n.prototype.addEventListeners=function(){var e=this;this.parent.selectAll("path.slice").on("mouseover",function(r,i){var a=$(this);a.classed("hovered",!0).transition("pie_slice_mouseover").call(function(l){return e.services.transitions.setupTransition({transition:l,name:"pie_slice_mouseover"})}).attr("d",e.hoverArc),e.services.events.dispatchEvent(S.Pie.SLICE_MOUSEOVER,{event:r,element:$(this),datum:i});var o=e.getOptions().data.groupMapsTo,s=e.getOptions().pie.valueMapsTo;e.services.events.dispatchEvent(S.Tooltip.SHOW,{event:r,hoveredElement:a,items:[{label:i.data[o],value:i.data[s]}]})}).on("mousemove",function(r,i){var a=$(this);e.services.events.dispatchEvent(S.Pie.SLICE_MOUSEMOVE,{event:r,element:a,datum:i}),e.services.events.dispatchEvent(S.Tooltip.MOVE,{event:r})}).on("click",function(r,i){e.services.events.dispatchEvent(S.Pie.SLICE_CLICK,{event:r,element:$(this),datum:i})}).on("mouseout",function(r,i){var a=$(this);a.classed("hovered",!1).transition("pie_slice_mouseout").call(function(o){return e.services.transitions.setupTransition({transition:o,name:"pie_slice_mouseout"})}).attr("d",e.arc),e.services.events.dispatchEvent(S.Pie.SLICE_MOUSEOUT,{event:r,element:a,datum:i}),e.services.events.dispatchEvent(S.Tooltip.HIDE,{hoveredElement:a})})},n.prototype.computeRadius=function(){var e=U.getSVGElementSize(this.parent,{useAttrs:!0}),r=e.width,i=e.height,a=this.getOptions(),o=Math.min(r,i)/2,s=a.pie.labels.enabled;return s?o+Ct.radiusOffset:o},n}(xt),cD=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),sh="4,10 8,6 12,10",lh="12,6 8,10 4,6",fD=function(t){cD(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="gauge",e.renderType=it.SVG,e}return n.prototype.getValue=function(){var e,r,i=this.model.getData(),a=(r=(e=i.find(function(o){return o.group==="value"}))===null||e===void 0?void 0:e.value,r??null);return a},n.prototype.getValueRatio=function(){var e=y.clamp(this.getValue(),0,100);return e/100},n.prototype.getDelta=function(){var e,r,i=this.model.getData(),a=(r=(e=i.find(function(o){return o.group==="delta"}))===null||e===void 0?void 0:e.value,r??null);return a},n.prototype.getArcRatio=function(){var e=this.getOptions(),r=y.getProperty(e,"gauge","type"),i=r===Dn.FULL?1:.5;return i},n.prototype.getArcSize=function(){return this.getArcRatio()*Math.PI*2},n.prototype.getStartAngle=function(){var e=this.getArcSize();return e===2*Math.PI?0:-e/2},n.prototype.getArrow=function(e){var r=this.getOptions(),i=y.getProperty(r,"gauge","deltaArrow","direction");switch(i){case wa.UP:return sh;case wa.DOWN:return lh;default:return e>0?sh:lh}},n.prototype.render=function(e){var r=this,i=this.getComponentContainer().attr("width","100%").attr("height","100%"),a=this.getOptions(),o=this.getValue(),s=this.getValueRatio(),l=this.getArcSize(),u=this.getStartAngle(),c=s*l,h=u+c,f=u+l,d=this.computeRadius(),p=this.getInnerRadius();this.backgroundArc=wi().innerRadius(p).outerRadius(d).startAngle(h).endAngle(f),this.arc=wi().innerRadius(p).outerRadius(d).startAngle(u).endAngle(h),U.appendOrSelect(i,"path.arc-background").attr("d",this.backgroundArc);var g=i.selectAll("path.arc-foreground").data([o]),m=g.enter().append("path");m.merge(g).attr("class",this.model.getColorClassName({classNameTypes:[at.FILL],dataGroupName:"value",originalClassName:"arc-foreground"})).style("fill",function(O){return y.getProperty(r.getOptions(),"color","scale","value")}).attr("d",this.arc).attr("role",ht.GRAPHICS_SYMBOL).attr("aria-roledescription","value").attr("aria-label",function(O){return O}),this.drawValueNumber(),this.drawDelta(),g.exit().remove();var _=y.getProperty(a,"gauge","alignment"),v=U.getSVGElementSize(this.getParent(),{useAttrs:!0}).width,x=d;_===Ft.CENTER?x=v/2:_===Ft.RIGHT&&(x=v-d),i.attr("x",x).attr("y",d),this.addEventListeners()},n.prototype.drawValueNumber=function(){var e=this.getComponentContainer(),r=this.getOptions(),i=y.getProperty(r,"gauge","type"),a=this.getValue(),o=this.getDelta(),s=this.computeRadius(),l=y.getProperty(r,"gauge","valueFontSize"),u=y.getProperty(r,"gauge","deltaFontSize"),c=y.getProperty(r,"gauge","numberSpacing"),h=y.getProperty(r,"gauge","showPercentageSymbol"),f=0;i===Dn.FULL&&!o?f=u(s):i===Dn.SEMI&&o&&(f=-(u(s)+c));var d=U.appendOrSelect(e,"g.gauge-numbers").attr("transform","translate(0, "+f+")"),p=l(s),g=U.appendOrSelect(d,"g.gauge-value-number"),m=y.getProperty(r,"gauge","numberFormatter"),_=g.selectAll("text.gauge-value-number").data([a]);_.enter().append("text").attr("class","gauge-value-number").merge(_).style("font-size",p+"px").attr("text-anchor","middle").text(function(A){return m(A)});var v=U.getSVGElementSize(U.appendOrSelect(e,"text.gauge-value-number"),{useBBox:!0}).width,x=p/2,O=h?"%":"",b=U.appendOrSelect(g,"text.gauge-value-symbol").style("font-size",x+"px").attr("x",v/2).text(O),w=U.getSVGElementSize(b,{useBBox:!0}),M=w.width,E=w.height;b.attr("y","-"+E/2+"px"),g.attr("transform","translate(-"+M/2+", 0)")},n.prototype.drawDelta=function(){var e=this,r=this.getComponentContainer(),i=this.getOptions(),a=this.getDelta(),o=this.computeRadius(),s=a?y.getProperty(i,"gauge","deltaFontSize"):function(){return 0},l=a?y.getProperty(i,"gauge","numberFormatter"):function(){return null},u=y.getProperty(i,"gauge","deltaArrow","size"),c=y.getProperty(i,"gauge","numberSpacing"),h=y.getProperty(i,"gauge","showPercentageSymbol"),f=U.appendOrSelect(r,"g.gauge-numbers"),d=U.appendOrSelect(f,"g.gauge-delta").attr("transform","translate(0, "+(s(o)+c)+")"),p=U.appendOrSelect(d,"text.gauge-delta-number"),g=h?"%":"";p.data(a===null?[]:[a]),p.enter().append("text").classed("gauge-delta-number",!0).merge(p).attr("text-anchor","middle").style("font-size",s(o)+"px").text(function(x){return""+l(x)+g});var m=U.getSVGElementSize(U.appendOrSelect(r,".gauge-delta-number"),{useBBox:!0}).width,_=y.getProperty(i,"gauge","deltaArrow","enabled"),v=d.selectAll("svg.gauge-delta-arrow").data(a!==null&&_?[a]:[]);v.enter().append("svg").merge(v).attr("class","gauge-delta-arrow").attr("x",-u(o)-m/2).attr("y",-u(o)/2-s(o)*.35).attr("width",u(o)).attr("height",u(o)).attr("viewBox","0 0 16 16").each(function(){var x=$(this);U.appendOrSelect(x,"rect.gauge-delta-arrow-backdrop").attr("width","16").attr("height","16").attr("fill","none");var O=y.getProperty(i,"gauge","status");U.appendOrSelect(x,"polygon.gauge-delta-arrow").attr("class",O!==null?"gauge-delta-arrow status--"+O:"").attr("points",e.getArrow(a))}),v.exit().remove(),p.exit().remove()},n.prototype.getInnerRadius=function(){var e=this.computeRadius(),r=y.getProperty(this.getOptions(),"gauge","arcWidth");return e-r},n.prototype.addEventListeners=function(){var e=this;this.parent.selectAll("path.arc-foreground").on("mouseover",function(r,i){e.services.events.dispatchEvent(S.Gauge.ARC_MOUSEOVER,{event:r,element:$(this),datum:i})}).on("mousemove",function(r,i){var a=$(this);e.services.events.dispatchEvent(S.Gauge.ARC_MOUSEMOVE,{event:r,element:a,datum:i})}).on("click",function(r,i){e.services.events.dispatchEvent(S.Gauge.ARC_CLICK,{event:r,element:$(this),datum:i})}).on("mouseout",function(r,i){var a=$(this);e.services.events.dispatchEvent(S.Gauge.ARC_MOUSEOUT,{event:r,element:a,datum:i})})},n.prototype.computeRadius=function(){var e=this.getOptions(),r=y.getProperty(e,"gauge","type"),i=U.getSVGElementSize(this.parent,{useAttrs:!0}),a=i.width,o=i.height,s=r===Dn.SEMI?Math.min(a/2,o):Math.min(a/2,o/2);return s},n}(xt),hD=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),dD=function(t){hD(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="donut",e.renderType=it.SVG,e}return n.prototype.render=function(e){var r=this;e===void 0&&(e=!0),t.prototype.render.call(this,e);var i=this;if(this.model.isDataEmpty()){this.getComponentContainer().select("g.center").remove();return}var a=U.appendOrSelect(this.getComponentContainer(),"g.center"),o=this.getOptions(),s=this.computeRadius(),l=y.getProperty(o,"donut","center","label");U.appendOrSelect(a,"text.donut-figure").attr("text-anchor","middle").style("dominant-baseline",function(){return l===null||l===""?"central":"initial"}).style("font-size",function(){return o.donut.center.numberFontSize(s)}).transition().call(function(u){return r.services.transitions.setupTransition({transition:u,name:"donut-figure-enter-update",animate:e})}).tween("text",function(){return i.centerNumberTween($(this))}),l!==null&&l!==""&&U.appendOrSelect(a,"text.donut-title").attr("text-anchor","middle").style("font-size",function(){return o.donut.center.titleFontSize(s)}).attr("y",o.donut.center.titleYPosition(s)).text(l)},n.prototype.getInnerRadius=function(){var e=this.computeRadius();return e*(3/4)},n.prototype.centerNumberTween=function(e){var r=this.getOptions(),i=y.getProperty(r,"donut","center","number");i===null&&(i=this.model.getDisplayData().reduce(function(l,u){return l+u[r.pie.valueMapsTo]},0));var a=parseInt(e.text().replace(/[, ]+/g,""),10)||0,o;a%1===0&&i%1===0?o=$p:o=ge;var s=o(a,i);return function(l){var u=r.donut.center.numberFormatter;e.text(u(s(l)))}},n}(Qv),pD=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),oe=function(t){pD(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="skeleton",e}return n.prototype.render=function(){var e=y.getProperty(this.getOptions(),"data","loading");e?this.renderSkeleton(e):this.removeSkeleton()},n.prototype.renderSkeleton=function(e){if(this.configs.skeleton===Gt.GRID)this.renderGridSkeleton(e);else if(this.configs.skeleton===Gt.VERT_OR_HORIZ)this.renderVertOrHorizSkeleton(e);else if(this.configs.skeleton===Gt.PIE)this.renderPieSkeleton(e);else if(this.configs.skeleton===Gt.DONUT)this.renderDonutSkeleton(e);else throw new Error('"'+this.configs.skeleton+'" is not a valid Skeleton type.')},n.prototype.renderGridSkeleton=function(e){this.setScales(),this.drawBackdrop(e),this.drawXGrid(e),this.drawYGrid(e),e&&this.setShimmerEffect("shimmer-lines")},n.prototype.renderVertOrHorizSkeleton=function(e){var r=this.services.cartesianScales.getOrientation();this.setScales(),this.drawBackdrop(e),r===Ht.VERTICAL&&this.drawYGrid(e),r===Ht.HORIZONTAL&&this.drawXGrid(e),this.setShimmerEffect("shimmer-lines")},n.prototype.renderPieSkeleton=function(e){var r=this.computeOuterRadius(),i=0;this.drawRing(r,i,e),e&&this.setShimmerEffect("shimmer-areas")},n.prototype.renderDonutSkeleton=function(e){var r=this.computeOuterRadius(),i=this.computeInnerRadius();this.drawRing(r,i,e),e&&this.setShimmerEffect("shimmer-areas")},n.prototype.setScales=function(){var e=this.services.cartesianScales.getMainXScale().range(),r=this.services.cartesianScales.getMainYScale().range();this.xScale=He().domain([0,1]).range(e),this.yScale=He().domain([0,1]).range(r)},n.prototype.drawBackdrop=function(e){var r=this.parent,i=U.getSVGElementSize(r,{useAttrs:!0}),a=i.width,o=i.height;this.backdrop=U.appendOrSelect(r,"svg.chart-skeleton.DAII").attr("width",a).attr("height",o);var s=U.appendOrSelect(this.backdrop,"rect.chart-skeleton-backdrop");s.attr("width","100%").attr("height","100%");var l=this.xScale.range(),u=l[0];l[1];var c=this.yScale.range();c[0];var h=c[1];this.backdrop.merge(s).attr("x",u).attr("y",h),s.classed("shimmer-effect-lines",e).classed("empty-state-lines",!e).style("stroke",e?"url(#"+this.services.domUtils.generateElementIDString("shimmer-lines")+")":null)},n.prototype.drawXGrid=function(e){var r=this.backdrop.attr("width"),i=y.getProperty(this.getOptions(),"grid","x","numberOfTicks"),a=this.xScale.ticks(i).map(function(l){return l*r}),o=U.appendOrSelect(this.backdrop,"g.x.skeleton"),s=o.selectAll("line").data(a);s.enter().append("line").merge(s).attr("x1",function(l){return l}).attr("x2",function(l){return l}).attr("y1",0).attr("y2","100%"),o.selectAll("line").classed("shimmer-effect-lines",e).classed("empty-state-lines",!e).style("stroke",e?"url(#"+this.services.domUtils.generateElementIDString("shimmer-lines")+")":null)},n.prototype.drawYGrid=function(e){var r=this.backdrop.attr("height"),i=this.backdrop.attr("width"),a=y.getProperty(this.getOptions(),"grid","y","numberOfTicks"),o=this.xScale.ticks(a).map(function(u){return u*r}),s=U.appendOrSelect(this.backdrop,"g.y.skeleton"),l=s.selectAll("line").data(o);l.enter().append("line").merge(l).attr("x1",0).attr("x2",i).attr("y1",function(u){return u}).attr("y2",function(u){return u}),s.selectAll("line").classed("shimmer-effect-lines",e).classed("empty-state-lines",!e).style("stroke",e?"url(#"+this.services.domUtils.generateElementIDString("shimmer-lines")+")":null)},n.prototype.drawRing=function(e,r,i){i===void 0&&(i=!0);var a=this.parent,o=U.getSVGElementSize(a,{useAttrs:!0}),s=o.width,l=o.height,u=U.appendOrSelect(a,"svg.chart-skeleton").attr("width",s).attr("height",l),c=r===0?"pie":"donut",h=y.getProperty(this.getOptions(),c,"alignment");U.appendOrSelect(u,"rect.chart-skeleton-area-container").attr("width",s).attr("height",l).attr("fill","none");var f=wi().innerRadius(r).outerRadius(e).startAngle(0).endAngle(Math.PI*2),d=e+Math.abs(Ct.radiusOffset),p=e+(Math.min(s,l)-e*2)/2,g=U.appendOrSelect(u,"path").attr("class","skeleton-area-shape").attr("transform","translate("+d+", "+p+")").attr("d",f).classed("shimmer-effect-areas",i).classed("empty-state-areas",!i).style("fill",i?"url(#"+this.services.domUtils.generateElementIDString("shimmer-areas")+")":null),m=e+Ct.xOffset;h===Ft.CENTER?m=s/2:h===Ft.RIGHT&&(m=s-e-Ct.xOffset);var _=e+Ct.yOffset;g.attr("transform","translate("+m+", "+_+")")},n.prototype.computeOuterRadius=function(){var e=U.getSVGElementSize(this.parent,{useAttrs:!0}),r=e.width,i=e.height,a=Math.min(r,i)/2;return a+Ct.radiusOffset},n.prototype.computeInnerRadius=function(){return this.computeOuterRadius()*(3/4)},n.prototype.setShimmerEffect=function(e){var r=2e3,i=1e3,a=.2,o="stop-bg-shimmer",s="stop-shimmer",l=this.parent.select(".chart-skeleton"),u=U.getSVGElementSize(this.parent,{useAttrs:!0}).width,c=0,h=u,f=U.appendOrSelect(l,"defs").lower(),d=U.appendOrSelect(f,"linearGradient").attr("id",this.services.domUtils.generateElementIDString(e)).attr("class",e).attr("x1",c-3*a*u).attr("x2",h).attr("y1",0).attr("y2",0).attr("gradientUnits","userSpaceOnUse").attr("gradientTransform","translate(0, 0)"),p=`
			<stop class="`+o+'" offset="'+c+`"></stop>
			<stop class="`+s+'" offset="'+(c+a)+`"></stop>
			<stop class="`+o+'" offset="'+(c+2*a)+`"></stop>
		`;d.html(p),g();function g(){d.attr("gradientTransform","translate("+(c-3*a*u)+", 0)").transition().duration(r).delay(i).ease(Pg).attr("gradientTransform","translate("+(h+3*a*u)+", 0)").on("end",g)}},n.prototype.removeSkeleton=function(){var e=this.parent.select(".chart-skeleton");e.remove()},n}(xt),vD=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),gD=function(t){vD(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="skeleton-lines",e}return n.prototype.render=function(){var e=y.getProperty(this.getOptions(),"data","loading"),r=!y.getProperty(this.getOptions(),"grid","x","enabled")&&!y.getProperty(this.getOptions(),"grid","y","enabled")&&!y.getProperty(this.getOptions(),"axes","bottom","visible")&&!y.getProperty(this.getOptions(),"axes","left","visible");e&&!r?t.prototype.renderGridSkeleton.call(this,e):e&&r?this.renderSparklineSkeleton(e):this.removeSkeleton()},n.prototype.renderSparklineSkeleton=function(e){this.setScales(),this.drawBackdrop(e),this.drawSparkline(e),this.updateBackdropStyle(),e&&this.setShimmerEffect("shimmer-lines")},n.prototype.drawSparkline=function(e){var r=this.backdrop.attr("width"),i=[100],a=U.appendOrSelect(this.backdrop,"g.y.skeleton"),o=a.selectAll("line").data(i);o.enter().append("line").merge(o).attr("x1",0).attr("x2",r).attr("y1",function(s){return s}).attr("y2",function(s){return s}),a.selectAll("line").classed("shimmer-effect-lines",e).classed("empty-state-lines",!e).style("stroke",e?"url(#"+this.services.domUtils.generateElementIDString("shimmer-lines")+")":null)},n.prototype.updateBackdropStyle=function(){var e=this.parent;this.backdrop=U.appendOrSelect(e,"svg.chart-skeleton.DAII");var r=U.appendOrSelect(this.backdrop,"rect.chart-skeleton-backdrop");r.classed("shimmer-effect-lines",!1).classed("shimmer-effect-sparkline",!0).style("stroke",null)},n}(oe);function mD(t,n){return t.parent===n.parent?1:2}function yD(t){return t.reduce(_D,0)/t.length}function _D(t,n){return t+n.x}function xD(t){return 1+t.reduce(bD,0)}function bD(t,n){return Math.max(t,n.y)}function wD(t){for(var n;n=t.children;)t=n[0];return t}function OD(t){for(var n;n=t.children;)t=n[n.length-1];return t}function TD(){var t=mD,n=1,e=1,r=!1;function i(a){var o,s=0;a.eachAfter(function(f){var d=f.children;d?(f.x=yD(d),f.y=xD(d)):(f.x=o?s+=t(f,o):0,f.y=0,o=f)});var l=wD(a),u=OD(a),c=l.x-t(l,u)/2,h=u.x+t(u,l)/2;return a.eachAfter(r?function(f){f.x=(f.x-a.x)*n,f.y=(a.y-f.y)*e}:function(f){f.x=(f.x-c)/(h-c)*n,f.y=(1-(a.y?f.y/a.y:1))*e})}return i.separation=function(a){return arguments.length?(t=a,i):t},i.size=function(a){return arguments.length?(r=!1,n=+a[0],e=+a[1],i):r?null:[n,e]},i.nodeSize=function(a){return arguments.length?(r=!0,n=+a[0],e=+a[1],i):r?[n,e]:null},i}function ED(t){var n=0,e=t.children,r=e&&e.length;if(!r)n=1;else for(;--r>=0;)n+=e[r].value;t.value=n}function SD(){return this.eachAfter(ED)}function AD(t,n){let e=-1;for(const r of this)t.call(n,r,++e,this);return this}function MD(t,n){for(var e=this,r=[e],i,a,o=-1;e=r.pop();)if(t.call(n,e,++o,this),i=e.children)for(a=i.length-1;a>=0;--a)r.push(i[a]);return this}function CD(t,n){for(var e=this,r=[e],i=[],a,o,s,l=-1;e=r.pop();)if(i.push(e),a=e.children)for(o=0,s=a.length;o<s;++o)r.push(a[o]);for(;e=i.pop();)t.call(n,e,++l,this);return this}function PD(t,n){let e=-1;for(const r of this)if(t.call(n,r,++e,this))return r}function DD(t){return this.eachAfter(function(n){for(var e=+t(n.data)||0,r=n.children,i=r&&r.length;--i>=0;)e+=r[i].value;n.value=e})}function LD(t){return this.eachBefore(function(n){n.children&&n.children.sort(t)})}function RD(t){for(var n=this,e=kD(n,t),r=[n];n!==e;)n=n.parent,r.push(n);for(var i=r.length;t!==e;)r.splice(i,0,t),t=t.parent;return r}function kD(t,n){if(t===n)return t;var e=t.ancestors(),r=n.ancestors(),i=null;for(t=e.pop(),n=r.pop();t===n;)i=t,t=e.pop(),n=r.pop();return i}function ID(){for(var t=this,n=[t];t=t.parent;)n.push(t);return n}function ND(){return Array.from(this)}function $D(){var t=[];return this.eachBefore(function(n){n.children||t.push(n)}),t}function UD(){var t=this,n=[];return t.each(function(e){e!==t&&n.push({source:e.parent,target:e})}),n}function*BD(){var t=this,n,e=[t],r,i,a;do for(n=e.reverse(),e=[];t=n.pop();)if(yield t,r=t.children)for(i=0,a=r.length;i<a;++i)e.push(r[i]);while(e.length)}function $i(t,n){t instanceof Map?(t=[void 0,t],n===void 0&&(n=FD)):n===void 0&&(n=GD);for(var e=new Oi(t),r,i=[e],a,o,s,l;r=i.pop();)if((o=n(r.data))&&(l=(o=Array.from(o)).length))for(r.children=o,s=l-1;s>=0;--s)i.push(a=o[s]=new Oi(o[s])),a.parent=r,a.depth=r.depth+1;return e.eachBefore(zD)}function VD(){return $i(this).eachBefore(HD)}function GD(t){return t.children}function FD(t){return Array.isArray(t)?t[1]:null}function HD(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function zD(t){var n=0;do t.height=n;while((t=t.parent)&&t.height<++n)}function Oi(t){this.data=t,this.depth=this.height=0,this.parent=null}Oi.prototype=$i.prototype={constructor:Oi,count:SD,each:AD,eachAfter:CD,eachBefore:MD,find:PD,sum:DD,sort:LD,path:RD,ancestors:ID,descendants:ND,leaves:$D,links:UD,copy:VD,[Symbol.iterator]:BD};function WD(t){return t==null?null:Jv(t)}function Jv(t){if(typeof t!="function")throw new Error;return t}function Cn(){return 0}function cr(t){return function(){return t}}const jD=1664525,qD=1013904223,uh=4294967296;function YD(){let t=1;return()=>(t=(jD*t+qD)%uh)/uh}function XD(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function ZD(t,n){let e=t.length,r,i;for(;e;)i=n()*e--|0,r=t[e],t[e]=t[i],t[i]=r;return t}function KD(t,n){for(var e=0,r=(t=ZD(Array.from(t),n)).length,i=[],a,o;e<r;)a=t[e],o&&tg(o,a)?++e:(o=JD(i=QD(i,a)),e=0);return o}function QD(t,n){var e,r;if(hs(n,t))return[n];for(e=0;e<t.length;++e)if(ea(n,t[e])&&hs(ei(t[e],n),t))return[t[e],n];for(e=0;e<t.length-1;++e)for(r=e+1;r<t.length;++r)if(ea(ei(t[e],t[r]),n)&&ea(ei(t[e],n),t[r])&&ea(ei(t[r],n),t[e])&&hs(eg(t[e],t[r],n),t))return[t[e],t[r],n];throw new Error}function ea(t,n){var e=t.r-n.r,r=n.x-t.x,i=n.y-t.y;return e<0||e*e<r*r+i*i}function tg(t,n){var e=t.r-n.r+Math.max(t.r,n.r,1)*1e-9,r=n.x-t.x,i=n.y-t.y;return e>0&&e*e>r*r+i*i}function hs(t,n){for(var e=0;e<n.length;++e)if(!tg(t,n[e]))return!1;return!0}function JD(t){switch(t.length){case 1:return tL(t[0]);case 2:return ei(t[0],t[1]);case 3:return eg(t[0],t[1],t[2])}}function tL(t){return{x:t.x,y:t.y,r:t.r}}function ei(t,n){var e=t.x,r=t.y,i=t.r,a=n.x,o=n.y,s=n.r,l=a-e,u=o-r,c=s-i,h=Math.sqrt(l*l+u*u);return{x:(e+a+l/h*c)/2,y:(r+o+u/h*c)/2,r:(h+i+s)/2}}function eg(t,n,e){var r=t.x,i=t.y,a=t.r,o=n.x,s=n.y,l=n.r,u=e.x,c=e.y,h=e.r,f=r-o,d=r-u,p=i-s,g=i-c,m=l-a,_=h-a,v=r*r+i*i-a*a,x=v-o*o-s*s+l*l,O=v-u*u-c*c+h*h,b=d*p-f*g,w=(p*O-g*x)/(b*2)-r,M=(g*m-p*_)/b,E=(d*x-f*O)/(b*2)-i,A=(f*_-d*m)/b,C=M*M+A*A-1,T=2*(a+w*M+E*A),k=w*w+E*E-a*a,D=-(Math.abs(C)>1e-6?(T+Math.sqrt(T*T-4*C*k))/(2*C):k/T);return{x:r+w+M*D,y:i+E+A*D,r:D}}function ch(t,n,e){var r=t.x-n.x,i,a,o=t.y-n.y,s,l,u=r*r+o*o;u?(a=n.r+e.r,a*=a,l=t.r+e.r,l*=l,a>l?(i=(u+l-a)/(2*u),s=Math.sqrt(Math.max(0,l/u-i*i)),e.x=t.x-i*r-s*o,e.y=t.y-i*o+s*r):(i=(u+a-l)/(2*u),s=Math.sqrt(Math.max(0,a/u-i*i)),e.x=n.x+i*r-s*o,e.y=n.y+i*o+s*r)):(e.x=n.x+e.r,e.y=n.y)}function fh(t,n){var e=t.r+n.r-1e-6,r=n.x-t.x,i=n.y-t.y;return e>0&&e*e>r*r+i*i}function hh(t){var n=t._,e=t.next._,r=n.r+e.r,i=(n.x*e.r+e.x*n.r)/r,a=(n.y*e.r+e.y*n.r)/r;return i*i+a*a}function na(t){this._=t,this.next=null,this.previous=null}function eL(t,n){if(!(a=(t=XD(t)).length))return 0;var e,r,i,a,o,s,l,u,c,h,f;if(e=t[0],e.x=0,e.y=0,!(a>1))return e.r;if(r=t[1],e.x=-r.r,r.x=e.r,r.y=0,!(a>2))return e.r+r.r;ch(r,e,i=t[2]),e=new na(e),r=new na(r),i=new na(i),e.next=i.previous=r,r.next=e.previous=i,i.next=r.previous=e;t:for(l=3;l<a;++l){ch(e._,r._,i=t[l]),i=new na(i),u=r.next,c=e.previous,h=r._.r,f=e._.r;do if(h<=f){if(fh(u._,i._)){r=u,e.next=r,r.previous=e,--l;continue t}h+=u._.r,u=u.next}else{if(fh(c._,i._)){e=c,e.next=r,r.previous=e,--l;continue t}f+=c._.r,c=c.previous}while(u!==c.next);for(i.previous=e,i.next=r,e.next=r.previous=r=i,o=hh(e);(i=i.next)!==r;)(s=hh(i))<o&&(e=i,o=s);r=e.next}for(e=[r._],i=r;(i=i.next)!==r;)e.push(i._);for(i=KD(e,n),l=0;l<a;++l)e=t[l],e.x-=i.x,e.y-=i.y;return i.r}function nL(t){return Math.sqrt(t.value)}function rL(){var t=null,n=1,e=1,r=Cn;function i(a){const o=YD();return a.x=n/2,a.y=e/2,t?a.eachBefore(dh(t)).eachAfter(ds(r,.5,o)).eachBefore(ph(1)):a.eachBefore(dh(nL)).eachAfter(ds(Cn,1,o)).eachAfter(ds(r,a.r/Math.min(n,e),o)).eachBefore(ph(Math.min(n,e)/(2*a.r))),a}return i.radius=function(a){return arguments.length?(t=WD(a),i):t},i.size=function(a){return arguments.length?(n=+a[0],e=+a[1],i):[n,e]},i.padding=function(a){return arguments.length?(r=typeof a=="function"?a:cr(+a),i):r},i}function dh(t){return function(n){n.children||(n.r=Math.max(0,+t(n)||0))}}function ds(t,n,e){return function(r){if(i=r.children){var i,a,o=i.length,s=t(r)*n||0,l;if(s)for(a=0;a<o;++a)i[a].r+=s;if(l=eL(i,e),s)for(a=0;a<o;++a)i[a].r-=s;r.r=l+s}}}function ph(t){return function(n){var e=n.parent;n.r*=t,e&&(n.x=e.x+t*n.x,n.y=e.y+t*n.y)}}function iL(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function aL(t,n,e,r,i){for(var a=t.children,o,s=-1,l=a.length,u=t.value&&(r-n)/t.value;++s<l;)o=a[s],o.y0=e,o.y1=i,o.x0=n,o.x1=n+=o.value*u}function oL(t,n){return t.parent===n.parent?1:2}function ps(t){var n=t.children;return n?n[0]:t.t}function vs(t){var n=t.children;return n?n[n.length-1]:t.t}function sL(t,n,e){var r=e/(n.i-t.i);n.c-=r,n.s+=e,t.c+=r,n.z+=e,n.m+=e}function lL(t){for(var n=0,e=0,r=t.children,i=r.length,a;--i>=0;)a=r[i],a.z+=n,a.m+=n,n+=a.s+(e+=a.c)}function uL(t,n,e){return t.a.parent===n.parent?t.a:e}function da(t,n){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=n}da.prototype=Object.create(Oi.prototype);function cL(t){for(var n=new da(t,0),e,r=[n],i,a,o,s;e=r.pop();)if(a=e._.children)for(e.children=new Array(s=a.length),o=s-1;o>=0;--o)r.push(i=e.children[o]=new da(a[o],o)),i.parent=e;return(n.parent=new da(null,0)).children=[n],n}function fL(){var t=oL,n=1,e=1,r=null;function i(u){var c=cL(u);if(c.eachAfter(a),c.parent.m=-c.z,c.eachBefore(o),r)u.eachBefore(l);else{var h=u,f=u,d=u;u.eachBefore(function(v){v.x<h.x&&(h=v),v.x>f.x&&(f=v),v.depth>d.depth&&(d=v)});var p=h===f?1:t(h,f)/2,g=p-h.x,m=n/(f.x+p+g),_=e/(d.depth||1);u.eachBefore(function(v){v.x=(v.x+g)*m,v.y=v.depth*_})}return u}function a(u){var c=u.children,h=u.parent.children,f=u.i?h[u.i-1]:null;if(c){lL(u);var d=(c[0].z+c[c.length-1].z)/2;f?(u.z=f.z+t(u._,f._),u.m=u.z-d):u.z=d}else f&&(u.z=f.z+t(u._,f._));u.parent.A=s(u,f,u.parent.A||h[0])}function o(u){u._.x=u.z+u.parent.m,u.m+=u.parent.m}function s(u,c,h){if(c){for(var f=u,d=u,p=c,g=f.parent.children[0],m=f.m,_=d.m,v=p.m,x=g.m,O;p=vs(p),f=ps(f),p&&f;)g=ps(g),d=vs(d),d.a=u,O=p.z+v-f.z-m+t(p._,f._),O>0&&(sL(uL(p,u,h),u,O),m+=O,_+=O),v+=p.m,m+=f.m,x+=g.m,_+=d.m;p&&!vs(d)&&(d.t=p,d.m+=v-_),f&&!ps(g)&&(g.t=f,g.m+=m-x,h=u)}return h}function l(u){u.x*=n,u.y=u.depth*e}return i.separation=function(u){return arguments.length?(t=u,i):t},i.size=function(u){return arguments.length?(r=!1,n=+u[0],e=+u[1],i):r?null:[n,e]},i.nodeSize=function(u){return arguments.length?(r=!0,n=+u[0],e=+u[1],i):r?[n,e]:null},i}function hL(t,n,e,r,i){for(var a=t.children,o,s=-1,l=a.length,u=t.value&&(i-e)/t.value;++s<l;)o=a[s],o.x0=n,o.x1=r,o.y0=e,o.y1=e+=o.value*u}var dL=(1+Math.sqrt(5))/2;function pL(t,n,e,r,i,a){for(var o=[],s=n.children,l,u,c=0,h=0,f=s.length,d,p,g=n.value,m,_,v,x,O,b,w;c<f;){d=i-e,p=a-r;do m=s[h++].value;while(!m&&h<f);for(_=v=m,b=Math.max(p/d,d/p)/(g*t),w=m*m*b,O=Math.max(v/w,w/_);h<f;++h){if(m+=u=s[h].value,u<_&&(_=u),u>v&&(v=u),w=m*m*b,x=Math.max(v/w,w/_),x>O){m-=u;break}O=x}o.push(l={value:m,dice:d<p,children:s.slice(c,h)}),l.dice?aL(l,e,r,i,g?r+=p*m/g:a):hL(l,e,r,g?e+=d*m/g:i,a),g-=m,c=h}return o}const vL=function t(n){function e(r,i,a,o,s){pL(n,r,i,a,o,s)}return e.ratio=function(r){return t((r=+r)>1?r:1)},e}(dL);function gL(){var t=vL,n=!1,e=1,r=1,i=[0],a=Cn,o=Cn,s=Cn,l=Cn,u=Cn;function c(f){return f.x0=f.y0=0,f.x1=e,f.y1=r,f.eachBefore(h),i=[0],n&&f.eachBefore(iL),f}function h(f){var d=i[f.depth],p=f.x0+d,g=f.y0+d,m=f.x1-d,_=f.y1-d;m<p&&(p=m=(p+m)/2),_<g&&(g=_=(g+_)/2),f.x0=p,f.y0=g,f.x1=m,f.y1=_,f.children&&(d=i[f.depth+1]=a(f)/2,p+=u(f)-d,g+=o(f)-d,m-=s(f)-d,_-=l(f)-d,m<p&&(p=m=(p+m)/2),_<g&&(g=_=(g+_)/2),t(f,p,g,m,_))}return c.round=function(f){return arguments.length?(n=!!f,c):n},c.size=function(f){return arguments.length?(e=+f[0],r=+f[1],c):[e,r]},c.tile=function(f){return arguments.length?(t=Jv(f),c):t},c.padding=function(f){return arguments.length?c.paddingInner(f).paddingOuter(f):c.paddingInner()},c.paddingInner=function(f){return arguments.length?(a=typeof f=="function"?f:cr(+f),c):a},c.paddingOuter=function(f){return arguments.length?c.paddingTop(f).paddingRight(f).paddingBottom(f).paddingLeft(f):c.paddingTop()},c.paddingTop=function(f){return arguments.length?(o=typeof f=="function"?f:cr(+f),c):o},c.paddingRight=function(f){return arguments.length?(s=typeof f=="function"?f:cr(+f),c):s},c.paddingBottom=function(f){return arguments.length?(l=typeof f=="function"?f:cr(+f),c):l},c.paddingLeft=function(f){return arguments.length?(u=typeof f=="function"?f:cr(+f),c):u},c}var mL=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ir=6,yL=function(t){mL(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="tree",e.renderType=it.SVG,e}return n.prototype.getLongestLabel=function(e){var r=this,i="";return e.forEach(function(a){var o=a.children?r.getLongestLabel(a.children):"";(o.length>i.length||a.name.length>i.length)&&(i=o.length>a.name.length?o:a.name)}),i},n.prototype.getMockLabelWidth=function(e,r){var i=e.append("text").attr("dy","0.31em").attr("x",0).attr("text-anchor","end").text(r),a=U.getSVGElementSize(i.node(),{useBBox:!0}).width;return i.remove(),a},n.prototype.render=function(e){var r=this,i=this.getComponentContainer();i.html("");var a=U.getSVGElementSize(this.parent,{useAttrs:!0}),o=a.width,s=a.height;if(!(o<1||s<1)){var l=this.model.getOptions(),u=this.model.getDisplayData(),c=y.getProperty(l,"tree","rootTitle")||"Tree",h=this.getMockLabelWidth(i,c),f=this.getLongestLabel(u),d=this.getMockLabelWidth(i,f),p={top:0,right:0,bottom:0,left:h>0?h+ir:30-ir},g=$i({name:c,children:u}),m=10,_=o/6,v=function(A){var C=g.descendants().reverse(),T=g.links(),k=g,D=g;g.eachBefore(function(H){H.x<k.x&&(k=H),H.x>D.x&&(D=H)});var I=D.x-k.x,L=i.transition().call(function(H){return r.services.transitions.setupTransition({transition:H,name:"tree-update-viewbox",animate:!0})}).attr("viewBox",[-p.left,k.x,o,I]),R=E.selectAll("g").data(C,function(H){return H.id}),N=r,G=R.enter().append("g").attr("transform",function(){return"translate("+A.y0+","+A.x0+")"}).attr("class",function(H){return H.depth!==0&&H.children&&H.children.length>0?"clickable":null}).on("mouseover",function(H,J){N.services.events.dispatchEvent(S.Tree.NODE_MOUSEOVER,{event:H,element:$(this),datum:J})}).on("click",function(H,J){J.depth!==0&&(J.children=J.children?null:J._children,v(J)),N.services.events.dispatchEvent(S.Tree.NODE_CLICK,{event:H,element:$(this),datum:J})}).on("mouseout",function(H,J){N.services.events.dispatchEvent(S.Tree.NODE_MOUSEOUT,{event:H,element:$(this),datum:J})});G.append("circle").attr("r",2.5).attr("class",function(H){return H._children?"parent":"child"}).attr("stroke-width",10),G.append("text").attr("dy","0.31em").attr("x",function(H){return H._children?-ir:ir}).attr("text-anchor",function(H){return H._children?"end":"start"}).text(function(H){return H.data.name}).clone(!0).attr("class","text-stroke").lower(),R.merge(G).transition(L).attr("transform",function(H){return"translate("+H.y+","+H.x+")"}).attr("fill-opacity",1).attr("stroke-opacity",1),R.exit().transition(L).remove().attr("transform",function(){return"translate("+A.y+","+A.x+")"}).attr("fill-opacity",0).attr("stroke-opacity",0);var P=M.selectAll("path").data(T,function(H){return H.target.id}),F=P.enter().append("path").attr("d",function(H){var J={x:A.x0,y:A.y0};return w({source:J,target:J})});P.merge(F).transition(L).attr("d",w),P.exit().transition(L).remove().attr("d",function(){var H={x:A.x,y:A.y};return w({source:H,target:H})}),g.eachBefore(function(H){H.x0=H.x,H.y0=H.y})},x=g.descendants(),O=x[x.length-1].depth,b=y.getProperty(l,"tree","type")===ba.DENDROGRAM?TD().size([s,o-d-O*ir-h]):fL().nodeSize([m,_]).size([s,o-d-O*ir-h]),w=LA().x(function(A){return A.y}).y(function(A){return A.x});g.x0=_/2,g.y0=0,g.descendants().forEach(function(A,C){A.id=C,A._children=A.children}),b(g),i.attr("viewBox",[-p.left,-p.top,o,m]).style("user-select","none");var M=i.append("g").attr("class","links"),E=i.append("g").attr("class","nodes");v(g)}},n}(xt),_L="#000000",xL="#ffffff",bL="#fcf4d6",wL="#fddc69",OL="#f1c21b",TL="#d2a106",EL="#b28600",SL="#8e6a00",AL="#684e00",ML="#483700",CL="#302400",PL="#1c1500",DL={10:bL,20:wL,30:OL,40:TL,50:EL,60:SL,70:AL,80:ML,90:CL,100:PL},LL="#fff2e8",RL="#ffd9be",kL="#ffb784",IL="#ff832b",NL="#eb6200",$L="#ba4e00",UL="#8a3800",BL="#5e2900",VL="#3e1a00",GL="#231000",FL={10:LL,20:RL,30:kL,40:IL,50:NL,60:$L,70:UL,80:BL,90:VL,100:GL},HL="#fff1f1",zL="#ffd7d9",WL="#ffb3b8",jL="#ff8389",qL="#fa4d56",YL="#da1e28",XL="#a2191f",ZL="#750e13",KL="#520408",QL="#2d0709",JL={10:HL,20:zL,30:WL,40:jL,50:qL,60:YL,70:XL,80:ZL,90:KL,100:QL},tR="#fff0f7",eR="#ffd6e8",nR="#ffafd2",rR="#ff7eb6",iR="#ee5396",aR="#d02670",oR="#9f1853",sR="#740937",lR="#510224",uR="#2a0a18",cR={10:tR,20:eR,30:nR,40:rR,50:iR,60:aR,70:oR,80:sR,90:lR,100:uR},fR="#f6f2ff",hR="#e8daff",dR="#d4bbff",pR="#be95ff",vR="#a56eff",gR="#8a3ffc",mR="#6929c4",yR="#491d8b",_R="#31135e",xR="#1c0f30",bR={10:fR,20:hR,30:dR,40:pR,50:vR,60:gR,70:mR,80:yR,90:_R,100:xR},wR="#edf5ff",OR="#d0e2ff",TR="#a6c8ff",ER="#78a9ff",SR="#4589ff",AR="#0f62fe",MR="#0043ce",CR="#002d9c",PR="#001d6c",DR="#001141",LR={10:wR,20:OR,30:TR,40:ER,50:SR,60:AR,70:MR,80:CR,90:PR,100:DR},RR="#e5f6ff",kR="#bae6ff",IR="#82cfff",NR="#33b1ff",$R="#1192e8",UR="#0072c3",BR="#00539a",VR="#003a6d",GR="#012749",FR="#061727",HR={10:RR,20:kR,30:IR,40:NR,50:$R,60:UR,70:BR,80:VR,90:GR,100:FR},zR="#d9fbfb",WR="#9ef0f0",jR="#3ddbd9",qR="#08bdba",YR="#009d9a",XR="#007d79",ZR="#005d5d",KR="#004144",QR="#022b30",JR="#081a1c",tk={10:zR,20:WR,30:jR,40:qR,50:YR,60:XR,70:ZR,80:KR,90:QR,100:JR},ek="#defbe6",nk="#a7f0ba",rk="#6fdc8c",ik="#42be65",ak="#24a148",ok="#198038",sk="#0e6027",lk="#044317",uk="#022d0d",ck="#071908",fk={10:ek,20:nk,30:rk,40:ik,50:ak,60:ok,70:sk,80:lk,90:uk,100:ck},hk="#f2f4f8",dk="#dde1e6",pk="#c1c7cd",vk="#a2a9b0",gk="#878d96",mk="#697077",yk="#4d5358",_k="#343a3f",xk="#21272a",bk="#121619",wk={10:hk,20:dk,30:pk,40:vk,50:gk,60:mk,70:yk,80:_k,90:xk,100:bk},Ok="#f4f4f4",Tk="#e0e0e0",Ek="#c6c6c6",Sk="#a8a8a8",Ak="#8d8d8d",Mk="#6f6f6f",Ck="#525252",Pk="#393939",Dk="#262626",Lk="#161616",Rk={10:Ok,20:Tk,30:Ek,40:Sk,50:Ak,60:Mk,70:Ck,80:Pk,90:Dk,100:Lk},kk="#f7f3f2",Ik="#e5e0df",Nk="#cac5c4",$k="#ada8a8",Uk="#8f8b8b",Bk="#726e6e",Vk="#565151",Gk="#3c3838",Fk="#272525",Hk="#171414",zk={10:kk,20:Ik,30:Nk,40:$k,50:Uk,60:Bk,70:Vk,80:Gk,90:Fk,100:Hk},vh={black:{100:_L},blue:LR,coolGray:wk,cyan:HR,gray:Rk,green:fk,magenta:cR,orange:FL,purple:bR,red:JL,teal:tk,warmGray:zk,white:{0:xL},yellow:DL},Wk=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),jk=function(t){if(!t)return null;for(var n=0,e=Object.keys(vh);n<e.length;n++)for(var r=e[n],i=vh[r],a=0,o=Object.keys(i);a<o.length;a++){var s=o[a],l=i[s];if(l===t)return s}return null},gh=function(){var t=$(this.parentNode).select("rect.leaf"),n=getComputedStyle(t.node(),null).getPropertyValue("fill"),e=en(n),r;if(e&&(r=jk(e?e.hex():null)),r==null){var i=Ou(e).l;r=Math.abs(i*100-100)}return r>50?"white":"black"},qk=0,Yk=function(t){Wk(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="treemap",e.renderType=it.SVG,e.handleLegendOnHover=function(r){var i=r.detail.hoveredElement;e.parent.selectAll("g[data-name='leaf']").transition("legend-hover-treemap").call(function(a){return e.services.transitions.setupTransition({transition:a,name:"legend-hover-treemap"})}).attr("opacity",function(a){return a.parent.data.name===i.datum().name?1:.3})},e.handleLegendMouseOut=function(r){e.parent.selectAll("g[data-name='leaf']").transition("legend-mouseout-treemap").call(function(i){return e.services.transitions.setupTransition({transition:i,name:"legend-mouseout-treemap"})}).attr("opacity",1)},e}return n.prototype.init=function(){var e=this.services.events;e.addEventListener(S.Legend.ITEM_HOVER,this.handleLegendOnHover),e.addEventListener(S.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},n.prototype.render=function(e){var r=this;e===void 0&&(e=!0);var i=this.getComponentContainer();this.model.getData();var a=this.model.getDisplayData(),o=this.model.getOptions(),s=y.getProperty(window,"location"),l=U.getSVGElementSize(i,{useAttrs:!0}),u=l.width,c=l.height,h=$i({name:o.title||"Treemap",children:a}).sum(function(v){return v.value}).sort(function(v,x){return x.value-v.value}),f=gL().size([u,c]).paddingInner(1).paddingOuter(0).round(!0)(h);this.services.transitions;var d=i.selectAll("g[data-name='leaf']").data(f.leaves(),function(v){return v.data.name});d.exit().attr("opacity",0).remove();var p=d.enter().append("g").attr("data-name","leaf").attr("data-uid",function(){return qk++}),g=p.merge(d);g.attr("data-name","leaf").transition().call(function(v){return r.services.transitions.setupTransition({transition:v,name:"treemap-group-update",animate:e})}).attr("transform",function(v){return"translate("+v.x0+","+v.y0+")"});var m=g.selectAll("rect.leaf").data(function(v){return[v]});m.exit().attr("width",0).attr("height",0).remove();var _=m.enter().append("rect").classed("leaf",!0);_.merge(m).attr("width",0).attr("height",0).attr("id",function(){var v=$(this.parentNode).attr("data-uid");return o.style.prefix+"-leaf-"+v}).attr("class",function(v){for(;v.depth>1;)v=v.parent;return r.model.getColorClassName({classNameTypes:[at.FILL],dataGroupName:v.data.name,originalClassName:"leaf"})}).transition().call(function(v){return r.services.transitions.setupTransition({transition:v,name:"treemap-leaf-update-enter",animate:e})}).attr("width",function(v){return v.x1-v.x0}).attr("height",function(v){return v.y1-v.y0}).style("fill",function(v){for(;v.depth>1;)v=v.parent;return r.model.getFillColor(v.data.name)}),g.selectAll("clipPath").data(function(v){return v.data.showLabel!==!0?[]:[1]},function(v){return v}).join(function(v){v.append("clipPath").attr("id",function(){var x=$(this.parentNode).attr("data-uid");return o.style.prefix+"-clip-"+x}).append("use").attr("xlink:href",function(){var x=$(this.parentNode.parentNode).attr("data-uid"),O=o.style.prefix+"-leaf-"+x;return new URL("#"+O,s)+""})},function(v){return null},function(v){return v.remove()}),g.selectAll("text").data(function(v){if(v.data.showLabel!==!0)return[];for(var x=v;x.depth>1;)x=x.parent;var O=Ou(r.model.getFillColor(x.data.name));return[{text:v.data.name,color:O.l<.5?"white":"black"}]},function(v){return v}).join(function(v){var x=v.append("text").text(function(O){return O.text}).style("fill",gh).attr("x",7).attr("y",18);s&&x.attr("clip-path",function(){var O=$(this.parentNode).attr("data-uid"),b=o.style.prefix+"-clip-"+O;return"url("+(new URL("#"+b,s)+"")+")"})},function(v){return v.text(function(x){return x.text}).style("fill",gh)},function(v){return v.remove()}),this.addEventListeners()},n.prototype.addEventListeners=function(){var e=this;this.parent.selectAll("rect.leaf").on("mouseover",function(r,i){for(var a=$(this),o=getComputedStyle(this,null).getPropertyValue("fill"),s=i;s.depth>1;)s=s.parent;a.transition("graph_element_mouseover_fill_update").call(function(l){return e.services.transitions.setupTransition({transition:l,name:"graph_element_mouseover_fill_update"})}).style("fill",function(l){var u=e.model.getFillColor(l.parent.data.name);return u&&(o=u),en(o).darker(.7).toString()}),e.services.events.dispatchEvent(S.Tooltip.SHOW,{event:r,hoveredElement:a,items:[{color:o,label:s.data.name,bold:!0},{label:i.data.name,value:i.data.value}]}),e.services.events.dispatchEvent(S.Treemap.LEAF_MOUSEOVER,{event:r,element:a,datum:i})}).on("mousemove",function(r,i){var a=$(this);e.services.events.dispatchEvent(S.Treemap.LEAF_MOUSEMOVE,{event:r,element:a,datum:i}),e.services.events.dispatchEvent(S.Tooltip.MOVE,{event:r})}).on("click",function(r,i){e.services.events.dispatchEvent(S.Treemap.LEAF_CLICK,{event:r,element:$(this),datum:i})}).on("mouseout",function(r,i){var a=$(this);a.classed("hovered",!1);for(var o=i;o.depth>1;)o=o.parent;a.transition().call(function(s){return e.services.transitions.setupTransition({transition:s,name:"graph_element_mouseout_fill_update"})}).style("fill",function(s){return e.model.getFillColor(s.parent.data.name)}),e.services.events.dispatchEvent(S.Treemap.LEAF_MOUSEOUT,{event:r,element:a,datum:i}),e.services.events.dispatchEvent(S.Tooltip.HIDE,{hoveredElement:a})})},n}(xt);function mh(t){var n=Xk(ng(t),360);return hn(n,[0,10])||hn(n,[350,0])?{textAnchor:ke.START,dominantBaseline:Ie.MIDDLE}:hn(n,[10,80])?{textAnchor:ke.START,dominantBaseline:Ie.HANGING}:hn(n,[80,100])?{textAnchor:ke.MIDDLE,dominantBaseline:Ie.HANGING}:hn(n,[100,170])?{textAnchor:ke.END,dominantBaseline:Ie.HANGING}:hn(n,[170,190])?{textAnchor:ke.END,dominantBaseline:Ie.MIDDLE}:hn(n,[190,260])?{textAnchor:ke.END,dominantBaseline:Ie.BASELINE}:hn(n,[260,280])?{textAnchor:ke.MIDDLE,dominantBaseline:Ie.BASELINE}:{textAnchor:ke.START,dominantBaseline:Ie.BASELINE}}function Xk(t,n){return(t%n+n)%n}function hn(t,n){var e=n[0],r=n[1];return t>=e&&t<=r}function ng(t){return t*(180/Math.PI)}function Ut(t,n,e){e===void 0&&(e={x:0,y:0});var r=n*Math.cos(t)+e.x,i=n*Math.sin(t)+e.y;return{x:isNaN(r)?0:r,y:isNaN(i)?0:i}}function Zk(t,n){return n*Math.sin(t-Math.PI/2)}var Kk=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Qk=function(t){Kk(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="radar",e.renderType=it.SVG,e.getLabelDimensions=function(r){var i=U.appendOrSelect(e.getComponentContainer(),"g.tmp-tick"),a=U.appendOrSelect(i,"text").text(r),o=U.getSVGElementSize(a.node(),{useBBox:!0}),s=o.width,l=o.height;return i.remove(),{width:s,height:l}},e.normalizeFlatData=function(r){var i=e.getOptions(),a=y.getProperty(i,"radar","axes"),o=a.angle,s=a.value,l=y.getProperty(i,"data","groupMapsTo"),u=y.flatMapDeep(e.uniqueKeys.map(function(c){return e.uniqueGroups.map(function(h){var f;return f={},f[o]=c,f[l]=h,f[s]=null,f})}));return y.merge(u,r)},e.normalizeGroupedData=function(r){var i=e.getOptions(),a=y.getProperty(i,"radar","axes"),o=a.angle,s=a.value,l=y.getProperty(i,"data","groupMapsTo");return r.map(function(u){var c=u.name,h=u.data,f=e.uniqueKeys.map(function(d){var p;return p={},p[l]=c,p[o]=d,p[s]=null,p});return{name:c,data:y.merge(f,h)}})},e.handleLegendOnHover=function(r){var i=r.detail.hoveredElement;e.parent.selectAll("g.blobs path").transition("legend-hover-blob").call(function(a){return e.services.transitions.setupTransition({transition:a,name:"legend-hover-blob"})}).style("fill-opacity",function(a){return a.name!==i.datum().name?pn.opacity.unselected:pn.opacity.selected}).style("stroke-opacity",function(a){return a.name!==i.datum().name?pn.opacity.unselected:1})},e.handleLegendMouseOut=function(r){e.parent.selectAll("g.blobs path").transition("legend-mouseout-blob").call(function(i){return e.services.transitions.setupTransition({transition:i,name:"legend-mouseout-blob"})}).style("fill-opacity",pn.opacity.selected).style("stroke-opacity",1)},e}return n.prototype.init=function(){var e=this.services.events;e.addEventListener(S.Legend.ITEM_HOVER,this.handleLegendOnHover),e.addEventListener(S.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},n.prototype.render=function(e){var r=this;e===void 0&&(e=!0);var i=this.getComponentContainer(),a=U.getSVGElementSize(i,{useAttrs:!0}),o=a.width,s=a.height,l=this.model.getData(),u=this.model.getGroupedData(),c=this.getOptions(),h=y.getProperty(c,"data","groupMapsTo"),f=y.getProperty(c,"radar","axes","value"),d=y.getProperty(c,"radar","axes"),p=d.angle,g=d.value,m=pn,_=m.xLabelPadding,v=m.yLabelPadding,x=m.yTicksNumber,O=m.minRange,b=m.xAxisRectHeight;this.uniqueKeys=Array.from(new Set(l.map(function(W){return W[p]}))),this.uniqueGroups=Array.from(new Set(l.map(function(W){return W[h]}))),this.fullDataNormalized=this.normalizeFlatData(l),this.groupedDataNormalized=this.normalizeGroupedData(u);var w=this.getLabelDimensions(this.uniqueKeys[0]).height,M=2*(w+v),E=Math.min(o,s),A=E-M,C=A/2;if(!(C<=0)){var T=ki().domain(this.fullDataNormalized.map(function(W){return W[p]})).range([0,2*Math.PI].map(function(W){return W-Math.PI/2})),k=mn(this.fullDataNormalized.map(function(W){return W[g]})),D=He().domain([k>=0?0:k,Un(this.fullDataNormalized.map(function(W){return W[g]}))]).range([O,C]).nice(x),I=D.ticks(x),L=function(W){return r.model.getFillColor(W)},R=SA().angle(function(W){return T(W[p])+Math.PI/2}).radius(function(W){return D(W[g])}).curve(Ev),N=this.uniqueKeys.map(function(W){var Z=r.getLabelDimensions(W).width,z=Zk(T(W),C);return Z+z}),G=Un(N),P={x:G+_,y:s/2},F=U.appendOrSelect(i,"g.y-axes").attr("role",ht.GROUP),H=F.selectAll("path").data(I,function(W){return W}),J=function(W){return r.uniqueKeys.map(function(Z){var z;return z={},z[p]=Z,z[g]=W,z})};H.join(function(W){return W.append("path").attr("opacity",0).attr("transform","translate("+P.x+", "+P.y+")").attr("fill","none").call(function(Z){return Z.transition().call(function(z){return r.services.transitions.setupTransition({transition:z,name:"radar_y_axes_enter",animate:e})}).attr("opacity",1).attr("d",function(z){return R(J(z))})})},function(W){return W.call(function(Z){return Z.transition().call(function(z){return r.services.transitions.setupTransition({transition:z,name:"radar_y_axes_update",animate:e})}).attr("opacity",1).attr("transform","translate("+P.x+", "+P.y+")").attr("d",function(z){return R(J(z))})})},function(W){return W.call(function(Z){return Z.transition().call(function(z){return r.services.transitions.setupTransition({transition:z,name:"radar_y_axes_exit",animate:e})}).attr("d",function(z){return R(J(z))}).attr("opacity",0).remove()})});var lt=U.appendOrSelect(i,"g.x-axes").attr("role",ht.GROUP),ut=lt.selectAll("line").data(this.uniqueKeys,function(W){return W});ut.join(function(W){return W.append("line").attr("opacity",0).attr("class",function(Z){return"x-axis-"+y.kebabCase(Z)}).attr("stroke-dasharray","0").attr("x1",function(Z){return Ut(T(Z),0,P).x}).attr("y1",function(Z){return Ut(T(Z),0,P).y}).attr("x2",function(Z){return Ut(T(Z),0,P).x}).attr("y2",function(Z){return Ut(T(Z),0,P).y}).call(function(Z){return Z.transition().call(function(z){return r.services.transitions.setupTransition({transition:z,name:"radar_x_axes_enter",animate:e})}).attr("opacity",1).attr("x1",function(z){return Ut(T(z),D.range()[0],P).x}).attr("y1",function(z){return Ut(T(z),D.range()[0],P).y}).attr("x2",function(z){return Ut(T(z),D.range()[1],P).x}).attr("y2",function(z){return Ut(T(z),D.range()[1],P).y})})},function(W){return W.call(function(Z){return Z.transition().call(function(z){return r.services.transitions.setupTransition({transition:z,name:"radar_x_axes_update",animate:e})}).attr("opacity",1).attr("x1",function(z){return Ut(T(z),D.range()[0],P).x}).attr("y1",function(z){return Ut(T(z),D.range()[0],P).y}).attr("x2",function(z){return Ut(T(z),D.range()[1],P).x}).attr("y2",function(z){return Ut(T(z),D.range()[1],P).y})})},function(W){return W.call(function(Z){return Z.transition().call(function(z){return r.services.transitions.setupTransition({transition:z,name:"radar_x_axes_exit",animate:e})}).attr("opacity",0).remove()})});var X=U.appendOrSelect(i,"g.x-labels").attr("role",ht.GROUP),rt=X.selectAll("text").data(this.uniqueKeys);rt.join(function(W){return W.append("text").text(function(Z){return Z}).attr("opacity",0).attr("x",function(Z){return Ut(T(Z),D.range()[1]+_,P).x}).attr("y",function(Z){return Ut(T(Z),D.range()[1]+_,P).y}).style("text-anchor",function(Z){return mh(T(Z)).textAnchor}).style("dominant-baseline",function(Z){return mh(T(Z)).dominantBaseline}).call(function(Z){return Z.transition().call(function(z){return r.services.transitions.setupTransition({transition:z,name:"radar_x_labels_enter",animate:e})}).attr("opacity",1)})},function(W){return W.call(function(Z){return Z.transition().call(function(z){return r.services.transitions.setupTransition({transition:z,name:"radar_x_labels_update",animate:e})}).attr("opacity",1).attr("x",function(z){return Ut(T(z),D.range()[1]+_,P).x}).attr("y",function(z){return Ut(T(z),D.range()[1]+_,P).y}).end().finally(function(){var z=y.getProperty(c,"radar","alignment"),dt=r.getAlignmentXOffset(z,i,r.getParent());i.attr("x",dt)})})},function(W){return W.call(function(Z){return Z.transition().call(function(z){return r.services.transitions.setupTransition({transition:z,name:"radar_x_labels_exit",animate:e})}).attr("opacity",0).remove()})});var tt=U.appendOrSelect(i,"g.blobs").attr("role",ht.GROUP),ot=tt.selectAll("path").data(this.groupedDataNormalized,function(W){return W.name});ot.join(function(W){return W.append("path").attr("class",function(Z){return r.model.getColorClassName({classNameTypes:[at.FILL,at.STROKE],dataGroupName:Z.name,originalClassName:"blob"})}).attr("role",ht.GRAPHICS_SYMBOL).attr("aria-label",function(Z){return Z.name}).attr("opacity",0).attr("transform",e?function(){return"translate("+P.x+", "+P.y+") scale("+(1+Math.random()*.35)+")"}:"translate("+P.x+", "+P.y+")").style("fill",function(Z){return L(Z.name)}).style("fill-opacity",pn.opacity.selected).style("stroke",function(Z){return L(Z.name)}).call(function(Z){var z=Z.transition().call(function(dt){return r.services.transitions.setupTransition({transition:dt,name:"radar_blobs_enter",animate:e})});e&&z.delay(function(){return Math.random()*30}).attr("transform","translate("+P.x+", "+P.y+")"),z.attr("opacity",1).attr("d",function(dt){return R(dt.data)})})},function(W){W.attr("class",function(Z){return r.model.getColorClassName({classNameTypes:[at.FILL,at.STROKE],dataGroupName:Z.name,originalClassName:"blob"})}).style("fill",function(Z){return L(Z.name)}).style("stroke",function(Z){return L(Z.name)}),W.call(function(Z){return Z.transition().call(function(z){return r.services.transitions.setupTransition({transition:z,name:"radar_blobs_update",animate:e})}).attr("opacity",1).attr("transform","translate("+P.x+", "+P.y+")").attr("d",function(z){return R(z.data)})})},function(W){return W.call(function(Z){var z=Z.transition().call(function(dt){return r.services.transitions.setupTransition({transition:dt,name:"radar_blobs_exit",animate:e})});e&&z.delay(function(){return Math.random()*30}).attr("transform",function(){return"translate("+P.x+", "+P.y+") scale("+(1+Math.random()*.35)+")"}),z.attr("opacity",0).remove()})});var K=U.appendOrSelect(i,"g.dots").attr("role",ht.GROUP),et=K.selectAll("circle").data(this.fullDataNormalized.filter(function(W){return y.getProperty(W,g)!==null}));et.join(function(W){return W.append("circle").attr("role",ht.GRAPHICS_SYMBOL).attr("aria-label",function(Z){return Z[f]})},function(W){return W},function(W){return W.remove()}).attr("class",function(W){return r.model.getColorClassName({classNameTypes:[at.FILL],dataGroupName:W[h],originalClassName:y.kebabCase(W[p])})}).attr("cx",function(W){return Ut(T(W[p]),D(W[g]),P).x}).attr("cy",function(W){return Ut(T(W[p]),D(W[g]),P).y}).attr("r",0).attr("opacity",0).style("fill",function(W){return L(W[h])});var st=U.appendOrSelect(i,"g.x-axes-rect").attr("role",ht.GROUP),j=st.selectAll("rect").data(this.uniqueKeys);j.join(function(W){return W.append("rect")},function(W){return W},function(W){return W.remove()}).attr("x",P.x).attr("y",P.y-b/2).attr("width",D.range()[1]).attr("height",b).style("fill","red").style("fill-opacity",0).attr("transform",function(W){return"rotate("+ng(T(W))+", "+P.x+", "+P.y+")"});var vt=U.appendOrSelect(i,"g.y-labels").attr("role",ht.GROUP),ct=vt.selectAll("text").data(Ue(I));ct.join(function(W){return W.append("text").attr("opacity",0).text(function(Z){return Z}).attr("x",function(Z){return Ut(-Math.PI/2,D(Z),P).x+v}).attr("y",function(Z){return Ut(-Math.PI/2,D(Z),P).y}).style("text-anchor","start").style("dominant-baseline","middle").call(function(Z){return Z.transition().call(function(z){return r.services.transitions.setupTransition({transition:z,name:"radar_y_labels_enter",animate:e})}).attr("opacity",1)})},function(W){return W.call(function(Z){return Z.transition().call(function(z){return r.services.transitions.setupTransition({transition:z,name:"radar_y_labels_update",animate:e})}).text(function(z){return z}).attr("opacity",1).attr("x",function(z){return Ut(-Math.PI/2,D(z),P).x+v}).attr("y",function(z){return Ut(-Math.PI/2,D(z),P).y})})},function(W){return W.call(function(Z){return Z.transition().call(function(z){return r.services.transitions.setupTransition({transition:z,name:"radar_y_labels_exit",animate:e})}).attr("opacity",0).remove()})}),this.addEventListeners()}},n.prototype.getAlignmentXOffset=function(e,r,i){var a=U.getSVGElementSize(r,{useBBox:!0}),o=U.getSVGElementSize(i,{useAttrs:!0}).width,s=0;return e===Ft.CENTER?s=Math.floor((o-a.width)/2):e===Ft.RIGHT&&(s=o-a.width),s},n.prototype.destroy=function(){this.parent.selectAll(".x-axes-rect > rect").on("mouseover",null).on("mousemove",null).on("mouseout",null);var e=this.services.events;e.removeEventListener(S.Legend.ITEM_HOVER,this.handleLegendOnHover),e.removeEventListener(S.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},n.prototype.addEventListeners=function(){var e=this,r=y.getProperty(this.getOptions(),"radar").axes.angle;this.parent.selectAll(".x-axes-rect > rect").on("mouseover",function(i,a){var o=$(this);e.services.events.dispatchEvent(S.Radar.X_AXIS_MOUSEOVER,{event:i,element:o,datum:a});var s=e.parent.select(".x-axes .x-axis-"+y.kebabCase(a)),l=e.parent.selectAll(".dots circle."+y.kebabCase(a)),u=e.model.getActiveDataGroupNames(),c=e.getOptions(),h=c.data.groupMapsTo,f=y.getProperty(c,"radar","axes","value");s.classed("hovered",!0).attr("stroke-dasharray","4 4"),l.classed("hovered",!0).attr("opacity",function(p){return u.indexOf(p[h])!==-1?1:0}).attr("r",pn.dotsRadius);var d=e.fullDataNormalized.filter(function(p){return p[r]===a&&u.indexOf(p[h])!==-1});e.services.events.dispatchEvent(S.Tooltip.SHOW,{event:i,hoveredElement:o,items:d.filter(function(p){return typeof p[f]=="number"}).map(function(p){return{label:p[h],value:p[f],color:e.model.getFillColor(p[h]),class:e.model.getColorClassName({classNameTypes:[at.TOOLTIP],dataGroupName:p[h]})}})})}).on("mousemove",function(i,a){var o=$(this);e.services.events.dispatchEvent(S.Radar.X_AXIS_MOUSEMOVE,{event:i,element:o,datum:a}),e.services.events.dispatchEvent(S.Tooltip.MOVE,{event:i})}).on("click",function(i,a){e.services.events.dispatchEvent(S.Radar.X_AXIS_CLICK,{event:i,element:$(this),datum:a})}).on("mouseout",function(i,a){var o=$(this),s=e.parent.select(".x-axes .x-axis-"+y.kebabCase(a)),l=e.parent.selectAll(".dots circle."+y.kebabCase(a));s.classed("hovered",!1).attr("stroke-dasharray","0"),l.classed("hovered",!1).attr("opacity",0).attr("r",0),e.services.events.dispatchEvent(S.Radar.X_AXIS_MOUSEOUT,{event:i,element:o,datum:a}),e.services.events.dispatchEvent(S.Tooltip.HIDE)})},n}(xt),Jk=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),tI=globalThis&&globalThis.__spreadArrays||function(){for(var t=0,n=0,e=arguments.length;n<e;n++)t+=arguments[n].length;for(var r=Array(t),i=0,n=0;n<e;n++)for(var a=arguments[n],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r},eI=function(t){Jk(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="circle-pack",e.renderType=it.SVG,e.handleLegendOnHover=function(r){var i=r.detail.hoveredElement;e.parent.selectAll("circle.node").transition("legend-hover-circlepack").call(function(a){return e.services.transitions.setupTransition({transition:a,name:"legend-hover-circlepack"})}).attr("opacity",function(a){return a.data.dataGroupName===i.datum().name?1:Mn.circles.fillOpacity})},e.handleLegendMouseOut=function(r){e.parent.selectAll("circle.node").transition("legend-mouseout-circlepack").call(function(i){return e.services.transitions.setupTransition({transition:i,name:"legend-mouseout-circlepack"})}).attr("opacity",1)},e}return n.prototype.render=function(e){var r=this,i=this.getComponentContainer({withinChartClip:!0}),a=U.getSVGElementSize(this.parent,{useAttrs:!0}),o=a.width,s=a.height;if(!(o<1||s<1)){var l=this.model.getDisplayData(),u=this.model.hasParentNode(),c=this.model.getHierarchyLevel(),h=this.getOptions(),f=y.getProperty(h,"canvasZoom","enabled");u&&y.getProperty(l,0,"children")&&(l=y.getProperty(l,0,"children"));var d=$i({children:l}).sum(function(v){return v.value}).sort(function(v,x){return x.value-v.value}),p=rL().size([o,s]).padding(function(v){return v.depth>=1?Mn.padding.children+3:Mn.padding.mainGroup+3}),g=p(d).descendants().splice(1).filter(function(v){return v.depth<=c}),m=i.selectAll("circle.node").data(g);m.exit().attr("width",0).attr("height",0).remove();var _=m.enter().append("circle").classed("node",!0);_.merge(m).attr("class",function(v){var x=f&&c===3?r.getZoomClass(v):"";return r.model.getColorClassName({classNameTypes:[at.FILL,at.STROKE],dataGroupName:v.data.dataGroupName,originalClassName:v.children?"node "+x:"node node-leaf "+x})}).style("fill",function(v){return r.model.getFillColor(v.data.dataGroupName)}).style("stroke",function(v){return r.model.getFillColor(v.data.dataGroupName)}).attr("cx",function(v){return v.x}).attr("cy",function(v){return v.y}).transition("circlepack-leaf-update-enter").call(function(v){return r.services.transitions.setupTransition({transition:v,name:"circlepack-leaf-update-enter"})}).attr("r",function(v){return v.r}).attr("opacity",1).attr("fill-opacity",Mn.circles.fillOpacity),f===!0&&this.focal&&(this.services.canvasZoom.zoomIn(this.focal,_,yr),this.setBackgroundListeners()),u||this.addLegendListeners(),this.addEventListeners()}},n.prototype.unhighlightChildren=function(e){var r=this,i=e.map(function(a){return a.data});this.parent.selectAll("circle.node").filter(function(a){return i.some(function(o){return o===a.data})&&a.depth>1}).style("stroke",function(a){return r.model.getFillColor(a.data.dataGroupName)})},n.prototype.highlightChildren=function(e){var r=e.map(function(i){return i.data});this.parent.selectAll("circle.node").filter(function(i){return r.some(function(a){return a===i.data})&&i.depth>1}).style("stroke",Mn.circles.hover.stroke)},n.prototype.getZoomClass=function(e){return this.model.getHierarchyLevel()===3&&this.focal&&(e.data===this.focal.data||this.focal.children.some(function(r){return r.data===e.data}))?"focal":"non-focal"},n.prototype.addLegendListeners=function(){var e=this.services.events;e.addEventListener(S.Legend.ITEM_HOVER,this.handleLegendOnHover),e.addEventListener(S.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},n.prototype.removeBackgroundListeners=function(){var e=$(this.services.domUtils.getMainContainer());e.on("click",function(){return null})},n.prototype.setBackgroundListeners=function(){var e=$(this.services.domUtils.getMainContainer()),r=this,i=this.parent.selectAll("circle.node"),a=y.getProperty(Pp,"canvasZoomSettings");e.on("click",function(){r.focal=null,r.model.updateHierarchyLevel(2),e.classed("zoomed-in",!1),r.services.canvasZoom.zoomOut(i,a)})},n.prototype.getZoomIcon=function(){return`
		<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 10">
			<polygon points="5.93 3.71 4.45 3.71 4.45 2.23 3.71 2.23 3.71 3.71 2.23 3.71 2.23 4.45 3.71 4.45 3.71 5.93 4.45 5.93 4.45 4.45 5.93 4.45 5.93 3.71"/>
			<path d="M7.2,6.67a4,4,0,0,0,1-2.59A4.08,4.08,0,1,0,4.07,8.15h0a4,4,0,0,0,2.59-1L9.48,10,10,9.48Zm-3.12.77A3.34,3.34,0,1,1,7.41,4.08,3.34,3.34,0,0,1,4.08,7.44Z"/>
		</svg>`},n.prototype.addEventListeners=function(){var e=this;this.parent.selectAll("circle.node").on("mouseover",function(r,i){var a=$(this);a.classed("hovered",!0);var o=e.model.getHierarchyLevel(),s=o>2&&!a.classed("focal"),l=y.getProperty(e.model.getOptions(),"canvasZoom","enabled"),u=!1;if(!s){var c=[],h=[],f=null;if(i.children){i.depth>1&&l&&(u=!0,a.classed("clickable",!0)),c=i.children.map(function(g){if(g!==null)return typeof g.data.value=="number"?{label:g.data.name,value:g.data.value}:{label:g.data.name,labelIcon:l&&o<=2?e.getZoomIcon():null,value:g.value}});var d=e.model.getOptions();h=[{label:Lt(d,"tooltip.totalLabel")||"Total",value:i.value,bold:!0}],e.highlightChildren(i.children)}else f=i.value;var p=getComputedStyle(this,null).getPropertyValue("fill");e.services.events.dispatchEvent(S.Tooltip.SHOW,{event:r,hoveredElement:a,items:tI([{color:p,label:i.data.name,labelIcon:u&&l&&o<=2?e.getZoomIcon():null,value:f}],c,h)})}e.services.events.dispatchEvent(S.CirclePack.CIRCLE_MOUSEOVER,{event:r,element:a,datum:i})}).on("mousemove",function(r,i){var a=$(this);e.services.events.dispatchEvent(S.CirclePack.CIRCLE_MOUSEMOVE,{event:r,element:a,datum:i}),e.services.events.dispatchEvent(S.Tooltip.MOVE,{event:r})}).on("mouseout",function(r,i){var a=$(this);a.classed("hovered",!1),i.children&&e.unhighlightChildren(i.children),e.services.events.dispatchEvent(S.CirclePack.CIRCLE_MOUSEOUT,{event:r,element:a,datum:i}),e.services.events.dispatchEvent(S.Tooltip.HIDE,{hoveredElement:a})}).on("click",function(r,i){var a=$(this),o=a.classed("non-focal"),s=y.getProperty(e.model.getOptions(),"canvasZoom","enabled");if(s&&e.model.getHierarchyLevel()>2){var l=e.parent.selectAll("circle.node"),u=$(e.services.domUtils.getMainContainer());u.classed("zoomed-in",!1),e.focal=null,e.model.updateHierarchyLevel(2),e.services.canvasZoom.zoomOut(l,yr)}else if(i.depth===2&&i.children&&!o&&s){var l=e.parent.selectAll("circle.node"),u=$(e.services.domUtils.getMainContainer());u.classed("zoomed-in",!0),e.focal=i,e.model.updateHierarchyLevel(3),e.services.canvasZoom.zoomIn(i,l,yr),r.stopPropagation()}e.services.events.dispatchEvent(S.CirclePack.CIRCLE_CLICK,{event:r,element:a,datum:i})})},n.prototype.destroy=function(){this.parent.selectAll("circle.node").on("mouseover",null).on("mousemove",null).on("mouseout",null).on("click",null);var e=this.services.events;e.removeEventListener(S.Legend.ITEM_HOVER,this.handleLegendOnHover),e.removeEventListener(S.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut),this.removeBackgroundListeners()},n}(xt),nI={value:function(){}};function rg(){for(var t=0,n=arguments.length,e={},r;t<n;++t){if(!(r=arguments[t]+"")||r in e||/[\s.]/.test(r))throw new Error("illegal type: "+r);e[r]=[]}return new pa(e)}function pa(t){this._=t}function rI(t,n){return t.trim().split(/^|\s+/).map(function(e){var r="",i=e.indexOf(".");if(i>=0&&(r=e.slice(i+1),e=e.slice(0,i)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:r}})}pa.prototype=rg.prototype={constructor:pa,on:function(t,n){var e=this._,r=rI(t+"",e),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(t=r[a]).type)&&(i=iI(e[i],t.name)))return i;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++a<o;)if(i=(t=r[a]).type)e[i]=yh(e[i],t.name,n);else if(n==null)for(i in e)e[i]=yh(e[i],t.name,null);return this},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new pa(t)},call:function(t,n){if((i=arguments.length-2)>0)for(var e=new Array(i),r=0,i,a;r<i;++r)e[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,i=a.length;r<i;++r)a[r].value.apply(n,e)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(n,e)}};function iI(t,n){for(var e=0,r=t.length,i;e<r;++e)if((i=t[e]).name===n)return i.value}function yh(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=nI,t=t.slice(0,r).concat(t.slice(r+1));break}return e!=null&&t.push({name:n,value:e}),t}const aI=Object.freeze(Object.defineProperty({__proto__:null,dispatch:rg},Symbol.toStringTag,{value:"Module"})),oI=XO(aI);var sI=oI.dispatch,gs=Math.PI/180,ni=1<<11>>5,va=1<<11,lI=function(){var t=[256,256],n=uI,e=cI,r=fI,i=_h,a=_h,o=hI,s=dI,l=ig,u=[],c=1/0,h=sI("word","end"),f=null,d=Math.random,p={},g=xI;p.canvas=function(v){return arguments.length?(g=dn(v),p):g},p.start=function(){var v=m(g()),x=_I((t[0]>>5)*t[1]),O=null,b=u.length,w=-1,M=[],E=u.map(function(C,T){return C.text=n.call(this,C,T),C.font=e.call(this,C,T),C.style=i.call(this,C,T),C.weight=a.call(this,C,T),C.rotate=o.call(this,C,T),C.size=~~r.call(this,C,T),C.padding=s.call(this,C,T),C}).sort(function(C,T){return T.size-C.size});return f&&clearInterval(f),f=setInterval(A,0),A(),p;function A(){for(var C=Date.now();Date.now()-C<c&&++w<b&&f;){var T=E[w];T.x=t[0]*(d()+.5)>>1,T.y=t[1]*(d()+.5)>>1,pI(v,T,E,w),T.hasText&&_(x,T,O)&&(M.push(T),h.call("word",p,T),O?gI(O,T):O=[{x:T.x+T.x0,y:T.y+T.y0},{x:T.x+T.x1,y:T.y+T.y1}],T.x-=t[0]>>1,T.y-=t[1]>>1)}w>=b&&(p.stop(),h.call("end",p,M,O))}},p.stop=function(){return f&&(clearInterval(f),f=null),p};function m(v){v.width=v.height=1;var x=Math.sqrt(v.getContext("2d").getImageData(0,0,1,1).data.length>>2);v.width=(ni<<5)/x,v.height=va/x;var O=v.getContext("2d");return O.fillStyle=O.strokeStyle="red",O.textAlign="center",{context:O,ratio:x}}function _(v,x,O){t[0],t[1];for(var b=x.x,w=x.y,M=Math.sqrt(t[0]*t[0]+t[1]*t[1]),E=l(t),A=d()<.5?1:-1,C=-A,T,k,D;(T=E(C+=A))&&(k=~~T[0],D=~~T[1],!(Math.min(Math.abs(k),Math.abs(D))>=M));)if(x.x=b+k,x.y=w+D,!(x.x+x.x0<0||x.y+x.y0<0||x.x+x.x1>t[0]||x.y+x.y1>t[1])&&(!O||!vI(x,v,t[0]))&&(!O||mI(x,O))){for(var I=x.sprite,L=x.width>>5,R=t[0]>>5,N=x.x-(L<<4),G=N&127,P=32-G,F=x.y1-x.y0,H=(x.y+x.y0)*R+(N>>5),J,lt=0;lt<F;lt++){J=0;for(var ut=0;ut<=L;ut++)v[H+ut]|=J<<P|(ut<L?(J=I[lt*L+ut])>>>G:0);H+=R}return delete x.sprite,!0}return!1}return p.timeInterval=function(v){return arguments.length?(c=v??1/0,p):c},p.words=function(v){return arguments.length?(u=v,p):u},p.size=function(v){return arguments.length?(t=[+v[0],+v[1]],p):t},p.font=function(v){return arguments.length?(e=dn(v),p):e},p.fontStyle=function(v){return arguments.length?(i=dn(v),p):i},p.fontWeight=function(v){return arguments.length?(a=dn(v),p):a},p.rotate=function(v){return arguments.length?(o=dn(v),p):o},p.text=function(v){return arguments.length?(n=dn(v),p):n},p.spiral=function(v){return arguments.length?(l=bI[v]||v,p):l},p.fontSize=function(v){return arguments.length?(r=dn(v),p):r},p.padding=function(v){return arguments.length?(s=dn(v),p):s},p.random=function(v){return arguments.length?(d=v,p):d},p.on=function(){var v=h.on.apply(h,arguments);return v===h?p:v},p};function uI(t){return t.text}function cI(){return"serif"}function _h(){return"normal"}function fI(t){return Math.sqrt(t.value)}function hI(){return(~~(Math.random()*6)-3)*30}function dI(){return 1}function pI(t,n,e,r){if(!n.sprite){var i=t.context,a=t.ratio;i.clearRect(0,0,(ni<<5)/a,va/a);var o=0,s=0,l=0,u=e.length;for(--r;++r<u;){n=e[r],i.save(),i.font=n.style+" "+n.weight+" "+~~((n.size+1)/a)+"px "+n.font;var c=i.measureText(n.text+"m").width*a,h=n.size<<1;if(n.rotate){var f=Math.sin(n.rotate*gs),d=Math.cos(n.rotate*gs),p=c*d,g=c*f,m=h*d,_=h*f;c=Math.max(Math.abs(p+_),Math.abs(p-_))+31>>5<<5,h=~~Math.max(Math.abs(g+m),Math.abs(g-m))}else c=c+31>>5<<5;if(h>l&&(l=h),o+c>=ni<<5&&(o=0,s+=l,l=0),s+h>=va)break;i.translate((o+(c>>1))/a,(s+(h>>1))/a),n.rotate&&i.rotate(n.rotate*gs),i.fillText(n.text,0,0),n.padding&&(i.lineWidth=2*n.padding,i.strokeText(n.text,0,0)),i.restore(),n.width=c,n.height=h,n.xoff=o,n.yoff=s,n.x1=c>>1,n.y1=h>>1,n.x0=-n.x1,n.y0=-n.y1,n.hasText=!0,o+=c}for(var v=i.getImageData(0,0,(ni<<5)/a,va/a).data,x=[];--r>=0;)if(n=e[r],!!n.hasText){for(var c=n.width,O=c>>5,h=n.y1-n.y0,b=0;b<h*O;b++)x[b]=0;if(o=n.xoff,o==null)return;s=n.yoff;for(var w=0,M=-1,E=0;E<h;E++){for(var b=0;b<c;b++){var A=O*E+(b>>5),C=v[(s+E)*(ni<<5)+(o+b)<<2]?1<<31-b%32:0;x[A]|=C,w|=C}w?M=E:(n.y0++,h--,E--,s++)}n.y1=n.y0+M,n.sprite=x.slice(0,(n.y1-n.y0)*O)}}}function vI(t,n,e){e>>=5;for(var r=t.sprite,i=t.width>>5,a=t.x-(i<<4),o=a&127,s=32-o,l=t.y1-t.y0,u=(t.y+t.y0)*e+(a>>5),c,h=0;h<l;h++){c=0;for(var f=0;f<=i;f++)if((c<<s|(f<i?(c=r[h*i+f])>>>o:0))&n[u+f])return!0;u+=e}return!1}function gI(t,n){var e=t[0],r=t[1];n.x+n.x0<e.x&&(e.x=n.x+n.x0),n.y+n.y0<e.y&&(e.y=n.y+n.y0),n.x+n.x1>r.x&&(r.x=n.x+n.x1),n.y+n.y1>r.y&&(r.y=n.y+n.y1)}function mI(t,n){return t.x+t.x1>n[0].x&&t.x+t.x0<n[1].x&&t.y+t.y1>n[0].y&&t.y+t.y0<n[1].y}function ig(t){var n=t[0]/t[1];return function(e){return[n*(e*=.1)*Math.cos(e),e*Math.sin(e)]}}function yI(t){var n=4,e=n*t[0]/t[1],r=0,i=0;return function(a){var o=a<0?-1:1;switch(Math.sqrt(1+4*o*a)-o&3){case 0:r+=e;break;case 1:i+=n;break;case 2:r-=e;break;default:i-=n;break}return[r,i]}}function _I(t){for(var n=[],e=-1;++e<t;)n[e]=0;return n}function xI(){return document.createElement("canvas")}function dn(t){return typeof t=="function"?t:function(){return t}}var bI={archimedean:ig,rectangular:yI},wI=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),OI=function(t){wI(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="wordcloud",e.renderType=it.SVG,e.handleLegendOnHover=function(r){var i=r.detail.hoveredElement,a=e.getOptions().data.groupMapsTo;e.parent.selectAll("text.word").transition("legend-hover-wordcloud").call(function(o){return e.services.transitions.setupTransition({transition:o,name:"legend-hover-wordcloud"})}).attr("opacity",function(o){return o[a]!==i.datum().name?.3:1})},e.handleLegendMouseOut=function(r){e.parent.selectAll("text.word").transition("legend-mouseout-wordcloud").call(function(i){return e.services.transitions.setupTransition({transition:i,name:"legend-mouseout-wordcloud"})}).attr("opacity",1)},e}return n.prototype.init=function(){var e=this.services.events;e.addEventListener(S.Legend.ITEM_HOVER,this.handleLegendOnHover),e.addEventListener(S.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},n.prototype.render=function(e){e===void 0&&(e=!0);var r=this,i=this.getComponentContainer().attr("width","100%").attr("height","100%"),a=this.model.getDisplayData(),o=this.getFontSizeScale(a),s=this.getOptions(),l=s.wordCloud,u=l.fontSizeMapsTo,c=l.wordMapsTo,h=s.data.groupMapsTo,f=U.getSVGElementSize(i,{useAttrs:!0}),d=f.width,p=f.height;if(d===0||p===0)return;var g=lI().size([d,p]).words(a.map(function(_){var v,x=_[u];if(typeof _[u]!="number")throw Error("Badly formatted WordCloud data. `value` should only be an integer or float");return v={},v[h]=_[h],v.text=_[c],v.size=x,v.value=x,v})).padding(5).rotate(0).fontSize(function(_){return o(_.size)}).on("end",m);g.start();function m(_){var v=U.appendOrSelect(i,"g.words");v.attr("transform","translate("+g.size()[0]/2+", "+g.size()[1]/2+")");var x=v.selectAll("text").data(_,function(b){return b[h]+"-"+b.text});x.exit().attr("opacity",0).remove();var O=x.enter().append("text").attr("opacity",0);O.merge(x).style("font-size",function(b){return b.size+"px"}).text(function(b){return b.text}).attr("class",function(b){return r.model.getColorClassName({classNameTypes:[at.FILL],dataGroupName:b[h],originalClassName:"word "+(b.size>32?"light":"")})}).style("fill",function(b){return r.model.getFillColor(b[h],b.text,b)}).attr("text-anchor","middle").transition().call(function(b){return r.services.transitions.setupTransition({transition:b,name:"wordcloud-text-update-enter",animate:e})}).attr("transform",function(b){return"translate("+b.x+", "+b.y+")"}).attr("opacity",1)}this.addEventListeners()},n.prototype.getFontSizeScale=function(e){var r=this.getOptions(),i=r.wordCloud.fontSizeMapsTo,a=e.map(function(u){return u[i]}).filter(function(u){return u}),o=U.getHTMLElementSize(this.services.domUtils.getMainContainer()),s=a.length>0,l=s?Ue(a):[1,1];return He().domain(l).range(s?r.wordCloud.fontSizeRange(o,e):[4,4])},n.prototype.addEventListeners=function(){var e=this.getOptions(),r=e.data.groupMapsTo,i=this,a=y.debounce(function(o){var s=i.parent.selectAll("text.word").transition("wordcloud-word-mouse-highlight").call(function(l){return i.services.transitions.setupTransition({transition:l,name:"wordcloud-word-mouse-highlight"})});o===null?s.attr("opacity",1):s.attr("opacity",function(){return o===this?1:.3})},6);this.parent.selectAll("text.word").on("mouseover",function(o,s){var l=this;a(l),i.services.events.dispatchEvent(S.WordCloud.WORD_MOUSEOVER,{event:o,element:$(this),datum:s}),i.services.events.dispatchEvent(S.Tooltip.SHOW,{event:o,hoveredElement:l,items:[{label:e.tooltip.wordLabel,value:s.text},{label:e.tooltip.valueLabel,value:s.value},{label:e.tooltip.groupLabel,value:s[r],class:i.model.getColorClassName({classNameTypes:[at.TOOLTIP],dataGroupName:s[r]})}]})}).on("mousemove",function(o,s){var l=$(this);i.services.events.dispatchEvent(S.WordCloud.WORD_MOUSEMOVE,{element:l,datum:s}),i.services.events.dispatchEvent(S.Tooltip.MOVE,{event:o})}).on("click",function(o,s){i.services.events.dispatchEvent(S.WordCloud.WORD_CLICK,{event:o,element:$(this),datum:s})}).on("mouseout",function(o,s){var l=$(this);a(null),i.services.events.dispatchEvent(S.WordCloud.WORD_MOUSEOUT,{event:o,element:l,datum:s}),i.services.events.dispatchEvent(S.Tooltip.HIDE,{hoveredElement:l})})},n}(xt);function xh(t,n){let e;if(n===void 0)for(const r of t)r!=null&&(e<r||e===void 0&&r>=r)&&(e=r);else{let r=-1;for(let i of t)(i=n(i,++r,t))!=null&&(e<i||e===void 0&&i>=i)&&(e=i)}return e}function TI(t,n){let e;if(n===void 0)for(const r of t)r!=null&&(e>r||e===void 0&&r>=r)&&(e=r);else{let r=-1;for(let i of t)(i=n(i,++r,t))!=null&&(e>i||e===void 0&&i>=i)&&(e=i)}return e}function ms(t,n){let e=0;if(n===void 0)for(let r of t)(r=+r)&&(e+=r);else{let r=-1;for(let i of t)(i=+n(i,++r,t))&&(e+=i)}return e}function EI(t){return t.depth}function SI(t,n){return n-1-t.height}function ag(t,n){return t.sourceLinks.length?t.depth:n-1}function ra(t){return function(){return t}}function bh(t,n){return so(t.source,n.source)||t.index-n.index}function wh(t,n){return so(t.target,n.target)||t.index-n.index}function so(t,n){return t.y0-n.y0}function ys(t){return t.value}function AI(t){return t.index}function MI(t){return t.nodes}function CI(t){return t.links}function Oh(t,n){const e=t.get(n);if(!e)throw new Error("missing: "+n);return e}function Th({nodes:t}){for(const n of t){let e=n.y0,r=e;for(const i of n.sourceLinks)i.y0=e+i.width/2,e+=i.width;for(const i of n.targetLinks)i.y1=r+i.width/2,r+=i.width}}function PI(){let t=0,n=0,e=1,r=1,i=24,a=8,o,s=AI,l=ag,u,c,h=MI,f=CI,d=6;function p(){const L={nodes:h.apply(null,arguments),links:f.apply(null,arguments)};return g(L),m(L),_(L),v(L),b(L),Th(L),L}p.update=function(L){return Th(L),L},p.nodeId=function(L){return arguments.length?(s=typeof L=="function"?L:ra(L),p):s},p.nodeAlign=function(L){return arguments.length?(l=typeof L=="function"?L:ra(L),p):l},p.nodeSort=function(L){return arguments.length?(u=L,p):u},p.nodeWidth=function(L){return arguments.length?(i=+L,p):i},p.nodePadding=function(L){return arguments.length?(a=o=+L,p):a},p.nodes=function(L){return arguments.length?(h=typeof L=="function"?L:ra(L),p):h},p.links=function(L){return arguments.length?(f=typeof L=="function"?L:ra(L),p):f},p.linkSort=function(L){return arguments.length?(c=L,p):c},p.size=function(L){return arguments.length?(t=n=0,e=+L[0],r=+L[1],p):[e-t,r-n]},p.extent=function(L){return arguments.length?(t=+L[0][0],e=+L[1][0],n=+L[0][1],r=+L[1][1],p):[[t,n],[e,r]]},p.iterations=function(L){return arguments.length?(d=+L,p):d};function g({nodes:L,links:R}){for(const[G,P]of L.entries())P.index=G,P.sourceLinks=[],P.targetLinks=[];const N=new Map(L.map((G,P)=>[s(G,P,L),G]));for(const[G,P]of R.entries()){P.index=G;let{source:F,target:H}=P;typeof F!="object"&&(F=P.source=Oh(N,F)),typeof H!="object"&&(H=P.target=Oh(N,H)),F.sourceLinks.push(P),H.targetLinks.push(P)}if(c!=null)for(const{sourceLinks:G,targetLinks:P}of L)G.sort(c),P.sort(c)}function m({nodes:L}){for(const R of L)R.value=R.fixedValue===void 0?Math.max(ms(R.sourceLinks,ys),ms(R.targetLinks,ys)):R.fixedValue}function _({nodes:L}){const R=L.length;let N=new Set(L),G=new Set,P=0;for(;N.size;){for(const F of N){F.depth=P;for(const{target:H}of F.sourceLinks)G.add(H)}if(++P>R)throw new Error("circular link");N=G,G=new Set}}function v({nodes:L}){const R=L.length;let N=new Set(L),G=new Set,P=0;for(;N.size;){for(const F of N){F.height=P;for(const{source:H}of F.targetLinks)G.add(H)}if(++P>R)throw new Error("circular link");N=G,G=new Set}}function x({nodes:L}){const R=xh(L,P=>P.depth)+1,N=(e-t-i)/(R-1),G=new Array(R);for(const P of L){const F=Math.max(0,Math.min(R-1,Math.floor(l.call(null,P,R))));P.layer=F,P.x0=t+F*N,P.x1=P.x0+i,G[F]?G[F].push(P):G[F]=[P]}if(u)for(const P of G)P.sort(u);return G}function O(L){const R=TI(L,N=>(r-n-(N.length-1)*o)/ms(N,ys));for(const N of L){let G=n;for(const P of N){P.y0=G,P.y1=G+P.value*R,G=P.y1+o;for(const F of P.sourceLinks)F.width=F.value*R}G=(r-G+o)/(N.length+1);for(let P=0;P<N.length;++P){const F=N[P];F.y0+=G*(P+1),F.y1+=G*(P+1)}k(N)}}function b(L){const R=x(L);o=Math.min(a,(r-n)/(xh(R,N=>N.length)-1)),O(R);for(let N=0;N<d;++N){const G=Math.pow(.99,N),P=Math.max(1-G,(N+1)/d);M(R,G,P),w(R,G,P)}}function w(L,R,N){for(let G=1,P=L.length;G<P;++G){const F=L[G];for(const H of F){let J=0,lt=0;for(const{source:X,value:rt}of H.targetLinks){let tt=rt*(H.layer-X.layer);J+=D(X,H)*tt,lt+=tt}if(!(lt>0))continue;let ut=(J/lt-H.y0)*R;H.y0+=ut,H.y1+=ut,T(H)}u===void 0&&F.sort(so),E(F,N)}}function M(L,R,N){for(let G=L.length,P=G-2;P>=0;--P){const F=L[P];for(const H of F){let J=0,lt=0;for(const{target:X,value:rt}of H.sourceLinks){let tt=rt*(X.layer-H.layer);J+=I(H,X)*tt,lt+=tt}if(!(lt>0))continue;let ut=(J/lt-H.y0)*R;H.y0+=ut,H.y1+=ut,T(H)}u===void 0&&F.sort(so),E(F,N)}}function E(L,R){const N=L.length>>1,G=L[N];C(L,G.y0-o,N-1,R),A(L,G.y1+o,N+1,R),C(L,r,L.length-1,R),A(L,n,0,R)}function A(L,R,N,G){for(;N<L.length;++N){const P=L[N],F=(R-P.y0)*G;F>1e-6&&(P.y0+=F,P.y1+=F),R=P.y1+o}}function C(L,R,N,G){for(;N>=0;--N){const P=L[N],F=(P.y1-R)*G;F>1e-6&&(P.y0-=F,P.y1-=F),R=P.y0-o}}function T({sourceLinks:L,targetLinks:R}){if(c===void 0){for(const{source:{sourceLinks:N}}of R)N.sort(wh);for(const{target:{targetLinks:N}}of L)N.sort(bh)}}function k(L){if(c===void 0)for(const{sourceLinks:R,targetLinks:N}of L)R.sort(wh),N.sort(bh)}function D(L,R){let N=L.y0-(L.sourceLinks.length-1)*o/2;for(const{target:G,width:P}of L.sourceLinks){if(G===R)break;N+=P+o}for(const{source:G,width:P}of R.targetLinks){if(G===L)break;N-=P}return N}function I(L,R){let N=R.y0-(R.targetLinks.length-1)*o/2;for(const{source:G,width:P}of R.targetLinks){if(G===L)break;N+=P+o}for(const{target:G,width:P}of L.sourceLinks){if(G===R)break;N-=P}return N}return p}var ql=Math.PI,Yl=2*ql,An=1e-6,DI=Yl-An;function Xl(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function og(){return new Xl}Xl.prototype=og.prototype={constructor:Xl,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,r){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(t,n,e,r,i,a){this._+="C"+ +t+","+ +n+","+ +e+","+ +r+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(t,n,e,r,i){t=+t,n=+n,e=+e,r=+r,i=+i;var a=this._x1,o=this._y1,s=e-t,l=r-n,u=a-t,c=o-n,h=u*u+c*c;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(h>An)if(!(Math.abs(c*s-l*u)>An)||!i)this._+="L"+(this._x1=t)+","+(this._y1=n);else{var f=e-a,d=r-o,p=s*s+l*l,g=f*f+d*d,m=Math.sqrt(p),_=Math.sqrt(h),v=i*Math.tan((ql-Math.acos((p+h-g)/(2*m*_)))/2),x=v/_,O=v/m;Math.abs(x-1)>An&&(this._+="L"+(t+x*u)+","+(n+x*c)),this._+="A"+i+","+i+",0,0,"+ +(c*f>u*d)+","+(this._x1=t+O*s)+","+(this._y1=n+O*l)}},arc:function(t,n,e,r,i,a){t=+t,n=+n,e=+e,a=!!a;var o=e*Math.cos(r),s=e*Math.sin(r),l=t+o,u=n+s,c=1^a,h=a?r-i:i-r;if(e<0)throw new Error("negative radius: "+e);this._x1===null?this._+="M"+l+","+u:(Math.abs(this._x1-l)>An||Math.abs(this._y1-u)>An)&&(this._+="L"+l+","+u),e&&(h<0&&(h=h%Yl+Yl),h>DI?this._+="A"+e+","+e+",0,1,"+c+","+(t-o)+","+(n-s)+"A"+e+","+e+",0,1,"+c+","+(this._x1=l)+","+(this._y1=u):h>An&&(this._+="A"+e+","+e+",0,"+ +(h>=ql)+","+c+","+(this._x1=t+e*Math.cos(i))+","+(this._y1=n+e*Math.sin(i))))},rect:function(t,n,e,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};function Eh(t){return function(){return t}}function LI(t){return t[0]}function RI(t){return t[1]}var kI=Array.prototype.slice;function II(t){return t.source}function NI(t){return t.target}function $I(t){var n=II,e=NI,r=LI,i=RI,a=null;function o(){var s,l=kI.call(arguments),u=n.apply(this,l),c=e.apply(this,l);if(a||(a=s=og()),t(a,+r.apply(this,(l[0]=u,l)),+i.apply(this,l),+r.apply(this,(l[0]=c,l)),+i.apply(this,l)),s)return a=null,s+""||null}return o.source=function(s){return arguments.length?(n=s,o):n},o.target=function(s){return arguments.length?(e=s,o):e},o.x=function(s){return arguments.length?(r=typeof s=="function"?s:Eh(+s),o):r},o.y=function(s){return arguments.length?(i=typeof s=="function"?s:Eh(+s),o):i},o.context=function(s){return arguments.length?(a=s??null,o):a},o}function UI(t,n,e,r,i){t.moveTo(n,e),t.bezierCurveTo(n=(n+r)/2,e,n,i,r,i)}function BI(){return $I(UI)}function VI(t){return[t.source.x1,t.y0]}function GI(t){return[t.target.x0,t.y1]}function FI(){return BI().source(VI).target(GI)}var HI=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),zI=function(t){HI(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="alluvial",e.renderType=it.SVG,e.gradient_id="gradient-id-"+Math.floor(Math.random()*99999999999),e}return n.prototype.render=function(e){var r=this,i=this.getComponentContainer({withinChartClip:!0});i.html("");var a=U.getSVGElementSize(i,{useAttrs:!0}),o=a.width,s=a.height;if(!(o<1||s<1)){var l=this.model.getOptions(),u=this.model.getDisplayData(),c=y.getProperty(this.getOptions(),"color","gradient","enabled"),h=xe.minNodePadding;l.alluvial.nodePadding>xe.minNodePadding&&(h=l.alluvial.nodePadding);var f=y.getProperty(l,"alluvial","nodeAlignment"),d=ag;f===Ft.LEFT?d=EI:f===Ft.RIGHT&&(d=SI);var p=PI().nodeId(function(b){return b.name}).nodeWidth(xe.nodeWidth).nodePadding(h).nodeAlign(d).extent([[2,30],[o-2,s]]);this.graph=p({nodes:l.alluvial.nodes.map(function(b){return Object.assign({},b)}),links:u.map(function(b){return Object.assign({},b)})}),this.graph.nodes=this.graph.nodes.filter(function(b){return b.value!==0});var g={};this.graph.nodes.forEach(function(b){var w,M=b.x0;b.category&&(g[M]=(w=b)===null||w===void 0?void 0:w.category)});var m=i.append("g").classed("header-arrows",!0).selectAll("g").data(Object.keys(g)).join("g").attr("transform",function(b){return"translate("+b+", 0)"});m.append("text").attr("id",function(b,w){return r.services.domUtils.generateElementIDString("alluvial-category-"+w)}).style("font-size","14px").text(function(b){return g[b]?g[b]:""}).attr("y",20).attr("x",function(b,w){var M=r.services.domUtils.generateElementIDString("alluvial-category-"+w),E=U.getSVGElementSize($("text#"+M),{useBBox:!0}).width,A=0;return b+A>=E&&(A=-E+4),A});var _=i.append("g").attr("fill","none").selectAll("g").data(this.graph.links);if(_.exit().remove(),c){var v=y.getProperty(this.getOptions(),"color","scale");v&&_.enter().append("linearGradient").attr("id",function(b){return r.gradient_id+"-link-"+b.index}).attr("gradientUnits","userSpaceOnUse").call(function(b){return b.append("stop").attr("offset","0%").attr("stop-color",function(w){return v[w.source.name]})}).call(function(b){return b.append("stop").attr("offset","100%").attr("stop-color",function(w){return v[w.target.name]})}),_.exit().remove()}_.enter().append("path").classed("link",!0).attr("d",FI()).attr("id",function(b){return r.services.domUtils.generateElementIDString("alluvial-line-"+b.index)}).attr("class",function(b){return l.alluvial.monochrome?r.model.getColorClassName({classNameTypes:[at.STROKE],dataGroupName:0,originalClassName:"link"}):r.model.getColorClassName({classNameTypes:[at.STROKE],dataGroupName:b.source.index,originalClassName:"link"})}).style("stroke",function(b){return c?"url(#"+r.gradient_id+"-link-"+b.index+")":r.model.getFillColor(b.source.name)}).attr("stroke-width",function(b){return Math.max(1,b.width)}).style("stroke-opacity",xe.opacity.default).attr("aria-label",function(b){return b.source.name+" → "+b.target.name+" ("+b.value+(l.alluvial.units?" "+l.alluvial.units:"")+")"});var x=i.append("g").selectAll("g").data(this.graph.nodes).enter().append("g").attr("id",function(b){return r.services.domUtils.generateElementIDString("alluvial-node-"+b.index)}).classed("node-group",!0).attr("transform",function(b){return"translate("+b.x0+", "+b.y0+")"});x.append("rect").classed("node",!0).attr("height",function(b){return b.y1-b.y0}).attr("width",function(b){return b.x1-b.x0}).attr("fill","black");var O=x.append("g").attr("id",function(b){return r.services.domUtils.generateElementIDString("alluvial-node-title-"+b.index)});O.append("text").attr("id",function(b){return r.services.domUtils.generateElementIDString("alluvial-node-text-"+b.index)}).attr("class","node-text").style("font-size","12px").attr("text-anchor","start").attr("fill","white").attr("x",4).attr("dy",13).text(function(b){return b.name+" ("+b.value+")"}).attr("aria-label",function(b){return b.name+" ("+b.value+")"}),O.append("rect").classed("node-text-bg",!0).attr("width",function(b,w){var M=r.services.domUtils.generateElementIDString("alluvial-node-text-"+w),E=U.getSVGElementSize($("text#"+M),{useBBox:!0}).width;return E+8}).attr("height",18).attr("stroke-width",2).lower(),O.attr("transform",function(b,w){var M=r.services.domUtils.generateElementIDString("alluvial-node-text-"+w),E=U.getSVGElementSize($("text#"+M),{useBBox:!0}).width,A=(b.y1-b.y0)/2-9,C=b.x1-b.x0;return b.x1>=E?C=C-(E+16):C+=4,"translate("+C+", "+A+")"}),this.addLineEventListener(),this.addNodeEventListener()}},n.prototype.addLineEventListener=function(){var e=this.getOptions(),r=this,i=y.debounce(function(a,o){o===void 0&&(o="mouseover");var s=r.parent.selectAll("path.link").transition().call(function(l){return r.services.transitions.setupTransition({transition:l,name:"alluvial-links-mouse-highlight"})});o==="mouseout"?($(a).lower(),s.style("stroke-opacity",xe.opacity.default)):s.style("stroke-opacity",function(){return a===this?($(this).raise(),xe.opacity.selected):xe.opacity.unfocus})},33);this.parent.selectAll("path.link").on("mouseover",function(a,o){var s=$(this);i(this,"mouseover"),s.classed("link-hovered",!0);var l=getComputedStyle(this).getPropertyValue("stroke");r.services.events.dispatchEvent(S.Alluvial.LINE_MOUSEOVER,{event:a,element:s,datum:o}),r.services.events.dispatchEvent(S.Tooltip.SHOW,{event:a,hoveredElement:s,items:[{label:o.target.name,value:o.value+(e.alluvial.units?" "+e.alluvial.units:""),color:l,labelIcon:r.getRightArrowIcon()}]})}).on("mousemove",function(a,o){r.services.events.dispatchEvent(S.Alluvial.LINE_MOUSEMOVE,{event:a,element:$(this),datum:o}),r.services.events.dispatchEvent(S.Tooltip.MOVE,{event:a})}).on("click",function(a,o){r.services.events.dispatchEvent(S.Alluvial.LINE_CLICK,{event:a,element:$(this),datum:o})}).on("mouseout",function(a,o){var s=$(this);i(this,"mouseout"),s.classed("link-hovered",!1),r.services.events.dispatchEvent(S.Alluvial.LINE_MOUSEOUT,{event:a,element:s,datum:o}),r.services.events.dispatchEvent(S.Tooltip.HIDE,{event:a,hoveredElement:s})})},n.prototype.addNodeEventListener=function(){var e=this,r=this,i=y.debounce(function(a,o){if(a===void 0&&(a=[]),o===void 0&&(o="mouseover"),o==="mouseout"||a.length===0){r.parent.selectAll("path.link").classed("link-hovered",!1).data(e.graph.links,function(l){return l.index}).order().style("stroke-opacity",xe.opacity.default);return}var s=r.parent.selectAll("path.link").transition().call(function(l){return e.services.transitions.setupTransition({transition:l,name:"alluvial-link-mouse-highlight"})});s.style("stroke-opacity",function(l){return a.some(function(u){return u===l.index})?($(this).classed("link-hovered",!0).raise(),xe.opacity.selected):xe.opacity.unfocus})},66);r.parent.selectAll(".node-group").on("mouseover",function(a,o){var s=$(this),l=[];if(r.traverse({link:"sourceLinks",node:"target"},o,l),r.traverse({link:"targetLinks",node:"source"},o,l),l.length){var u=y.getTranformOffsets(s.attr("transform"));if(s.attr("transform","translate("+(u.x-2)+", "+u.y+")"),s.classed("node-hovered",!0).selectAll("rect.node").attr("width",8),o.x0-2===0){var c=r.services.domUtils.generateElementIDString("alluvial-node-title-"+o.index),h=r.parent.select("g#"+c),f=y.getTranformOffsets(h.attr("transform"));h.attr("transform","translate("+(f.x+4)+","+f.y+")")}var d=r.services.domUtils.generateElementIDString("alluvial-node-text-"+o.index);r.parent.select("text#"+d).style("font-weight","bold"),i(l,"mouseover"),r.services.events.dispatchEvent(S.Alluvial.NODE_MOUSEOVER,{event:a,element:s,datum:o})}}).on("mousemove",function(a,o){r.services.events.dispatchEvent(S.Alluvial.NODE_MOUSEMOVE,{event:a,element:$(this),datum:o}),r.services.events.dispatchEvent(S.Tooltip.MOVE,{event:a})}).on("click",function(a,o){r.services.events.dispatchEvent(S.Alluvial.NODE_CLICK,{event:a,element:$(this),datum:o})}).on("mouseout",function(a,o){var s=$(this),l=y.getTranformOffsets(s.attr("transform"));if(s.classed("node-hovered",!1).attr("transform","translate("+(l.x+2)+", "+l.y+")").select("rect.node").attr("width",xe.nodeWidth),o.x0-2===0){var u=r.services.domUtils.generateElementIDString("alluvial-node-title-"+o.index),c=r.parent.select("g#"+u),h=y.getTranformOffsets(c.attr("transform"));c.attr("transform","translate("+(h.x-4)+","+h.y+")")}var f=r.services.domUtils.generateElementIDString("alluvial-node-text-"+o.index);r.parent.select("text#"+f).style("font-weight","normal"),i([],"mouseout"),r.services.events.dispatchEvent(S.Alluvial.NODE_MOUSEOUT,{event:a,element:s,datum:o}),r.services.events.dispatchEvent(S.Tooltip.HIDE,{hoveredElement:s})})},n.prototype.traverse=function(e,r,i){var a=this;i===void 0&&(i=[]);var o=r[e.link].map(function(s){return i.push(s.index),s[e.node]});o.forEach(function(s){return a.traverse(e,s,i)})},n.prototype.getRightArrowIcon=function(){return`
		<svg xmlns="http://www.w3.org/2000/svg" class="arrow-right" width="32" height="32" viewBox="0 0 32 32">
			<polygon points="18 6 16.57 7.393 24.15 15 4 15 4 17 24.15 17 16.57 24.573 18 26 28 16 18 6"/>
			<rect width="32" height="32"/>
		</svg>`},n.prototype.destroy=function(){this.parent.selectAll("path.line,.node-group").on("mouseover",null).on("mousemove",null).on("click",null).on("mouseout",null)},n}(xt),WI=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),jI=function(t){WI(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="heatmap",e.renderType=it.SVG,e.matrix={},e.xBandwidth=0,e.yBandwidth=0,e.translationUnits={x:0,y:0},e.handleAxisOnHover=function(r){var i=r.detail,a=i.datum,o=e.model.getUniqueRanges(),s=e.model.getUniqueDomain(),l=e.services.cartesianScales.getDomainLabel(),u=e.services.cartesianScales.getRangeLabel(),c=e.services.cartesianScales.getMainXScale(),h=e.services.cartesianScales.getMainYScale(),f="",d=null,p=null,g=null;e.matrix[a]!==void 0?(f=l,o.forEach(function(m){if(typeof e.matrix[a][m].value=="number"){var _=e.matrix[a][m].value;if(d===null){d=_,p=_,g=_;return}d+=_,p=_<p?_:p,g=_>g?_:g}})):(f=u,s.forEach(function(m){if(typeof e.matrix[m][a].value=="number"){var _=e.matrix[m][a].value;if(d===null){d=_,p=_,g=_;return}d+=_,p=_<p?_:p,g=_>g?_:g}})),c(a)!==void 0?e.parent.select("g.multi-cell.column-highlight").classed("highlighter-hidden",!1).attr("transform","translate("+c(a)+", "+mn(h.range())+")"):h(a)!==void 0&&e.parent.select("g.multi-cell.row-highlight").classed("highlighter-hidden",!1).attr("transform","translate("+mn(c.range())+","+h(a)+")"),e.services.events.dispatchEvent(S.Tooltip.SHOW,{event:i.event,hoveredElement:$(r.detail.element),items:[{label:f,value:a,bold:!0},{label:"Min",value:p!==null?p:"-"},{label:"Max",value:g!==null?g:"-"},{label:"Average",value:d!==null?d/s.length:"-"}]})},e.handleAxisMouseOut=function(r){e.parent.selectAll("g.multi-cell").classed("highlighter-hidden",!0),e.services.events.dispatchEvent(S.Tooltip.HIDE,{event:r})},e}return n.prototype.init=function(){var e=this.services.events;e.addEventListener(S.Axis.LABEL_MOUSEOVER,this.handleAxisOnHover),e.addEventListener(S.Axis.LABEL_MOUSEOUT,this.handleAxisMouseOut),e.addEventListener(S.Axis.LABEL_FOCUS,this.handleAxisOnHover),e.addEventListener(S.Axis.LABEL_BLUR,this.handleAxisMouseOut)},n.prototype.render=function(e){var r=this,i=this.getComponentContainer({withinChartClip:!0});i.lower();var a=this.services.cartesianScales;if(this.matrix=this.model.getMatrix(),i.html(""),!y.getProperty(this.getOptions(),"data","loading")){var o=a.getMainXScale(),s=a.getMainYScale(),l=a.getDomainIdentifier(),u=a.getRangeIdentifier(),c=this.model.getUniqueDomain(),h=this.model.getUniqueRanges(),f=this.model.getMatrixAsArray(),d=o.range(),p=s.range();this.xBandwidth=Math.abs((d[1]-d[0])/c.length),this.yBandwidth=Math.abs((p[1]-p[0])/h.length);var g=this.services.domUtils.generateElementIDString("heatmap-pattern-stripes");i.append("defs").append("pattern").attr("id",g).attr("width",3).attr("height",3).attr("patternUnits","userSpaceOnUse").attr("patternTransform","rotate(45)").append("rect").classed("pattern-fill",!0).attr("width",.5).attr("height",8);var m=i.selectAll().data(f).enter().append("g").attr("class",function(_){return"heat-"+_.index}).classed("cell",!0).attr("transform",function(_){return"translate("+o(_[l])+", "+s(_[u])+")"}).append("rect").attr("class",function(_){return r.model.getColorClassName({value:_.value,originalClassName:"heat-"+_.index})}).classed("heat",!0).classed("null-state",function(_){return _.index===-1||_.value===null}).attr("width",this.xBandwidth).attr("height",this.yBandwidth).style("fill",function(_){return _.index===-1||_.value===null?"url(#"+g+")":r.model.getFillColor(Number(_.value))}).attr("aria-label",function(_){return _.value});this.createOuterBox("g.cell-highlight",this.xBandwidth,this.yBandwidth),this.createOuterBox("g.multi-cell.column-highlight",this.xBandwidth,Math.abs(p[1]-p[0])),this.createOuterBox("g.multi-cell.row-highlight",Math.abs(d[1]-d[0]),this.yBandwidth),this.determineDividerStatus()&&(m.style("stroke-width","1px"),this.parent.select("g.cell-highlight").classed("cell-2",!0)),this.addEventListener()}},n.prototype.createOuterBox=function(e,r,i){var a=U.appendOrSelect(this.parent,e).classed("shadows",!0).classed("highlighter-hidden",!0);U.appendOrSelect(a,"line.top").attr("x1",-1).attr("x2",r+1),U.appendOrSelect(a,"line.left").attr("x1",0).attr("y1",-1).attr("x2",0).attr("y2",i+1),U.appendOrSelect(a,"line.down").attr("x1",-1).attr("x2",r+1).attr("y1",i).attr("y2",i),U.appendOrSelect(a,"line.right").attr("x1",r).attr("x2",r).attr("y1",-1).attr("y2",i+1)},n.prototype.determineDividerStatus=function(){var e=y.getProperty(this.getOptions(),"heatmap","divider","state");return e!==mr.OFF&&(e===mr.AUTO&&il.minCellDividerDimension<=this.xBandwidth&&il.minCellDividerDimension<=this.yBandwidth||e===mr.ON)},n.prototype.addEventListener=function(){var e=this,r=this.services.cartesianScales,i=this.getOptions(),a=Lt(i,"tooltip.totalLabel"),o=r.getDomainIdentifier(),s=r.getRangeIdentifier(),l=r.getDomainLabel(),u=r.getRangeLabel();this.parent.selectAll("g.cell").on("mouseover",function(c,h){var f=$(this),d=f.select("rect.heat"),p=d.classed("null-state");if(!p){var g=y.getTranformOffsets(f.attr("transform"));e.parent.select("g.cell-highlight").attr("transform","translate("+(g.x+e.translationUnits.x)+", "+(g.y+e.translationUnits.y)+")").classed("highlighter-hidden",!1),e.services.events.dispatchEvent(S.Heatmap.HEATMAP_MOUSEOVER,{event:c,element:d,datum:h}),e.services.events.dispatchEvent(S.Tooltip.SHOW,{event:c,items:[{label:l,value:h[o]},{label:u,value:h[s]},{label:a||"Total",value:h.value,color:d.style("fill")}]})}}).on("mousemove",function(c,h){e.services.events.dispatchEvent(S.Heatmap.HEATMAP_MOUSEMOVE,{event:c,element:$(this),datum:h}),e.services.events.dispatchEvent(S.Tooltip.MOVE,{event:c})}).on("click",function(c,h){e.services.events.dispatchEvent(S.Heatmap.HEATMAP_CLICK,{event:c,element:$(this),datum:h})}).on("mouseout",function(c,h){var f=$(this),d=f.select("rect.heat"),p=d.classed("null-state");e.parent.select("g.cell-highlight").classed("highlighter-hidden",!0),p||(e.services.events.dispatchEvent(S.Heatmap.HEATMAP_MOUSEOUT,{event:c,element:d,datum:h}),e.services.events.dispatchEvent(S.Tooltip.HIDE,{event:c,hoveredElement:d}))})},n.prototype.destroy=function(){this.parent.selectAll("rect.heat").on("mouseover",null).on("mousemove",null).on("click",null).on("mouseout",null);var e=this.services.events;e.removeEventListener(S.Legend.ITEM_HOVER,this.handleAxisOnHover),e.removeEventListener(S.Legend.ITEM_MOUSEOUT,this.handleAxisMouseOut)},n}(xt),qI=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Gn=function(t){qI(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="spacer",e}return n.prototype.render=function(){this.getComponentContainer().style("width",(this.configs.size||al.default.size)+"px").style("height",(this.configs.size||al.default.size)+"px").attr("opacity",0)},n}(xt),YI=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ge=function(t){YI(n,t);function n(e,r,i,a){var o=t.call(this,e,r,a)||this;return o.type="layout",o.configs=a,o.children=i,o._instanceID=n.instanceID++,o.init(),o}return n.prototype.init=function(){this.children.forEach(function(e){e.components.forEach(function(r){r.init()})})},n.prototype.getPreferedAndFixedSizeSum=function(){var e=this.parent,r=0;return e.selectAll("div.layout-child-"+this._instanceID).filter(function(i){var a=y.getProperty(i,"growth");return a===yt.PREFERRED||a===yt.FIXED}).each(function(i){r+=i.size}),r},n.prototype.getNumOfStretchChildren=function(){var e=this.parent;return e.selectAll("div.layout-child-"+this._instanceID).filter(function(r){return y.getProperty(r,"growth")===yt.STRETCH}).size()},n.prototype.render=function(e){var r=this;e===void 0&&(e=!0);var i=this.parent,a=U.getHTMLElementSize(i.node()),o=a.width,s=a.height,l=this.configs.direction===It.ROW||this.configs.direction===It.ROW_REVERSE,u=y.getProperty(this.model.getOptions(),"style","prefix"),c=i.classed(ne+"--"+u+"--layout-row",this.configs.direction===It.ROW).classed(ne+"--"+u+"--layout-row-reverse",this.configs.direction===It.ROW_REVERSE).classed(ne+"--"+u+"--layout-column",this.configs.direction===It.COLUMN).classed(ne+"--"+u+"--layout-column-reverse",this.configs.direction===It.COLUMN_REVERSE).classed(ne+"--"+u+"--layout-alignitems-center",this.configs.alignItems===Tr.CENTER).selectAll("div.layout-child-"+this._instanceID).data(this.children,function(d){return d.id}),h=c.enter().append("div");h.merge(i.selectAll("div.layout-child-"+this._instanceID)).attr("class",function(d){return"layout-child layout-child-"+r._instanceID+" "+d.id}).each(function(d){var p=this;d.components.forEach(function(g){var m=$(p),_=y.getProperty(d,"renderType"),v=_===it.SVG;g.setParent(v?U.appendOrSelect(m,"svg.layout-svg-wrapper").attr("width","100%").attr("height","100%"):m);var x=y.getProperty(d,"growth");(x===yt.PREFERRED||x===yt.FIXED)&&g.render(e)})}),i.selectAll("div.layout-child-"+this._instanceID).style("height",null).style("width",null).each(function(d){var p=y.getProperty(d,"growth"),g=y.getProperty(d,"renderType"),m=g===it.SVG?U.getSVGElementSize($(this).select("svg.layout-svg-wrapper"),{useBBox:!0}):U.getHTMLElementSize(this);if(p===yt.PREFERRED){var _=l?m.width:m.height,v=l?o:s;d.size=_/v*100}}),c.exit().remove(),this.children.filter(function(d){var p=y.getProperty(d,"growth");return p===yt.STRETCH}).forEach(function(d,p){d.size=(100-+r.getPreferedAndFixedSizeSum())/+r.getNumOfStretchChildren()});var f=i.selectAll("div.layout-child-"+this._instanceID).data(this.children,function(d){return d.id});l?f.style("width",function(d){return d.size/100*o+"px"}).style("height","100%"):f.style("height",function(d){return d.size/100*s+"px"}).style("width","100%"),f.each(function(d,p){d.components.forEach(function(g){var m=y.getProperty(d,"growth");m===yt.STRETCH&&g.render(e)})})},n.prototype.setModel=function(e){t.prototype.setModel.call(this,e),this.children.forEach(function(r){r.components.forEach(function(i){return i.setModel(e)})})},n.prototype.setServices=function(e){t.prototype.setServices.call(this,e),this.children.forEach(function(r){r.components.forEach(function(i){return i.setServices(e)})})},n.prototype.destroy=function(){this.children.forEach(function(e){e.components.forEach(function(r){return r.destroy()})})},n.instanceID=Math.floor(Math.random()*99999999999),n}(xt),XI=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),sg=function(t){XI(n,t);function n(e,r,i){var a,o=t.call(this,e,r,i)||this;return o.type="axes",o.renderType=it.SVG,o.truncation=(a={},a[q.LEFT]=!1,a[q.RIGHT]=!1,a[q.TOP]=!1,a[q.BOTTOM]=!1,a),i&&(o.configs=i),o.margins=o.configs.margins,o}return n.prototype.render=function(e){var r=this;e===void 0&&(e=!0);var i=this.configs.position,a=this.getOptions(),o=y.getProperty(a,"axes",i,"visible"),s=this.getComponentContainer(),l=U.getSVGElementSize(s,{useAttrs:!0}),u=l.width,c=l.height,h=U.appendOrSelect(s,"g.axis."+i),f,d;i===q.BOTTOM||i===q.TOP?(f=this.configs.axes[q.LEFT]?this.margins.left:0,d=this.configs.axes[q.RIGHT]?u-this.margins.right:u):(f=c-this.margins.bottom,d=this.margins.top);var p=this.services.cartesianScales.getScaleByPosition(i);this.scaleType===nt.LABELS||this.scaleType===nt.LABELS_RATIO?p.rangeRound([f,d]):p.range([f,d]);var g;switch(i){case q.LEFT:g=Vv;break;case q.BOTTOM:g=ju;break;case q.RIGHT:g=vC;break;case q.TOP:g=pC;break}h.attr("aria-label",i+" axis");var m=!h.select("g.ticks").empty(),_=U.appendOrSelect(h,"g.ticks");m||(_.attr("role",ht.GRAPHICS_OBJECT+" "+ht.GROUP),_.attr("aria-label",i+" ticks"));var v=U.appendOrSelect(h,"g.ticks.invisible").style("opacity","0").style("pointer-events","none").attr("aria-hidden",!0).attr("aria-label","invisible "+i+" ticks"),x=y.getProperty(a,"axes",i),O=this.scaleType===nt.TIME||x.scaleType===nt.TIME,b=i===q.LEFT||i===q.RIGHT,w=this.model.get("zoomDomain");if(w&&O&&!b&&p.domain(w),!o){_.attr("aria-hidden",!0);return}var M=y.getProperty(x,"scaleType"),E=y.getProperty(a,"data","loading"),A=y.getProperty(x,"ticks","number"),C=y.getProperty(x,"ticks","values"),T=y.getProperty(x,"truncation","type"),k=y.getProperty(x,"truncation","threshold"),D=y.getProperty(x,"truncation","numCharacter"),I=A!==null,L=y.getProperty(a,"timeScale"),R=U.appendOrSelect(v,"g.tick"),N=U.appendOrSelect(R,"text").text("0"),G=U.getSVGElementSize(N.node(),{useBBox:!0}).height;R.remove();var P=this.scaleType||x.scaleType||nt.LINEAR,F=g(p).tickSizeOuter(0);if(p.ticks){var H=void 0;if(I?H=A:(H=Qe.ticks.number,b&&(H=this.getNumberOfFittingTicks(c,G,Qe.ticks.verticalSpaceRatio))),p.ticks().length===1&&p.ticks()[0]===0&&(H=0),F.ticks(H),O)if(!p.ticks(H).length)F.tickValues([]);else{var J=y.getProperty(a,"timeScale","addSpaceOnEdges"),lt=y.getProperty(a,"axes",i,"domain"),ut=void 0,X=p.copy();J&&!lt&&X.nice(H),ut=X.ticks(H),J&&ut.length>2&&!lt&&(ut.splice(ut.length-1,1),ut.splice(0,1)),F.tickValues(ut)}}var rt,tt=y.getProperty(x,"ticks","formatter");if(O){var ot=Ml(F.tickValues());tt===null?rt=function(pt,Bt){return Al(pt,Bt,F.tickValues(),ot,L)}:rt=function(pt,Bt){var un=Al(pt,Bt,F.tickValues(),ot,L);return tt(pt,Bt,un)}}else tt===null?P===nt.LINEAR&&(rt=function(pt){return pt.toLocaleString()}):rt=tt;F.tickFormat(rt);var K=this.services.cartesianScales.getScaleByPosition(i).domain(),et=K[0],st=K[1],j;if(C){if(O)C.forEach(function(pt,Bt){pt.getTime===void 0&&(C[Bt]=new Date(pt))}),j=C.filter(function(pt){var Bt=pt.getTime();return Bt>=new Date(et).getTime()&&Bt<=new Date(st).getTime()});else if(M===nt.LABELS){var vt=this.services.cartesianScales.getScaleByPosition(i).domain();j=C.filter(function(pt){return vt.includes(pt)})}else j=C.filter(function(pt){return pt>=et&&pt<=st});F.tickValues(j)}switch(i){case q.LEFT:_.attr("transform","translate("+this.margins.left+", 0)");break;case q.BOTTOM:_.attr("transform","translate(0, "+(c-this.margins.bottom)+")");break;case q.RIGHT:_.attr("transform","translate("+(u-this.margins.right)+", 0)");break;case q.TOP:_.attr("transform","translate(0, "+this.margins.top+")");break}var ct=this.model.isDataEmpty();if(x.title){var W=U.appendOrSelect(h,"text.axis-title").html(ct||E?"":x.title),Z=y.getProperty(x,"titleOrientation");switch(i){case q.LEFT:Z===Oa.RIGHT?W.attr("transform","rotate(90)").attr("y",0).attr("x",p.range()[0]/2).attr("dy","-0.5em").style("text-anchor","middle"):W.attr("transform","rotate(-90)").attr("y",0).attr("x",-(p.range()[0]/2)).attr("dy","0.75em").style("text-anchor","middle");break;case q.BOTTOM:W.attr("transform","translate("+(this.margins.left/2+p.range()[1]/2)+", "+(c+4)+")").style("text-anchor","middle");break;case q.RIGHT:Z===Oa.LEFT?W.attr("transform","rotate(-90)").attr("y",u).attr("x",-(p.range()[0]/2)).style("text-anchor","middle"):W.attr("transform","rotate(90)").attr("y",-u).attr("x",p.range()[0]/2).attr("dy","0.75em").style("text-anchor","middle");break;case q.TOP:var z=U.getSVGElementSize(W,{useBBox:!0}).height;W.attr("transform","translate("+(this.margins.left/2+p.range()[1]/2)+", "+z/2+")").style("text-anchor","middle");break}}if(O){var dt=Ml(F.tickValues()),_e=L.showDayName,qt=_;e&&(_=_.transition().call(function(pt){return r.services.transitions.setupTransition({transition:pt,name:"axis-update",animate:e})})),_=_.call(F);var Ui=qt.selectAll(".tick").data(F.tickValues(),p).order().select("text");Ui.style("font-weight",function(pt,Bt){return Iv(pt,Bt,F.tickValues(),dt,_e)?"bold":"normal"})}else!e||!m?_=_.call(F):_=_.transition().call(function(pt){return r.services.transitions.setupTransition({transition:pt,name:"axis-update",animate:e})}).call(F);if(v.call(F),i===q.BOTTOM||i===q.TOP){var je=!1,qe=y.getProperty(x,"ticks","rotation");if(qe===li.ALWAYS)je=!0;else if(qe===li.NEVER)je=!1;else if(!qe||qe===li.AUTO)if(p.step){var Bi=v.selectAll("g.tick text").nodes();je=Bi.some(function(pt){return U.getSVGElementSize(pt,{useBBox:!0}).width>=p.step()})}else{je=!1;var Zn=v.append("text").text("A"),Vi=U.getSVGElementSize(Zn.node(),{useBBox:!0}).width,Ee;v.selectAll("g.tick").each(function(){var pt=$(this),Bt=parseFloat(y.getProperty(y.getTranslationValues(this),"tx"));Bt!==null&&Ee+pt.text().length*Vi*.8>=Bt&&(je=!0),Ee=Bt}),Zn.remove()}je?(I||(F.ticks(this.getNumberOfFittingTicks(u,G,Qe.ticks.horizontalSpaceRatio)),v.call(F),_.call(F)),h.selectAll("g.ticks g.tick text").attr("transform","rotate(-45)").style("text-anchor",i===q.TOP?"start":"end")):h.selectAll("g.ticks g.tick text").attr("transform",null).style("text-anchor",null)}if(E?h.attr("opacity",0):h.attr("opacity",1),_.selectAll("g.tick").attr("aria-label",function(pt){return pt}),v.selectAll("g.tick").attr("aria-label",function(pt){return pt}),T!==be.NONE&&M===nt.LABELS&&!C){var ln=this.services.cartesianScales.getScaleDomain(i);if(ln.length>0){var Gi=s.select("g.axis."+i+" g.ticks g.tick").html();h.selectAll("g.ticks g.tick").html(Gi);var Kn=this;h.selectAll("g.tick text").data(ln).text(function(pt){return pt.length>k?(Kn.truncation[i]=!0,y.truncateLabel(pt,T,D)):pt}),this.getInvisibleAxisRef().selectAll("g.tick text").data(ln).text(function(pt){return pt.length>k?y.truncateLabel(pt,T,D):pt}),h.selectAll("g.ticks").html(this.getInvisibleAxisRef().html()),h.selectAll("g.tick text").data(ln)}}this.addEventListeners()},n.prototype.addEventListeners=function(){var e=this.getComponentContainer(),r=this.configs.position,i=U.appendOrSelect(e,"g.axis."+r),a=this.getOptions(),o=y.getProperty(a,"axes",r),s=y.getProperty(o,"scaleType"),l=y.getProperty(o,"truncation","threshold"),u=this;i.selectAll("g.tick text").on("mouseover",function(c,h){u.services.events.dispatchEvent(S.Axis.LABEL_MOUSEOVER,{event:c,element:$(this),datum:h}),s===nt.LABELS&&h.length>l&&u.services.events.dispatchEvent(S.Tooltip.SHOW,{event:c,hoveredElement:$(this),content:h})}).on("mousemove",function(c,h){u.services.events.dispatchEvent(S.Axis.LABEL_MOUSEMOVE,{event:c,element:$(this),datum:h}),s===nt.LABELS&&h.length>l&&u.services.events.dispatchEvent(S.Tooltip.MOVE,{event:c})}).on("click",function(c,h){u.services.events.dispatchEvent(S.Axis.LABEL_CLICK,{event:c,element:$(this),datum:h})}).on("mouseout",function(c,h){u.services.events.dispatchEvent(S.Axis.LABEL_MOUSEOUT,{event:c,element:$(this),datum:h}),s===nt.LABELS&&u.services.events.dispatchEvent(S.Tooltip.HIDE)})},n.prototype.getInvisibleAxisRef=function(){var e=this.configs.position;return this.getComponentContainer().select("g.axis."+e+" g.ticks.invisible")},n.prototype.getTitleRef=function(){var e=this.configs.position;return this.getComponentContainer().select("g.axis."+e+" text.axis-title")},n.prototype.getNumberOfFittingTicks=function(e,r,i){var a=Math.floor(e/(r*i));return y.clamp(a,2,Qe.ticks.number)},n.prototype.destroy=function(){var e=this.getComponentContainer(),r=this.configs.position,i=U.appendOrSelect(e,"g.axis."+r);i.selectAll("g.tick text").on("mouseover",null).on("mousemove",null).on("mouseout",null)},n}(xt),ZI=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),lo=globalThis&&globalThis.__assign||function(){return lo=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++){n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},lo.apply(this,arguments)},KI=function(t){ZI(n,t);function n(e,r,i){return t.call(this,e,r,i)||this}return n.prototype.render=function(e){e===void 0&&(e=!0),t.prototype.render.call(this,e),t.prototype.destroy.call(this);var r=this.configs.position,i=this.getComponentContainer(),a=U.appendOrSelect(i,"g.axis."+r),o=this;a.selectAll("g.tick").each(function(s,l){var u=$(this);u.classed("tick-hover",!0).attr("tabindex",l===0?0:-1);var c=u.select("text"),h=U.getSVGElementSize(c,{useBBox:!0}),f=h.width,d=h.height,p=U.appendOrSelect(u,"rect.axis-holder"),g=0,m=0;switch(r){case q.LEFT:g=-f+Number(c.attr("x")),m=-(d/2);break;case q.RIGHT:g=Math.abs(Number(c.attr("x"))),m=-(d/2);break;case q.TOP:g=-(f/2),m=-d+Number(c.attr("y"))/2,o.truncation[r]&&(g=0,p.attr("transform","rotate(-45)"));break;case q.BOTTOM:g=-(f/2),m=d/2-2,o.truncation[r]&&(g=-f,p.attr("transform","rotate(-45)"));break}p.attr("x",g-Qe.hover.rectanglePadding).attr("y",m).attr("width",f+Qe.hover.rectanglePadding*2).attr("height",d).lower()}),this.addEventListeners()},n.prototype.addEventListeners=function(){var e=this.getComponentContainer(),r=this.configs.position,i=U.appendOrSelect(e,"g.axis."+r),a=this.getOptions(),o=y.getProperty(a,"axes",r),s=y.getProperty(o,"scaleType"),l=y.getProperty(o,"truncation","threshold"),u=this;i.selectAll("g.tick.tick-hover").on("mouseover",function(c){var h=$(this).select("text"),f=h.datum();u.services.events.dispatchEvent(S.Axis.LABEL_MOUSEOVER,{event:c,element:h,datum:f}),s===nt.LABELS&&f.length>l&&u.services.events.dispatchEvent(S.Tooltip.SHOW,{event:c,element:h,datum:f})}).on("mousemove",function(c){var h=$(this).select("text"),f=h.datum();u.services.events.dispatchEvent(S.Axis.LABEL_MOUSEMOVE,{event:c,element:h,datum:f}),u.services.events.dispatchEvent(S.Tooltip.MOVE,{event:c})}).on("click",function(c){u.services.events.dispatchEvent(S.Axis.LABEL_CLICK,{event:c,element:$(this).select("text"),datum:$(this).select("text").datum()})}).on("mouseout",function(c){u.services.events.dispatchEvent(S.Axis.LABEL_MOUSEOUT,{event:c,element:$(this).select("text"),datum:$(this).select("text").datum()}),s===nt.LABELS&&u.services.events.dispatchEvent(S.Tooltip.HIDE)}).on("focus",function(c){var h={clientX:0,clientY:0};if(c.target){c.target.focus();var f=c.target.getBoundingClientRect();h.clientX=f.x,h.clientY=f.y}u.services.events.dispatchEvent(S.Axis.LABEL_FOCUS,{event:lo(lo({},c),h),element:$(this),datum:$(this).select("text").datum()})}).on("blur",function(c){u.services.events.dispatchEvent(S.Axis.LABEL_BLUR,{event:c,element:$(this),datum:$(this).select("text").datum()})}).on("keydown",function(c){c.key&&c.key==="Escape"&&(u.services.events.dispatchEvent(S.Tooltip.HIDE),u.services.events.dispatchEvent(S.Axis.LABEL_BLUR,{event:c,element:$(this),datum:$(this).select("text").datum()})),r===q.LEFT||r===q.RIGHT?c.key&&c.key==="ArrowUp"?u.goNext(this,c):c.key&&c.key==="ArrowDown"&&u.goPrevious(this,c):c.key&&c.key==="ArrowLeft"?u.goPrevious(this,c):c.key&&c.key==="ArrowRight"&&u.goNext(this,c)})},n.prototype.goNext=function(e,r){e.nextElementSibling&&e.nextElementSibling.tagName!=="path"&&e.nextElementSibling.dispatchEvent(new Event("focus")),r.preventDefault()},n.prototype.goPrevious=function(e,r){e.previousElementSibling&&e.previousElementSibling.tagName!=="path"&&e.previousElementSibling.dispatchEvent(new Event("focus")),r.preventDefault()},n.prototype.destroy=function(){var e=this.getComponentContainer(),r=this.configs.position,i=U.appendOrSelect(e,"g.axis."+r);i.selectAll("g.tick.tick-hover").on("mouseover",null).on("mousemove",null).on("mouseout",null).on("focus",null).on("blur",null)},n}(sg),QI=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),fe=function(t){QI(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="2D-axes",e.renderType=it.SVG,e.children={},e.thresholds=[],e.margins={top:0,right:0,bottom:0,left:0},e}return n.prototype.render=function(e){var r=this;e===void 0&&(e=!1);var i={},a=Object.keys(q),o=y.getProperty(this.getOptions(),"axes");a.forEach(function(u){var c=o[q[u]];c&&(i[q[u]]=!0)}),this.configs.axes=i,a.forEach(function(u){var c=q[u];if(r.configs.axes[c]&&!r.children[c]){var h={position:c,axes:r.configs.axes,margins:r.margins},f=r.model.axisFlavor===pi.DEFAULT?new sg(r.model,r.services,h):new KI(r.model,r.services,h);f.setModel(r.model),f.setServices(r.services),f.setParent(r.parent),r.children[c]=f}}),Object.keys(this.children).forEach(function(u){var c=r.children[u];c.render(e)});var s={};Object.keys(this.children).forEach(function(u){var c=r.children[u],h=c.configs.position,f=c.getInvisibleAxisRef(),d=U.getSVGElementSize(f,{useBBox:!0}),p=d.width,g=d.height,m;switch(c.getTitleRef().empty()?m=0:(m=U.getSVGElementSize(c.getTitleRef(),{useBBox:!0}).height,(h===q.LEFT||h===q.RIGHT)&&(m+=5)),h){case q.TOP:s.top=g+m;break;case q.BOTTOM:s.bottom=g+m;break;case q.LEFT:s.left=p+m;break;case q.RIGHT:s.right=p+m;break}}),this.services.events.dispatchEvent(S.Axis.RENDER_COMPLETE);var l=Object.keys(s).some(function(u){return r.margins[u]!==s[u]});l&&(this.margins=Object.assign(this.margins,s),this.model.set({axesMargins:this.margins},{skipUpdate:!0}),this.services.events.dispatchEvent(S.ZoomBar.UPDATE),Object.keys(this.children).forEach(function(u){var c=r.children[u];c.margins=r.margins}),this.render(!0))},n}(xt),JI={value:()=>{}};function Xu(){for(var t=0,n=arguments.length,e={},r;t<n;++t){if(!(r=arguments[t]+"")||r in e||/[\s.]/.test(r))throw new Error("illegal type: "+r);e[r]=[]}return new ga(e)}function ga(t){this._=t}function t3(t,n){return t.trim().split(/^|\s+/).map(function(e){var r="",i=e.indexOf(".");if(i>=0&&(r=e.slice(i+1),e=e.slice(0,i)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:r}})}ga.prototype=Xu.prototype={constructor:ga,on:function(t,n){var e=this._,r=t3(t+"",e),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(t=r[a]).type)&&(i=e3(e[i],t.name)))return i;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++a<o;)if(i=(t=r[a]).type)e[i]=Sh(e[i],t.name,n);else if(n==null)for(i in e)e[i]=Sh(e[i],t.name,null);return this},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new ga(t)},call:function(t,n){if((i=arguments.length-2)>0)for(var e=new Array(i),r=0,i,a;r<i;++r)e[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,i=a.length;r<i;++r)a[r].value.apply(n,e)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(n,e)}};function e3(t,n){for(var e=0,r=t.length,i;e<r;++e)if((i=t[e]).name===n)return i.value}function Sh(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=JI,t=t.slice(0,r).concat(t.slice(r+1));break}return e!=null&&t.push({name:n,value:e}),t}const Zl={capture:!0,passive:!1};function Kl(t){t.preventDefault(),t.stopImmediatePropagation()}function n3(t){var n=t.document.documentElement,e=$(t).on("dragstart.drag",Kl,Zl);"onselectstart"in n?e.on("selectstart.drag",Kl,Zl):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function r3(t,n){var e=t.document.documentElement,r=$(t).on("dragstart.drag",null);n&&(r.on("click.drag",Kl,Zl),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in e?r.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}var Br=0,ri=0,Kr=0,lg=1e3,uo,ii,co=0,Fn=0,Go=0,Ti=typeof performance=="object"&&performance.now?performance:Date,ug=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Zu(){return Fn||(ug(i3),Fn=Ti.now()+Go)}function i3(){Fn=0}function fo(){this._call=this._time=this._next=null}fo.prototype=cg.prototype={constructor:fo,restart:function(t,n,e){if(typeof t!="function")throw new TypeError("callback is not a function");e=(e==null?Zu():+e)+(n==null?0:+n),!this._next&&ii!==this&&(ii?ii._next=this:uo=this,ii=this),this._call=t,this._time=e,Ql()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ql())}};function cg(t,n,e){var r=new fo;return r.restart(t,n,e),r}function a3(){Zu(),++Br;for(var t=uo,n;t;)(n=Fn-t._time)>=0&&t._call.call(void 0,n),t=t._next;--Br}function Ah(){Fn=(co=Ti.now())+Go,Br=ri=0;try{a3()}finally{Br=0,s3(),Fn=0}}function o3(){var t=Ti.now(),n=t-co;n>lg&&(Go-=n,co=t)}function s3(){for(var t,n=uo,e,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:uo=e);ii=t,Ql(r)}function Ql(t){if(!Br){ri&&(ri=clearTimeout(ri));var n=t-Fn;n>24?(t<1/0&&(ri=setTimeout(Ah,t-Ti.now()-Go)),Kr&&(Kr=clearInterval(Kr))):(Kr||(co=Ti.now(),Kr=setInterval(o3,lg)),Br=1,ug(Ah))}}function Mh(t,n,e){var r=new fo;return n=n==null?0:+n,r.restart(i=>{r.stop(),t(i+n)},n,e),r}var l3=Xu("start","end","cancel","interrupt"),u3=[],fg=0,Ch=1,Jl=2,ma=3,Ph=4,tu=5,ya=6;function Fo(t,n,e,r,i,a){var o=t.__transition;if(!o)t.__transition={};else if(e in o)return;c3(t,e,{name:n,index:r,group:i,on:l3,tween:u3,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:fg})}function Ku(t,n){var e=De(t,n);if(e.state>fg)throw new Error("too late; already scheduled");return e}function ze(t,n){var e=De(t,n);if(e.state>ma)throw new Error("too late; already running");return e}function De(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function c3(t,n,e){var r=t.__transition,i;r[n]=e,e.timer=cg(a,0,e.time);function a(u){e.state=Ch,e.timer.restart(o,e.delay,e.time),e.delay<=u&&o(u-e.delay)}function o(u){var c,h,f,d;if(e.state!==Ch)return l();for(c in r)if(d=r[c],d.name===e.name){if(d.state===ma)return Mh(o);d.state===Ph?(d.state=ya,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete r[c]):+c<n&&(d.state=ya,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete r[c])}if(Mh(function(){e.state===ma&&(e.state=Ph,e.timer.restart(s,e.delay,e.time),s(u))}),e.state=Jl,e.on.call("start",t,t.__data__,e.index,e.group),e.state===Jl){for(e.state=ma,i=new Array(f=e.tween.length),c=0,h=-1;c<f;++c)(d=e.tween[c].value.call(t,t.__data__,e.index,e.group))&&(i[++h]=d);i.length=h+1}}function s(u){for(var c=u<e.duration?e.ease.call(null,u/e.duration):(e.timer.restart(l),e.state=tu,1),h=-1,f=i.length;++h<f;)i[h].call(t,c);e.state===tu&&(e.on.call("end",t,t.__data__,e.index,e.group),l())}function l(){e.state=ya,e.timer.stop(),delete r[n];for(var u in r)return;delete t.__transition}}function eu(t,n){var e=t.__transition,r,i,a=!0,o;if(e){n=n==null?null:n+"";for(o in e){if((r=e[o]).name!==n){a=!1;continue}i=r.state>Jl&&r.state<tu,r.state=ya,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete e[o]}a&&delete t.__transition}}function f3(t){return this.each(function(){eu(this,t)})}function h3(t,n){var e,r;return function(){var i=ze(this,t),a=i.tween;if(a!==e){r=e=a;for(var o=0,s=r.length;o<s;++o)if(r[o].name===n){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function d3(t,n,e){var r,i;if(typeof e!="function")throw new Error;return function(){var a=ze(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var s={name:n,value:e},l=0,u=i.length;l<u;++l)if(i[l].name===n){i[l]=s;break}l===u&&i.push(s)}a.tween=i}}function p3(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r=De(this.node(),e).tween,i=0,a=r.length,o;i<a;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((n==null?h3:d3)(e,t,n))}function Qu(t,n,e){var r=t._id;return t.each(function(){var i=ze(this,r);(i.value||(i.value={}))[n]=e.apply(this,arguments)}),function(i){return De(i,r).value[n]}}function hg(t,n){var e;return(typeof n=="number"?ge:n instanceof en?Ga:(e=en(n))?(n=e,Ga):Np)(t,n)}function v3(t){return function(){this.removeAttribute(t)}}function g3(t){return function(){this.removeAttributeNS(t.space,t.local)}}function m3(t,n,e){var r,i=e+"",a;return function(){var o=this.getAttribute(t);return o===i?null:o===r?a:a=n(r=o,e)}}function y3(t,n,e){var r,i=e+"",a;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?a:a=n(r=o,e)}}function _3(t,n,e){var r,i,a;return function(){var o,s=e(this),l;return s==null?void this.removeAttribute(t):(o=this.getAttribute(t),l=s+"",o===l?null:o===r&&l===i?a:(i=l,a=n(r=o,s)))}}function x3(t,n,e){var r,i,a;return function(){var o,s=e(this),l;return s==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),l=s+"",o===l?null:o===r&&l===i?a:(i=l,a=n(r=o,s)))}}function b3(t,n){var e=So(t),r=e==="transform"?bE:hg;return this.attrTween(t,typeof n=="function"?(e.local?x3:_3)(e,r,Qu(this,"attr."+t,n)):n==null?(e.local?g3:v3)(e):(e.local?y3:m3)(e,r,n))}function w3(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function O3(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function T3(t,n){var e,r;function i(){var a=n.apply(this,arguments);return a!==r&&(e=(r=a)&&O3(t,a)),e}return i._value=n,i}function E3(t,n){var e,r;function i(){var a=n.apply(this,arguments);return a!==r&&(e=(r=a)&&w3(t,a)),e}return i._value=n,i}function S3(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;var r=So(t);return this.tween(e,(r.local?T3:E3)(r,n))}function A3(t,n){return function(){Ku(this,t).delay=+n.apply(this,arguments)}}function M3(t,n){return n=+n,function(){Ku(this,t).delay=n}}function C3(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?A3:M3)(n,t)):De(this.node(),n).delay}function P3(t,n){return function(){ze(this,t).duration=+n.apply(this,arguments)}}function D3(t,n){return n=+n,function(){ze(this,t).duration=n}}function L3(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?P3:D3)(n,t)):De(this.node(),n).duration}function R3(t,n){if(typeof n!="function")throw new Error;return function(){ze(this,t).ease=n}}function k3(t){var n=this._id;return arguments.length?this.each(R3(n,t)):De(this.node(),n).ease}function I3(t,n){return function(){var e=n.apply(this,arguments);if(typeof e!="function")throw new Error;ze(this,t).ease=e}}function N3(t){if(typeof t!="function")throw new Error;return this.each(I3(this._id,t))}function $3(t){typeof t!="function"&&(t=dp(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a=n[i],o=a.length,s=r[i]=[],l,u=0;u<o;++u)(l=a[u])&&t.call(l,l.__data__,u,a)&&s.push(l);return new nn(r,this._parents,this._name,this._id)}function U3(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var l=n[s],u=e[s],c=l.length,h=o[s]=new Array(c),f,d=0;d<c;++d)(f=l[d]||u[d])&&(h[d]=f);for(;s<r;++s)o[s]=n[s];return new nn(o,this._parents,this._name,this._id)}function B3(t){return(t+"").trim().split(/^|\s+/).every(function(n){var e=n.indexOf(".");return e>=0&&(n=n.slice(0,e)),!n||n==="start"})}function V3(t,n,e){var r,i,a=B3(n)?Ku:ze;return function(){var o=a(this,t),s=o.on;s!==r&&(i=(r=s).copy()).on(n,e),o.on=i}}function G3(t,n){var e=this._id;return arguments.length<2?De(this.node(),e).on.on(t):this.each(V3(e,t,n))}function F3(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}function H3(){return this.on("end.remove",F3(this._id))}function z3(t){var n=this._name,e=this._id;typeof t!="function"&&(t=gu(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var s=r[o],l=s.length,u=a[o]=new Array(l),c,h,f=0;f<l;++f)(c=s[f])&&(h=t.call(c,c.__data__,f,s))&&("__data__"in c&&(h.__data__=c.__data__),u[f]=h,Fo(u[f],n,e,f,u,De(c,e)));return new nn(a,this._parents,n,e)}function W3(t){var n=this._name,e=this._id;typeof t!="function"&&(t=hp(t));for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s)for(var l=r[s],u=l.length,c,h=0;h<u;++h)if(c=l[h]){for(var f=t.call(c,c.__data__,h,l),d,p=De(c,e),g=0,m=f.length;g<m;++g)(d=f[g])&&Fo(d,n,e,g,f,p);a.push(f),o.push(c)}return new nn(a,o,n,e)}var j3=Di.prototype.constructor;function q3(){return new j3(this._groups,this._parents)}function Y3(t,n){var e,r,i;return function(){var a=Cr(this,t),o=(this.style.removeProperty(t),Cr(this,t));return a===o?null:a===e&&o===r?i:i=n(e=a,r=o)}}function dg(t){return function(){this.style.removeProperty(t)}}function X3(t,n,e){var r,i=e+"",a;return function(){var o=Cr(this,t);return o===i?null:o===r?a:a=n(r=o,e)}}function Z3(t,n,e){var r,i,a;return function(){var o=Cr(this,t),s=e(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(t),Cr(this,t))),o===l?null:o===r&&l===i?a:(i=l,a=n(r=o,s))}}function K3(t,n){var e,r,i,a="style."+n,o="end."+a,s;return function(){var l=ze(this,t),u=l.on,c=l.value[a]==null?s||(s=dg(n)):void 0;(u!==e||i!==c)&&(r=(e=u).copy()).on(o,i=c),l.on=r}}function Q3(t,n,e){var r=(t+="")=="transform"?xE:hg;return n==null?this.styleTween(t,Y3(t,r)).on("end.style."+t,dg(t)):typeof n=="function"?this.styleTween(t,Z3(t,r,Qu(this,"style."+t,n))).each(K3(this._id,t)):this.styleTween(t,X3(t,r,n),e).on("end.style."+t,null)}function J3(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function tN(t,n,e){var r,i;function a(){var o=n.apply(this,arguments);return o!==i&&(r=(i=o)&&J3(t,o,e)),r}return a._value=n,a}function eN(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(n==null)return this.tween(r,null);if(typeof n!="function")throw new Error;return this.tween(r,tN(t,n,e??""))}function nN(t){return function(){this.textContent=t}}function rN(t){return function(){var n=t(this);this.textContent=n??""}}function iN(t){return this.tween("text",typeof t=="function"?rN(Qu(this,"text",t)):nN(t==null?"":t+""))}function aN(t){return function(n){this.textContent=t.call(this,n)}}function oN(t){var n,e;function r(){var i=t.apply(this,arguments);return i!==e&&(n=(e=i)&&aN(i)),n}return r._value=t,r}function sN(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,oN(t))}function lN(){for(var t=this._name,n=this._id,e=pg(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],s=o.length,l,u=0;u<s;++u)if(l=o[u]){var c=De(l,n);Fo(l,t,e,u,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new nn(r,this._parents,t,e)}function uN(){var t,n,e=this,r=e._id,i=e.size();return new Promise(function(a,o){var s={value:o},l={value:function(){--i===0&&a()}};e.each(function(){var u=ze(this,r),c=u.on;c!==t&&(n=(t=c).copy(),n._.cancel.push(s),n._.interrupt.push(s),n._.end.push(l)),u.on=n}),i===0&&a()})}var cN=0;function nn(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function pg(){return++cN}var Xe=Di.prototype;nn.prototype={constructor:nn,select:z3,selectAll:W3,selectChild:Xe.selectChild,selectChildren:Xe.selectChildren,filter:$3,merge:U3,selection:q3,transition:lN,call:Xe.call,nodes:Xe.nodes,node:Xe.node,size:Xe.size,empty:Xe.empty,each:Xe.each,on:G3,attr:b3,attrTween:S3,style:Q3,styleTween:eN,text:iN,textTween:sN,remove:H3,tween:p3,delay:C3,duration:L3,ease:k3,easeVarying:N3,end:uN,[Symbol.iterator]:Xe[Symbol.iterator]};var fN={time:null,delay:0,duration:250,ease:ad};function hN(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}function dN(t){var n,e;t instanceof nn?(n=t._id,t=t._name):(n=pg(),(e=fN).time=Zu(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],s=o.length,l,u=0;u<s;++u)(l=o[u])&&Fo(l,t,n,u,o,e||hN(l,n));return new nn(r,this._parents,t,n)}Di.prototype.interrupt=f3;Di.prototype.transition=dN;const _s=t=>()=>t;function pN(t,{sourceEvent:n,target:e,selection:r,mode:i,dispatch:a}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:e,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:a}})}function vN(t){t.stopImmediatePropagation()}function xs(t){t.preventDefault(),t.stopImmediatePropagation()}var Dh={name:"drag"},bs={name:"space"},ar={name:"handle"},or={name:"center"};const{abs:Lh,max:Qt,min:Jt}=Math;function Rh(t){return[+t[0],+t[1]]}function kh(t){return[Rh(t[0]),Rh(t[1])]}var _a={name:"x",handles:["w","e"].map(ho),input:function(t,n){return t==null?null:[[+t[0],n[0][1]],[+t[1],n[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},ws={name:"y",handles:["n","s"].map(ho),input:function(t,n){return t==null?null:[[n[0][0],+t[0]],[n[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},Ze={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ih={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Nh={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},gN={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},mN={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function ho(t){return{type:t}}function yN(t){return!t.ctrlKey&&!t.button}function _N(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function xN(){return navigator.maxTouchPoints||"ontouchstart"in this}function Os(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function bN(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function vg(){return wN(_a)}function wN(t){var n=_N,e=yN,r=xN,i=!0,a=Xu("start","brush","end"),o=6,s;function l(m){var _=m.property("__brush",g).selectAll(".overlay").data([ho("overlay")]);_.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Ze.overlay).merge(_).each(function(){var x=Os(this).extent;$(this).attr("x",x[0][0]).attr("y",x[0][1]).attr("width",x[1][0]-x[0][0]).attr("height",x[1][1]-x[0][1])}),m.selectAll(".selection").data([ho("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Ze.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var v=m.selectAll(".handle").data(t.handles,function(x){return x.type});v.exit().remove(),v.enter().append("rect").attr("class",function(x){return"handle handle--"+x.type}).attr("cursor",function(x){return Ze[x.type]}),m.each(u).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",f).filter(r).on("touchstart.brush",f).on("touchmove.brush",d).on("touchend.brush touchcancel.brush",p).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}l.move=function(m,_,v){m.tween?m.on("start.brush",function(x){c(this,arguments).beforestart().start(x)}).on("interrupt.brush end.brush",function(x){c(this,arguments).end(x)}).tween("brush",function(){var x=this,O=x.__brush,b=c(x,arguments),w=O.selection,M=t.input(typeof _=="function"?_.apply(this,arguments):_,O.extent),E=Ni(w,M);function A(C){O.selection=C===1&&M===null?null:E(C),u.call(x),b.brush()}return w!==null&&M!==null?A:A(1)}):m.each(function(){var x=this,O=arguments,b=x.__brush,w=t.input(typeof _=="function"?_.apply(x,O):_,b.extent),M=c(x,O).beforestart();eu(x),b.selection=w===null?null:w,u.call(x),M.start(v).brush(v).end(v)})},l.clear=function(m,_){l.move(m,null,_)};function u(){var m=$(this),_=Os(this).selection;_?(m.selectAll(".selection").style("display",null).attr("x",_[0][0]).attr("y",_[0][1]).attr("width",_[1][0]-_[0][0]).attr("height",_[1][1]-_[0][1]),m.selectAll(".handle").style("display",null).attr("x",function(v){return v.type[v.type.length-1]==="e"?_[1][0]-o/2:_[0][0]-o/2}).attr("y",function(v){return v.type[0]==="s"?_[1][1]-o/2:_[0][1]-o/2}).attr("width",function(v){return v.type==="n"||v.type==="s"?_[1][0]-_[0][0]+o:o}).attr("height",function(v){return v.type==="e"||v.type==="w"?_[1][1]-_[0][1]+o:o})):m.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function c(m,_,v){var x=m.__brush.emitter;return x&&(!v||!x.clean)?x:new h(m,_,v)}function h(m,_,v){this.that=m,this.args=_,this.state=m.__brush,this.active=0,this.clean=v}h.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(m,_){return this.starting?(this.starting=!1,this.emit("start",m,_)):this.emit("brush",m),this},brush:function(m,_){return this.emit("brush",m,_),this},end:function(m,_){return--this.active===0&&(delete this.state.emitter,this.emit("end",m,_)),this},emit:function(m,_,v){var x=$(this.that).datum();a.call(m,this.that,new pN(m,{sourceEvent:_,target:l,selection:t.output(this.state.selection),mode:v,dispatch:a}),x)}};function f(m){if(s&&!m.touches||!e.apply(this,arguments))return;var _=this,v=m.target.__data__.type,x=(i&&m.metaKey?v="overlay":v)==="selection"?Dh:i&&m.altKey?or:ar,O=t===ws?null:gN[v],b=t===_a?null:mN[v],w=Os(_),M=w.extent,E=w.selection,A=M[0][0],C,T,k=M[0][1],D,I,L=M[1][0],R,N,G=M[1][1],P,F,H=0,J=0,lt,ut=O&&b&&i&&m.shiftKey,X,rt,tt=Array.from(m.touches||[m],z=>{const dt=z.identifier;return z=Nn(z,_),z.point0=z.slice(),z.identifier=dt,z});eu(_);var ot=c(_,arguments,!0).beforestart();if(v==="overlay"){E&&(lt=!0);const z=[tt[0],tt[1]||tt[0]];w.selection=E=[[C=t===ws?A:Jt(z[0][0],z[1][0]),D=t===_a?k:Jt(z[0][1],z[1][1])],[R=t===ws?L:Qt(z[0][0],z[1][0]),P=t===_a?G:Qt(z[0][1],z[1][1])]],tt.length>1&&vt(m)}else C=E[0][0],D=E[0][1],R=E[1][0],P=E[1][1];T=C,I=D,N=R,F=P;var K=$(_).attr("pointer-events","none"),et=K.selectAll(".overlay").attr("cursor",Ze[v]);if(m.touches)ot.moved=j,ot.ended=ct;else{var st=$(m.view).on("mousemove.brush",j,!0).on("mouseup.brush",ct,!0);i&&st.on("keydown.brush",W,!0).on("keyup.brush",Z,!0),n3(m.view)}u.call(_),ot.start(m,x.name);function j(z){for(const dt of z.changedTouches||[z])for(const _e of tt)_e.identifier===dt.identifier&&(_e.cur=Nn(dt,_));if(ut&&!X&&!rt&&tt.length===1){const dt=tt[0];Lh(dt.cur[0]-dt[0])>Lh(dt.cur[1]-dt[1])?rt=!0:X=!0}for(const dt of tt)dt.cur&&(dt[0]=dt.cur[0],dt[1]=dt.cur[1]);lt=!0,xs(z),vt(z)}function vt(z){const dt=tt[0],_e=dt.point0;var qt;switch(H=dt[0]-_e[0],J=dt[1]-_e[1],x){case bs:case Dh:{O&&(H=Qt(A-C,Jt(L-R,H)),T=C+H,N=R+H),b&&(J=Qt(k-D,Jt(G-P,J)),I=D+J,F=P+J);break}case ar:{tt[1]?(O&&(T=Qt(A,Jt(L,tt[0][0])),N=Qt(A,Jt(L,tt[1][0])),O=1),b&&(I=Qt(k,Jt(G,tt[0][1])),F=Qt(k,Jt(G,tt[1][1])),b=1)):(O<0?(H=Qt(A-C,Jt(L-C,H)),T=C+H,N=R):O>0&&(H=Qt(A-R,Jt(L-R,H)),T=C,N=R+H),b<0?(J=Qt(k-D,Jt(G-D,J)),I=D+J,F=P):b>0&&(J=Qt(k-P,Jt(G-P,J)),I=D,F=P+J));break}case or:{O&&(T=Qt(A,Jt(L,C-H*O)),N=Qt(A,Jt(L,R+H*O))),b&&(I=Qt(k,Jt(G,D-J*b)),F=Qt(k,Jt(G,P+J*b)));break}}N<T&&(O*=-1,qt=C,C=R,R=qt,qt=T,T=N,N=qt,v in Ih&&et.attr("cursor",Ze[v=Ih[v]])),F<I&&(b*=-1,qt=D,D=P,P=qt,qt=I,I=F,F=qt,v in Nh&&et.attr("cursor",Ze[v=Nh[v]])),w.selection&&(E=w.selection),X&&(T=E[0][0],N=E[1][0]),rt&&(I=E[0][1],F=E[1][1]),(E[0][0]!==T||E[0][1]!==I||E[1][0]!==N||E[1][1]!==F)&&(w.selection=[[T,I],[N,F]],u.call(_),ot.brush(z,x.name))}function ct(z){if(vN(z),z.touches){if(z.touches.length)return;s&&clearTimeout(s),s=setTimeout(function(){s=null},500)}else r3(z.view,lt),st.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);K.attr("pointer-events","all"),et.attr("cursor",Ze.overlay),w.selection&&(E=w.selection),bN(E)&&(w.selection=null,u.call(_)),ot.end(z,x.name)}function W(z){switch(z.keyCode){case 16:{ut=O&&b;break}case 18:{x===ar&&(O&&(R=N-H*O,C=T+H*O),b&&(P=F-J*b,D=I+J*b),x=or,vt(z));break}case 32:{(x===ar||x===or)&&(O<0?R=N-H:O>0&&(C=T-H),b<0?P=F-J:b>0&&(D=I-J),x=bs,et.attr("cursor",Ze.selection),vt(z));break}default:return}xs(z)}function Z(z){switch(z.keyCode){case 16:{ut&&(X=rt=ut=!1,vt(z));break}case 18:{x===or&&(O<0?R=N:O>0&&(C=T),b<0?P=F:b>0&&(D=I),x=ar,vt(z));break}case 32:{x===bs&&(z.altKey?(O&&(R=N-H*O,C=T+H*O),b&&(P=F-J*b,D=I+J*b),x=or):(O<0?R=N:O>0&&(C=T),b<0?P=F:b>0&&(D=I),x=ar),et.attr("cursor",Ze[v]),vt(z));break}default:return}xs(z)}}function d(m){c(this,arguments).moved(m)}function p(m){c(this,arguments).ended(m)}function g(){var m=this.__brush||{selection:null};return m.extent=kh(n.apply(this,arguments)),m.dim=t,m}return l.extent=function(m){return arguments.length?(n=typeof m=="function"?m:_s(kh(m)),l):n},l.filter=function(m){return arguments.length?(e=typeof m=="function"?m:_s(!!m),l):e},l.touchable=function(m){return arguments.length?(r=typeof m=="function"?m:_s(!!m),l):r},l.handleSize=function(m){return arguments.length?(o=+m,l):o},l.keyModifiers=function(m){return arguments.length?(i=!!m,l):i},l.on=function(){var m=a.on.apply(a,arguments);return m===a?l:m},l}var ON=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),TN=function(t){ON(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="grid-brush",e.renderType=it.SVG,e.selectionSelector="rect.selection",e.frontSelectionSelector="rect.frontSelection",e}return n.prototype.render=function(e){var r=this,i=this.parent,a=this.getComponentContainer(),o=U.appendOrSelect(i,"svg.chart-grid-backdrop"),s=U.appendOrSelect(o,"g."+this.type),l=U.appendOrSelect(s,this.selectionSelector),u=U.getSVGElementSize(o,{useAttrs:!0}),c=u.width,h=u.height,f=this.services.cartesianScales,d=f.getMainXScaleType(),p=f.getMainXScale(),g=p.range(),m=g[0];g[1],a.attr("transform","translate("+m+",0)");var _=U.appendOrSelect(a,this.frontSelectionSelector);if(p&&d===nt.TIME){var v=this.model.get("zoomDomain");v===void 0&&(v=this.services.zoom.getDefaultZoomBarDomain(),v&&this.model.set({zoomDomain:v},{animate:!1}));var x=function(A){for(var C=A[1]-A[0],T="0,"+C.toString(),k=Math.floor(h/n.DASH_LENGTH),D=k*n.DASH_LENGTH,I=0;I<k;I++)T+=","+n.DASH_LENGTH;T+=","+(h-D),k%2===1&&(T+=",0"),T+=","+C.toString(),T+=","+h.toString(),_.attr("stroke-dasharray",T)},O=function(A){var C=A.selection;C===null||C[0]===C[1]||(_.attr("x",parseFloat(l.attr("x"))+parseFloat(o.attr("x"))).attr("y",l.attr("y")).attr("width",l.attr("width")).attr("height",l.attr("height")).style("cursor","pointer").style("display",null),x(C))},b=function(A,C){var T=dv().range([0,c]).domain(v),k=[T.invert(A),T.invert(C)];k[0].valueOf()===k[1].valueOf()&&(k=r.services.zoom.getDefaultZoomBarDomain()),(v[0].valueOf()!==k[0].valueOf()||v[1].valueOf()!==k[1].valueOf())&&r.services.zoom.handleDomainChange(k)},w=function(A){var C=A.selection;C!==null&&(b(C[0],C[1]),s.call(M.move,null),_.style("display","none"))},M=vg().extent([[0,0],[c-1,h]]).on("start brush end",O).on("end.brushed",w);s.call(M);var E=this.services.zoom.getZoomRatio();o.on("click",function(A){if(A.shiftKey){var C=this.services.domUtils.getHolder(),T=Nn(s.node(),C)[0],k=T-c*E/2;k<0&&(k=0);var D=T+c*E/2;D>c&&(D=c),b(k,D)}})}},n.DASH_LENGTH=4,n}(xt),EN=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ye=function(t){EN(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="grid",e.renderType=it.SVG,e}return n.prototype.render=function(e){e===void 0&&(e=!0);var r=y.getProperty(this.getOptions(),"grid","x","enabled"),i=y.getProperty(this.getOptions(),"grid","y","enabled");this.drawBackdrop(r,i),!(!r&&!i)&&(r&&(U.appendOrSelect(this.backdrop,"g.x.grid"),this.drawXGrid(e)),i&&(U.appendOrSelect(this.backdrop,"g.y.grid"),this.drawYGrid(e)))},n.prototype.drawXGrid=function(e){var r=this,i=this.parent,a=this.backdrop.attr("height"),o=this.services.cartesianScales.getMainXScale(),s=ju(o).tickSizeInner(-a).tickSizeOuter(0),l=y.getProperty(this.getOptions(),"grid","x","alignWithAxisTicks");if(l){var u=this.services.cartesianScales.getDomainAxisPosition(),c=y.getProperty(this.getOptions(),"axes",u,"ticks","values");c&&s.tickValues(c)}else{var h=y.getProperty(this.getOptions(),"grid","x","numberOfTicks");s.ticks(h)}var f=i.select(".x.grid").attr("transform","translate("+-this.backdrop.attr("x")+", "+a+")");e?f.transition().call(function(d){return r.services.transitions.setupTransition({transition:d,name:"grid-update",animate:e})}).call(s):f.call(s),this.cleanGrid(f)},n.prototype.drawYGrid=function(e){var r=this,i=this.parent,a=this.backdrop.attr("width"),o=this.services.cartesianScales.getMainYScale(),s=Vv(o).tickSizeInner(-a).tickSizeOuter(0),l=y.getProperty(this.getOptions(),"grid","y","alignWithAxisTicks");if(l){var u=this.services.cartesianScales.getRangeAxisPosition(),c=y.getProperty(this.getOptions(),"axes",u,"ticks","values");c&&s.tickValues(c)}else{var h=y.getProperty(this.getOptions(),"grid","y","numberOfTicks");s.ticks(h)}var f=i.select(".y.grid").attr("transform","translate(0, "+-this.backdrop.attr("y")+")");e?f.transition().call(function(d){return r.services.transitions.setupTransition({transition:d,name:"grid-update",animate:e})}).call(s):f.call(s),this.cleanGrid(f)},n.prototype.getGridlineThreshold=function(e){var r=this.parent,i=r.selectAll(".x.grid .tick").nodes().sort(function(d,p){return Number(y.getTranslationValues(d).tx)-Number(y.getTranslationValues(p).tx)}),a=-1,o;if(i.length){i.forEach(function(d,p){e[0]>=+y.getTranslationValues(d).tx&&a++}),o=a+1<i.length?a+1:i.length;var s=i[a],l=i[o],u;if(!s)u=+y.getTranslationValues(l).tx;else if(l)u=+y.getTranslationValues(l).tx-+y.getTranslationValues(s).tx;else{var c=r.select("rect.chart-grid-backdrop").node(),h=U.getSVGElementSize(c).width;u=h-+y.getTranslationValues(s).tx}var f=this.getOptions().tooltip.gridline.threshold;return u*f}},n.prototype.getActiveGridline=function(e){var r=y.getProperty(this.getOptions,"tooltip","gridline","threshold"),i=r||this.getGridlineThreshold(e),a=this.parent,o=a.selectAll(".x.grid .tick").filter(function(){var s=y.getTranslationValues(this),l={min:Number(s.tx)-i,max:Number(s.tx)+i};return l.min<=e[0]&&e[0]<=l.max});return o},n.prototype.drawBackdrop=function(e,r){var i=this.parent,a=this.services.cartesianScales.getMainXScale(),o=this.services.cartesianScales.getMainYScale(),s=a.range(),l=s[0],u=s[1],c=o.range(),h=c[0],f=c[1];this.backdrop=U.appendOrSelect(i,"svg.chart-grid-backdrop");var d=U.appendOrSelect(this.backdrop,e||r?"rect.chart-grid-backdrop.stroked":"rect.chart-grid-backdrop");this.backdrop.merge(d).attr("x",l).attr("y",f).attr("width",Math.abs(u-l)).attr("height",Math.abs(h-f)).lower(),d.attr("width","100%").attr("height","100%")},n.prototype.cleanGrid=function(e){e.selectAll("text").remove(),e.select(".domain").remove()},n}(xt),SN=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),$h=5;function AN(t,n){return t>n-$h&&t<n+$h}var xn=function(t){SN(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="ruler",e.renderType=it.SVG,e.isXGridEnabled=y.getProperty(e.getOptions(),"grid","x","enabled"),e.isYGridEnabled=y.getProperty(e.getOptions(),"grid","y","enabled"),e.isEventListenerAdded=!1,e}return n.prototype.render=function(){var e=y.getProperty(this.getOptions(),"ruler","enabled");this.drawBackdrop(),e&&!this.isEventListenerAdded?this.addBackdropEventListeners():!e&&this.isEventListenerAdded&&this.removeBackdropEventListeners()},n.prototype.removeBackdropEventListeners=function(){this.isEventListenerAdded=!1,this.backdrop.on("mousemove mouseover mouseout",null)},n.prototype.formatTooltipData=function(e){return e},n.prototype.showRuler=function(e,r){var i=this,a=r[0],o=r[1],s=this.parent,l=this.services.cartesianScales.getOrientation(),u=this.model.getDisplayData(),c=this.services.cartesianScales.getRangeScale(),h=c.range(),f=h[0],d=h[1],p=l===Ht.HORIZONTAL?o:a,g=U.appendOrSelect(s,"g.ruler").attr("aria-label","ruler"),m=U.appendOrSelect(g,"line.ruler-line"),_=s.selectAll("[role=graphics-symbol]"),v=u.map(function(E){return{domainValue:i.services.cartesianScales.getDomainValue(E),originalData:E}}).filter(function(E){return AN(E.domainValue,p)});if(this.pointsWithinLine&&v.length===this.pointsWithinLine.length&&v.map(function(E){return E.domainValue}).join()===this.pointsWithinLine.map(function(E){return E.domainValue}).join())return this.pointsWithinLine=v,this.services.events.dispatchEvent(S.Tooltip.MOVE,{mousePosition:[a,o]});this.pointsWithinLine=v;var x=this.pointsWithinLine.reduce(function(E,A){if(E.length===0)return E.push(A),E;var C=E[0].domainValue,T=Math.abs(p-A.domainValue),k=Math.abs(p-C);return T>k||(T<k?E=[A]:E.push(A)),E},[]);if(x.length>0){var O=x.map(function(E){return E.originalData}).filter(function(E){var A=i.services.cartesianScales.getRangeIdentifier(E),C=E[A];return C!=null}),b=x.map(function(E){return E.domainValue}),w=_.filter(function(E){var A=i.services.cartesianScales.getDomainValue(E);return b.includes(A)});this.elementsToHighlight&&this.elementsToHighlight.size()>0&&!y.isEqual(this.elementsToHighlight,w)&&this.hideRuler(),w.dispatch("mouseover"),this.elementsToHighlight=w,this.services.events.dispatchEvent(S.Tooltip.SHOW,{mousePosition:[a,o],hoveredElement:m,data:this.formatTooltipData(O)}),g.attr("opacity",1);var M=x[0];l==="horizontal"?m.attr("x1",d).attr("x2",f).attr("y1",M.domainValue).attr("y2",M.domainValue):m.attr("y1",d).attr("y2",f).attr("x1",M.domainValue).attr("x2",M.domainValue)}else this.hideRuler()},n.prototype.hideRuler=function(){var e=this.parent,r=U.appendOrSelect(e,"g.ruler"),i=e.selectAll("[role=graphics-symbol]");i.dispatch("mouseout"),this.services.events.dispatchEvent(S.Tooltip.HIDE),r.attr("opacity",0)},n.prototype.addBackdropEventListeners=function(){this.isEventListenerAdded=!0;var e=this,r=this.services.domUtils.getHolder(),i=this.model.getDisplayData(),a=function(s){var l=Nn(s,e.parent.node());e.showRuler(s,l)};if(i.length>100){var o=i.length%50*12.5;a=y.debounceWithD3MousePosition(function(s){var l=this.mousePosition;e.showRuler(s,l)},o,r)}this.backdrop.on("mousemove mouseover",a).on("mouseout",this.hideRuler.bind(this))},n.prototype.drawBackdrop=function(){var e=this.parent;this.backdrop=U.appendOrSelect(e,"svg.chart-grid-backdrop")},n}(xt),MN=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),CN=globalThis&&globalThis.__spreadArrays||function(){for(var t=0,n=0,e=arguments.length;n<e;n++)t+=arguments[n].length;for(var r=Array(t),i=0,n=0;n<e;n++)for(var a=arguments[n],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r},PN=function(t){MN(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="ruler-binned",e.renderType=it.SVG,e}return n.prototype.showRuler=function(e,r){var i=this,a=r[0],o=r[1],s=this.parent,l=this.model.getOptions(),u=this.services.cartesianScales.getOrientation(),c=this.services.cartesianScales.getRangeScale(),h=c.range(),f=h[0],d=h[1],p=this.services.cartesianScales.getDomainScale(),g=p.invert(u===Ht.VERTICAL?a:o),m=U.appendOrSelect(s,"g.ruler").attr("aria-label","ruler"),_=U.appendOrSelect(m,"line.ruler-line"),v=s.selectAll("[role=graphics-symbol]"),x=v.filter(function(T){if(parseFloat(Lt(T,"data.x0"))<=g&&parseFloat(Lt(T,"data.x1"))>=g)return!0});if(x.size()>0){this.elementsToHighlight&&this.elementsToHighlight.size()>0&&!y.isEqual(this.elementsToHighlight,x)&&this.hideRuler(),x.dispatch("mouseover"),this.elementsToHighlight=x;var O=$(x.nodes()[0]).datum(),b=parseFloat(Lt(O,"data.x0")),w=parseFloat(Lt(O,"data.x1")),M=this.model.getActiveDataGroupNames(),E=M.reverse().map(function(T){return{label:T,value:Lt(O,"data."+T),class:i.model.getColorClassName({classNameTypes:[at.TOOLTIP],dataGroupName:T})}}).filter(function(T){return T.value!==0}),A=E.length>0;if(A){this.services.events.dispatchEvent(S.Tooltip.SHOW,{mousePosition:[a,o],hoveredElement:_,items:CN([{label:Lt(l,"bins.rangeLabel")||"Range",value:b+" – "+w}],E,y.getProperty(l,"tooltip","showTotal")===!0?[{label:Lt(l,"tooltip.totalLabel")||"Total",value:M.reduce(function(T,k){return T+parseFloat(Lt(O,"data."+k))},0)}]:[])}),m.attr("opacity",1);var C=p((b+w)/2);u==="horizontal"?_.attr("x1",d).attr("x2",f).attr("y1",C).attr("y2",C):_.attr("y1",d).attr("y2",f).attr("x1",C).attr("x2",C)}else this.hideRuler()}else this.hideRuler()},n}(xn),DN=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),po=function(t){DN(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.prototype.formatTooltipData=function(e){return e.reverse()},n}(xn),LN=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ju=function(t){LN(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="toolbar",e.renderType=it.HTML,e}return n.prototype.init=function(){var e=this,r=function(){return e.updateOverflowMenu(!1)};this.services.events.addEventListener(S.Toolbar.SHOW_OVERFLOW_MENU,function(){e.renderOverflowMenu(),document.body.addEventListener("click",r)}),this.services.events.addEventListener(S.Toolbar.HIDE_OVERFLOW_MENU,function(){document.body.removeEventListener("click",r)})},n.prototype.render=function(e){var r=this,i=this.getComponentContainer().attr("role","toolbar").attr("aria-label","chart-"+this.services.domUtils.getChartID()+" toolbar"),a=y.getProperty(this.getOptions(),"data","loading");if(a)i.html(""),this.overflowMenu=null;else{this.overflowMenu||(this.overflowMenu=i.append("div").attr("class","cds--overflow-menu-options cds--overflow-menu--flip cds--overflow-menu-options cds--overflow-menu--flip").attr("tabindex",-1).attr("role","menu").html("<ul></ul>"));var o=this.getControlConfigs(),s=o.buttonList,l=o.overflowMenuItemList;l&&s.push(this.getOverflowButtonConfig());var u=i.selectAll("div.toolbar-control").data(s,function(f){return f.id});u.exit().remove();var c=u.enter().append("div").attr("class","toolbar-control cds--overflow-menu cds--overflow-menu").attr("role","button"),h=this;c.merge(u).classed("disabled",function(f){return f.shouldBeDisabled()}).attr("aria-disabled",function(f){return f.shouldBeDisabled()}).attr("aria-label",function(f){return f.title}).html(function(f){return`
			<button
				class="cds--overflow-menu__trigger cds--overflow-menu__trigger"
				aria-haspopup="true" aria-expanded="false" id="`+r.services.domUtils.generateElementIDString("control-"+f.id)+'" aria-label="'+f.title+`">
				<svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" class="cds--overflow-menu__icon cds--overflow-menu__icon" viewBox="0 0 32 32" aria-hidden="true">
					`+f.iconSVG.content+`
				</svg>
			</button>`}).each(function(f,d){var p=this;$(this).select("svg").style("will-change","transform").style("width",f.iconSVG.width!==void 0?f.iconSVG.width:"20px").style("height",f.iconSVG.height!==void 0?f.iconSVG.height:"20px"),$(this).select("button").on("click",function(g){f.shouldBeDisabled()||h.triggerFunctionAndEvent(f,g,p)}).on("keydown",function(g){g.key&&g.key==="Enter"||g.key===" "?(g.preventDefault(),h.triggerFunctionAndEvent(f,g,p)):g.key&&g.key==="ArrowLeft"?h.focusOnPreviousEnabledToolbarItem(d):g.key&&g.key==="ArrowRight"&&h.focusOnNextEnabledToolbarItem(d)})}),this.overflowButton=this.getComponentContainer().select("button.cds--overflow-menu__trigger#"+this.services.domUtils.generateElementIDString("control-toolbar-overflow-menu"))}},n.prototype.renderOverflowMenu=function(){var e=this,r=this.getControlConfigs().overflowMenuItemList,i=this.overflowMenu.select("ul").selectAll("li.cds--overflow-menu-options__option").data(r,function(o){return y.getProperty(o,"id")});i.exit().remove();var a=i.enter().append("li").attr("id",function(o){return e.services.domUtils.generateElementIDString("control-"+o.id)}).attr("class","cds--overflow-menu-options__option cds--overflow-menu-options__option").attr("role","menuitem");a.append("button").attr("class","cds--overflow-menu-options__btn cds--overflow-menu-options__btn"),a.merge(i).classed("cds--overflow-menu-options__option--disabled",function(o){return o.shouldBeDisabled()}).classed("cds--overflow-menu-options__option--disabled",function(o){return o.shouldBeDisabled()}).attr("aria-disabled",function(o){return o.shouldBeDisabled()}).selectAll("button").text(function(o){return o.text})},n.prototype.isOverflowMenuOpen=function(){return this.overflowMenu.classed("is-open")},n.prototype.updateOverflowMenu=function(e){this.overflowMenu&&(this.overflowMenu.classed("is-open",e),this.overflowButton&&(this.overflowButton.attr("aria-expanded",e),$(this.overflowButton.node().parentNode).classed("cds--overflow-menu--open",e).classed("cds--overflow-menu--open",e)),e?this.services.events.dispatchEvent(S.Toolbar.SHOW_OVERFLOW_MENU):this.services.events.dispatchEvent(S.Toolbar.HIDE_OVERFLOW_MENU))},n.prototype.focusOnPreviousEnabledToolbarItem=function(e){for(var r=this.getToolbarButtonItems(),i=r.length,a=e-1;a>=0;a--){var o=r[a];if(!o.shouldBeDisabled()){i=a;break}}if(i<r.length){var s=$("button#"+this.services.domUtils.generateElementIDString("control-"+r[i].id)).node();"focus"in s&&s.focus()}},n.prototype.focusOnNextEnabledToolbarItem=function(e){for(var r=this.getToolbarButtonItems(),i=-1,a=e+1;a<r.length;a++){var o=r[a];if(!o.shouldBeDisabled()){i=a;break}}if(i>-1){var s=$("button#"+this.services.domUtils.generateElementIDString("control-"+r[i].id)).node();"focus"in s&&s.focus()}},n.prototype.focusOnPreviousEnabledMenuItem=function(e){for(var r=this.getOverflowMenuItems(),i=r.length,a=e-1;a>=0;a--){var o=r[a];if(!o.shouldBeDisabled()){i=a;break}}if(i<r.length){var s=$("#"+this.services.domUtils.generateElementIDString("control-"+r[i].id)+" button").node();"focus"in s&&s.focus()}},n.prototype.focusOnNextEnabledMenuItem=function(e){for(var r=this.getOverflowMenuItems(),i=-1,a=e+1;a<r.length;a++){var o=r[a];if(!o.shouldBeDisabled()){i=a;break}}if(i>-1){var s=$("#"+this.services.domUtils.generateElementIDString("control-"+r[i].id)+" button").node();"focus"in s&&s.focus()}},n.prototype.toggleOverflowMenu=function(e){var r=this;if(this.isOverflowMenuOpen())this.updateOverflowMenu(!1);else{this.updateOverflowMenu(!0);var i=this,a=this.getOverflowMenuItems();a.forEach(function(o,s){var l=$("#"+r.services.domUtils.generateElementIDString("control-"+o.id));l!==null&&(l.on("click",function(){i.triggerFunctionAndEvent(o,e,l.node()),i.updateOverflowMenu(!1)}),l.on("keydown",function(u){u&&u.key==="Enter"?i.triggerFunctionAndEvent(o,e,l.node()):u&&u.key==="ArrowUp"?i.focusOnPreviousEnabledMenuItem(s):u&&u.key==="ArrowDown"?i.focusOnNextEnabledMenuItem(s):u&&u.key==="Escape"&&i.updateOverflowMenu(!1),u.preventDefault()}))}),i.focusOnNextEnabledMenuItem(-1)}e&&e.stopImmediatePropagation()},n.prototype.triggerFunctionAndEvent=function(e,r,i){typeof e.shouldBeDisabled=="function"&&e.shouldBeDisabled()||(typeof e.clickFunction=="function"&&e.clickFunction(r),this.services.events.dispatchEvent(S.Toolbar.BUTTON_CLICK,{control:e,event:r,element:i}))},n.prototype.getControlConfigs=function(){var e=this,r=y.getProperty(this.getOptions(),"toolbar","numberOfIcons")-1,i=y.getProperty(this.getOptions(),"toolbar","controls"),a=[],o=[],s=[];return i.forEach(function(l){var u=null;l.type===kt.CUSTOM?(y.getProperty(l,"id")===null&&(l.id="toolbar-button-"+n.buttonID++),y.getProperty(l,"shouldBeDisabled")===null&&(l.shouldBeDisabled=function(){return!1}),u=l):u=e.getControlConfigByType(l.type),u&&(u.text=l.text?l.text:l.type,u.id.indexOf("toolbar-export")!==-1?a.push(u):o.length<r?y.getProperty(u,"iconSVG","content")===null?s.push(u):o.push(u):s.push(u))}),s.push.apply(s,a),s.length?{buttonList:o,overflowMenuItemList:s}:{buttonList:o}},n.prototype.getToolbarButtonItems=function(){var e=this.getControlConfigs(),r=e.buttonList,i=e.overflowMenuItemList;return i&&r.push(this.getOverflowButtonConfig()),r||[]},n.prototype.getOverflowMenuItems=function(){var e=this.getControlConfigs().overflowMenuItemList;return e||[]},n.prototype.getOverflowButtonConfig=function(){var e=this;return{id:"toolbar-overflow-menu",title:"More options",shouldBeDisabled:function(){return!1},iconSVG:{content:`<circle cx="16" cy="8" r="2"></circle>
				<circle cx="16" cy="16" r="2"></circle>
				<circle cx="16" cy="24" r="2"></circle>`},clickFunction:function(r){return e.toggleOverflowMenu(r)}}},n.prototype.getControlConfigByType=function(e){var r=this,i=this.services.zoom&&this.services.zoom.isZoomBarEnabled()&&!this.services.zoom.isEmptyState(),a=this.model.getDisplayData(),o;switch(e){case kt.ZOOM_IN:i&&(o={id:"toolbar-zoomIn",title:"Zoom in",shouldBeDisabled:function(){return r.services.zoom.isMinZoomDomain()},iconSVG:{content:this.getControlIconByType(e)},clickFunction:function(){return r.services.zoom.zoomIn()}});break;case kt.ZOOM_OUT:i&&(o={id:"toolbar-zoomOut",title:"Zoom out",shouldBeDisabled:function(){return r.services.zoom.isMaxZoomDomain()},iconSVG:{content:this.getControlIconByType(e)},clickFunction:function(){return r.services.zoom.zoomOut()}});break;case kt.RESET_ZOOM:i&&(o={id:"toolbar-resetZoom",title:"Reset zoom",shouldBeDisabled:function(){return r.services.zoom.isMaxZoomDomain()},iconSVG:{content:this.getControlIconByType(e)},clickFunction:function(){return r.services.zoom.resetZoomDomain()}});break;case kt.MAKE_FULLSCREEN:o={id:"toolbar-makefullscreen",iconSVG:{content:this.getControlIconByType(e),width:"15px",height:"15px"},title:"Make fullscreen",shouldBeDisabled:function(){return!1},clickFunction:function(){r.services.domUtils.toggleFullscreen()}};break;case kt.SHOW_AS_DATATABLE:o={id:"toolbar-showasdatatable",iconSVG:{content:this.getControlIconByType(e)},title:"Show as table",shouldBeDisabled:function(){return a.length===0},clickFunction:function(){return r.services.events.dispatchEvent(S.Modal.SHOW)}};break;case kt.EXPORT_CSV:o={id:"toolbar-export-CSV",title:"Export as CSV",shouldBeDisabled:function(){return!1},iconSVG:{content:this.getControlIconByType(e)},clickFunction:function(){return r.model.exportToCSV()}};break;case kt.EXPORT_PNG:o={id:"toolbar-export-PNG",title:"Export as PNG",shouldBeDisabled:function(){return!1},iconSVG:{content:this.getControlIconByType(e)},clickFunction:function(){return r.services.domUtils.exportToPNG()}};break;case kt.EXPORT_JPG:o={id:"toolbar-export-JPG",title:"Export as JPG",shouldBeDisabled:function(){return!1},iconSVG:{content:this.getControlIconByType(e)},clickFunction:function(){return r.services.domUtils.exportToJPG()}};break;default:throw Error("Not supported toolbar control type: "+e)}return o},n.prototype.getControlIconByType=function(e){switch(e){case kt.ZOOM_IN:return`<polygon points="19 13 15 13 15 9 13 9 13 13 9 13 9 15 13 15 13 19 15 19 15 15 19 15 19 13"/>
						<path d="M22.45,21A10.87,10.87,0,0,0,25,14,11,11,0,1,0,14,25a10.87,10.87,0,0,0,7-2.55L28.59,30,30,28.59ZM14,23a9,9,0,1,1,9-9A9,9,0,0,1,14,23Z"/>`;case kt.ZOOM_OUT:return`<rect x="9" y="13" width="10" height="2"/>
						<path d="M22.45,21A10.87,10.87,0,0,0,25,14,11,11,0,1,0,14,25a10.87,10.87,0,0,0,7-2.55L28.59,30,30,28.59ZM14,23a9,9,0,1,1,9-9A9,9,0,0,1,14,23Z"/>`;case kt.RESET_ZOOM:return'<path d="M22.4478,21A10.855,10.855,0,0,0,25,14,10.99,10.99,0,0,0,6,6.4658V2H4v8h8V8H7.332a8.9768,8.9768,0,1,1-2.1,8H3.1912A11.0118,11.0118,0,0,0,14,25a10.855,10.855,0,0,0,7-2.5522L28.5859,30,30,28.5859Z"/>';case kt.MAKE_FULLSCREEN:return'<polygon points="21 2 21 4 26.59 4 17 13.58 18.41 15 28 5.41 28 11 30 11 30 2 21 2"/><polygon points="15 18.42 13.59 17 4 26.59 4 21 2 21 2 30 11 30 11 28 5.41 28 15 18.42"/>';case kt.SHOW_AS_DATATABLE:return'<rect x="4" y="6" width="18" height="2"/><rect x="4" y="12" width="18" height="2"/><rect x="4" y="18" width="18" height="2"/><rect x="4" y="24" width="18" height="2"/><rect x="26" y="6" width="2" height="2"/><rect x="26" y="12" width="2" height="2"/><rect x="26" y="18" width="2" height="2"/><rect x="26" y="24" width="2" height="2"/>';case kt.EXPORT_CSV:return'<path d="M22.4478,21A10.855,10.855,0,0,0,25,14,10.99,10.99,0,0,0,6,6.4658V2H4v8h8V8H7.332a8.9768,8.9768,0,1,1-2.1,8H3.1912A11.0118,11.0118,0,0,0,14,25a10.855,10.855,0,0,0,7-2.5522L28.5859,30,30,28.5859Z"/>';case kt.EXPORT_JPG:return'<path d="M22.4478,21A10.855,10.855,0,0,0,25,14,10.99,10.99,0,0,0,6,6.4658V2H4v8h8V8H7.332a8.9768,8.9768,0,1,1-2.1,8H3.1912A11.0118,11.0118,0,0,0,14,25a10.855,10.855,0,0,0,7-2.5522L28.5859,30,30,28.5859Z"/>';case kt.EXPORT_PNG:return'<path d="M22.4478,21A10.855,10.855,0,0,0,25,14,10.99,10.99,0,0,0,6,6.4658V2H4v8h8V8H7.332a8.9768,8.9768,0,1,1-2.1,8H3.1912A11.0118,11.0118,0,0,0,14,25a10.855,10.855,0,0,0,7-2.5522L28.5859,30,30,28.5859Z"/>';default:throw Error("Not supported toolbar control type: "+e)}},n.buttonID=0,n}(xt),RN=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Fr=function(t){RN(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="zero-line",e.renderType=it.SVG,e}return n.prototype.render=function(e){var r=this,i=this.services.cartesianScales.getRangeAxisPosition({groups:this.configs.groups}),a=this.services.cartesianScales.getScaleByPosition(i),o=a.domain(),s=o[0],l=o[1],u=s>0&&l<0||s<0&&l>0,c=this.getComponentContainer();if(!u){c.selectAll("line.domain").remove();return}var h=this.services.cartesianScales.getDomainScale().range(),f=h[0],d=h[1],p=+a(0)+.5;p||(p=a.range()[0]);var g=y.flipSVGCoordinatesBasedOnOrientation({x0:f,x1:d,y0:p,y1:p},this.services.cartesianScales.getOrientation()),m=U.appendOrSelect(c,"line.domain");m.transition().call(function(_){return r.services.transitions.setupTransition({transition:_,name:"zero-line-update",animate:e})}).attr("y1",g.y0).attr("y2",g.y1).attr("x1",g.x0).attr("x2",g.x1)},n}(xt),kN=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),IN=function(t){kN(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="zoom-bar",e.renderType=it.SVG,e.MIN_SELECTION_DIFF=9e-10,e.brushSelector="g.zoom-bar-brush",e.clipId="zoomBarClip-"+Math.floor(Math.random()*99999999999),e.brush=vg(),e.highlightStrokeWidth=1,e}return n.prototype.init=function(){this.services.events.addEventListener(S.ZoomBar.UPDATE,this.render.bind(this));var e=y.getProperty(this.getOptions(),"zoomBar",q.TOP,"data");this.model.setZoomBarData(e)},n.prototype.render=function(e){var r=this,i=this.getComponentContainer(),a=this.services.zoom.isZoomBarLoading(q.TOP),o=this.services.zoom.isZoomBarLocked(q.TOP),s=y.getProperty(this.getOptions(),"zoomBar",q.TOP,"type"),l=y.getProperty(this.getOptions(),"axes",q.BOTTOM,"highlights"),u=le.height[s],c=U.getSVGElementSize(this.parent,{useAttrs:!0}).width;if(c!==0){var h=0,f=this.model.get("axesMargins");f&&f.left&&(h=f.left);var d=U.appendOrSelect(i,"svg.zoom-container").attr("width","100%").attr("height",u).attr("opacity",1);if(U.appendOrSelect(i,"rect.zoom-spacer").attr("x",0).attr("y",u).attr("width","100%").attr("height",le.spacerHeight).attr("opacity",1).attr("fill","none"),s===Se.GRAPH_VIEW?U.appendOrSelect(d,"rect.zoom-bg").attr("x",h).attr("y",0).attr("width",c-h).attr("height","100%").classed("zoom-bg-skeleton",a).style("stroke",a?"url(#"+this.services.domUtils.generateElementIDString("shimmer-lines")+")":null):s===Se.SLIDER_VIEW&&U.appendOrSelect(d,"rect.zoom-slider-bg").attr("x",h).attr("y",u/2-1).attr("width",c-h).attr("height",2).classed("zoom-slider-bg-skeleton",a).style("stroke",a?"url(#"+this.services.domUtils.generateElementIDString("shimmer-lines")+")":null),a){this.renderSkeleton(d,h,c);return}var p=this.services.cartesianScales,g=p.getMainXScale(),m=p.getMainYScale(),_=p.getMainXScaleType();if(g&&_===nt.TIME){var v=this.services.zoom.getZoomBarData();if(y.isEmpty(v)||v.length===1)return;this.xScale=g.copy(),this.yScale=m.copy();var x=this.services.zoom.getDefaultZoomBarDomain(v);v=this.compensateDataForDefaultDomain(v,x);var O=this.model.get("initialZoomDomain"),b=y.getProperty(this.getOptions(),"zoomBar",q.TOP,"initialZoomDomain");b&&b[0]&&b[1]&&(b[0]=new Date(b[0]),b[1]=new Date(b[1])),b&&!(O&&O[0].valueOf()===b[0].valueOf()&&O[1].valueOf()===b[1].valueOf())?this.model.set({initialZoomDomain:y.merge([],b),zoomDomain:b?y.merge([],b):x},{skipUpdate:!0}):b===null&&O!==null&&this.model.set({initialZoomDomain:null,zoomDomain:y.merge([],x)},{skipUpdate:!0}),this.xScale.range([h,c]).domain(x),this.maxSelectionRange=this.xScale.range(),this.yScale.range([0,u-6]).domain(Ue(v,function(D){return D.value}));var w=this.model.get("zoomDomain");if(s===Se.GRAPH_VIEW&&(this.renderZoomBarArea(d,"path.zoom-graph-area-unselected",v,null),this.updateClipPath(i,this.clipId,0,0,0,0),this.renderZoomBarArea(d,"path.zoom-graph-area",v,this.clipId),this.renderZoomBarBaseline(d,h,c),l)){var M=l.highlightStartMapsTo,E=l.highlightEndMapsTo,A=l.color,C=l.labelMapsTo;l.data.forEach(function(D,I){U.appendOrSelect(d,"rect.highlight-"+I).attr("height",u-2*r.highlightStrokeWidth).attr("y",r.highlightStrokeWidth).attr("x",r.xScale(D[M])).attr("width",r.xScale(D[E])-r.xScale(D[M])).style("fill",A&&A.scale[D[C]]?A.scale[D[C]]:null).style("fill-opacity",.1).style("stroke",A&&A.scale[D[C]]?A.scale[D[C]]:null).style("stroke-dasharray","2, 2").attr("stroke-width",1+"px")})}this.addBrushEventListener(w,h,c);var T=U.appendOrSelect(i,this.brushSelector).call(this.brush);if(w!==void 0)if(w[0].valueOf()===w[1].valueOf())T.call(this.brush.move,this.xScale.range()),this.updateBrushHandle(this.getComponentContainer(),this.xScale.range(),this.xScale.domain());else{var k=w.map(function(D){return r.xScale(D)});k[1]-k[0]<this.MIN_SELECTION_DIFF||(T.call(this.brush.move,k),this.updateBrushHandle(this.getComponentContainer(),k,w))}o&&(this.brush.filter(function(){return!1}),T.selectAll("rect").attr("cursor","auto"))}}},n.prototype.addBrushEventListener=function(e,r,i){var a=this,o=function(u){var c=u.selection;c===null?a.handleBrushedEvent(u,e,a.xScale,a.xScale.range()):c[0]===c[1]||a.handleBrushedEvent(u,e,a.xScale,c)},s=y.getProperty(this.getOptions(),"zoomBar",q.TOP,"type"),l=le.height[s];this.brush.extent([[r,0],[i,l]]).on("start brush end",null).on("start brush end",o)},n.prototype.handleBrushedEvent=function(e,r,i,a){var o=[i.invert(a[0]),i.invert(a[1])];if(this.updateBrushHandle(this.getComponentContainer(),a,o),e.sourceEvent!=null&&(e.sourceEvent.type==="mousemove"||e.sourceEvent.type==="mouseup"||e.sourceEvent.type==="mousedown"||e.sourceEvent.type==="touchstart"||e.sourceEvent.type==="touchmove"||e.sourceEvent.type==="touchend")){(r===void 0||r[0]!==o[0]||r[1]!==o[1])&&this.services.zoom.handleDomainChange(o,{dispatchEvent:!1});var s=void 0;e.type==="start"?s=S.ZoomBar.SELECTION_START:e.type==="brush"?s=S.ZoomBar.SELECTION_IN_PROGRESS:e.type==="end"&&(s=S.ZoomBar.SELECTION_END,this.services.events.dispatchEvent(S.ZoomDomain.CHANGE,{newDomain:o})),this.services.events.dispatchEvent(s,{selection:a,newDomain:o})}},n.prototype.updateBrushHandle=function(e,r,i){var a=this,o=le.handleWidth,s=y.getProperty(this.getOptions(),"zoomBar",q.TOP,"type"),l=le.height[s],u=-o/2,c=le.handleBarWidth,h=s===Se.GRAPH_VIEW?le.handleBarHeight:6,f=-c/2,d=(l-h)/2;e.select(this.brushSelector).selectAll("rect.handle").data([{type:"w"},{type:"e"}]).attr("x",function(g){if(g.type==="w")return Math.max(r[0]+u,a.maxSelectionRange[0]);if(g.type==="e")return Math.min(r[1]+u,a.maxSelectionRange[1]-o)}).attr("y",0).attr("width",o).attr("height",l).attr("cursor","ew-resize").style("display",null);var p=e.select(this.brushSelector).selectAll("rect.handle-bar").data([{type:"w"},{type:"e"}]);p.enter().append("rect").attr("class",function(g){return"handle-bar handle-bar--"+g.type}),p.attr("x",function(g){if(g.type==="w")return Math.max(r[0]+f,a.maxSelectionRange[0]-u+f);if(g.type==="e")return Math.min(r[1]+f,a.maxSelectionRange[1]+u+f)}).attr("y",d).attr("width",c).attr("height",h).attr("cursor","ew-resize"),s===Se.SLIDER_VIEW&&this.updateSliderSelectedArea(r),this.updateClipPath(e,this.clipId,r[0],0,r[1]-r[0],l)},n.prototype.updateSliderSelectedArea=function(e){var r=y.getProperty(this.getOptions(),"zoomBar",q.TOP,"type"),i=le.height[r];U.getSVGElementSize(this.parent,{useAttrs:!0}).width;var a=this.model.get("axesMargins");a&&a.left&&a.left;var o=this.getComponentContainer(),s=o.select("svg.zoom-container");U.appendOrSelect(s,"rect.zoom-slider-selected-area").attr("x",e[0]).attr("y",i/2-1).attr("width",e[1]-e[0]).attr("height",2)},n.prototype.renderZoomBarArea=function(e,r,i,a){var o=this.services.cartesianScales,s=o.getMainXAxisPosition(),l=o.getMainYAxisPosition(),u=o.getMainXScaleType(),c=o.getMainYScaleType(),h=function(v,x,O){return function(b,w){return o.getValueFromScale(v,x,O,b,w)}},f=h(this.xScale,u,s),d=h(this.yScale,c,l),p=y.getProperty(this.getOptions(),"zoomBar",q.TOP,"type"),g=le.height[p],m=Iu().x(function(v,x){return f(v,x)}).y0(g).y1(function(v,x){return g-d(v,x)}),_=U.appendOrSelect(e,r).datum(i).attr("d",m);a&&_.attr("clip-path","url(#"+a+")")},n.prototype.updateClipPath=function(e,r,i,a,o,s){var l=U.appendOrSelect(e,"clipPath").attr("id",r);U.appendOrSelect(l,"rect").attr("x",i).attr("y",a).attr("width",o).attr("height",s)},n.prototype.compensateDataForDefaultDomain=function(e,r){if(!(!e||e.length<2)){var i=y.clone(e),a=this.services.cartesianScales.getDomainIdentifier(),o=this.services.cartesianScales.getRangeIdentifier();if(Number(r[0])<Number(i[0][a])){var s={};s[a]=r[0],s[o]=0,i.unshift(s)}if(Number(r[1])>Number(i[i.length-1][a])){var s={};s[a]=r[1],s[o]=0,i.push(s)}return i}},n.prototype.renderZoomBarBaseline=function(e,r,i,a){a===void 0&&(a=!1);var o=y.getProperty(this.model.getOptions(),"zoomBar",q.TOP,"type"),s=le.height[o],l=Ro()([[r,s],[i,s]]);U.appendOrSelect(e,"path.zoom-bg-baseline").attr("d",l).classed("zoom-bg-baseline-skeleton",a).style("stroke",a?"url(#"+this.services.domUtils.generateElementIDString("shimmer-lines")+")":null)},n.prototype.renderSkeleton=function(e,r,i){this.renderZoomBarArea(e,"path.zoom-graph-area-unselected",[],null),this.renderZoomBarArea(e,"path.zoom-graph-area",[],this.clipId),this.brush.on("start brush end",null),U.appendOrSelect(this.getComponentContainer(),this.brushSelector).html(null);var a=y.getProperty(this.getOptions(),"zoomBar",q.TOP,"type");a===Se.GRAPH_VIEW&&this.renderZoomBarBaseline(e,r,i,!0)},n.prototype.destroy=function(){this.brush.on("start brush end",null),this.services.events.removeEventListener(S.ZoomBar.UPDATE,this.render.bind(this))},n}(xt),Uh=globalThis&&globalThis.__spreadArrays||function(){for(var t=0,n=0,e=arguments.length;n<e;n++)t+=arguments[n].length;for(var r=Array(t),i=0,n=0;n<e;n++)for(var a=arguments[n],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r},We=function(){function t(n,e){this.services={domUtils:U,files:WM,events:HM,gradientUtils:Pl,transitions:qM,canvasZoom:oC},this.model=new on(this.services)}return t.prototype.init=function(n,e){var r=this;this.model.set({holder:n},{skipUpdate:!0}),Object.keys(this.services).forEach(function(i){var a=r.services[i];r.services[i]=new a(r.model,r.services)}),this.services.events.addEventListener(S.Model.UPDATE,function(i){var a=!!y.getProperty(i,"detail","animate");r.update(a)}),this.model.setData(e.data),this.services.events.addEventListener(S.Chart.RESIZE,function(){r.update(!1)}),this.components=this.getComponents(),this.update()},t.prototype.getComponents=function(){return console.error("getComponents() method is not implemented"),null},t.prototype.update=function(n){var e=this;if(n===void 0&&(n=!0),!!this.components){Object.keys(this.services).forEach(function(a){var o=e.services[a];o.update()}),this.components.forEach(function(a){return a.render(n)});var r=this.services.transitions.getPendingTransitions(),i=Object.keys(r).map(function(a){var o=r[a];return o.end().catch(function(s){return s})});Promise.all(i).then(function(){return e.services.events.dispatchEvent(S.Chart.RENDER_FINISHED)})}},t.prototype.destroy=function(){this.components.forEach(function(n){return n.destroy()}),this.services.domUtils.getHolder().remove(),this.model.set({destroyed:!0},{skipUpdate:!0})},t.prototype.getChartComponents=function(n,e){var r=this.model.getOptions(),i=y.getProperty(r,"toolbar","enabled"),a={id:"legend",components:[new Wu(this.model,this.services)],growth:yt.PREFERRED},o=y.getProperty(r,"canvasZoom","enabled");o&&o===!0&&n.push(new VP(this.model,this.services));var s=!!this.model.getOptions().title,l={id:"title",components:[new Vo(this.model,this.services)],growth:yt.STRETCH},u={id:"toolbar",components:[new Ju(this.model,this.services)],growth:yt.PREFERRED},c={id:"header",components:[new Ge(this.model,this.services,Uh([l],i?[u]:[]),{direction:It.ROW,alignItems:Tr.CENTER})],growth:yt.PREFERRED},h={id:"graph-frame",components:n,growth:yt.STRETCH,renderType:y.getProperty(e,"graphFrameRenderType")||it.SVG},f=y.getProperty(e,"excludeLegend")!==!0&&r.legend.enabled!==!1,d=It.COLUMN;if(f){var p=y.getProperty(r,"legend","position");p==="left"?(d=It.ROW,r.legend.orientation||(r.legend.orientation=Or.VERTICAL)):p==="right"?(d=It.ROW_REVERSE,r.legend.orientation||(r.legend.orientation=Or.VERTICAL)):p==="bottom"&&(d=It.COLUMN_REVERSE)}var g={id:"spacer",components:[new Gn(this.model,this.services)],growth:yt.PREFERRED},m={id:"full-frame",components:[new Ge(this.model,this.services,Uh(f?[a]:[],f?[g]:[],[h]),{direction:d})],growth:yt.STRETCH},_=[];if(s||i){_.push(c);var v={id:"spacer",components:[new Gn(this.model,this.services,i?{size:15}:void 0)],growth:yt.PREFERRED};_.push(v)}return _.push(m),[new Hv(this.model,this.services),new qu(this.model,this.services),new Ge(this.model,this.services,_,{direction:It.COLUMN})]},t}(),NN=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ts=globalThis&&globalThis.__spreadArrays||function(){for(var t=0,n=0,e=arguments.length;n<e;n++)t+=arguments[n].length;for(var r=Array(t),i=0,n=0;n<e;n++)for(var a=arguments[n],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r},Xn=function(t){NN(n,t);function n(e){var r=t.call(this,e)||this;return r.axisFlavor=pi.DEFAULT,r}return n.prototype.assignRangeAndDomains=function(){var e=this.services.cartesianScales,r=this.getOptions(),i=e.isDualAxes(),a={primaryDomain:e.domainAxisPosition,primaryRange:e.rangeAxisPosition,secondaryDomain:null,secondaryRange:null};return i&&(a.secondaryDomain=e.secondaryDomainAxisPosition,a.secondaryRange=e.secondaryRangeAxisPosition),Object.keys(a).forEach(function(o){var s=a[o];e.scales[s]?a[o]={position:s,label:e.getScaleLabel(s),identifier:y.getProperty(r,"axes",s,"mapsTo")}:a[o]=null}),a},n.prototype.getTabularDataArray=function(){var e=this.getDisplayData(),r=this.getOptions(),i=r.data.groupMapsTo,a=this.services.cartesianScales,o=this.assignRangeAndDomains(),s=o.primaryDomain,l=o.primaryRange,u=o.secondaryDomain,c=o.secondaryRange,h=a.getDomainAxisScaleType(),f;h===nt.TIME&&(f=function(p){return Nr(p,"MMM d, yyyy")});var d=Ts([Ts(["Group",s.label,l.label],u?[u.label]:[],c?[c.label]:[])],e.map(function(p){return Ts([p[i],p[s.identifier]===null?"&ndash;":f?f(p[s.identifier]):p[s.identifier],p[l.identifier]===null||isNaN(p[l.identifier])?"&ndash;":p[l.identifier].toLocaleString()],u?[p[u.identifier]===null?"&ndash;":p[u.identifier]]:[],c?[p[c.identifier]===null||isNaN(p[c.identifier])?"&ndash;":p[c.identifier]]:[])}));return d},n.prototype.setData=function(e){var r;if(e&&(r=t.prototype.setData.call(this,e),y.getProperty(this.getOptions(),"zoomBar",q.TOP,"enabled"))){var i=y.getProperty(this.getOptions(),"zoomBar",q.TOP,"data");this.setZoomBarData(i)}return r},n.prototype.setZoomBarData=function(e){var r=e?this.sanitize(y.clone(e)):this.getDisplayData(),i=r,a=this.services.cartesianScales;if(r&&a.domainAxisPosition&&a.rangeAxisPosition){var o=a.getDomainIdentifier(),s=a.getRangeIdentifier(),l=r.map(function(u){return u[o].getTime()});l=y.removeArrayDuplicates(l).sort(),i=l.map(function(u){var c=0,h={};return r.forEach(function(f){f[o].getTime()===u&&(c+=f[s])}),h[o]=new Date(u),h[s]=c,h})}this.set({zoomBarData:i})},n.prototype.getZoomBarData=function(){return this.get("zoomBarData")},n.prototype.sanitizeDateValues=function(e){var r=this.getOptions();if(!r.axes)return e;var i=[];return Object.keys(q).forEach(function(a){var o=q[a],s=r.axes[o];if(s&&s.scaleType===nt.TIME){var l=s.mapsTo;(l!==null||l!==void 0)&&i.push(l)}}),i.length>0&&e.forEach(function(a){i.forEach(function(o){y.getProperty(a,o,"getTime")===null&&(a[o]=new Date(a[o]))})}),e},n.prototype.sanitize=function(e){return e=t.prototype.sanitize.call(this,e),e=this.sanitizeDateValues(e),e},n}(on),$N=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Bh=globalThis&&globalThis.__spreadArrays||function(){for(var t=0,n=0,e=arguments.length;n<e;n++)t+=arguments[n].length;for(var r=Array(t),i=0,n=0;n<e;n++)for(var a=arguments[n],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r},he=function(t){$N(n,t);function n(e,r){var i=t.call(this,e,r)||this;return i.services=Object.assign(i.services,{cartesianScales:QM,curves:nC,zoom:iC}),i.model=new Xn(i.services),i}return n.prototype.getAxisChartComponents=function(e,r){var i=this.model.getOptions(),a=y.getProperty(i,"zoomBar",q.TOP,"enabled"),o=y.getProperty(i,"toolbar","enabled");this.services.cartesianScales.determineAxisDuality(),this.services.cartesianScales.findDomainAndRangeAxes(),this.services.cartesianScales.determineOrientation();var s=this.services.cartesianScales.getMainXAxisPosition(),l=y.getProperty(i,"axes",s,"scaleType"),u=a&&s===q.BOTTOM&&l===nt.TIME,c=this.services.zoom.isZoomBarLocked(q.TOP),h=!!this.model.getOptions().title,f={id:"title",components:[new Vo(this.model,this.services)],growth:yt.STRETCH},d={id:"toolbar",components:[new Ju(this.model,this.services)],growth:yt.PREFERRED},p={id:"header",components:[new Ge(this.model,this.services,Bh([f],o?[d]:[]),{direction:It.ROW,alignItems:Tr.CENTER})],growth:yt.PREFERRED},g={id:"legend",components:[new Wu(this.model,this.services)],growth:yt.PREFERRED};u&&!c&&e.push(new Wv(this.model,this.services),new TN(this.model,this.services)),e.push(new DP(this.model,this.services)),e.push(new FP(this.model,this.services));var m={id:"graph-frame",components:e,growth:yt.STRETCH,renderType:it.SVG},_=y.getProperty(r,"legend","enabled")!==!1&&this.model.getOptions().legend.enabled!==!1,v=It.COLUMN;if(_){var x=y.getProperty(this.model.getOptions(),"legend","position");x===gr.LEFT?(v=It.ROW,this.model.getOptions().legend.orientation||(this.model.getOptions().legend.orientation=Or.VERTICAL)):x===gr.RIGHT?(v=It.ROW_REVERSE,this.model.getOptions().legend.orientation||(this.model.getOptions().legend.orientation=Or.VERTICAL)):x===gr.BOTTOM&&(v=It.COLUMN_REVERSE)}var O={id:"spacer",components:[new Gn(this.model,this.services)],growth:yt.PREFERRED},b={id:"full-frame",components:[new Ge(this.model,this.services,Bh(_?[g]:[],_?[O]:[],[m]),{direction:v})],growth:yt.STRETCH},w={id:"zoom-bar",components:[new IN(this.model,this.services)],growth:yt.PREFERRED,renderType:it.SVG},M=[];if(h||o){M.push(p);var E={id:"spacer",components:[new Gn(this.model,this.services,o?{size:15}:void 0)],growth:yt.PREFERRED};M.push(E)}return u&&M.push(w),M.push(b),[new zv(this.model,this.services),new qu(this.model,this.services),new Ge(this.model,this.services,M,{direction:It.COLUMN})]},n}(We),UN=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}();(function(t){UN(n,t);function n(e,r){var i=t.call(this,e,r)||this;return i.model.setOptions(y.mergeDefaultChartOptions(y.clone(Pt.areaChart),r.options)),i.init(e,r),i}return n.prototype.getComponents=function(){var e=[new fe(this.model,this.services),new ye(this.model,this.services),new xn(this.model,this.services),new br(this.model,this.services),new jv(this.model,this.services),new Ve(this.model,this.services,{fadeInOnChartHolderMouseover:!0,handleThresholds:!0}),new oe(this.model,this.services,{skeleton:Gt.GRID})],r=this.getAxisChartComponents(e);return r},n})(he);var BN=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Vh=function(t){BN(n,t);function n(e,r){var i=t.call(this,e,r)||this;return i.model.setOptions(y.mergeDefaultChartOptions(Pt.stackedAreaChart,r.options)),i.init(e,r),i}return n.prototype.getComponents=function(){var e=[new fe(this.model,this.services),new ye(this.model,this.services),new po(this.model,this.services),new qv(this.model,this.services),new br(this.model,this.services,{stacked:!0}),new Kv(this.model,this.services,{fadeInOnChartHolderMouseover:!0,handleThresholds:!0,stacked:!0}),new oe(this.model,this.services,{skeleton:Gt.GRID})],r=this.getAxisChartComponents(e);return r},n}(he),VN=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}();(function(t){VN(n,t);function n(e,r){var i=t.call(this,e,r)||this;return i.model.setOptions(y.mergeDefaultChartOptions(Pt.simpleBarChart,r.options)),i.init(e,r),i}return n.prototype.getComponents=function(){var e=[new fe(this.model,this.services),new ye(this.model,this.services),new Yv(this.model,this.services),new Fr(this.model,this.services),new oe(this.model,this.services,{skeleton:Gt.VERT_OR_HORIZ})],r=this.getAxisChartComponents(e);return r},n})(he);var GN=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}();(function(t){GN(n,t);function n(e,r){var i=t.call(this,e,r)||this;return i.model.setOptions(y.mergeDefaultChartOptions(Pt.groupedBarChart,r.options)),i.init(e,r),i}return n.prototype.getComponents=function(){var e=[new fe(this.model,this.services),new ye(this.model,this.services),new Xv(this.model,this.services),new Fr(this.model,this.services),new oe(this.model,this.services,{skeleton:Gt.VERT_OR_HORIZ})],r=this.getAxisChartComponents(e);return r},n})(he);var FN=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}();(function(t){FN(n,t);function n(e,r){var i=t.call(this,e,r)||this;return i.model.setOptions(y.mergeDefaultChartOptions(Pt.stackedBarChart,r.options)),i.init(e,r),i}return n.prototype.getComponents=function(){var e=[new fe(this.model,this.services),new ye(this.model,this.services),new po(this.model,this.services),new Zv(this.model,this.services),new oe(this.model,this.services,{skeleton:Gt.VERT_OR_HORIZ}),new Fr(this.model,this.services)],r=this.getAxisChartComponents(e);return r},n})(he);var HN=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),zN=globalThis&&globalThis.__spreadArrays||function(){for(var t=0,n=0,e=arguments.length;n<e;n++)t+=arguments[n].length;for(var r=Array(t),i=0,n=0;n<e;n++)for(var a=arguments[n],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r},WN=function(t){HN(n,t);function n(e){return t.call(this,e)||this}return n.prototype.getBoxQuartiles=function(e){return{q_25:Qo(e,.25),q_50:Qo(e,.5),q_75:Qo(e,.75)}},n.prototype.getBoxplotData=function(){for(var e=this.getOptions(),r=e.data.groupMapsTo,i=this.getGroupedData(),a=[],o=function(d,p){for(var g,m=s.services.cartesianScales.getRangeIdentifier(),_=p.map(function(L){return L[m]}).sort(Rn),v=(g={},g[r]=d,g.counts=_,g.quartiles=s.getBoxQuartiles(_),g.outliers=null,g.whiskers=null,g),x=v.quartiles.q_25,O=v.quartiles.q_75,b=(O-x)*1.5,w=x-b,M=O+b,E=[],A=[],C=0,T=_;C<T.length;C++){var k=T[C];k<w||k>M?E.push(k):A.push(k)}v.outliers=E;var D=mn(A),I=Un(A);v.whiskers={min:D||mn([v.quartiles.q_25,v.quartiles.q_50,v.quartiles.q_75]),max:I||Un([v.quartiles.q_25,v.quartiles.q_50,v.quartiles.q_75])},a.push(v)},s=this,l=0,u=i;l<u.length;l++){var c=u[l],h=c.name,f=c.data;o(h,f)}return a},n.prototype.getTabularDataArray=function(){var e=this.getOptions(),r=e.data.groupMapsTo,i=this.getBoxplotData(),a=zN([["Group","Minimum","Q1","Median","Q3","Maximum","IQR","Outlier(s)"]],i.map(function(o){var s=y.getProperty(o,"outliers");return(s===null||s.length===0)&&(s=["&ndash;"]),[o[r],y.getProperty(o,"whiskers","min")!==null?y.getProperty(o,"whiskers","min").toLocaleString():"&ndash;",y.getProperty(o,"quartiles","q_25")!==null?y.getProperty(o,"quartiles","q_25").toLocaleString():"&ndash;",y.getProperty(o,"quartiles","q_50")!==null?y.getProperty(o,"quartiles","q_50").toLocaleString():"&ndash;",y.getProperty(o,"quartiles","q_75")!==null?y.getProperty(o,"quartiles","q_75").toLocaleString():"&ndash;",y.getProperty(o,"whiskers","max")!==null?y.getProperty(o,"whiskers","max").toLocaleString():"&ndash;",y.getProperty(o,"quartiles","q_75")!==null&&y.getProperty(o,"quartiles","q_25")!==null?(y.getProperty(o,"quartiles","q_75")-y.getProperty(o,"quartiles","q_25")).toLocaleString():"&ndash;",s.map(function(l){return l.toLocaleString()}).join(",")]}));return a},n.prototype.setColorClassNames=function(){var e=1,r=y.getProperty(this.getOptions(),"color","pairing"),i=y.getProperty(r,"option"),a=nu.pairingOptions;i=i<=a[e+"-color"]?i:1;var o=this.allDataGroups.map(function(s,l){return e+"-"+i+"-1"});this.colorClassNames=Ao().range(o).domain(this.allDataGroups)},n}(Xn),jN=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}();(function(t){jN(n,t);function n(e,r){var i=t.call(this,e,r)||this;return i.model=new WN(i.services),i.model.setOptions(y.mergeDefaultChartOptions(Pt.boxplotChart,r.options)),i.init(e,r),i}return n.prototype.getComponents=function(){var e=[new fe(this.model,this.services),new ye(this.model,this.services),new ZP(this.model,this.services),new Fr(this.model,this.services),new oe(this.model,this.services,{skeleton:Gt.VERT_OR_HORIZ})],r=this.getAxisChartComponents(e,{legend:{enabled:!1}});return r},n})(he);var qN=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}();(function(t){qN(n,t);function n(e,r){var i=t.call(this,e,r)||this;return i.model.setOptions(y.mergeDefaultChartOptions(Pt.bubbleChart,r.options)),i.init(e,r),i}return n.prototype.getComponents=function(){var e=[new fe(this.model,this.services),new ye(this.model,this.services),new xn(this.model,this.services),new JP(this.model,this.services),new oe(this.model,this.services,{skeleton:Gt.GRID})],r=this.getAxisChartComponents(e);return r},n})(he);var YN=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),XN=globalThis&&globalThis.__spreadArrays||function(){for(var t=0,n=0,e=arguments.length;n<e;n++)t+=arguments[n].length;for(var r=Array(t),i=0,n=0;n<e;n++)for(var a=arguments[n],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r},ZN=function(t){YN(n,t);function n(e){return t.call(this,e)||this}return n.prototype.getMatchingRangeIndexForDatapoint=function(e){for(var r,i=e.ranges.length-1;i>0;i--){var a=e.ranges[i];if(e.value>=a)return r=i,r}return 0},n.prototype.getTabularDataArray=function(){var e=this,r=this.getDisplayData(),i=this.getOptions(),a=i.data.groupMapsTo,o=this.services.cartesianScales.getRangeIdentifier(),s=y.getProperty(i,"bullet","performanceAreaTitles"),l=XN([["Title","Group","Value","Target","Percentage","Performance"]],r.map(function(u){return[u.title,u[a],u.value===null?"&ndash;":u.value,y.getProperty(u,"marker")===null?"&ndash;":u.marker,y.getProperty(u,"marker")===null?"&ndash;":Math.floor(u[o]/u.marker*100)+"%",s[e.getMatchingRangeIndexForDatapoint(u)]]}));return l},n}(Xn),KN=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}();(function(t){KN(n,t);function n(e,r){var i=t.call(this,e,r)||this;return i.model=new ZN(i.services),i.model.setOptions(y.mergeDefaultChartOptions(Pt.bulletChart,r.options)),i.init(e,r),i}return n.prototype.getComponents=function(){var e=[new fe(this.model,this.services),new ye(this.model,this.services),new eD(this.model,this.services),new oe(this.model,this.services,{skeleton:Gt.GRID})],r=this.getAxisChartComponents(e);return r},n})(he);var QN=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Es=globalThis&&globalThis.__spreadArrays||function(){for(var t=0,n=0,e=arguments.length;n<e;n++)t+=arguments[n].length;for(var r=Array(t),i=0,n=0;n<e;n++)for(var a=arguments[n],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r},JN=function(t){QN(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.prototype.getTabularDataArray=function(){var e=this.getOptions(),r=e.data.groupMapsTo,i=this.getBinnedStackedData(),a=Es([Es([Lt(e,"bins.rangeLabel")||"Range"],i.map(function(o){return Lt(o,"0."+r)}))],Lt(i,0).map(function(o,s){return Es([Lt(o,"data.x0")+" – "+Lt(o,"data.x1")],i.map(function(l){return Lt(l[s],"data."+Lt(l[s],r))}))}));return a},n}(Xn),t4=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}();(function(t){t4(n,t);function n(e,r){var i=t.call(this,e,r)||this;return i.model=new JN(i.services),i.model.setOptions(y.mergeDefaultChartOptions(Pt.histogramChart,r.options)),i.init(e,r),i.update(),i}return n.prototype.getComponents=function(){var e=[new fe(this.model,this.services),new ye(this.model,this.services),new PN(this.model,this.services),new rD(this.model,this.services)],r=this.getAxisChartComponents(e);return r},n})(he);var e4=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}();(function(t){e4(n,t);function n(e,r){var i=t.call(this,e,r)||this;return i.model.setOptions(y.mergeDefaultChartOptions(Pt.lineChart,r.options)),i.init(e,r),i}return n.prototype.getComponents=function(){var e=[new fe(this.model,this.services),new ye(this.model,this.services),new xn(this.model,this.services),new br(this.model,this.services),new Ve(this.model,this.services,{handleThresholds:!0}),new gD(this.model,this.services),new Fr(this.model,this.services)],r=this.getAxisChartComponents(e);return r},n})(he);var n4=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}();(function(t){n4(n,t);function n(e,r){var i=t.call(this,e,r)||this;return i.model.setOptions(y.mergeDefaultChartOptions(Pt.lollipopChart,r.options)),i.init(e,r),i}return n.prototype.getComponents=function(){var e=[new fe(this.model,this.services),new ye(this.model,this.services),new xn(this.model,this.services),new oD(this.model,this.services),new Ve(this.model,this.services),new oe(this.model,this.services,{skeleton:Gt.GRID})],r=this.getAxisChartComponents(e);return r},n})(he);var r4=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}();(function(t){r4(n,t);function n(e,r){var i=t.call(this,e,r)||this;return i.model.setOptions(y.mergeDefaultChartOptions(Pt.scatterChart,r.options)),i.init(e,r),i}return n.prototype.getComponents=function(){var e=[new fe(this.model,this.services),new ye(this.model,this.services),new xn(this.model,this.services),new Ve(this.model,this.services),new oe(this.model,this.services,{skeleton:Gt.GRID})],r=this.getAxisChartComponents(e);return r},n})(he);var i4=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),a4=globalThis&&globalThis.__spreadArrays||function(){for(var t=0,n=0,e=arguments.length;n<e;n++)t+=arguments[n].length;for(var r=Array(t),i=0,n=0;n<e;n++)for(var a=arguments[n],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r},o4=function(t){i4(n,t);function n(e){return t.call(this,e)||this}return n.prototype.getTabularData=function(e){var r=t.prototype.getTabularData.call(this,e);return e!==r&&r.forEach(function(i){i.key&&i.key!==i.group&&(i.group=i.key)}),r},n.prototype.getTabularDataArray=function(){var e=this.getDisplayData(),r=this.getOptions(),i=r.data.groupMapsTo,a=a4([["Group","Value"]],e.map(function(o){return[o[i],o.value===null?"&ndash;":o.value.toLocaleString()]}));return a},n.prototype.sanitize=function(e){var r=this.getTabularData(e);return r.sort(function(i,a){return a.value-i.value})},n}(on),s4=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),l4=function(t){s4(n,t);function n(e,r,i){i===void 0&&(i=!1);var a=t.call(this,e,r)||this;return a.model=new o4(a.services),i||(a.model.setOptions(y.mergeDefaultChartOptions(Pt.pieChart,r.options)),a.init(e,r)),a}return n.prototype.getComponents=function(){var e=[new Qv(this.model,this.services),new oe(this.model,this.services,{skeleton:Gt.PIE})],r=this.getChartComponents(e);return r},n}(We),u4=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}();(function(t){u4(n,t);function n(e,r){var i=t.call(this,e,r,!0)||this;return i.model.setOptions(y.mergeDefaultChartOptions(Pt.donutChart,r.options)),i.init(e,r),i}return n.prototype.getComponents=function(){var e=[new dD(this.model,this.services),new oe(this.model,this.services,{skeleton:Gt.DONUT})],r=this.getChartComponents(e);return r},n})(l4);var c4=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ss=globalThis&&globalThis.__spreadArrays||function(){for(var t=0,n=0,e=arguments.length;n<e;n++)t+=arguments[n].length;for(var r=Array(t),i=0,n=0;n<e;n++)for(var a=arguments[n],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r},f4=function(t){c4(n,t);function n(e){return t.call(this,e)||this}return n.prototype.getMaximumDomain=function(e){var r=e.reduce(function(i,a){return i+a.value},0);return r},n.prototype.getFillColor=function(e){var r=this.getOptions(),i=y.getProperty(r,"color","scale"),a=this.getStatus();return i||!a?t.prototype.getFillColor.call(this,e):null},n.prototype.getStatus=function(){var e=this.getOptions(),r=y.getProperty(this.getDisplayData()),i=(r?r.reduce(function(l,u){return{value:l.value+u.value}}):0).value,a=y.getProperty(e,"meter","proportional")?i:i>100?100:i,o=y.getProperty(e,"meter","status","ranges");if(o){var s=o.filter(function(l){return l.range[0]<=a&&a<=l.range[1]});if(s.length>0)return s[0].status}return null},n.prototype.getTabularDataArray=function(){var e=this.getDisplayData(),r=this.getOptions(),i=r.data.groupMapsTo,a=this.getStatus(),o=y.getProperty(r,"meter","proportional"),s=[],l;if(o===null){l=100;var u=e[0];s=[Ss(["Group","Value"],a?["Status"]:[]),Ss([u[i],u.value],a?[a]:[])]}else{var c=y.getProperty(o,"total");l=c||this.getMaximumDomain(e),s=Ss([["Group","Value","Percentage of total"]],e.map(function(h){return[h[i],h.value,(h.value/l*100).toFixed(2)+" %"]}))}return s},n}(on),h4=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),pr=globalThis&&globalThis.__assign||function(){return pr=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++){n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},pr.apply(this,arguments)},d4=function(t){h4(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="meter",e.renderType=it.SVG,e}return n.prototype.getStackedBounds=function(e,r){var i=0,a=e.map(function(o,s){return s!==0?(i+=r(o.value),pr(pr({},o),{width:Math.abs(r(o.value)-zt.dividerWidth),x:i-r(o.value)})):(i=r(o.value),pr(pr({},o),{width:Math.abs(r(o.value)-zt.dividerWidth),x:0}))});return a},n.prototype.render=function(e){var r=this;e===void 0&&(e=!0);var i=this,a=this.getComponentContainer(),o=this.getOptions(),s=y.getProperty(o,"meter","proportional"),l=this.model.getDisplayData(),u=this.model.getStatus(),c=U.getSVGElementSize(a,{useAttrs:!0}).width,h=o.data.groupMapsTo,f;if(y.getProperty(o,"meter","proportional")===null)f=100;else{var d=y.getProperty(o,"meter","proportional","total");f=d||this.model.getMaximumDomain(this.model.getDisplayData())}var p=He().domain([0,f]).range([0,c]),g=this.getStackedBounds(l,p),m=y.getProperty(o,"meter","height");U.appendOrSelect(a,"rect.container").attr("x",0).attr("y",0).attr("width",c).attr("height",m||(s?zt.height.proportional:zt.height.default)),U.appendOrSelect(a,"line.rangeIndicator").attr("x1",c).attr("x2",c).attr("y1",0).attr("y2",m||(s?zt.height.proportional:zt.height.default));var _=a.selectAll("rect.value").data(g),v=u!=null&&!i.model.isUserProvidedColorScaleValid()&&!s?"value status--"+u:"value";_.enter().append("rect").classed("value",!0).merge(_).attr("x",function(w){return w.x}).attr("y",0).attr("height",function(){var w=y.getProperty(o,"meter","height");return w||(s?zt.height.proportional:zt.height.default)}).attr("class",function(w){return r.model.getColorClassName({classNameTypes:[at.FILL],dataGroupName:w[h],originalClassName:v})}).transition().call(function(w){return r.services.transitions.setupTransition({transition:w,name:"meter-bar-update",animate:e})}).attr("width",function(w,M){return w.value>f?p(f):w.width}).style("fill",function(w){return i.model.getFillColor(w[h])}).attr("role",ht.GRAPHICS_SYMBOL).attr("aria-roledescription","value").attr("aria-label",function(w){return w.value}),_.exit().remove();var x=y.getProperty(o,"meter","peak"),O=x;x!==null&&(x>f?O=f:x<l[0].value&&(O=l[0].value>f?f:l[0].value));var b=a.selectAll("line.peak").data(O==null?[]:[O]);b.enter().append("line").classed("peak",!0).merge(b).attr("y1",0).attr("y2",function(){var w=y.getProperty(o,"meter","height");return w||(s?zt.height.proportional:zt.height.default)}).transition().call(function(w){return r.services.transitions.setupTransition({transition:w,name:"peak-line-update",animate:e})}).attr("x1",function(w){return p(w)}).attr("x2",function(w){return p(w)}).attr("role",ht.GRAPHICS_SYMBOL).attr("aria-roledescription","peak").attr("aria-label",function(w){return w}),b.exit().remove(),this.services.domUtils.setSVGMaxHeight(),this.addEventListeners()},n.prototype.addEventListeners=function(){var e=this.getOptions(),r=e.data.groupMapsTo,i=this,a=y.getProperty(e,"meter","proportional");this.parent.selectAll("rect.value").on("mouseover",function(o,s){var l=$(this);i.services.events.dispatchEvent(S.Meter.METER_MOUSEOVER,{event:o,element:l,datum:s}),a&&(l.classed("hovered",!0),i.services.events.dispatchEvent(S.Tooltip.SHOW,{event:o,hoveredElement:l,items:[{label:s[r],value:s.value}]}))}).on("mousemove",function(o,s){var l=$(this);i.services.events.dispatchEvent(S.Meter.METER_MOUSEMOVE,{event:o,element:l,datum:s}),a&&i.services.events.dispatchEvent(S.Tooltip.MOVE,{event:o})}).on("click",function(o,s){i.services.events.dispatchEvent(S.Meter.METER_CLICK,{event:o,element:$(this),datum:s})}).on("mouseout",function(o,s){var l=$(this);i.services.events.dispatchEvent(S.Meter.METER_MOUSEOUT,{event:o,element:l,datum:s}),a&&(l.classed("hovered",!1),i.services.events.dispatchEvent(S.Tooltip.HIDE,{hoveredElement:l}))})},n.prototype.destroy=function(){this.parent.selectAll("rect.value").on("mouseover",null).on("mousemove",null).on("mouseout",null).on("click",null)},n}(xt),p4=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),v4=globalThis&&globalThis.__spreadArrays||function(){for(var t=0,n=0,e=arguments.length;n<e;n++)t+=arguments[n].length;for(var r=Array(t),i=0,n=0;n<e;n++)for(var a=arguments[n],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r};(function(t){p4(n,t);function n(e,r){var i=t.call(this,e,r)||this;i.model=new f4(i.services);var a=r.options.meter.proportional?y.merge(y.clone(Pt.proportionalMeterChart),r.options):y.merge(y.clone(Pt.meterChart),r.options);return i.model.setOptions(a),i.init(e,r),i}return n.prototype.getComponents=function(){var e=y.getProperty(this.model.getOptions(),"meter","showLabels"),r=v4(e?[{id:"meter-title",components:[new kP(this.model,this.services)],growth:yt.STRETCH,renderType:it.SVG},{id:"spacer",components:[new Gn(this.model,this.services,{size:8})],growth:yt.STRETCH}]:[],[{id:"meter-graph",components:[new d4(this.model,this.services)],growth:yt.STRETCH,renderType:it.SVG}]),i=[new Ge(this.model,this.services,r,{direction:It.COLUMN})],a=this.getChartComponents(i,{graphFrameRenderType:it.HTML});return a},n})(We);var g4=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),As=globalThis&&globalThis.__spreadArrays||function(){for(var t=0,n=0,e=arguments.length;n<e;n++)t+=arguments[n].length;for(var r=Array(t),i=0,n=0;n<e;n++)for(var a=arguments[n],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r},m4=function(t){g4(n,t);function n(e){return t.call(this,e)||this}return n.prototype.getTabularDataArray=function(){var e=this.getOptions(),r=this.getGroupedData(),i=y.getProperty(e,"radar","axes"),a=i.angle,o=i.value,s=y.getProperty(r,"0","data").map(function(u){return u[a]}),l=As([As(["Group"],s)],r.map(function(u){return As([u.name],s.map(function(c,h){return y.getProperty(u,"data",h,o)!==null?y.getProperty(u,"data",h,o).toLocaleString():"&ndash;"}))}));return l},n}(Xn),y4=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}();(function(t){y4(n,t);function n(e,r){var i=t.call(this,e,r)||this;return i.model=new m4(i.services),i.model.setOptions(y.mergeDefaultChartOptions(Pt.radarChart,r.options)),i.init(e,r),i}return n.prototype.getComponents=function(){var e=[new Qk(this.model,this.services)],r=this.getChartComponents(e);return r},n})(We);var _4=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),x4=globalThis&&globalThis.__spreadArrays||function(){for(var t=0,n=0,e=arguments.length;n<e;n++)t+=arguments[n].length;for(var r=Array(t),i=0,n=0;n<e;n++)for(var a=arguments[n],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r},b4=function(t){_4(n,t);function n(e){return t.call(this,e)||this}return n.prototype.getDataGroups=function(){return t.prototype.getDataGroups.call(this).filter(function(e){return e.name!=="delta"})},n.prototype.getTabularDataArray=function(){var e=this.getDisplayData(),r=this.getOptions(),i=r.data.groupMapsTo,a=x4([["Group","Value"]],e.map(function(o){return[o[i],o.value===null?"&ndash;":o.value.toLocaleString()]}));return a},n}(on),w4=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}();(function(t){w4(n,t);function n(e,r){var i=t.call(this,e,r)||this;return i.model=new b4(i.services),i.model.setOptions(y.mergeDefaultChartOptions(Pt.gaugeChart,r.options)),i.init(e,r),i}return n.prototype.getComponents=function(){var e=[new fD(this.model,this.services)],r=this.getChartComponents(e);return r},n})(We);var O4=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),T4=globalThis&&globalThis.__spreadArrays||function(){for(var t=0,n=0,e=arguments.length;n<e;n++)t+=arguments[n].length;for(var r=Array(t),i=0,n=0;n<e;n++)for(var a=arguments[n],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r},Ke,Gh=(Ke={},Ke[ve.LINE]=[br,Ve],Ke[ve.SCATTER]=[Ve],Ke[ve.AREA]=[jv,br,Ve],Ke[ve.STACKED_AREA]=[qv,br,Kv,po],Ke[ve.SIMPLE_BAR]=[Yv],Ke[ve.GROUPED_BAR]=[Xv,Fr],Ke[ve.STACKED_BAR]=[Zv,po],Ke);(function(t){O4(n,t);function n(e,r){var i=t.call(this,e,r)||this,a=y.mergeDefaultChartOptions(Pt.comboChart,r.options);return r.options.comboChartTypes||(console.error("No comboChartTypes defined for the Combo Chart!"),a.comboChartTypes=[{type:ve.LINE,correspondingDatasets:[]}]),i.model.setOptions(a),i.init(e,r),i}return n.prototype.getGraphComponents=function(){var e=this,r=this.model.getOptions().comboChartTypes,i=0,a=r.map(function(o){var s=o.type,l;if(typeof o.type=="string"){if(!Object.keys(Gh).includes(o.type))return console.error('Invalid chart type "'+o.type+'" specified for combo chart. Please refer to the ComboChart tutorial for more guidance.'),null;var u;return l=y.merge({},Pt[y.camelCase(o.type)+"Chart"],e.model.getOptions(),o.options),o.type===ve.STACKED_AREA&&(u=!0),Gh[o.type].map(function(c,h){return new c(e.model,e.services,{groups:o.correspondingDatasets,id:i++,options:l,stacked:u})})}else return l=y.merge({},e.model.getOptions(),o.options),new s(e.model,e.services,{groups:o.correspondingDatasets,id:i++,options:l})}).filter(function(o){return o!==null});return y.flatten(a)},n.prototype.getComponents=function(){var e=this.model.getOptions().comboChartTypes,r=e.some(function(o){return o.type===ve.STACKED_BAR||o.type===ve.STACKED_AREA}),i=T4([new fe(this.model,this.services),new ye(this.model,this.services),new oe(this.model,this.services,{skeleton:Gt.GRID})],r?[]:[new xn(this.model,this.services)],this.getGraphComponents()),a=this.getAxisChartComponents(i);return a},n})(he);var E4=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),S4=function(t){E4(n,t);function n(e){return t.call(this,e)||this}return n.prototype.getTabularDataArray=function(){var e=this,r=this.getDisplayData(),i=[["Child","Parent"]];return r.forEach(function(a){e.getChildrenDatums(a,i),i.push([a.name,"&ndash;"])}),i},n.prototype.getChildrenDatums=function(e,r){var i=this;r===void 0&&(r=[]),e.children&&e.children.length>0&&e.children.forEach(function(a){i.getChildrenDatums(a,r),r.push([a.name,e.name])})},n}(on),A4=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}();(function(t){A4(n,t);function n(e,r){var i=t.call(this,e,r)||this;return i.model=new S4(i.services),i.model.setOptions(y.mergeDefaultChartOptions(Pt.treeChart,r.options)),i.init(e,r),i}return n.prototype.getComponents=function(){var e=[new yL(this.model,this.services)],r=this.getChartComponents(e,{excludeLegend:!0});return r},n})(We);var M4=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),C4=function(t){M4(n,t);function n(e){return t.call(this,e)||this}return n.prototype.getTabularDataArray=function(){var e=this.getDisplayData(),r=[["Child","Group","Value"]];return e.forEach(function(i){Array.isArray(i.children)?i.children.forEach(function(a){r.push([a.name,i.name,a.value])}):y.getProperty(i.name)!==null&&y.getProperty(i.value)&&r.push(["–",i.name,i.value])}),r},n}(on),P4=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}();(function(t){P4(n,t);function n(e,r){var i=t.call(this,e,r)||this;return i.model=new C4(i.services),i.model.setOptions(y.mergeDefaultChartOptions(Pt.treemapChart,r.options)),i.init(e,r),i}return n.prototype.getComponents=function(){var e=[new Yk(this.model,this.services)],r=this.getChartComponents(e);return r},n})(We);var D4=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),vr=globalThis&&globalThis.__assign||function(){return vr=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++){n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},vr.apply(this,arguments)},L4=function(t){D4(n,t);function n(e){var r=t.call(this,e)||this;return r.parentNode=!1,r.set({depth:2},{skipUpdate:!0}),r}return n.prototype.setData=function(e){t.prototype.setData.call(this,e),this.setDataGroups(),e.length===1&&(this.parentNode=!0),this.setZoom()},n.prototype.setOptions=function(e){var r=this.getOptions(),i=y.merge({},e,this.getZoomOptions(e));y.updateLegendAdditionalItems(r,i);var a=this.getHierarchyLevel(),o=y.getProperty(r,"circlePack","hierarchyLevel");this.set({options:y.merge(r,i),depth:o&&o<4?o:a})},n.prototype.getZoomOptions=function(e){if(!this.getDisplayData())return{};var r=this.getDisplayData(),i=e||this.getOptions(),a=r.length===1&&y.getProperty(r,0,"children")?y.getProperty(r,0,"children"):r,o=this.getHierarchyLevel();return a.some(function(s){if(s.children&&s.children.some(function(l){return l.children}))return o=3,!1}),y.getProperty(i,"canvasZoom","enabled")===!0&&o>2?{legend:{additionalItems:[{type:Vt.ZOOM,name:"Click to zoom"}]}}:null},n.prototype.setZoom=function(e){this.setOptions(this.getZoomOptions(e))},n.prototype.updateHierarchyLevel=function(e){this.set({depth:e})},n.prototype.getHierarchyLevel=function(){return this.get("depth")},n.prototype.hasParentNode=function(){return this.parentNode},n.prototype.setDataGroups=function(){var e=this,r=this.getData(),i=this.getOptions(),a=i.data.groupMapsTo,o=r.map(function(s){var l=s[a];return e.setChildrenDataGroup(s,l)});this.set({data:o},{skipUpdate:!0})},n.prototype.setChildrenDataGroup=function(e,r){var i=this;return e.children?vr(vr({},e),{dataGroupName:r,children:e.children.map(function(a,o){return i.setChildrenDataGroup(a,r)})}):vr(vr({},e),{dataGroupName:r})},n.prototype.getTabularDataArray=function(){var e=this,r=this.getDisplayData(),i=[["Child","Parent","Value"]];return r.forEach(function(a){var o=a.value?a.value:0;a.children&&(o+=e.getChildrenDatums(a.children,a.name,i,0)),i.push(["&ndash;",a.name,o])}),i},n.prototype.getChildrenDatums=function(e,r,i,a){var o=this;i===void 0&&(i=[]),a===void 0&&(a=0);var s=r;return e.forEach(function(l){var u=l.name,c=0;if(l.children)l.children.length>0&&(typeof l.value=="number"&&(a+=l.value),c+=o.getChildrenDatums(l.children,u,i,c),i.push([u,s,c]),a+=c);else{var h=0;typeof l.value=="number"&&(h=l.value,a+=l.value),i.push([l.name,s,h])}}),a},n}(on),R4=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}();(function(t){R4(n,t);function n(e,r){var i=t.call(this,e,r)||this;return i.model=new L4(i.services),i.model.setOptions(y.mergeDefaultChartOptions(Pt.circlePackChart,r.options)),i.init(e,r),i}return n.prototype.getComponents=function(){var e=[new eI(this.model,this.services)],r=this.getChartComponents(e);return r},n})(We);var k4=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),I4=globalThis&&globalThis.__spreadArrays||function(){for(var t=0,n=0,e=arguments.length;n<e;n++)t+=arguments[n].length;for(var r=Array(t),i=0,n=0;n<e;n++)for(var a=arguments[n],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r},N4=function(t){k4(n,t);function n(e){return t.call(this,e)||this}return n.prototype.getTabularDataArray=function(){var e=this.getDisplayData(),r=this.getOptions(),i=r.wordCloud,a=i.fontSizeMapsTo,o=i.wordMapsTo,s=r.data.groupMapsTo,l=I4([[r.tooltip.wordLabel,"Group",r.tooltip.valueLabel]],e.map(function(u){return[u[o],u[s],u[a]]}));return l},n}(on),$4=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}();(function(t){$4(n,t);function n(e,r){var i=t.call(this,e,r)||this;return i.model=new N4(i.services),i.model.setOptions(y.mergeDefaultChartOptions(Pt.wordCloudChart,r.options)),i.init(e,r),i}return n.prototype.getComponents=function(){var e=[new OI(this.model,this.services),new oe(this.model,this.services,{skeleton:Gt.PIE})],r=this.getChartComponents(e);return r},n})(We);var U4=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),B4=globalThis&&globalThis.__spreadArrays||function(){for(var t=0,n=0,e=arguments.length;n<e;n++)t+=arguments[n].length;for(var r=Array(t),i=0,n=0;n<e;n++)for(var a=arguments[n],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r},V4=function(t){U4(n,t);function n(e){return t.call(this,e)||this}return n.prototype.getTabularDataArray=function(){var e=this.getDisplayData();e.sort(function(i,a){return i.source.localeCompare(a.source)});var r=B4([["Source","Target","Value"]],e.map(function(i){return[i.source,i.target,i.value]}));return r},n}(Xn),G4=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}();(function(t){G4(n,t);function n(e,r){var i=t.call(this,e,r)||this;return i.model=new V4(i.services),i.model.setOptions(y.mergeDefaultChartOptions(Pt.alluvialChart,r.options)),i.init(e,r),i}return n.prototype.getComponents=function(){var e=[new zI(this.model,this.services)],r=this.getChartComponents(e,{excludeLegend:!0});return r},n})(We);var F4=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),H4=globalThis&&globalThis.__spreadArrays||function(){for(var t=0,n=0,e=arguments.length;n<e;n++)t+=arguments[n].length;for(var r=Array(t),i=0,n=0;n<e;n++)for(var a=arguments[n],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r},z4=function(t){F4(n,t);function n(e){var r=t.call(this,e)||this;r.axisFlavor=pi.HOVERABLE,r._colorScale=void 0,r._domains=[],r._ranges=[],r._matrix={};var i=y.getProperty(r.getOptions(),"axes");if(y.getProperty(i,"left","scaleType")&&y.getProperty(i,"left","scaleType")!==nt.LABELS||y.getProperty(i,"right","scaleType")&&y.getProperty(i,"right","scaleType")!==nt.LABELS||y.getProperty(i,"top","scaleType")&&y.getProperty(i,"top","scaleType")!==nt.LABELS||y.getProperty(i,"bottom","scaleType")&&y.getProperty(i,"bottom","scaleType")!==nt.LABELS)throw Error("Heatmap only supports label scaletypes.");return r}return n.prototype.getValueDomain=function(){var e=Ue(this.getDisplayData(),function(i){return i.value}),r=He().domain(e).nice().domain();if(r[0]>0)r[0]=0;else if(r[0]===0&&r[1]===0)return[0,1];return r[0]<0&&r[1]>0&&(Math.abs(r[0])>r[1]?r[1]=Math.abs(r[0]):r[0]=-r[1]),r},n.prototype.getFillColor=function(e){return this._colorScale(e)},n.prototype.getUniqueDomain=function(){if(y.isEmpty(this._domains)){var e=this.getDisplayData(),r=this.services.cartesianScales,i=r.getDomainIdentifier(),a=r.getMainXAxisPosition(),o=r.getCustomDomainValuesByposition(a);if(o)return o;this._domains=Array.from(new Set(e.map(function(s){return s[i]})))}return this._domains},n.prototype.getUniqueRanges=function(){if(y.isEmpty(this._ranges)){var e=this.getDisplayData(),r=this.services.cartesianScales,i=r.getRangeIdentifier(),a=r.getMainYAxisPosition(),o=r.getCustomDomainValuesByposition(a);if(o)return o;this._ranges=Array.from(new Set(e.map(function(s){return s[i]})))}return this._ranges},n.prototype.getMatrix=function(){var e=this;if(y.isEmpty(this._matrix)){var r=this.getUniqueDomain(),i=this.getUniqueRanges(),a=this.services.cartesianScales.getDomainIdentifier(),o=this.services.cartesianScales.getRangeIdentifier(),s={};i.forEach(function(l){s[l]={value:null,index:-1}}),r.forEach(function(l){e._matrix[l]=y.clone(s)}),this.getDisplayData().forEach(function(l,u){e._matrix[l[a]][l[o]]={value:l.value,index:u}})}return this._matrix},n.prototype.setData=function(e){var r=this.sanitize(y.clone(e)),i=this.generateDataGroups(r);return this.set({data:r,dataGroups:i}),this._domains=[],this._ranges=[],this._matrix={},r},n.prototype.getMatrixAsArray=function(){var e=this;y.isEmpty(this._matrix)&&this.getMatrix();var r=this.getUniqueDomain(),i=this.getUniqueRanges(),a=this.services.cartesianScales.getDomainIdentifier(),o=this.services.cartesianScales.getRangeIdentifier(),s=[];return r.forEach(function(l){i.forEach(function(u){var c={value:e._matrix[l][u].value,index:e._matrix[l][u].index};c[a]=l,c[o]=u,s.push(c)})}),s},n.prototype.getTabularDataArray=function(){var e=this.getDisplayData(),r=this.assignRangeAndDomains(),i=r.primaryDomain,a=r.primaryRange,o=H4([[i.label,a.label,"Value"]],e.map(function(s){return[s[i.identifier]===null?"&ndash;":s[i.identifier],s[a.identifier]===null?"&ndash;":s[a.identifier].toLocaleString(),s.value]}));return o},n.prototype.getColorClassName=function(e){return e.originalClassName+" "+this._colorScale(e.value)},n.prototype.setColorClassNames=function(){var e=this.getOptions(),r=y.getProperty(e,"color","gradient","colors"),i=!y.isEmpty(r),a=y.getProperty(e,"color","pairing","option"),o=this.getValueDomain(),s=o[0]<0&&o[1]>0?"diverge":"mono";(a<1&&a>4&&s==="mono"||a<1&&a>2&&s==="diverge")&&(a=1);var l=i?r:[];if(!i)for(var u=s==="diverge"?17:11,c=1;c<u+1;c++)l.push("fill-"+s+"-"+a+"-"+c);this._colorScale=qp().domain(o).range(l)},n}(Xn),W4=globalThis&&globalThis.__extends||function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(n,e)};return function(n,e){t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Fh=globalThis&&globalThis.__spreadArrays||function(){for(var t=0,n=0,e=arguments.length;n<e;n++)t+=arguments[n].length;for(var r=Array(t),i=0,n=0;n<e;n++)for(var a=arguments[n],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r};(function(t){W4(n,t);function n(e,r){var i=t.call(this,e,r)||this;return i.model=new z4(i.services),i.model.setOptions(y.mergeDefaultChartOptions(Pt.heatmapChart,r.options)),i.init(e,r),i}return n.prototype.getAxisChartComponents=function(e,r){var i=this.model.getOptions(),a=y.getProperty(i,"toolbar","enabled");this.services.cartesianScales.determineAxisDuality(),this.services.cartesianScales.findDomainAndRangeAxes(),this.services.cartesianScales.determineOrientation();var o=!!this.model.getOptions().title,s={id:"title",components:[new Vo(this.model,this.services)],growth:yt.STRETCH},l={id:"toolbar",components:[new Ju(this.model,this.services)],growth:yt.PREFERRED},u={id:"header",components:[new Ge(this.model,this.services,Fh([s],a?[l]:[]),{direction:It.ROW,alignItems:Tr.CENTER})],growth:yt.PREFERRED},c={id:"legend",components:[new mC(this.model,this.services)],growth:yt.PREFERRED,renderType:it.SVG},h={id:"graph-frame",components:e,growth:yt.STRETCH,renderType:it.SVG},f=y.getProperty(r,"legend","enabled")!==!1&&this.model.getOptions().legend.enabled!==!1,d=It.COLUMN_REVERSE,p={id:"spacer",components:[new Gn(this.model,this.services,{size:15})],growth:yt.PREFERRED},g={id:"full-frame",components:[new Ge(this.model,this.services,Fh(f?[c]:[],f?[p]:[],[h]),{direction:d})],growth:yt.STRETCH},m=[];if(o||a){m.push(u);var _={id:"spacer",components:[new Gn(this.model,this.services,a?{size:15}:void 0)],growth:yt.PREFERRED};m.push(_)}return m.push(g),[new zv(this.model,this.services),new qu(this.model,this.services),new Ge(this.model,this.services,m,{direction:It.COLUMN})]},n.prototype.getComponents=function(){var e=[new fe(this.model,this.services),new jI(this.model,this.services)],r=this.getAxisChartComponents(e);return r},n})(he);function j4(t){let n,e=[t[3],{"data-carbon-theme":t[1]},{id:t[2]}],r={};for(let i=0;i<e.length;i+=1)r=wr(r,e[i]);return{c(){n=Y("div"),dc(n,r)},m(i,a){Et(i,n,a),t[8](n)},p(i,[a]){dc(n,r=id(e,[a&8&&i[3],a&2&&{"data-carbon-theme":i[1]},a&4&&{id:i[2]}]))},i:_t,o:_t,d(i){i&&bt(n),t[8](null)}}}function q4(t,n,e){const r=["Chart","chart","data","options","theme","id","ref"];let i=xa(n,r),{Chart:a=void 0}=n,{chart:o=null}=n,{data:s=[]}=n,{options:l={}}=n,{theme:u="white"}=n,{id:c="chart-"+Math.random().toString(36)}=n,{ref:h=null}=n;const f=Og();wg(()=>{const p=h||document.getElementById(c);return p&&(e(4,o=new a(p,{data:s,options:l})),f("load",o)),()=>{o&&(o.components.forEach(g=>g.destroy()),e(4,o=null),f("destroy"))}});function d(p){di[p?"unshift":"push"](()=>{h=p,e(0,h)})}return t.$$set=p=>{n=wr(wr({},n),td(p)),e(3,i=xa(n,r)),"Chart"in p&&e(5,a=p.Chart),"chart"in p&&e(4,o=p.chart),"data"in p&&e(6,s=p.data),"options"in p&&e(7,l=p.options),"theme"in p&&e(1,u=p.theme),"id"in p&&e(2,c=p.id),"ref"in p&&e(0,h=p.ref)},t.$$.update=()=>{t.$$.dirty&210&&o&&(o.model.setData(s),o.model.setOptions({theme:u,...l}),f("update",{data:s,options:l}))},[h,u,c,i,o,a,s,l,d]}class Y4 extends ae{constructor(n){super(),ie(this,n,q4,j4,ee,{Chart:5,chart:4,data:6,options:7,theme:1,id:2,ref:0})}}function X4(t){let n,e,r,i;const a=[t[2],{Chart:Vh}];function o(u){t[3](u)}function s(u){t[4](u)}let l={};for(let u=0;u<a.length;u+=1)l=wr(l,a[u]);return t[1]!==void 0&&(l.ref=t[1]),t[0]!==void 0&&(l.chart=t[0]),n=new Y4({props:l}),di.push(()=>vc(n,"ref",o)),di.push(()=>vc(n,"chart",s)),n.$on("load",t[5]),n.$on("update",t[6]),n.$on("destroy",t[7]),{c(){St(n.$$.fragment)},m(u,c){wt(n,u,c),i=!0},p(u,[c]){const h=c&4?id(a,[c&4&&Ag(u[2]),c&0&&{Chart:Vh}]):{};!e&&c&2&&(e=!0,h.ref=u[1],pc(()=>e=!1)),!r&&c&1&&(r=!0,h.chart=u[0],pc(()=>r=!1)),n.$set(h)},i(u){i||(ft(n.$$.fragment,u),i=!0)},o(u){mt(n.$$.fragment,u),i=!1},d(u){Ot(n,u)}}}function Z4(t,n,e){const r=["chart","ref"];let i=xa(n,r),{chart:a=null}=n,{ref:o=null}=n;function s(f){o=f,e(1,o)}function l(f){a=f,e(0,a)}function u(f){Wo.call(this,t,f)}function c(f){Wo.call(this,t,f)}function h(f){Wo.call(this,t,f)}return t.$$set=f=>{n=wr(wr({},n),td(f)),e(2,i=xa(n,r)),"chart"in f&&e(0,a=f.chart),"ref"in f&&e(1,o=f.ref)},[a,o,i,s,l,u,c,h]}class Hh extends ae{constructor(n){super(),ie(this,n,Z4,X4,ee,{chart:0,ref:1})}}const sr=[];function tc(t,n=_t){let e;const r=new Set;function i(s){if(ee(t,s)&&(t=s,e)){const l=!sr.length;for(const u of r)u[1](),sr.push(u,t);if(l){for(let u=0;u<sr.length;u+=2)sr[u][0](sr[u+1]);sr.length=0}}}function a(s){i(s(t))}function o(s,l=_t){const u=[s,l];return r.add(u),r.size===1&&(e=n(i)||_t),s(t),()=>{r.delete(u),r.size===0&&(e(),e=null)}}return{set:i,update:a,subscribe:o}}const ec=tc("main"),zh=tc([]),Wh=tc([]);function K4(t){let n,e,r,i,a,o,s,l,u,c;return i=new Hh({props:{data:t[0],options:{axes:{left:{stacked:!0,scaleType:nt.LINEAR,mapsTo:"count"},bottom:{scaleType:nt.TIME,mapsTo:"date"}},curve:"curveMonotoneX",height:"400px"}}}),u=new Hh({props:{data:t[1],options:{axes:{left:{stacked:!0,scaleType:nt.LINEAR,mapsTo:"count"},bottom:{scaleType:nt.LABELS,mapsTo:"version"}},curve:"curveMonotoneX",height:"400px"}}}),{c(){n=Y("div"),n.innerHTML="<span>Estimated Active users</span>",e=Q(),r=Y("div"),St(i.$$.fragment),a=Q(),o=Y("div"),o.innerHTML="<span>Version Downloads</span>",s=Q(),l=Y("div"),St(u.$$.fragment),V(n,"class","h-12 pl-4 bg-slate-200 w-screen flex items-center"),V(r,"class","pr-10 pl-10 pb-10"),V(o,"class","h-12 pl-4 bg-slate-200 w-screen flex items-center"),V(l,"class","pr-10 pl-10 ")},m(h,f){Et(h,n,f),Et(h,e,f),Et(h,r,f),wt(i,r,null),Et(h,a,f),Et(h,o,f),Et(h,s,f),Et(h,l,f),wt(u,l,null),c=!0},p(h,[f]){const d={};f&1&&(d.data=h[0]),i.$set(d);const p={};f&2&&(p.data=h[1]),u.$set(p)},i(h){c||(ft(i.$$.fragment,h),ft(u.$$.fragment,h),c=!0)},o(h){mt(i.$$.fragment,h),mt(u.$$.fragment,h),c=!1},d(h){h&&bt(n),h&&bt(e),h&&bt(r),Ot(i),h&&bt(a),h&&bt(o),h&&bt(s),h&&bt(l),Ot(u)}}}function Q4(t,n,e){fetch("https://api.github.com/repos/poketrax/pokedata/releases").then(a=>a.json()).then(a=>{let o=[];for(let s=a.length-1;s>=0;s--){let l=a[s],u=l.assets[0].download_count,c=o.find(h=>{let f=new Date(h.date);f.setHours(0,0,0,0);let d=new Date(l.published_at);return d.setHours(0,0,0,0),f.getTime()===d.getTime()});c?c.count+=u:o.push({date:l.published_at,count:u,group:"Users"})}Wh.set(o)});let r=[];Wh.subscribe(a=>{console.log(a),e(0,r=a)}),fetch("https://api.github.com/repos/poketrax/poketrax/releases").then(a=>a.json()).then(a=>{let o=[];for(let s=a.length-1;s>=0;s--){let l=a[s],u=0,c=0,h=0;l.assets.forEach(f=>{f.name.match(/AppImage|snap|deb/g)&&(c+=f.download_count),f.name.match(/dmg/g)&&(u+=f.download_count),f.name.match(/exe|msi/)&&(h+=f.download_count)}),o.push({group:"MAC",version:l.tag_name,count:u}),o.push({group:"WIN",version:l.tag_name,count:h}),o.push({group:"LINUX",version:l.tag_name,count:c})}zh.set(o)});let i=[];return zh.subscribe(a=>{e(1,i=a)}),[r,i]}class J4 extends ae{constructor(n){super(),ie(this,n,Q4,K4,ee,{})}}const t$=""+new URL("icon-f2679d31.png",import.meta.url).href;function e$(t){let n,e;return{c(){n=gn("svg"),e=gn("path"),V(e,"d","M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"),V(n,"xmlns","http://www.w3.org/2000/svg"),V(n,"viewBox","0 0 496 512"),V(n,"class","w-6 h-6 fill-white")},m(r,i){Et(r,n,i),B(n,e)},p:_t,i:_t,o:_t,d(r){r&&bt(n)}}}class n$ extends ae{constructor(n){super(),ie(this,n,null,e$,ee,{})}}function r$(t){let n,e;return{c(){n=gn("svg"),e=gn("path"),V(e,"d","M201.5 305.5c-13.8 0-24.9-11.1-24.9-24.6 0-13.8 11.1-24.9 24.9-24.9 13.6 0 24.6 11.1 24.6 24.9 0 13.6-11.1 24.6-24.6 24.6zM504 256c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zm-132.3-41.2c-9.4 0-17.7 3.9-23.8 10-22.4-15.5-52.6-25.5-86.1-26.6l17.4-78.3 55.4 12.5c0 13.6 11.1 24.6 24.6 24.6 13.8 0 24.9-11.3 24.9-24.9s-11.1-24.9-24.9-24.9c-9.7 0-18 5.8-22.1 13.8l-61.2-13.6c-3-.8-6.1 1.4-6.9 4.4l-19.1 86.4c-33.2 1.4-63.1 11.3-85.5 26.8-6.1-6.4-14.7-10.2-24.1-10.2-34.9 0-46.3 46.9-14.4 62.8-1.1 5-1.7 10.2-1.7 15.5 0 52.6 59.2 95.2 132 95.2 73.1 0 132.3-42.6 132.3-95.2 0-5.3-.6-10.8-1.9-15.8 31.3-16 19.8-62.5-14.9-62.5zM302.8 331c-18.2 18.2-76.1 17.9-93.6 0-2.2-2.2-6.1-2.2-8.3 0-2.5 2.5-2.5 6.4 0 8.6 22.8 22.8 87.3 22.8 110.2 0 2.5-2.2 2.5-6.1 0-8.6-2.2-2.2-6.1-2.2-8.3 0zm7.7-75c-13.6 0-24.6 11.1-24.6 24.9 0 13.6 11.1 24.6 24.6 24.6 13.8 0 24.9-11.1 24.9-24.6 0-13.8-11-24.9-24.9-24.9z"),V(n,"xmlns","http://www.w3.org/2000/svg"),V(n,"viewBox","0 0 512 512"),V(n,"class","w-6 h-6 fill-white")},m(r,i){Et(r,n,i),B(n,e)},p:_t,i:_t,o:_t,d(r){r&&bt(n)}}}class i$ extends ae{constructor(n){super(),ie(this,n,null,r$,ee,{})}}function a$(t){let n,e;return{c(){n=gn("svg"),e=gn("path"),V(e,"d","M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"),V(n,"xmlns","http://www.w3.org/2000/svg"),V(n,"viewBox","0 0 576 512"),V(n,"class","w-6 h-6 fill-white")},m(r,i){Et(r,n,i),B(n,e)},p:_t,i:_t,o:_t,d(r){r&&bt(n)}}}class o$ extends ae{constructor(n){super(),ie(this,n,null,a$,ee,{})}}function s$(t){let n,e;return{c(){n=gn("svg"),e=gn("path"),V(e,"d","M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"),V(n,"xmlns","http://www.w3.org/2000/svg"),V(n,"viewBox","0 0 512 512"),V(n,"class","w-6 h-6 fill-white")},m(r,i){Et(r,n,i),B(n,e)},p:_t,i:_t,o:_t,d(r){r&&bt(n)}}}class l$ extends ae{constructor(n){super(),ie(this,n,null,s$,ee,{})}}function u$(t){let n,e,r;return{c(){n=Y("div"),n.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="h-8 w-8"><path d="M64 400C64 408.8 71.16 416 80 416H480C497.7 416 512 430.3 512 448C512 465.7 497.7 480 480 480H80C35.82 480 0 444.2 0 400V64C0 46.33 14.33 32 32 32C49.67 32 64 46.33 64 64V400zM342.6 278.6C330.1 291.1 309.9 291.1 297.4 278.6L240 221.3L150.6 310.6C138.1 323.1 117.9 323.1 105.4 310.6C92.88 298.1 92.88 277.9 105.4 265.4L217.4 153.4C229.9 140.9 250.1 140.9 262.6 153.4L320 210.7L425.4 105.4C437.9 92.88 458.1 92.88 470.6 105.4C483.1 117.9 483.1 138.1 470.6 150.6L342.6 278.6z"></path></svg>',V(n,"class","h-4 w-4 m-2 hover:fill-white fill-transparent portrait:w-0 flex items-center cursor-pointer")},m(i,a){Et(i,n,a),e||(r=vn(n,"click",t[0]),e=!0)},p:_t,i:_t,o:_t,d(i){i&&bt(n),e=!1,r()}}}function c$(t){function n(){ec.set("metrics")}return[n]}class jh extends ae{constructor(n){super(),ie(this,n,c$,u$,ee,{})}}function f$(t){let n,e,r,i,a,o,s,l,u,c,h,f,d,p,g,m,_,v,x,O,b,w,M,E,A,C,T,k,D,I,L,R,N,G,P,F,H,J,lt,ut;return e=new jh({}),E=new n$({}),T=new i$({}),I=new o$({}),N=new l$({}),H=new jh({}),{c(){n=Y("div"),St(e.$$.fragment),r=Q(),i=Y("div"),a=Q(),o=Y("img"),l=Q(),u=Y("div"),c=Q(),h=Y("a"),h.textContent="Pokétrax",f=Q(),d=Y("div"),p=Q(),g=Y("a"),g.textContent="Issues",m=Q(),_=Y("div"),v=Q(),x=Y("span"),x.textContent="Install",O=Q(),b=Y("div"),w=Q(),M=Y("a"),St(E.$$.fragment),A=Q(),C=Y("a"),St(T.$$.fragment),k=Q(),D=Y("a"),St(I.$$.fragment),L=Q(),R=Y("a"),St(N.$$.fragment),G=Q(),P=Y("div"),F=Q(),St(H.$$.fragment),V(i,"class","flex-grow"),V(o,"class","h-16 w-16 portrait:h-10 portrait:w-10"),Yt(o.src,s=t$)||V(o,"src",s),V(o,"alt","icon"),V(u,"class","w-4"),V(h,"class","text-white text-4xl portrait:text-xl title-font cursor-pointer"),V(h,"href","."),V(d,"class","w-96"),V(g,"class","text-white hover:text-red-600 cursor-pointer portrait:hidden"),V(g,"href","https://github.com/poketrax/PokeTrax/issues"),V(_,"class","w-4"),V(x,"class","text-white hover:text-red-600 cursor-pointer portrait:hidden"),V(b,"class","w-4"),V(M,"class","m-2"),V(M,"href","https://github.com/poketrax/PokeTrax"),V(C,"class","m-2"),V(C,"href","https://www.reddit.com/r/poketraxapp/"),V(D,"class","m-2"),V(D,"href","https://www.youtube.com/channel/UCDGebTpvhiRCy3Aw6_CDylg"),V(R,"class","p-2"),V(R,"href","https://twitter.com/poketrax_app"),V(P,"class","flex-grow"),V(n,"class","h-16 w-screen bg-blue-800 flex items-center")},m(X,rt){Et(X,n,rt),wt(e,n,null),B(n,r),B(n,i),B(n,a),B(n,o),B(n,l),B(n,u),B(n,c),B(n,h),B(n,f),B(n,d),B(n,p),B(n,g),B(n,m),B(n,_),B(n,v),B(n,x),B(n,O),B(n,b),B(n,w),B(n,M),wt(E,M,null),B(n,A),B(n,C),wt(T,C,null),B(n,k),B(n,D),wt(I,D,null),B(n,L),B(n,R),wt(N,R,null),B(n,G),B(n,P),B(n,F),wt(H,n,null),J=!0,lt||(ut=vn(x,"click",t[0]),lt=!0)},p:_t,i(X){J||(ft(e.$$.fragment,X),ft(E.$$.fragment,X),ft(T.$$.fragment,X),ft(I.$$.fragment,X),ft(N.$$.fragment,X),ft(H.$$.fragment,X),J=!0)},o(X){mt(e.$$.fragment,X),mt(E.$$.fragment,X),mt(T.$$.fragment,X),mt(I.$$.fragment,X),mt(N.$$.fragment,X),mt(H.$$.fragment,X),J=!1},d(X){X&&bt(n),Ot(e),Ot(E),Ot(T),Ot(I),Ot(N),Ot(H),lt=!1,ut()}}}function h$(t){function n(){ec.set("install")}return[n]}class d$ extends ae{constructor(n){super(),ie(this,n,h$,f$,ee,{})}}function p$(t){let n;return{c(){n=Y("span"),n.textContent=`The information presented on this application about the
    Pokémon Trading Card Game, including images and text, is
    copyright of The Pokémon Company, Nintendo, Game Freak,
    Creatures and/or Wizards of the Coast. This website is not
    produced by, endorsed by, supported by, or affiliated with
    any of these companies.`,V(n,"class","text-xs")},m(e,r){Et(e,n,r)},p:_t,i:_t,o:_t,d(e){e&&bt(n)}}}class v$ extends ae{constructor(n){super(),ie(this,n,null,p$,ee,{})}}const Ei=""+new URL("macos-ca8865f4.png",import.meta.url).href,nc="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAAAXNSR0IArs4c6QAAAIRlWElmTU0AKgAAAAgABQESAAMAAAABAAEAAAEaAAUAAAABAAAASgEbAAUAAAABAAAAUgEoAAMAAAABAAIAAIdpAAQAAAABAAAAWgAAAAAAAABIAAAAAQAAAEgAAAABAAOgAQADAAAAAQABAACgAgAEAAAAAQAAAFCgAwAEAAAAAQAAAFAAAAAAwtohTAAAAAlwSFlzAAALEwAACxMBAJqcGAAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDYuMC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KGV7hBwAACVtJREFUeAHtnM1v3MYZxp8hubtaW1ZiG4pj5KuSHX/Jsq18t0Bb6dICBlqgSeRb/4Xk2CYIEF4K9NBeeukf0EMBOzkECdI0DuDNIQ5aoEAPaS4t+oWmQeMkSqTI0u6SM33eIblarTb2kiuuuTZH4MeSM7Pz/uZ5Z6gZzgJlKAmUBEoCJYGSQEmgJFASKAmUBFITUKlT3AYJjIG6cAnO3DSs/S8vIlQKJotpXpZE45SmFxbehSYsTRvCS7EhPo++geNH1+Orgx1uK4CDwBIs/puYgoOjWmGeEjxH6X07vIzneeu95YtwL11AOBg+YGwBDgrrp29gf8XFUeXgFJX3FIGdpPxOOAqH6ntg/darANdXURdoy9wSZQ4CcSwA9sLqarM6bijG/uQy7qpqnHAdHDchvmkU5tjKHXNdHKpMAAQITW2FbR4DmM11tn38GFRQo+bErVOHwgEcBJZPM194Bwe9No7RFeddhTN0wwUimHUruLdSY4QuWAFhacISOownHKXLcLj3+H2O4wCBlhTpwy0F6APOy9wpf6v2aZ30hh1l8Tb83+MeWj/De+eUwSM09QxxHHNqOFClsiQkyhJYYbAFi7forRaOtbVDqXNik2fejQygL7CWaci1RdVAA4sN6z7a543u8OI7OFQ1mNEGj1IYC6Q5R9866Xl0zwRWQMXQDQnKbH61BUtAcWOyqG3fJUbdxdtxngtAvwfWUgMBr2nfts6NTiGuPf3Q4bpWh37x/D8/8JcY52380Gi8SgRefW8UjW1VX1i8219ZndxHczI0QOPT3L9EygKVRXn1hfXJ+W/cW6my9zPOKcZ+nOqYo+Oeo7o+JLxz1lyNe/bcDW99FW0qywpI2qyiwOpXJZkAilGNRbiirK32q9HJX5Q1EeBEqJxH6VOn2aqdYZIjE46aqrLFl9AKDeR8ra03k4R8LmvTLYWYRLJli2InMYp3TA1Q4NEoQ7HRVGDl/MxDnufMGujHqMU5GGV7w6qnJhNYIRu0ZrRpHpPHBUMf5BNYpDTJi5/lb6xCKoDirqK4L5+ZfZjPWT9XxswqpY7XXNQrjmsNDwiqtROWYJHGPdkkbigfYheVzzaMGb+U/4lIWych0LN31StPt1oabT5IbYZGy2bvRZC6gcWXb89DKgUmCBzjtpqER6XxYcJWQreykmiZjlTkWAUxPHUI2ZV61BiNFb8dN69Lbe+NEmQCKBnmpZRxq43MAG9UK3fSvcIBzEvZeVVq4QCWLpxXVRc038IpsHThIZVSuvCQAMcteenCQ9ZY4QAOac/Ik2cGmFdblVe+eZHNNJjA2QwTED2NlTHBaBwrfQnDwMDlkJidLbPJ+WaA5pgOe2K5Fk0v5UU07u45uBnyO6ucmcv0AJANoKu9WsWDF+iqI8Or1lp7uOlOSikpQmNct+KguWH2JYk4s1arTxKgRi0eXkxu5XYkPLfGKfX1lZRDe3GJ0gHkeLOdtnfcT1eb6iqnVDcI0BKkcNJpxRitQuyBcv+c0OEE+L9XP8EfCXmVmblWg3wRKLm/q8fkZSINE2zwrQSDTyX/D5ezKXHgstG4fAzKC9TAltmIqW1LnUC+xveNMzX1fm11/+FM7UZi09TKx8rzvtDPPXe+KdcMX+z5D1ANpnNWQVKA+Ohdg7p/GU36UjKq3hPj6z+mA3jRuLhAx/vNZ9/iexGvcHpJJh+jntzwTZRUgfkAk8aYP5gfH/iRJDVv1Z+B2vw181zhTIEds81L8SxsUvma3zWplHlWfR9XpRLVCN7O2mv27T+MjXXOgGR8EpLuVmbP11ZmEu6hUXe7BzCNVUwr6duFXspqSfK66THBJ9/BTiRYQzyVf9OU2yKk60SSpMYN0eR0btiWt1AyEmTKVlOmNTvzwq6jAogz8w4fkLKVLSnjoEdx2yb45oh9dBo0VSdetkI6AedvWW3RG05ZAbLbkKR2ZwsU8g2peN5d3pzKmm/HuIFORIlUeda3s0ZTyIEsyf5EPmD2uUQrFMBcLMw500IB3PqfLmerdzH7QgHM+k/1LvJInVWhAKYufQESFApg6cIFUMSoi1AoBZZt4JDVX7rwkADHMXl2F87hn/w7x4WVq2WRBv+HlDkRGUNLxjbGUURDlTnbYAJ0FVNcqXe9WrULz2TVi5G1QgQp40/GiLJFo6l0KhmMmwrTAVyOR2wD84H6/MufGYQnOSAoazzuR21vFbLsUcb5gla0pYQ6bvBod8oxNw7bUl0cylIfEdNLkgF+9dcaDk7fh9b6PJqGS0rVE8TMxTTqQUxMTsBlHcn75wK1zW0LashVbdHEkc1oPHfpFCg2JhAb9LZrdNkLSoZA/x5vr9nG8OJFF5vfexCttdOEeZrEH2FCzunpGUzsnYBX5fBl4IFTo1yTtNWRyeAmWdPxWVE8jkFID1CMEojUVGQfFenTZFnAJb9BEEGV5uwf8fa6ZcGJKDz8xQNorp/C5voCqc2bTfUk50Q6I9KUZ80ue96gZ3DlDnMTnLzMwdVoCU6qNtWmzXmXDeC2QhGm36uXGCoaDr67iC6o/2JS2X5nyUhn89v16StXfG9pyWeFtP6Gzy34g5jgsvwqwUlEqSpZUCGLomOoss6X/ZUAvaVQdwEgTdgROlAjBdn7PUp9tyFKFjT/W+KOQNh8Bld4PILLOIzrXGPXxFmtnbOOMguM8gDXle+zUPlBCdAeqHKZW/IEwNP8Q04A+xW8A7XrJqGKf7NJoJrozQLRXvkvr8r2tjxmynULtYnjXJq4wCXmBGrmef8IoU4mUK1S2U8xiVRcUnk3hhp9H6NnCyME2K+AhNrlgBaiqMjn1tWm8rq0qQnUKwmb66/jvrrhsv+WrAh1HiNUPlbhBIHuI9iocxKNR1ClqiQfCVtQt5Uguplmf4sB7iwqLdvRptLy7VCFABdo7/kBPuKpbB2o5i26fxszhPYEJ/yoUsOltoTssU1l/8/z3ja1Taw1b6RvZ9lSjG7XD6p8u/GpskSpcmHR/gLRxzyT7WqiVMOfEWB7elS38bjDHyxiyrOskqPEuZ9qrfEVJ+CzGC5P04QuB0qTrLhxe6GKUvuVdu1NTPNNOvurH+x3vgOlf8lXO/7E9lZ696T97Jd027XbDuA26+IPthPib2XZ51S5FilV2sShwx0BsB+lHVCX7K+I7ArUft9XXisJlARKAiWBkkBJoCRQEigJlAS6CPwfUKEKwPsh64oAAAAASUVORK5CYII=",g$=""+new URL("ubuntu-933c557a.png",import.meta.url).href,m$=""+new URL("AppImage-df334118.png",import.meta.url).href,y$=""+new URL("track_prices-d055bf98.png",import.meta.url).href,_$=""+new URL("sets-3a8de6e2.png",import.meta.url).href,x$=""+new URL("track_collection-2897e81c.png",import.meta.url).href;function qh(t){let n;return{c(){n=Y("span"),n.textContent="🔆",V(n,"class","mr-2 text-yellow-300")},m(e,r){Et(e,n,r)},d(e){e&&bt(n)}}}function b$(t){let n,e,r,i,a,o,s,l,u,c,h,f,d,p,g,m,_,v,x,O,b,w,M,E,A,C,T,k,D,I,L,R,N,G,P,F,H,J,lt,ut,X,rt,tt,ot,K,et,st,j,vt,ct,W,Z,z,dt,_e,qt,Ui,je,qe,Bi,Zn,Vi,Ee,ln,Gi,Kn,pt,Bt,un,ac,oc,Le,Fi,Qn,sc,lc,Ho,uc,Hi,cc,zo,fc,Jn,Ye,de=t[1]&&qh();return Jn=new v$({}),{c(){n=Y("div"),e=Y("div"),r=Y("div"),i=Q(),a=Y("div"),o=Y("div"),s=Q(),l=Y("span"),l.textContent=`A simple, free, fully featured, and open source Pokémon TCG collection
        manager for Windows, Mac, and Ubuntu`,u=Q(),c=Y("div"),h=Q(),f=Y("div"),d=Y("div"),p=Q(),g=Y("a"),m=Y("img"),x=Q(),O=Y("div"),b=Q(),w=Y("a"),M=Y("img"),C=Q(),T=Y("div"),k=Q(),D=Y("a"),I=Y("img"),N=Q(),G=Y("div"),P=Q(),F=Y("a"),H=Y("img"),ut=Q(),X=Y("div"),rt=Q(),tt=Y("div"),de&&de.c(),ot=Q(),K=Y("span"),et=vo(t[0]),st=Q(),j=Y("div"),j.innerHTML=`<div class="flex-grow"></div> 
        <iframe class="lg:w-[960px] lg:h-[540px] md:w-[480px] md:h-[270px] w-[240px] h-[135px]" src="https://www.youtube.com/embed/IwA2w_Rh2Xc?autoplay=1&amp;vq=hd720" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe> 
        <div class="flex-grow"></div>`,vt=Q(),ct=Y("div"),W=Q(),Z=Y("div"),z=Q(),dt=Y("div"),_e=Y("div"),qt=Y("img"),je=Q(),qe=Y("div"),qe.textContent="Analyze card prices over time",Bi=Q(),Zn=Y("div"),Vi=Q(),Ee=Y("div"),ln=Y("div"),Gi=Q(),Kn=Y("div"),Kn.textContent="Track cards and sealed products in your collection",pt=Q(),Bt=Y("div"),un=Y("img"),oc=Q(),Le=Y("div"),Fi=Y("div"),Qn=Y("img"),lc=Q(),Ho=Y("div"),uc=Q(),Hi=Y("div"),Hi.textContent="Browse sets for cards",cc=Q(),zo=Y("div"),fc=Q(),St(Jn.$$.fragment),V(r,"class","flex-grow"),V(o,"class","h-10"),V(l,"class","flex text-3xl portrait:text-xl text-center p-4"),V(c,"class","h-10"),V(d,"class","flex-grow"),V(m,"class","h-20 object-contain cursor-pointer"),Yt(m.src,_=Ei)||V(m,"src",_),V(m,"alt","macos"),V(g,"href",v="https://github.com/poketrax/PokeTrax/releases/latest/download/PokeTrax_"+t[0]+"_x64.dmg"),V(O,"class","w-6"),V(M,"class","h-20 object-contain cursor-pointer"),Yt(M.src,E=nc)||V(M,"src",E),V(M,"alt","win"),V(w,"href",A="https://github.com/poketrax/PokeTrax/releases/latest/download/PokeTrax_"+t[0]+"_x64_en-US.msi"),V(T,"class","w-6"),V(I,"class","h-20 object-contain cursor-pointer"),Yt(I.src,L=g$)||V(I,"src",L),V(I,"alt","linux"),V(D,"href",R="https://github.com/poketrax/PokeTrax/releases/latest/download/poke-trax_"+t[0]+"_amd64.deb"),V(G,"class","w-6"),V(H,"class","h-20 object-contain cursor-pointer"),Yt(H.src,J=m$)||V(H,"src",J),V(H,"alt","linux"),V(F,"href",lt="https://github.com/poketrax/PokeTrax/releases/latest/download/poke-trax_"+t[0]+`_amd64.AppImage
                    `),V(X,"class","flex-grow"),V(f,"class","flex"),V(tt,"class","flex h-10 items-center justify-center"),V(j,"class","flex"),V(ct,"class","flex-grow"),V(e,"class","w-screen flex"),V(Z,"class","h-12"),Yt(qt.src,Ui=y$)||V(qt,"src",Ui),V(qt,"class","h-96 portrait:h-48 object-contain"),V(qt,"alt","track prices"),V(_e,"class","p-16 portrait:p-4"),V(qe,"class","text-3xl portrait:text-xl portrait:m-4"),V(Zn,"class","flex-grow"),V(dt,"class","flex w-screen bg-gray-200 items-center"),V(ln,"class","flex-grow"),V(Kn,"class","text-3xl portrait:text-xl portrait:m-4"),Yt(un.src,ac=x$)||V(un,"src",ac),V(un,"class","h-96 portrait:h-48 object-contain"),V(un,"alt","track cards"),V(Bt,"class","p-16"),V(Ee,"class","flex w-screen items-center"),Yt(Qn.src,sc=_$)||V(Qn,"src",sc),V(Qn,"class","h-96 portrait:h-48 object-contain"),V(Qn,"alt","sets"),V(Fi,"class","p-16"),V(Ho,"class","w-8"),V(Hi,"class","text-3xl portrait:text-xl portrait:m-4"),V(zo,"class","flex-grow"),V(Le,"class","flex w-screen bg-gray-200 items-center"),V(n,"class","w-screen h-[calc(100vh-4rem)] overflow-x-hidden overflow-auto")},m(se,bn){Et(se,n,bn),B(n,e),B(e,r),B(e,i),B(e,a),B(a,o),B(a,s),B(a,l),B(a,u),B(a,c),B(a,h),B(a,f),B(f,d),B(f,p),B(f,g),B(g,m),B(f,x),B(f,O),B(f,b),B(f,w),B(w,M),B(f,C),B(f,T),B(f,k),B(f,D),B(D,I),B(f,N),B(f,G),B(f,P),B(f,F),B(F,H),B(f,ut),B(f,X),B(a,rt),B(a,tt),de&&de.m(tt,null),B(tt,ot),B(tt,K),B(K,et),B(a,st),B(a,j),B(e,vt),B(e,ct),B(n,W),B(n,Z),B(n,z),B(n,dt),B(dt,_e),B(_e,qt),B(dt,je),B(dt,qe),B(dt,Bi),B(dt,Zn),B(n,Vi),B(n,Ee),B(Ee,ln),B(Ee,Gi),B(Ee,Kn),B(Ee,pt),B(Ee,Bt),B(Bt,un),B(n,oc),B(n,Le),B(Le,Fi),B(Fi,Qn),B(Le,lc),B(Le,Ho),B(Le,uc),B(Le,Hi),B(Le,cc),B(Le,zo),B(n,fc),wt(Jn,n,null),Ye=!0},p(se,[bn]){(!Ye||bn&1&&v!==(v="https://github.com/poketrax/PokeTrax/releases/latest/download/PokeTrax_"+se[0]+"_x64.dmg"))&&V(g,"href",v),(!Ye||bn&1&&A!==(A="https://github.com/poketrax/PokeTrax/releases/latest/download/PokeTrax_"+se[0]+"_x64_en-US.msi"))&&V(w,"href",A),(!Ye||bn&1&&R!==(R="https://github.com/poketrax/PokeTrax/releases/latest/download/poke-trax_"+se[0]+"_amd64.deb"))&&V(D,"href",R),(!Ye||bn&1&&lt!==(lt="https://github.com/poketrax/PokeTrax/releases/latest/download/poke-trax_"+se[0]+`_amd64.AppImage
                    `))&&V(F,"href",lt),se[1]?de||(de=qh(),de.c(),de.m(tt,ot)):de&&(de.d(1),de=null),(!Ye||bn&1)&&ed(et,se[0])},i(se){Ye||(ft(Jn.$$.fragment,se),Ye=!0)},o(se){mt(Jn.$$.fragment,se),Ye=!1},d(se){se&&bt(n),de&&de.d(),Ot(Jn)}}}function w$(t,n,e){let r="",i=!1;return fetch("https://api.github.com/repos/poketrax/poketrax/releases/latest").then(a=>a.json()).then(a=>{a.name,e(0,r=a.name.replace("v",""));let o=new Date(Date.now()),s=new Date(o.getFullYear(),o.getMonth(),o.getDate()-7),l=new Date(a.published_at);s.getTime()<l.getTime()&&e(1,i=!0)}),[r,i]}class O$ extends ae{constructor(n){super(),ie(this,n,w$,b$,ee,{})}}var rc="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z";function Yh(t){let n,e,r;return{c(){n=Y("div"),e=Y("img"),Yt(e.src,r=t[2])||V(e,"src",r),V(e,"alt",t[1]),V(n,"class","flex ml-32")},m(i,a){Et(i,n,a),B(n,e)},p(i,a){a&4&&!Yt(e.src,r=i[2])&&V(e,"src",r),a&2&&V(e,"alt",i[1])},d(i){i&&bt(n)}}}function T$(t){let n,e,r,i,a,o,s,l,u=t[2]!=null&&Yh(t);return{c(){n=Y("div"),e=Y("div"),r=Y("div"),i=Y("div"),a=vo(t[0]),o=Q(),s=Y("div"),l=Q(),u&&u.c(),V(r,"class","flex h-10 w-10 bg-slate-200 rounded-full items-center justify-center mr-10 ml-10 mt-5 mb-5"),V(e,"class","flex items-center")},m(c,h){Et(c,n,h),B(n,e),B(e,r),B(r,i),B(i,a),B(e,o),B(e,s),s.innerHTML=t[1],B(n,l),u&&u.m(n,null)},p(c,[h]){h&1&&ed(a,c[0]),h&2&&(s.innerHTML=c[1]),c[2]!=null?u?u.p(c,h):(u=Yh(c),u.c(),u.m(n,null)):u&&(u.d(1),u=null)},i:_t,o:_t,d(c){c&&bt(n),u&&u.d()}}}function E$(t,n,e){let{number:r}=n,{text:i}=n,{img:a}=n;return t.$$set=o=>{"number"in o&&e(0,r=o.number),"text"in o&&e(1,i=o.text),"img"in o&&e(2,a=o.img)},[r,i,a]}class ue extends ae{constructor(n){super(),ie(this,n,E$,T$,ee,{number:0,text:1,img:2})}}const S$=""+new URL("windows_warning-7888c921.png",import.meta.url).href,A$=""+new URL("windows_accept-5ab132f6.png",import.meta.url).href,gg=""+new URL("macos_open_err-ac30a4ee.png",import.meta.url).href,M$=""+new URL("mac_os_open_err_13-01249d3b.png",import.meta.url).href,mg=""+new URL("macos_open_sys_pref-358f8004.png",import.meta.url).href,C$=""+new URL("mac_os_sys_pref_13-9f2e76b1.png",import.meta.url).href,P$=""+new URL("macos_sys_pref-48581166.png",import.meta.url).href,D$=""+new URL("macos_sec-db5c020c.png",import.meta.url).href,L$=""+new URL("mac_os_sec_13-9aded74d.png",import.meta.url).href;function R$(t){let n,e,r;return{c(){n=Y("div"),e=Y("img"),V(e,"class","w-full h-full"),Yt(e.src,r=t[1])||V(e,"src",r),V(e,"alt",""),V(n,"class",t[0])},m(i,a){Et(i,n,a),B(n,e)},p(i,[a]){a&1&&V(n,"class",i[0])},i:_t,o:_t,d(i){i&&bt(n)}}}function k$(t,n,e){let{class:r=""}=n,{path:i=""}=n,{color:a=""}=n,l=`data:image/svg+xml;base64,${btoa(`<svg viewBox="0 0 24 24" style="fill: ${a}" xmlns="http://www.w3.org/2000/svg">
				<path
					fill-rule="evenodd"
					clip-rule="evenodd"
					d="${i}"
				/>
			</svg>`)}`;return t.$$set=u=>{"class"in u&&e(0,r=u.class),"path"in u&&e(2,i=u.path),"color"in u&&e(3,a=u.color)},[r,l,i,a]}class ic extends ae{constructor(n){super(),ie(this,n,k$,R$,ee,{class:0,path:2,color:3})}}function I$(t){let n,e,r,i,a,o,s,l,u,c,h,f,d,p,g,m,_,v;return{c(){n=Y("div"),e=Y("button"),r=Y("img"),a=Q(),o=Y("button"),s=Y("img"),u=Q(),c=Y("span"),c.textContent="OS < 13",h=Q(),f=Y("button"),d=Y("img"),g=Q(),m=Y("span"),m.textContent="OS 13+",V(r,"class","h-20 object-contain cursor-pointer"),Yt(r.src,i=nc)||V(r,"src",i),V(r,"alt","win"),V(e,"class","m-12 h-32 w-32 bg-slate-100 flex items-center justify-center rounded-xl hover:bg-slate-200"),V(s,"class","h-20 object-contain cursor-pointer"),Yt(s.src,l=Ei)||V(s,"src",l),V(s,"alt","win"),V(o,"class","m-12 h-32 w-32 bg-slate-100 flex flex-col items-center justify-center rounded-xl hover:bg-slate-200"),V(d,"class","h-20 object-contain cursor-pointer"),Yt(d.src,p=Ei)||V(d,"src",p),V(d,"alt","win"),V(f,"class","m-12 h-32 w-32 bg-slate-100 flex flex-col items-center justify-center rounded-xl hover:bg-slate-200"),V(n,"class","flex w-full h-full items-center justify-center")},m(x,O){Et(x,n,O),B(n,e),B(e,r),B(n,a),B(n,o),B(o,s),B(o,u),B(o,c),B(n,h),B(n,f),B(f,d),B(f,g),B(f,m),_||(v=[vn(e,"click",t[4]),vn(o,"click",t[5]),vn(f,"click",t[6])],_=!0)},p:_t,i:_t,o:_t,d(x){x&&bt(n),_=!1,Vr(v)}}}function N$(t){let n,e,r,i,a,o,s,l,u,c,h,f,d,p,g,m,_,v,x,O,b,w,M,E,A,C,T;return h=new ic({props:{path:rc,class:"w-6"}}),p=new ue({props:{number:1,text:'Download dmg from <a class="text-blue-600" href="https://github.com/poketrax/PokeTrax/releases/latest/download/poketrax.dmg">here</a> and install PokeTrax',img:null}}),m=new ue({props:{number:2,text:"Run PokeTrax you will get the following error. Click 'Cancel'",img:gg}}),v=new ue({props:{number:3,text:"Click the Apple logo at the top left of you screen, Then click 'System Preferences'",img:mg}}),O=new ue({props:{number:4,text:"On the system preferences window. Click 'Security & Privacy'",img:C$}}),w=new ue({props:{number:5,text:"On the General Tab in the 'Security & Privacy' window. Click 'Open Anyway'",img:L$}}),E=new ue({props:{number:6,text:"Open PokeTrax You will get the following prompt and click 'Open'",img:M$}}),{c(){n=Y("div"),e=Y("div"),r=Y("img"),a=Q(),o=Y("div"),o.textContent="Mac OS 13+ install instructions",s=Q(),l=Y("div"),u=Q(),c=Y("button"),St(h.$$.fragment),f=Q(),d=Y("div"),St(p.$$.fragment),g=Q(),St(m.$$.fragment),_=Q(),St(v.$$.fragment),x=Q(),St(O.$$.fragment),b=Q(),St(w.$$.fragment),M=Q(),St(E.$$.fragment),V(r,"class","h-20 object-contain cursor-pointer"),Yt(r.src,i=Ei)||V(r,"src",i),V(r,"alt","macos"),V(o,"class","pl-8 text-3xl"),V(l,"class","flex-grow"),V(c,"class","btn btn-circle btn-outline mr-10"),V(e,"class","flex w-screen h-20 bg-gray-200 items-center"),V(d,"class","w-screen")},m(k,D){Et(k,n,D),B(n,e),B(e,r),B(e,a),B(e,o),B(e,s),B(e,l),B(e,u),B(e,c),wt(h,c,null),B(n,f),B(n,d),wt(p,d,null),B(d,g),wt(m,d,null),B(d,_),wt(v,d,null),B(d,x),wt(O,d,null),B(d,b),wt(w,d,null),B(d,M),wt(E,d,null),A=!0,C||(T=vn(c,"click",t[3]),C=!0)},p:_t,i(k){A||(ft(h.$$.fragment,k),ft(p.$$.fragment,k),ft(m.$$.fragment,k),ft(v.$$.fragment,k),ft(O.$$.fragment,k),ft(w.$$.fragment,k),ft(E.$$.fragment,k),A=!0)},o(k){mt(h.$$.fragment,k),mt(p.$$.fragment,k),mt(m.$$.fragment,k),mt(v.$$.fragment,k),mt(O.$$.fragment,k),mt(w.$$.fragment,k),mt(E.$$.fragment,k),A=!1},d(k){k&&bt(n),Ot(h),Ot(p),Ot(m),Ot(v),Ot(O),Ot(w),Ot(E),C=!1,T()}}}function $$(t){let n,e,r,i,a,o,s,l,u,c,h,f,d,p,g,m,_,v,x,O,b,w,M,E,A;return h=new ic({props:{path:rc,class:"w-6"}}),p=new ue({props:{number:1,text:'Download dmg from <a class="text-blue-600" href="https://github.com/poketrax/PokeTrax/releases/latest/download/poketrax.dmg">here</a> and install PokeTrax',img:null}}),m=new ue({props:{number:2,text:"Run PokeTrax you will get the following error. Click 'Cancel'",img:gg}}),v=new ue({props:{number:3,text:"Click the Apple logo at the top left of you screen, Then click 'System Preferences'",img:mg}}),O=new ue({props:{number:4,text:"On the system preferences window. Click 'Security & Privacy'",img:P$}}),w=new ue({props:{number:5,text:"On the General Tab in the 'Security & Privacy' window. Click 'Open Anyway'",img:D$}}),{c(){n=Y("div"),e=Y("div"),r=Y("img"),a=Q(),o=Y("div"),o.textContent="Mac OS install instructions",s=Q(),l=Y("div"),u=Q(),c=Y("button"),St(h.$$.fragment),f=Q(),d=Y("div"),St(p.$$.fragment),g=Q(),St(m.$$.fragment),_=Q(),St(v.$$.fragment),x=Q(),St(O.$$.fragment),b=Q(),St(w.$$.fragment),V(r,"class","h-20 object-contain cursor-pointer"),Yt(r.src,i=Ei)||V(r,"src",i),V(r,"alt","macos"),V(o,"class","pl-8 text-3xl"),V(l,"class","flex-grow"),V(c,"class","btn btn-circle btn-outline mr-10"),V(e,"class","flex w-screen h-20 bg-gray-200 items-center"),V(d,"class","w-screen")},m(C,T){Et(C,n,T),B(n,e),B(e,r),B(e,a),B(e,o),B(e,s),B(e,l),B(e,u),B(e,c),wt(h,c,null),B(n,f),B(n,d),wt(p,d,null),B(d,g),wt(m,d,null),B(d,_),wt(v,d,null),B(d,x),wt(O,d,null),B(d,b),wt(w,d,null),M=!0,E||(A=vn(c,"click",t[2]),E=!0)},p:_t,i(C){M||(ft(h.$$.fragment,C),ft(p.$$.fragment,C),ft(m.$$.fragment,C),ft(v.$$.fragment,C),ft(O.$$.fragment,C),ft(w.$$.fragment,C),M=!0)},o(C){mt(h.$$.fragment,C),mt(p.$$.fragment,C),mt(m.$$.fragment,C),mt(v.$$.fragment,C),mt(O.$$.fragment,C),mt(w.$$.fragment,C),M=!1},d(C){C&&bt(n),Ot(h),Ot(p),Ot(m),Ot(v),Ot(O),Ot(w),E=!1,A()}}}function U$(t){let n,e,r,i,a,o,s,l,u,c,h,f,d,p,g,m,_,v,x,O,b,w,M;return h=new ic({props:{path:rc,class:"w-6"}}),p=new ue({props:{number:1,text:'Download exe from <a class="text-blue-600" href="https://github.com/poketrax/PokeTrax/releases/latest/download/poketrax.exe">here</a> and install PokeTrax',img:null}}),m=new ue({props:{number:2,text:"You will get an error that looks like this. Click 'More Info'",img:S$}}),v=new ue({props:{number:3,text:"Click 'Run anyway'",img:A$}}),{c(){n=Y("div"),e=Y("div"),r=Y("img"),a=Q(),o=Y("div"),o.textContent="Windows install instructions",s=Q(),l=Y("div"),u=Q(),c=Y("button"),St(h.$$.fragment),f=Q(),d=Y("div"),St(p.$$.fragment),g=Q(),St(m.$$.fragment),_=Q(),St(v.$$.fragment),x=Q(),O=Y("div"),V(r,"class","h-20 object-contain cursor-pointer"),Yt(r.src,i=nc)||V(r,"src",i),V(r,"alt","windows"),V(o,"class","pl-8 text-3xl"),V(l,"class","flex-grow"),V(c,"class","btn btn-circle btn-outline mr-10"),V(e,"class","flex w-screen h-20 bg-gray-200 items-center"),V(d,"class","w-screen"),V(O,"class","h-8")},m(E,A){Et(E,n,A),B(n,e),B(e,r),B(e,a),B(e,o),B(e,s),B(e,l),B(e,u),B(e,c),wt(h,c,null),B(n,f),B(n,d),wt(p,d,null),B(d,g),wt(m,d,null),B(d,_),wt(v,d,null),Et(E,x,A),Et(E,O,A),b=!0,w||(M=vn(c,"click",t[1]),w=!0)},p:_t,i(E){b||(ft(h.$$.fragment,E),ft(p.$$.fragment,E),ft(m.$$.fragment,E),ft(v.$$.fragment,E),b=!0)},o(E){mt(h.$$.fragment,E),mt(p.$$.fragment,E),mt(m.$$.fragment,E),mt(v.$$.fragment,E),b=!1},d(E){E&&bt(n),Ot(h),Ot(p),Ot(m),Ot(v),E&&bt(x),E&&bt(O),w=!1,M()}}}function B$(t){let n,e,r,i;const a=[U$,$$,N$,I$],o=[];function s(l,u){return l[0]==="WIN"?0:l[0]==="MAC"?1:l[0]==="MAC-13"?2:3}return e=s(t),r=o[e]=a[e](t),{c(){n=Y("div"),r.c(),V(n,"class","w-screen h-[calc(100vh-4rem)] overflow-x-hidden overflow-auto")},m(l,u){Et(l,n,u),o[e].m(n,null),i=!0},p(l,[u]){let c=e;e=s(l),e===c?o[e].p(l,u):(oa(),mt(o[c],1,1,()=>{o[c]=null}),sa(),r=o[e],r?r.p(l,u):(r=o[e]=a[e](l),r.c()),ft(r,1),r.m(n,null))},i(l){i||(ft(r),i=!0)},o(l){mt(r),i=!1},d(l){l&&bt(n),o[e].d()}}}function V$(t,n,e){let r="";return[r,()=>e(0,r=""),()=>e(0,r=""),()=>e(0,r=""),()=>e(0,r="WIN"),()=>e(0,r="MAC"),()=>e(0,r="MAC-13")]}class G$ extends ae{constructor(n){super(),ie(this,n,V$,B$,ee,{})}}function Xh(t){let n,e;return n=new O$({}),{c(){St(n.$$.fragment)},m(r,i){wt(n,r,i),e=!0},i(r){e||(ft(n.$$.fragment,r),e=!0)},o(r){mt(n.$$.fragment,r),e=!1},d(r){Ot(n,r)}}}function Zh(t){let n,e;return n=new G$({}),{c(){St(n.$$.fragment)},m(r,i){wt(n,r,i),e=!0},i(r){e||(ft(n.$$.fragment,r),e=!0)},o(r){mt(n.$$.fragment,r),e=!1},d(r){Ot(n,r)}}}function Kh(t){let n,e;return n=new J4({}),{c(){St(n.$$.fragment)},m(r,i){wt(n,r,i),e=!0},i(r){e||(ft(n.$$.fragment,r),e=!0)},o(r){mt(n.$$.fragment,r),e=!1},d(r){Ot(n,r)}}}function F$(t){let n,e,r,i,a,o;n=new d$({});let s=t[0]==="main"&&Xh(),l=t[0]==="install"&&Zh(),u=t[0]==="metrics"&&Kh();return{c(){St(n.$$.fragment),e=Q(),s&&s.c(),r=Q(),l&&l.c(),i=Q(),u&&u.c(),a=_g()},m(c,h){wt(n,c,h),Et(c,e,h),s&&s.m(c,h),Et(c,r,h),l&&l.m(c,h),Et(c,i,h),u&&u.m(c,h),Et(c,a,h),o=!0},p(c,[h]){c[0]==="main"?s?h&1&&ft(s,1):(s=Xh(),s.c(),ft(s,1),s.m(r.parentNode,r)):s&&(oa(),mt(s,1,1,()=>{s=null}),sa()),c[0]==="install"?l?h&1&&ft(l,1):(l=Zh(),l.c(),ft(l,1),l.m(i.parentNode,i)):l&&(oa(),mt(l,1,1,()=>{l=null}),sa()),c[0]==="metrics"?u?h&1&&ft(u,1):(u=Kh(),u.c(),ft(u,1),u.m(a.parentNode,a)):u&&(oa(),mt(u,1,1,()=>{u=null}),sa())},i(c){o||(ft(n.$$.fragment,c),ft(s),ft(l),ft(u),o=!0)},o(c){mt(n.$$.fragment,c),mt(s),mt(l),mt(u),o=!1},d(c){Ot(n,c),c&&bt(e),s&&s.d(c),c&&bt(r),l&&l.d(c),c&&bt(i),u&&u.d(c),c&&bt(a)}}}function H$(t,n,e){let r;return ec.subscribe(i=>{e(0,r=i)}),[r]}class z$ extends ae{constructor(n){super(),ie(this,n,H$,F$,ee,{})}}new z$({target:document.getElementById("app")});
