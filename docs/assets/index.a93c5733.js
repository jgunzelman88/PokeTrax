var vm=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports);var x7=vm((gt,mt)=>{const bm=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerpolicy&&(a.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?a.credentials="include":o.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}};bm();function xe(){}function _n(e,r){for(const t in r)e[t]=r[t];return e}function Zu(e){return e()}function ll(){return Object.create(null)}function Mo(e){e.forEach(Zu)}function ym(e){return typeof e=="function"}function rt(e,r){return e!=e?r==r:e!==r||e&&typeof e=="object"||typeof e=="function"}let jo;function _t(e,r){return jo||(jo=document.createElement("a")),jo.href=r,e===jo.href}function wm(e){return Object.keys(e).length===0}function Ku(e){const r={};for(const t in e)t[0]!=="$"&&(r[t]=e[t]);return r}function _a(e,r){const t={};r=new Set(r);for(const n in e)!r.has(n)&&n[0]!=="$"&&(t[n]=e[n]);return t}function $(e,r){e.appendChild(r)}function Be(e,r,t){e.insertBefore(r,t||null)}function Ae(e){e.parentNode.removeChild(e)}function Q(e){return document.createElement(e)}function mr(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function oi(e){return document.createTextNode(e)}function te(){return oi(" ")}function _m(){return oi("")}function Qu(e,r,t,n){return e.addEventListener(r,t,n),()=>e.removeEventListener(r,t,n)}function G(e,r,t){t==null?e.removeAttribute(r):e.getAttribute(r)!==t&&e.setAttribute(r,t)}function fl(e,r){const t=Object.getOwnPropertyDescriptors(e.__proto__);for(const n in r)r[n]==null?e.removeAttribute(n):n==="style"?e.style.cssText=r[n]:n==="__value"?e.value=e[n]=r[n]:t[n]&&t[n].set?e[n]=r[n]:G(e,n,r[n])}function xm(e){return Array.from(e.childNodes)}function Ju(e,r){r=""+r,e.wholeText!==r&&(e.data=r)}function km(e,r,{bubbles:t=!1,cancelable:n=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(e,t,n,r),o}let lo;function ro(e){lo=e}function ep(){if(!lo)throw new Error("Function called outside component initialization");return lo}function Sm(e){ep().$$.on_mount.push(e)}function Mm(){const e=ep();return(r,t,{cancelable:n=!1}={})=>{const o=e.$$.callbacks[r];if(o){const a=km(r,t,{cancelable:n});return o.slice().forEach(i=>{i.call(e,a)}),!a.defaultPrevented}return!0}}function Bi(e,r){const t=e.$$.callbacks[r.type];t&&t.slice().forEach(n=>n.call(this,r))}const Yn=[],fo=[],sa=[],vs=[],Em=Promise.resolve();let bs=!1;function Tm(){bs||(bs=!0,Em.then(tp))}function ys(e){sa.push(e)}function ul(e){vs.push(e)}const Ii=new Set;let qo=0;function tp(){const e=lo;do{for(;qo<Yn.length;){const r=Yn[qo];qo++,ro(r),Om(r.$$)}for(ro(null),Yn.length=0,qo=0;fo.length;)fo.pop()();for(let r=0;r<sa.length;r+=1){const t=sa[r];Ii.has(t)||(Ii.add(t),t())}sa.length=0}while(Yn.length);for(;vs.length;)vs.pop()();bs=!1,Ii.clear(),ro(e)}function Om(e){if(e.fragment!==null){e.update(),Mo(e.before_update);const r=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,r),e.after_update.forEach(ys)}}const ca=new Set;let Pr;function zi(){Pr={r:0,c:[],p:Pr}}function Li(){Pr.r||Mo(Pr.c),Pr=Pr.p}function be(e,r){e&&e.i&&(ca.delete(e),e.i(r))}function _e(e,r,t,n){if(e&&e.o){if(ca.has(e))return;ca.add(e),Pr.c.push(()=>{ca.delete(e),n&&(t&&e.d(1),n())}),e.o(r)}}function rp(e,r){const t={},n={},o={$$scope:1};let a=e.length;for(;a--;){const i=e[a],s=r[a];if(s){for(const c in i)c in s||(n[c]=1);for(const c in s)o[c]||(t[c]=s[c],o[c]=1);e[a]=s}else for(const c in i)o[c]=1}for(const i in n)i in t||(t[i]=void 0);return t}function Am(e){return typeof e=="object"&&e!==null?e:{}}function pl(e,r,t){const n=e.$$.props[r];n!==void 0&&(e.$$.bound[n]=t,t(e.$$.ctx[n]))}function De(e){e&&e.c()}function Ue(e,r,t,n){const{fragment:o,on_mount:a,on_destroy:i,after_update:s}=e.$$;o&&o.m(r,t),n||ys(()=>{const c=a.map(Zu).filter(ym);i?i.push(...c):Mo(c),e.$$.on_mount=[]}),s.forEach(ys)}function Ce(e,r){const t=e.$$;t.fragment!==null&&(Mo(t.on_destroy),t.fragment&&t.fragment.d(r),t.on_destroy=t.fragment=null,t.ctx=[])}function Pm(e,r){e.$$.dirty[0]===-1&&(Yn.push(e),Tm(),e.$$.dirty.fill(0)),e.$$.dirty[r/31|0]|=1<<r%31}function st(e,r,t,n,o,a,i,s=[-1]){const c=lo;ro(e);const d=e.$$={fragment:null,ctx:null,props:a,update:xe,not_equal:o,bound:ll(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(r.context||(c?c.$$.context:[])),callbacks:ll(),dirty:s,skip_bound:!1,root:r.target||c.$$.root};i&&i(d.root);let l=!1;if(d.ctx=t?t(e,r.props||{},(f,u,...h)=>{const p=h.length?h[0]:u;return d.ctx&&o(d.ctx[f],d.ctx[f]=p)&&(!d.skip_bound&&d.bound[f]&&d.bound[f](p),l&&Pm(e,f)),u}):[],d.update(),l=!0,Mo(d.before_update),d.fragment=n?n(d.ctx):!1,r.target){if(r.hydrate){const f=xm(r.target);d.fragment&&d.fragment.l(f),f.forEach(Ae)}else d.fragment&&d.fragment.c();r.intro&&be(e.$$.fragment),Ue(e,r.target,r.anchor,r.customElement),tp()}ro(c)}class ct{$destroy(){Ce(this,1),this.$destroy=xe}$on(r,t){const n=this.$$.callbacks[r]||(this.$$.callbacks[r]=[]);return n.push(t),()=>{const o=n.indexOf(t);o!==-1&&n.splice(o,1)}}$set(r){this.$$set&&!wm(r)&&(this.$$.skip_bound=!0,this.$$set(r),this.$$.skip_bound=!1)}}var fe;(function(e){e.GRAPHICS_DOCUMENT="graphics-document",e.GRAPHICS_OBJECT="graphics-object",e.GRAPHICS_SYMBOL="graphics-symbol",e.GROUP="group",e.DOCUMENT="document",e.CHECKBOX="checkbox",e.BUTTON="button",e.MENU="menu",e.MENU_ITEM="menuitem",e.IMG="img"})(fe||(fe={}));var ws;(function(e){e.RENDER_FINISHED="render-finished",e.RESIZE="chart-resize",e.MOUSEOVER="chart-mouseover",e.MOUSEOUT="chart-mouseout"})(ws||(ws={}));var _s;(function(e){e.SHOW="show-modal",e.HIDE="hide-modal"})(_s||(_s={}));var xs;(function(e){e.UPDATE="model-update"})(xs||(xs={}));var ks;(function(e){e.SHOW_OVERFLOW_MENU="show-toolbar-overflow-menu",e.HIDE_OVERFLOW_MENU="hide-toolbar-overflow-menu",e.BUTTON_CLICK="toolbar-button-click"})(ks||(ks={}));var Ss;(function(e){e.UPDATE="zoom-bar-update",e.SELECTION_START="zoom-bar-selection-start",e.SELECTION_IN_PROGRESS="zoom-bar-selection-in-progress",e.SELECTION_END="zoom-bar-selection-end"})(Ss||(Ss={}));var Ms;(function(e){e.CHANGE="zoom-domain-change"})(Ms||(Ms={}));var Es;(function(e){e.CANVAS_ZOOM_IN="canvas-zoom-in",e.CANVAS_ZOOM_OUT="canvas-zoom-out"})(Es||(Es={}));var Ts;(function(e){e.LABEL_MOUSEOVER="axis-label-mouseover",e.LABEL_MOUSEMOVE="axis-label-mousemove",e.LABEL_CLICK="axis-label-click",e.LABEL_MOUSEOUT="axis-label-mouseout",e.LABEL_FOCUS="axis-label-focus",e.LABEL_BLUR="axis-label-blur",e.RENDER_COMPLETE="axis-render-complete"})(Ts||(Ts={}));var Os;(function(e){e.POINT_MOUSEOVER="scatter-mouseover",e.POINT_MOUSEMOVE="scatter-mousemove",e.POINT_CLICK="scatter-click",e.POINT_MOUSEOUT="scatter-mouseout"})(Os||(Os={}));var As;(function(e){e.WORD_MOUSEOVER="wordcloud-word-mouseover",e.WORD_MOUSEMOVE="wordcloud-word-mousemove",e.WORD_CLICK="wordcloud-word-click",e.WORD_MOUSEOUT="wordcloud-word-mouseout"})(As||(As={}));var Ps;(function(e){e.SLICE_MOUSEOVER="pie-slice-mouseover",e.SLICE_MOUSEMOVE="pie-slice-mousemove",e.SLICE_CLICK="pie-slice-click",e.SLICE_MOUSEOUT="pie-slice-mouseout"})(Ps||(Ps={}));var Us;(function(e){e.ARC_MOUSEOVER="gauge-arc-mouseover",e.ARC_MOUSEMOVE="gauge-arc-mousemove",e.ARC_CLICK="gauge-arc-click",e.ARC_MOUSEOUT="gauge-arc-mouseout"})(Us||(Us={}));var Cs;(function(e){e.BAR_MOUSEOVER="bar-mouseover",e.BAR_MOUSEMOVE="bar-mousemove",e.BAR_CLICK="bar-click",e.BAR_MOUSEOUT="bar-mouseout"})(Cs||(Cs={}));var Bs;(function(e){e.BOX_MOUSEOVER="box-mouseover",e.BOX_MOUSEMOVE="box-mousemove",e.BOX_CLICK="box-click",e.BOX_MOUSEOUT="box-mouseout",e.OUTLIER_MOUSEOVER="outlier-mouseover",e.OUTLIER_MOUSEMOVE="outlier-mousemove",e.OUTLIER_CLICK="outlier-click",e.OUTLIER_MOUSEOUT="outlier-mouseout"})(Bs||(Bs={}));var Is;(function(e){e.SCATTER_MOUSEOVER="scatter-mouseover",e.SCATTER_MOUSEMOVE="scatter-mousemove",e.SCATTER_CLICK="scatter-click",e.SCATTER_MOUSEOUT="scatter-mouseout"})(Is||(Is={}));var zs;(function(e){e.POINT_MOUSEOVER="scatter-mouseover",e.POINT_MOUSEMOVE="scatter-mousemove",e.POINT_CLICK="scatter-click",e.POINT_MOUSEOUT="scatter-mouseout"})(zs||(zs={}));var Ls;(function(e){e.X_AXIS_MOUSEOVER="radar-x-axis-mouseover",e.X_AXIS_MOUSEMOVE="radar-x-axis-mousemove",e.X_AXIS_CLICK="radar-x-axis-click",e.X_AXIS_MOUSEOUT="radar-x-axis-mouseout"})(Ls||(Ls={}));var Ds;(function(e){e.NODE_MOUSEOVER="tree-node-mouseover",e.NODE_CLICK="tree-node-click",e.NODE_MOUSEOUT="tree-node-mouseout"})(Ds||(Ds={}));var Rs;(function(e){e.LEAF_MOUSEOVER="leaf-mouseover",e.LEAF_MOUSEMOVE="leaf-mousemove",e.LEAF_CLICK="leaf-click",e.LEAF_MOUSEOUT="leaf-mouseout"})(Rs||(Rs={}));var Fs;(function(e){e.SHOW="show-tooltip",e.MOVE="move-tooltip",e.HIDE="hide-tooltip"})(Fs||(Fs={}));var Ns;(function(e){e.SHOW="show-threshold",e.HIDE="hide-threshold"})(Ns||(Ns={}));var Vs;(function(e){e.ITEM_HOVER="legend-item-onhover",e.ITEM_CLICK="legend-item-onclick",e.ITEM_MOUSEOUT="legend-item-onmouseout",e.ITEMS_UPDATE="legend-items-update"})(Vs||(Vs={}));var $s;(function(e){e.CIRCLE_MOUSEOVER="circle-leaf-mouseover",e.CIRCLE_CLICK="circle-leaf-click",e.CIRCLE_MOUSEOUT="circle-leaf-mouseout",e.CIRCLE_MOUSEMOVE="circle-leaf-mousemove"})($s||($s={}));var Hs;(function(e){e.NODE_MOUSEOVER="alluvial-node-mouseover",e.NODE_CLICK="alluvial-node-click",e.NODE_MOUSEOUT="alluvial-node-mouseout",e.NODE_MOUSEMOVE="alluvial-node-mousemove",e.LINE_MOUSEOVER="alluvial-line-mouseover",e.LINE_CLICK="alluvial-line-click",e.LINE_MOUSEOUT="alluvial-line-mouseout",e.LINE_MOUSEMOVE="alluvial-line-mousemove"})(Hs||(Hs={}));var Gs;(function(e){e.METER_MOUSEOVER="meter-mouseover",e.METER_CLICK="meter-click",e.METER_MOUSEOUT="meter-mouseout",e.METER_MOUSEMOVE="meter-mousemove"})(Gs||(Gs={}));var js;(function(e){e.HEATMAP_MOUSEOVER="heatmap-mouseover",e.HEATMAP_CLICK="heatmap-click",e.HEATMAP_MOUSEOUT="heatmap-mouseout",e.HEATMAP_MOUSEMOVE="hetmap-mousemove"})(js||(js={}));var Um=Object.freeze(Object.defineProperty({__proto__:null,get Chart(){return ws},get Modal(){return _s},get Model(){return xs},get Toolbar(){return ks},get ZoomBar(){return Ss},get ZoomDomain(){return Ms},get CanvasZoom(){return Es},get Axis(){return Ts},get Area(){return Os},get WordCloud(){return As},get Pie(){return Ps},get Gauge(){return Us},get Bar(){return Cs},get Boxplot(){return Bs},get Scatter(){return Is},get Line(){return zs},get Radar(){return Ls},get Tree(){return Ds},get Treemap(){return Rs},get Tooltip(){return Fs},get Threshold(){return Ns},get Legend(){return Vs},get CirclePack(){return $s},get Alluvial(){return Hs},get Meter(){return Gs},get Heatmap(){return js}},Symbol.toStringTag,{value:"Module"})),E=Um,oe;(function(e){e.HTML="html",e.SVG="svg"})(oe||(oe={}));var hl;(function(e){e.DEFAULT="default",e.G100="g100",e.G90="g90",e.G10="g10"})(hl||(hl={}));var ie;(function(e){e.BACKGROUND="background",e.FILL="fill",e.STROKE="stroke",e.TOOLTIP="tooltip"})(ie||(ie={}));var W;(function(e){e.LEFT="left",e.RIGHT="right",e.TOP="top",e.BOTTOM="bottom"})(W||(W={}));var Et;(function(e){e.GRAPH_VIEW="graph_view",e.SLIDER_VIEW="slider_view"})(Et||(Et={}));var tr;(function(e){e.END_LINE="end_line",e.MID_LINE="mid_line",e.FRONT_LINE="front_line",e.NONE="none"})(tr||(tr={}));var He;(function(e){e.VERTICAL="vertical",e.HORIZONTAL="horizontal"})(He||(He={}));var ne;(function(e){e.TIME="time",e.LINEAR="linear",e.LOG="log",e.LABELS="labels",e.LABELS_RATIO="labels-ratio"})(ne||(ne={}));var gn;(function(e){e.RIGHT="right",e.LEFT="left",e.TOP="top",e.BOTTOM="bottom"})(gn||(gn={}));var $e;(function(e){e.LEFT="left",e.CENTER="center",e.RIGHT="right"})($e||($e={}));var xn;(function(e){e.HORIZONTAL="horizontal",e.VERTICAL="vertical"})(xn||(xn={}));var xa;(function(e){e.TREE="tree",e.DENDROGRAM="dendrogram"})(xa||(xa={}));var Ie;(function(e){e.ROW="row",e.COLUMN="column",e.ROW_REVERSE="row-reverse",e.COLUMN_REVERSE="column-reverse"})(Ie||(Ie={}));var me;(function(e){e.FIXED="fixed",e.PREFERRED="preferred",e.STRETCH="stretch"})(me||(me={}));var kn;(function(e){e.CENTER="center"})(kn||(kn={}));var no;(function(e){e.LEFT="left",e.RIGHT="right"})(no||(no={}));var Ve;(function(e){e.GRID="grid",e.VERT_OR_HORIZ="vertOrHoriz",e.PIE="pie",e.DONUT="donut"})(Ve||(Ve={}));var It;(function(e){e.START="start",e.MIDDLE="middle",e.END="end"})(It||(It={}));var zt;(function(e){e.BASELINE="baseline",e.MIDDLE="middle",e.HANGING="hanging"})(zt||(zt={}));var Ur;(function(e){e.SEMI="semi",e.FULL="full"})(Ur||(Ur={}));var ka;(function(e){e.UP="up",e.DOWN="down"})(ka||(ka={}));var oo;(function(e){e.SUCCESS="success",e.WARNING="warning",e.DANGER="danger"})(oo||(oo={}));var ao;(function(e){e.ALWAYS="always",e.AUTO="auto",e.NEVER="never"})(ao||(ao={}));var pt;(function(e){e.SCATTER="scatter",e.LINE="line",e.SIMPLE_BAR="simple-bar",e.STACKED_BAR="stacked-bar",e.GROUPED_BAR="grouped-bar",e.AREA="area",e.STACKED_AREA="stacked-area"})(pt||(pt={}));var Pe;(function(e){e.EXPORT_CSV="Export as CSV",e.EXPORT_PNG="Export as PNG",e.EXPORT_JPG="Export as JPG",e.ZOOM_IN="Zoom in",e.ZOOM_OUT="Zoom out",e.RESET_ZOOM="Reset zoom",e.MAKE_FULLSCREEN="Make fullscreen",e.SHOW_AS_DATATABLE="Show as data-table",e.CUSTOM="Custom"})(Pe||(Pe={}));var Sa;(function(e){e.LEFT="left",e.RIGHT="right"})(Sa||(Sa={}));var Ne;(function(e){e.CHECKBOX="checkbox",e.RADIUS="radius",e.AREA="area",e.SIZE="size",e.LINE="line",e.QUARTILE="quartile",e.ZOOM="zoom"})(Ne||(Ne={}));var io;(function(e){e.LINEAR="linear",e.QUANTIZE="quantize"})(io||(io={}));var mn;(function(e){e.ON="on",e.AUTO="auto",e.OFF="off"})(mn||(mn={}));var uo;(function(e){e.DEFAULT="default",e.HOVERABLE="hoverable"})(uo||(uo={}));const Cm=e=>+e;function np(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Wo,et="cds",Dt={opacity:{unselected:.05,selected:.4}},Qt={ticks:{number:7,rotateIfSmallerThan:30,verticalSpaceRatio:2.5,horizontalSpaceRatio:3.5},ratio:{reference:"value",compareTo:"marker"},paddingRatio:.1,hover:{rectanglePadding:4}},vn={duration:1e3,ease:np,zoomLevel:3},Or={circles:{fillOpacity:.3,hover:{stroke:"#FFF"}},padding:{mainGroup:4,children:2},hierarchyLevel:2},nd={pairingOptions:{"1-color":4,"2-color":5,"3-color":5,"4-color":3,"5-color":2,"14-color":1}},ut={circle:{radius:4,opacity:{hovered:1,default:.3}},box:{opacity:{hovered:.5,default:.3}},strokeWidth:{default:1,thicker:2}},op={defaultBins:10},Le={items:{status:{ACTIVE:1,DISABLED:0},horizontalSpace:12,verticalSpace:24,textYOffset:8,spaceAfter:4},checkbox:{radius:6.5},radius:{iconData:[{cx:7,cy:7,r:6.5},{cx:7,cy:10,r:3.5}],fill:null,stroke:"#8c8c8c"},line:{yPosition:6,width:24,strokeWidth:1.4,fill:null,stroke:"#999999"},area:{width:24,height:14,fill:"#6f6f6f",stroke:null},size:{iconData:[{width:23,height:12},{width:13,height:6}],fill:null,stroke:"#8D8D8D"},quartile:{iconData:[{x:0,y:0,width:24,height:13},{x:11,y:4,width:1,height:4}]},zoom:{iconData:[{x:0,y:0,width:12,height:12}],color:"#8D8D8D"},color:{barWidth:300,barHeight:8,axisYTranslation:10}},Lt={opacity:{unselected:.3,selected:1},weight:{selected:2,unselected:1}},Ge={statusBar:{paddingRight:5},status:{indicatorSize:16,paddingLeft:15},total:{paddingLeft:36,paddingRight:24},height:{default:8,proportional:16},dividerWidth:2},Se={radiusOffset:-15,innerRadius:2,padAngle:.007,hoverArc:{outerRadiusOffset:3},xOffset:30,yOffset:20,yOffsetCallout:10,callout:{minSliceDegree:5,offsetX:15,offsetY:12,horizontalLineLength:8,textMargin:2}},gr={opacity:{unselected:.1,selected:.3},xLabelPadding:10,yLabelPadding:8,yTicksNumber:4,minRange:10,xAxisRectHeight:50,dotsRadius:5},wt={nodeWidth:4,nodeHoveredWidth:8,minNodePadding:24,opacity:{unfocus:.3,default:.8,selected:1}},qs={minCellDividerDimension:16,chartPadding:.5},Ws={default:{size:24}},ap={horizontalOffset:10},Ys={default:{duration:300},pie_slice_mouseover:{duration:100},pie_chart_titles:{duration:375},graph_element_mouseover_fill_update:{duration:100},graph_element_mouseout_fill_update:{duration:100}},Bm={buttonSize:32,iconSize:20,height:32,spacerHeight:10,iconPadding:6},at={height:(Wo={},Wo[Et.GRAPH_VIEW]=32,Wo[Et.SLIDER_VIEW]=10,Wo),spacerHeight:8,handleWidth:5,handleBarWidth:1,handleBarHeight:12},ip=[{type:Ne.RADIUS,name:"Radius"},{type:Ne.AREA,name:"Poor area"},{type:Ne.AREA,name:"Satisfactory area"},{type:Ne.AREA,name:"Great area"},{type:Ne.QUARTILE,name:"Quartiles"}],Im=typeof global=="object"&&global&&global.Object===Object&&global,sp=Im,zm=typeof self=="object"&&self&&self.Object===Object&&self,Lm=sp||zm||Function("return this")(),Pt=Lm,Dm=Pt.Symbol,kt=Dm,cp=Object.prototype,Rm=cp.hasOwnProperty,Fm=cp.toString,Fn=kt?kt.toStringTag:void 0;function Nm(e){var r=Rm.call(e,Fn),t=e[Fn];try{e[Fn]=void 0;var n=!0}catch{}var o=Fm.call(e);return n&&(r?e[Fn]=t:delete e[Fn]),o}var Vm=Object.prototype,$m=Vm.toString;function Hm(e){return $m.call(e)}var Gm="[object Null]",jm="[object Undefined]",gl=kt?kt.toStringTag:void 0;function Hr(e){return e==null?e===void 0?jm:Gm:gl&&gl in Object(e)?Nm(e):Hm(e)}function $t(e){return e!=null&&typeof e=="object"}var qm="[object Symbol]";function ai(e){return typeof e=="symbol"||$t(e)&&Hr(e)==qm}function dp(e,r){for(var t=-1,n=e==null?0:e.length,o=Array(n);++t<n;)o[t]=r(e[t],t,e);return o}var Wm=Array.isArray,Xe=Wm,Ym=1/0,ml=kt?kt.prototype:void 0,vl=ml?ml.toString:void 0;function lp(e){if(typeof e=="string")return e;if(Xe(e))return dp(e,lp)+"";if(ai(e))return vl?vl.call(e):"";var r=e+"";return r=="0"&&1/e==-Ym?"-0":r}var Xm=/\s/;function Zm(e){for(var r=e.length;r--&&Xm.test(e.charAt(r)););return r}var Km=/^\s+/;function Qm(e){return e&&e.slice(0,Zm(e)+1).replace(Km,"")}function St(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}var bl=0/0,Jm=/^[-+]0x[0-9a-f]+$/i,ev=/^0b[01]+$/i,tv=/^0o[0-7]+$/i,rv=parseInt;function so(e){if(typeof e=="number")return e;if(ai(e))return bl;if(St(e)){var r=typeof e.valueOf=="function"?e.valueOf():e;e=St(r)?r+"":r}if(typeof e!="string")return e===0?e:+e;e=Qm(e);var t=ev.test(e);return t||tv.test(e)?rv(e.slice(2),t?2:8):Jm.test(e)?bl:+e}function od(e){return e}var nv="[object AsyncFunction]",ov="[object Function]",av="[object GeneratorFunction]",iv="[object Proxy]";function ad(e){if(!St(e))return!1;var r=Hr(e);return r==ov||r==av||r==nv||r==iv}var sv=Pt["__core-js_shared__"],Di=sv,yl=function(){var e=/[^.]+$/.exec(Di&&Di.keys&&Di.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function cv(e){return!!yl&&yl in e}var dv=Function.prototype,lv=dv.toString;function Gr(e){if(e!=null){try{return lv.call(e)}catch{}try{return e+""}catch{}}return""}var fv=/[\\^$.*+?()[\]{}|]/g,uv=/^\[object .+?Constructor\]$/,pv=Function.prototype,hv=Object.prototype,gv=pv.toString,mv=hv.hasOwnProperty,vv=RegExp("^"+gv.call(mv).replace(fv,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function bv(e){if(!St(e)||cv(e))return!1;var r=ad(e)?vv:uv;return r.test(Gr(e))}function yv(e,r){return e==null?void 0:e[r]}function jr(e,r){var t=yv(e,r);return bv(t)?t:void 0}var wv=jr(Pt,"WeakMap"),Xs=wv,wl=Object.create,_v=function(){function e(){}return function(r){if(!St(r))return{};if(wl)return wl(r);e.prototype=r;var t=new e;return e.prototype=void 0,t}}(),xv=_v;function kv(e,r,t){switch(t.length){case 0:return e.call(r);case 1:return e.call(r,t[0]);case 2:return e.call(r,t[0],t[1]);case 3:return e.call(r,t[0],t[1],t[2])}return e.apply(r,t)}function Sv(){}function fp(e,r){var t=-1,n=e.length;for(r||(r=Array(n));++t<n;)r[t]=e[t];return r}var Mv=800,Ev=16,Tv=Date.now;function Ov(e){var r=0,t=0;return function(){var n=Tv(),o=Ev-(n-t);if(t=n,o>0){if(++r>=Mv)return arguments[0]}else r=0;return e.apply(void 0,arguments)}}function Av(e){return function(){return e}}var Pv=function(){try{var e=jr(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Ma=Pv,Uv=Ma?function(e,r){return Ma(e,"toString",{configurable:!0,enumerable:!1,value:Av(r),writable:!0})}:od,Cv=Uv,Bv=Ov(Cv),Iv=Bv;function zv(e,r){for(var t=-1,n=e==null?0:e.length;++t<n&&r(e[t],t,e)!==!1;);return e}function Lv(e,r,t,n){for(var o=e.length,a=t+(n?1:-1);n?a--:++a<o;)if(r(e[a],a,e))return a;return-1}function Dv(e){return e!==e}function Rv(e,r,t){for(var n=t-1,o=e.length;++n<o;)if(e[n]===r)return n;return-1}function Fv(e,r,t){return r===r?Rv(e,r,t):Lv(e,Dv,t)}function Nv(e,r){var t=e==null?0:e.length;return!!t&&Fv(e,r,0)>-1}var Vv=9007199254740991,$v=/^(?:0|[1-9]\d*)$/;function id(e,r){var t=typeof e;return r=r==null?Vv:r,!!r&&(t=="number"||t!="symbol"&&$v.test(e))&&e>-1&&e%1==0&&e<r}function ii(e,r,t){r=="__proto__"&&Ma?Ma(e,r,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[r]=t}function Eo(e,r){return e===r||e!==e&&r!==r}var Hv=Object.prototype,Gv=Hv.hasOwnProperty;function up(e,r,t){var n=e[r];(!(Gv.call(e,r)&&Eo(n,t))||t===void 0&&!(r in e))&&ii(e,r,t)}function To(e,r,t,n){var o=!t;t||(t={});for(var a=-1,i=r.length;++a<i;){var s=r[a],c=n?n(t[s],e[s],s,t,e):void 0;c===void 0&&(c=e[s]),o?ii(t,s,c):up(t,s,c)}return t}var _l=Math.max;function jv(e,r,t){return r=_l(r===void 0?e.length-1:r,0),function(){for(var n=arguments,o=-1,a=_l(n.length-r,0),i=Array(a);++o<a;)i[o]=n[r+o];o=-1;for(var s=Array(r+1);++o<r;)s[o]=n[o];return s[r]=t(i),kv(e,this,s)}}function pp(e,r){return Iv(jv(e,r,od),e+"")}var qv=9007199254740991;function sd(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=qv}function qr(e){return e!=null&&sd(e.length)&&!ad(e)}function hp(e,r,t){if(!St(t))return!1;var n=typeof r;return(n=="number"?qr(t)&&id(r,t.length):n=="string"&&r in t)?Eo(t[r],e):!1}function Wv(e){return pp(function(r,t){var n=-1,o=t.length,a=o>1?t[o-1]:void 0,i=o>2?t[2]:void 0;for(a=e.length>3&&typeof a=="function"?(o--,a):void 0,i&&hp(t[0],t[1],i)&&(a=o<3?void 0:a,o=1),r=Object(r);++n<o;){var s=t[n];s&&e(r,s,n,a)}return r})}var Yv=Object.prototype;function si(e){var r=e&&e.constructor,t=typeof r=="function"&&r.prototype||Yv;return e===t}function Xv(e,r){for(var t=-1,n=Array(e);++t<e;)n[t]=r(t);return n}var Zv="[object Arguments]";function xl(e){return $t(e)&&Hr(e)==Zv}var gp=Object.prototype,Kv=gp.hasOwnProperty,Qv=gp.propertyIsEnumerable,Jv=xl(function(){return arguments}())?xl:function(e){return $t(e)&&Kv.call(e,"callee")&&!Qv.call(e,"callee")},Sn=Jv;function e0(){return!1}var mp=typeof gt=="object"&&gt&&!gt.nodeType&&gt,kl=mp&&typeof mt=="object"&&mt&&!mt.nodeType&&mt,t0=kl&&kl.exports===mp,Sl=t0?Pt.Buffer:void 0,r0=Sl?Sl.isBuffer:void 0,n0=r0||e0,Mn=n0,o0="[object Arguments]",a0="[object Array]",i0="[object Boolean]",s0="[object Date]",c0="[object Error]",d0="[object Function]",l0="[object Map]",f0="[object Number]",u0="[object Object]",p0="[object RegExp]",h0="[object Set]",g0="[object String]",m0="[object WeakMap]",v0="[object ArrayBuffer]",b0="[object DataView]",y0="[object Float32Array]",w0="[object Float64Array]",_0="[object Int8Array]",x0="[object Int16Array]",k0="[object Int32Array]",S0="[object Uint8Array]",M0="[object Uint8ClampedArray]",E0="[object Uint16Array]",T0="[object Uint32Array]",Oe={};Oe[y0]=Oe[w0]=Oe[_0]=Oe[x0]=Oe[k0]=Oe[S0]=Oe[M0]=Oe[E0]=Oe[T0]=!0;Oe[o0]=Oe[a0]=Oe[v0]=Oe[i0]=Oe[b0]=Oe[s0]=Oe[c0]=Oe[d0]=Oe[l0]=Oe[f0]=Oe[u0]=Oe[p0]=Oe[h0]=Oe[g0]=Oe[m0]=!1;function O0(e){return $t(e)&&sd(e.length)&&!!Oe[Hr(e)]}function cd(e){return function(r){return e(r)}}var vp=typeof gt=="object"&&gt&&!gt.nodeType&&gt,co=vp&&typeof mt=="object"&&mt&&!mt.nodeType&&mt,A0=co&&co.exports===vp,Ri=A0&&sp.process,P0=function(){try{var e=co&&co.require&&co.require("util").types;return e||Ri&&Ri.binding&&Ri.binding("util")}catch{}}(),En=P0,Ml=En&&En.isTypedArray,U0=Ml?cd(Ml):O0,ci=U0,C0=Object.prototype,B0=C0.hasOwnProperty;function bp(e,r){var t=Xe(e),n=!t&&Sn(e),o=!t&&!n&&Mn(e),a=!t&&!n&&!o&&ci(e),i=t||n||o||a,s=i?Xv(e.length,String):[],c=s.length;for(var d in e)(r||B0.call(e,d))&&!(i&&(d=="length"||o&&(d=="offset"||d=="parent")||a&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||id(d,c)))&&s.push(d);return s}function yp(e,r){return function(t){return e(r(t))}}var I0=yp(Object.keys,Object),z0=I0,L0=Object.prototype,D0=L0.hasOwnProperty;function wp(e){if(!si(e))return z0(e);var r=[];for(var t in Object(e))D0.call(e,t)&&t!="constructor"&&r.push(t);return r}function Oo(e){return qr(e)?bp(e):wp(e)}function R0(e){var r=[];if(e!=null)for(var t in Object(e))r.push(t);return r}var F0=Object.prototype,N0=F0.hasOwnProperty;function V0(e){if(!St(e))return R0(e);var r=si(e),t=[];for(var n in e)n=="constructor"&&(r||!N0.call(e,n))||t.push(n);return t}function Ao(e){return qr(e)?bp(e,!0):V0(e)}var $0=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,H0=/^\w*$/;function dd(e,r){if(Xe(e))return!1;var t=typeof e;return t=="number"||t=="symbol"||t=="boolean"||e==null||ai(e)?!0:H0.test(e)||!$0.test(e)||r!=null&&e in Object(r)}var G0=jr(Object,"create"),po=G0;function j0(){this.__data__=po?po(null):{},this.size=0}function q0(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}var W0="__lodash_hash_undefined__",Y0=Object.prototype,X0=Y0.hasOwnProperty;function Z0(e){var r=this.__data__;if(po){var t=r[e];return t===W0?void 0:t}return X0.call(r,e)?r[e]:void 0}var K0=Object.prototype,Q0=K0.hasOwnProperty;function J0(e){var r=this.__data__;return po?r[e]!==void 0:Q0.call(r,e)}var eb="__lodash_hash_undefined__";function tb(e,r){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=po&&r===void 0?eb:r,this}function zr(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}zr.prototype.clear=j0;zr.prototype.delete=q0;zr.prototype.get=Z0;zr.prototype.has=J0;zr.prototype.set=tb;function rb(){this.__data__=[],this.size=0}function di(e,r){for(var t=e.length;t--;)if(Eo(e[t][0],r))return t;return-1}var nb=Array.prototype,ob=nb.splice;function ab(e){var r=this.__data__,t=di(r,e);if(t<0)return!1;var n=r.length-1;return t==n?r.pop():ob.call(r,t,1),--this.size,!0}function ib(e){var r=this.__data__,t=di(r,e);return t<0?void 0:r[t][1]}function sb(e){return di(this.__data__,e)>-1}function cb(e,r){var t=this.__data__,n=di(t,e);return n<0?(++this.size,t.push([e,r])):t[n][1]=r,this}function or(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}or.prototype.clear=rb;or.prototype.delete=ab;or.prototype.get=ib;or.prototype.has=sb;or.prototype.set=cb;var db=jr(Pt,"Map"),ho=db;function lb(){this.size=0,this.__data__={hash:new zr,map:new(ho||or),string:new zr}}function fb(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}function li(e,r){var t=e.__data__;return fb(r)?t[typeof r=="string"?"string":"hash"]:t.map}function ub(e){var r=li(this,e).delete(e);return this.size-=r?1:0,r}function pb(e){return li(this,e).get(e)}function hb(e){return li(this,e).has(e)}function gb(e,r){var t=li(this,e),n=t.size;return t.set(e,r),this.size+=t.size==n?0:1,this}function ar(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}ar.prototype.clear=lb;ar.prototype.delete=ub;ar.prototype.get=pb;ar.prototype.has=hb;ar.prototype.set=gb;var mb="Expected a function";function ld(e,r){if(typeof e!="function"||r!=null&&typeof r!="function")throw new TypeError(mb);var t=function(){var n=arguments,o=r?r.apply(this,n):n[0],a=t.cache;if(a.has(o))return a.get(o);var i=e.apply(this,n);return t.cache=a.set(o,i)||a,i};return t.cache=new(ld.Cache||ar),t}ld.Cache=ar;var vb=500;function bb(e){var r=ld(e,function(n){return t.size===vb&&t.clear(),n}),t=r.cache;return r}var yb=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,wb=/\\(\\)?/g,_b=bb(function(e){var r=[];return e.charCodeAt(0)===46&&r.push(""),e.replace(yb,function(t,n,o,a){r.push(o?a.replace(wb,"$1"):n||t)}),r}),xb=_b;function Po(e){return e==null?"":lp(e)}function _p(e,r){return Xe(e)?e:dd(e,r)?[e]:xb(Po(e))}var kb=1/0;function fi(e){if(typeof e=="string"||ai(e))return e;var r=e+"";return r=="0"&&1/e==-kb?"-0":r}function xp(e,r){r=_p(r,e);for(var t=0,n=r.length;e!=null&&t<n;)e=e[fi(r[t++])];return t&&t==n?e:void 0}function Te(e,r,t){var n=e==null?void 0:xp(e,r);return n===void 0?t:n}function fd(e,r){for(var t=-1,n=r.length,o=e.length;++t<n;)e[o+t]=r[t];return e}var El=kt?kt.isConcatSpreadable:void 0;function Sb(e){return Xe(e)||Sn(e)||!!(El&&e&&e[El])}function ui(e,r,t,n,o){var a=-1,i=e.length;for(t||(t=Sb),o||(o=[]);++a<i;){var s=e[a];r>0&&t(s)?r>1?ui(s,r-1,t,n,o):fd(o,s):n||(o[o.length]=s)}return o}function Mb(e){var r=e==null?0:e.length;return r?ui(e,1):[]}var Eb=yp(Object.getPrototypeOf,Object),ud=Eb,Tb="[object Object]",Ob=Function.prototype,Ab=Object.prototype,kp=Ob.toString,Pb=Ab.hasOwnProperty,Ub=kp.call(Object);function Cb(e){if(!$t(e)||Hr(e)!=Tb)return!1;var r=ud(e);if(r===null)return!0;var t=Pb.call(r,"constructor")&&r.constructor;return typeof t=="function"&&t instanceof t&&kp.call(t)==Ub}function Bb(e,r,t){var n=-1,o=e.length;r<0&&(r=-r>o?0:o+r),t=t>o?o:t,t<0&&(t+=o),o=r>t?0:t-r>>>0,r>>>=0;for(var a=Array(o);++n<o;)a[n]=e[n+r];return a}function Ib(e,r,t){var n=e.length;return t=t===void 0?n:t,!r&&t>=n?e:Bb(e,r,t)}var zb="\\ud800-\\udfff",Lb="\\u0300-\\u036f",Db="\\ufe20-\\ufe2f",Rb="\\u20d0-\\u20ff",Fb=Lb+Db+Rb,Nb="\\ufe0e\\ufe0f",Vb="\\u200d",$b=RegExp("["+Vb+zb+Fb+Nb+"]");function Sp(e){return $b.test(e)}function Hb(e){return e.split("")}var Mp="\\ud800-\\udfff",Gb="\\u0300-\\u036f",jb="\\ufe20-\\ufe2f",qb="\\u20d0-\\u20ff",Wb=Gb+jb+qb,Yb="\\ufe0e\\ufe0f",Xb="["+Mp+"]",Zs="["+Wb+"]",Ks="\\ud83c[\\udffb-\\udfff]",Zb="(?:"+Zs+"|"+Ks+")",Ep="[^"+Mp+"]",Tp="(?:\\ud83c[\\udde6-\\uddff]){2}",Op="[\\ud800-\\udbff][\\udc00-\\udfff]",Kb="\\u200d",Ap=Zb+"?",Pp="["+Yb+"]?",Qb="(?:"+Kb+"(?:"+[Ep,Tp,Op].join("|")+")"+Pp+Ap+")*",Jb=Pp+Ap+Qb,e1="(?:"+[Ep+Zs+"?",Zs,Tp,Op,Xb].join("|")+")",t1=RegExp(Ks+"(?="+Ks+")|"+e1+Jb,"g");function r1(e){return e.match(t1)||[]}function n1(e){return Sp(e)?r1(e):Hb(e)}function o1(e){return function(r){r=Po(r);var t=Sp(r)?n1(r):void 0,n=t?t[0]:r.charAt(0),o=t?Ib(t,1).join(""):r.slice(1);return n[e]()+o}}var a1=o1("toUpperCase"),i1=a1;function s1(e){return i1(Po(e).toLowerCase())}function c1(e,r,t,n){var o=-1,a=e==null?0:e.length;for(n&&a&&(t=e[++o]);++o<a;)t=r(t,e[o],o,e);return t}function d1(e){return function(r){return e==null?void 0:e[r]}}var l1={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},f1=d1(l1),u1=f1,p1=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,h1="\\u0300-\\u036f",g1="\\ufe20-\\ufe2f",m1="\\u20d0-\\u20ff",v1=h1+g1+m1,b1="["+v1+"]",y1=RegExp(b1,"g");function w1(e){return e=Po(e),e&&e.replace(p1,u1).replace(y1,"")}var _1=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function x1(e){return e.match(_1)||[]}var k1=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function S1(e){return k1.test(e)}var Up="\\ud800-\\udfff",M1="\\u0300-\\u036f",E1="\\ufe20-\\ufe2f",T1="\\u20d0-\\u20ff",O1=M1+E1+T1,Cp="\\u2700-\\u27bf",Bp="a-z\\xdf-\\xf6\\xf8-\\xff",A1="\\xac\\xb1\\xd7\\xf7",P1="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",U1="\\u2000-\\u206f",C1=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ip="A-Z\\xc0-\\xd6\\xd8-\\xde",B1="\\ufe0e\\ufe0f",zp=A1+P1+U1+C1,Lp="['\u2019]",Tl="["+zp+"]",I1="["+O1+"]",Dp="\\d+",z1="["+Cp+"]",Rp="["+Bp+"]",Fp="[^"+Up+zp+Dp+Cp+Bp+Ip+"]",L1="\\ud83c[\\udffb-\\udfff]",D1="(?:"+I1+"|"+L1+")",R1="[^"+Up+"]",Np="(?:\\ud83c[\\udde6-\\uddff]){2}",Vp="[\\ud800-\\udbff][\\udc00-\\udfff]",cn="["+Ip+"]",F1="\\u200d",Ol="(?:"+Rp+"|"+Fp+")",N1="(?:"+cn+"|"+Fp+")",Al="(?:"+Lp+"(?:d|ll|m|re|s|t|ve))?",Pl="(?:"+Lp+"(?:D|LL|M|RE|S|T|VE))?",$p=D1+"?",Hp="["+B1+"]?",V1="(?:"+F1+"(?:"+[R1,Np,Vp].join("|")+")"+Hp+$p+")*",$1="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",H1="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",G1=Hp+$p+V1,j1="(?:"+[z1,Np,Vp].join("|")+")"+G1,q1=RegExp([cn+"?"+Rp+"+"+Al+"(?="+[Tl,cn,"$"].join("|")+")",N1+"+"+Pl+"(?="+[Tl,cn+Ol,"$"].join("|")+")",cn+"?"+Ol+"+"+Al,cn+"+"+Pl,H1,$1,Dp,j1].join("|"),"g");function W1(e){return e.match(q1)||[]}function Y1(e,r,t){return e=Po(e),r=t?void 0:r,r===void 0?S1(e)?W1(e):x1(e):e.match(r)||[]}var X1="['\u2019]",Z1=RegExp(X1,"g");function Gp(e){return function(r){return c1(Y1(w1(r).replace(Z1,"")),e,"")}}var K1=Gp(function(e,r,t){return r=r.toLowerCase(),e+(t?s1(r):r)}),Q1=K1;function J1(e,r,t){return e===e&&(t!==void 0&&(e=e<=t?e:t),r!==void 0&&(e=e>=r?e:r)),e}function e2(e,r,t){return t===void 0&&(t=r,r=void 0),t!==void 0&&(t=so(t),t=t===t?t:0),r!==void 0&&(r=so(r),r=r===r?r:0),J1(so(e),r,t)}function t2(){this.__data__=new or,this.size=0}function r2(e){var r=this.__data__,t=r.delete(e);return this.size=r.size,t}function n2(e){return this.__data__.get(e)}function o2(e){return this.__data__.has(e)}var a2=200;function i2(e,r){var t=this.__data__;if(t instanceof or){var n=t.__data__;if(!ho||n.length<a2-1)return n.push([e,r]),this.size=++t.size,this;t=this.__data__=new ar(n)}return t.set(e,r),this.size=t.size,this}function Ot(e){var r=this.__data__=new or(e);this.size=r.size}Ot.prototype.clear=t2;Ot.prototype.delete=r2;Ot.prototype.get=n2;Ot.prototype.has=o2;Ot.prototype.set=i2;function s2(e,r){return e&&To(r,Oo(r),e)}function c2(e,r){return e&&To(r,Ao(r),e)}var jp=typeof gt=="object"&&gt&&!gt.nodeType&&gt,Ul=jp&&typeof mt=="object"&&mt&&!mt.nodeType&&mt,d2=Ul&&Ul.exports===jp,Cl=d2?Pt.Buffer:void 0,Bl=Cl?Cl.allocUnsafe:void 0;function qp(e,r){if(r)return e.slice();var t=e.length,n=Bl?Bl(t):new e.constructor(t);return e.copy(n),n}function l2(e,r){for(var t=-1,n=e==null?0:e.length,o=0,a=[];++t<n;){var i=e[t];r(i,t,e)&&(a[o++]=i)}return a}function Wp(){return[]}var f2=Object.prototype,u2=f2.propertyIsEnumerable,Il=Object.getOwnPropertySymbols,p2=Il?function(e){return e==null?[]:(e=Object(e),l2(Il(e),function(r){return u2.call(e,r)}))}:Wp,pd=p2;function h2(e,r){return To(e,pd(e),r)}var g2=Object.getOwnPropertySymbols,m2=g2?function(e){for(var r=[];e;)fd(r,pd(e)),e=ud(e);return r}:Wp,Yp=m2;function v2(e,r){return To(e,Yp(e),r)}function Xp(e,r,t){var n=r(e);return Xe(e)?n:fd(n,t(e))}function Qs(e){return Xp(e,Oo,pd)}function b2(e){return Xp(e,Ao,Yp)}var y2=jr(Pt,"DataView"),Js=y2,w2=jr(Pt,"Promise"),ec=w2,_2=jr(Pt,"Set"),bn=_2,zl="[object Map]",x2="[object Object]",Ll="[object Promise]",Dl="[object Set]",Rl="[object WeakMap]",Fl="[object DataView]",k2=Gr(Js),S2=Gr(ho),M2=Gr(ec),E2=Gr(bn),T2=Gr(Xs),Sr=Hr;(Js&&Sr(new Js(new ArrayBuffer(1)))!=Fl||ho&&Sr(new ho)!=zl||ec&&Sr(ec.resolve())!=Ll||bn&&Sr(new bn)!=Dl||Xs&&Sr(new Xs)!=Rl)&&(Sr=function(e){var r=Hr(e),t=r==x2?e.constructor:void 0,n=t?Gr(t):"";if(n)switch(n){case k2:return Fl;case S2:return zl;case M2:return Ll;case E2:return Dl;case T2:return Rl}return r});var Tn=Sr,O2=Object.prototype,A2=O2.hasOwnProperty;function P2(e){var r=e.length,t=new e.constructor(r);return r&&typeof e[0]=="string"&&A2.call(e,"index")&&(t.index=e.index,t.input=e.input),t}var U2=Pt.Uint8Array,Ea=U2;function hd(e){var r=new e.constructor(e.byteLength);return new Ea(r).set(new Ea(e)),r}function C2(e,r){var t=r?hd(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.byteLength)}var B2=/\w*$/;function I2(e){var r=new e.constructor(e.source,B2.exec(e));return r.lastIndex=e.lastIndex,r}var Nl=kt?kt.prototype:void 0,Vl=Nl?Nl.valueOf:void 0;function z2(e){return Vl?Object(Vl.call(e)):{}}function Zp(e,r){var t=r?hd(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}var L2="[object Boolean]",D2="[object Date]",R2="[object Map]",F2="[object Number]",N2="[object RegExp]",V2="[object Set]",$2="[object String]",H2="[object Symbol]",G2="[object ArrayBuffer]",j2="[object DataView]",q2="[object Float32Array]",W2="[object Float64Array]",Y2="[object Int8Array]",X2="[object Int16Array]",Z2="[object Int32Array]",K2="[object Uint8Array]",Q2="[object Uint8ClampedArray]",J2="[object Uint16Array]",ey="[object Uint32Array]";function ty(e,r,t){var n=e.constructor;switch(r){case G2:return hd(e);case L2:case D2:return new n(+e);case j2:return C2(e,t);case q2:case W2:case Y2:case X2:case Z2:case K2:case Q2:case J2:case ey:return Zp(e,t);case R2:return new n;case F2:case $2:return new n(e);case N2:return I2(e);case V2:return new n;case H2:return z2(e)}}function Kp(e){return typeof e.constructor=="function"&&!si(e)?xv(ud(e)):{}}var ry="[object Map]";function ny(e){return $t(e)&&Tn(e)==ry}var $l=En&&En.isMap,oy=$l?cd($l):ny,ay=oy,iy="[object Set]";function sy(e){return $t(e)&&Tn(e)==iy}var Hl=En&&En.isSet,cy=Hl?cd(Hl):sy,dy=cy,ly=1,fy=2,uy=4,Qp="[object Arguments]",py="[object Array]",hy="[object Boolean]",gy="[object Date]",my="[object Error]",Jp="[object Function]",vy="[object GeneratorFunction]",by="[object Map]",yy="[object Number]",eh="[object Object]",wy="[object RegExp]",_y="[object Set]",xy="[object String]",ky="[object Symbol]",Sy="[object WeakMap]",My="[object ArrayBuffer]",Ey="[object DataView]",Ty="[object Float32Array]",Oy="[object Float64Array]",Ay="[object Int8Array]",Py="[object Int16Array]",Uy="[object Int32Array]",Cy="[object Uint8Array]",By="[object Uint8ClampedArray]",Iy="[object Uint16Array]",zy="[object Uint32Array]",Ee={};Ee[Qp]=Ee[py]=Ee[My]=Ee[Ey]=Ee[hy]=Ee[gy]=Ee[Ty]=Ee[Oy]=Ee[Ay]=Ee[Py]=Ee[Uy]=Ee[by]=Ee[yy]=Ee[eh]=Ee[wy]=Ee[_y]=Ee[xy]=Ee[ky]=Ee[Cy]=Ee[By]=Ee[Iy]=Ee[zy]=!0;Ee[my]=Ee[Jp]=Ee[Sy]=!1;function da(e,r,t,n,o,a){var i,s=r&ly,c=r&fy,d=r&uy;if(t&&(i=o?t(e,n,o,a):t(e)),i!==void 0)return i;if(!St(e))return e;var l=Xe(e);if(l){if(i=P2(e),!s)return fp(e,i)}else{var f=Tn(e),u=f==Jp||f==vy;if(Mn(e))return qp(e,s);if(f==eh||f==Qp||u&&!o){if(i=c||u?{}:Kp(e),!s)return c?v2(e,c2(i,e)):h2(e,s2(i,e))}else{if(!Ee[f])return o?e:{};i=ty(e,f,s)}}a||(a=new Ot);var h=a.get(e);if(h)return h;a.set(e,i),dy(e)?e.forEach(function(b){i.add(da(b,r,t,b,e,a))}):ay(e)&&e.forEach(function(b,y){i.set(y,da(b,r,t,y,e,a))});var p=d?c?b2:Qs:c?Ao:Oo,m=l?void 0:p(e);return zv(m||e,function(b,y){m&&(y=b,b=e[y]),up(i,y,da(b,r,t,y,e,a))}),i}var Ly=1,Dy=4;function Ry(e){return da(e,Ly|Dy)}var Fy="__lodash_hash_undefined__";function Ny(e){return this.__data__.set(e,Fy),this}function Vy(e){return this.__data__.has(e)}function go(e){var r=-1,t=e==null?0:e.length;for(this.__data__=new ar;++r<t;)this.add(e[r])}go.prototype.add=go.prototype.push=Ny;go.prototype.has=Vy;function th(e,r){for(var t=-1,n=e==null?0:e.length;++t<n;)if(r(e[t],t,e))return!0;return!1}function rh(e,r){return e.has(r)}var $y=1,Hy=2;function nh(e,r,t,n,o,a){var i=t&$y,s=e.length,c=r.length;if(s!=c&&!(i&&c>s))return!1;var d=a.get(e),l=a.get(r);if(d&&l)return d==r&&l==e;var f=-1,u=!0,h=t&Hy?new go:void 0;for(a.set(e,r),a.set(r,e);++f<s;){var p=e[f],m=r[f];if(n)var b=i?n(m,p,f,r,e,a):n(p,m,f,e,r,a);if(b!==void 0){if(b)continue;u=!1;break}if(h){if(!th(r,function(y,g){if(!rh(h,g)&&(p===y||o(p,y,t,n,a)))return h.push(g)})){u=!1;break}}else if(!(p===m||o(p,m,t,n,a))){u=!1;break}}return a.delete(e),a.delete(r),u}function Gy(e){var r=-1,t=Array(e.size);return e.forEach(function(n,o){t[++r]=[o,n]}),t}function gd(e){var r=-1,t=Array(e.size);return e.forEach(function(n){t[++r]=n}),t}var jy=1,qy=2,Wy="[object Boolean]",Yy="[object Date]",Xy="[object Error]",Zy="[object Map]",Ky="[object Number]",Qy="[object RegExp]",Jy="[object Set]",ew="[object String]",tw="[object Symbol]",rw="[object ArrayBuffer]",nw="[object DataView]",Gl=kt?kt.prototype:void 0,Fi=Gl?Gl.valueOf:void 0;function ow(e,r,t,n,o,a,i){switch(t){case nw:if(e.byteLength!=r.byteLength||e.byteOffset!=r.byteOffset)return!1;e=e.buffer,r=r.buffer;case rw:return!(e.byteLength!=r.byteLength||!a(new Ea(e),new Ea(r)));case Wy:case Yy:case Ky:return Eo(+e,+r);case Xy:return e.name==r.name&&e.message==r.message;case Qy:case ew:return e==r+"";case Zy:var s=Gy;case Jy:var c=n&jy;if(s||(s=gd),e.size!=r.size&&!c)return!1;var d=i.get(e);if(d)return d==r;n|=qy,i.set(e,r);var l=nh(s(e),s(r),n,o,a,i);return i.delete(e),l;case tw:if(Fi)return Fi.call(e)==Fi.call(r)}return!1}var aw=1,iw=Object.prototype,sw=iw.hasOwnProperty;function cw(e,r,t,n,o,a){var i=t&aw,s=Qs(e),c=s.length,d=Qs(r),l=d.length;if(c!=l&&!i)return!1;for(var f=c;f--;){var u=s[f];if(!(i?u in r:sw.call(r,u)))return!1}var h=a.get(e),p=a.get(r);if(h&&p)return h==r&&p==e;var m=!0;a.set(e,r),a.set(r,e);for(var b=i;++f<c;){u=s[f];var y=e[u],g=r[u];if(n)var w=i?n(g,y,u,r,e,a):n(y,g,u,e,r,a);if(!(w===void 0?y===g||o(y,g,t,n,a):w)){m=!1;break}b||(b=u=="constructor")}if(m&&!b){var k=e.constructor,_=r.constructor;k!=_&&"constructor"in e&&"constructor"in r&&!(typeof k=="function"&&k instanceof k&&typeof _=="function"&&_ instanceof _)&&(m=!1)}return a.delete(e),a.delete(r),m}var dw=1,jl="[object Arguments]",ql="[object Array]",Yo="[object Object]",lw=Object.prototype,Wl=lw.hasOwnProperty;function fw(e,r,t,n,o,a){var i=Xe(e),s=Xe(r),c=i?ql:Tn(e),d=s?ql:Tn(r);c=c==jl?Yo:c,d=d==jl?Yo:d;var l=c==Yo,f=d==Yo,u=c==d;if(u&&Mn(e)){if(!Mn(r))return!1;i=!0,l=!1}if(u&&!l)return a||(a=new Ot),i||ci(e)?nh(e,r,t,n,o,a):ow(e,r,c,t,n,o,a);if(!(t&dw)){var h=l&&Wl.call(e,"__wrapped__"),p=f&&Wl.call(r,"__wrapped__");if(h||p){var m=h?e.value():e,b=p?r.value():r;return a||(a=new Ot),o(m,b,t,n,a)}}return u?(a||(a=new Ot),cw(e,r,t,n,o,a)):!1}function pi(e,r,t,n,o){return e===r?!0:e==null||r==null||!$t(e)&&!$t(r)?e!==e&&r!==r:fw(e,r,t,n,pi,o)}var uw=1,pw=2;function hw(e,r,t,n){var o=t.length,a=o,i=!n;if(e==null)return!a;for(e=Object(e);o--;){var s=t[o];if(i&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++o<a;){s=t[o];var c=s[0],d=e[c],l=s[1];if(i&&s[2]){if(d===void 0&&!(c in e))return!1}else{var f=new Ot;if(n)var u=n(d,l,c,e,r,f);if(!(u===void 0?pi(l,d,uw|pw,n,f):u))return!1}}return!0}function oh(e){return e===e&&!St(e)}function gw(e){for(var r=Oo(e),t=r.length;t--;){var n=r[t],o=e[n];r[t]=[n,o,oh(o)]}return r}function ah(e,r){return function(t){return t==null?!1:t[e]===r&&(r!==void 0||e in Object(t))}}function mw(e){var r=gw(e);return r.length==1&&r[0][2]?ah(r[0][0],r[0][1]):function(t){return t===e||hw(t,e,r)}}function vw(e,r){return e!=null&&r in Object(e)}function bw(e,r,t){r=_p(r,e);for(var n=-1,o=r.length,a=!1;++n<o;){var i=fi(r[n]);if(!(a=e!=null&&t(e,i)))break;e=e[i]}return a||++n!=o?a:(o=e==null?0:e.length,!!o&&sd(o)&&id(i,o)&&(Xe(e)||Sn(e)))}function yw(e,r){return e!=null&&bw(e,r,vw)}var ww=1,_w=2;function xw(e,r){return dd(e)&&oh(r)?ah(fi(e),r):function(t){var n=Te(t,e);return n===void 0&&n===r?yw(t,e):pi(r,n,ww|_w)}}function kw(e){return function(r){return r==null?void 0:r[e]}}function Sw(e){return function(r){return xp(r,e)}}function Mw(e){return dd(e)?kw(fi(e)):Sw(e)}function hi(e){return typeof e=="function"?e:e==null?od:typeof e=="object"?Xe(e)?xw(e[0],e[1]):mw(e):Mw(e)}function Ew(e,r,t,n){for(var o=-1,a=e==null?0:e.length;++o<a;){var i=e[o];r(n,i,t(i),e)}return n}function Tw(e){return function(r,t,n){for(var o=-1,a=Object(r),i=n(r),s=i.length;s--;){var c=i[e?s:++o];if(t(a[c],c,a)===!1)break}return r}}var Ow=Tw(),ih=Ow;function Aw(e,r){return e&&ih(e,r,Oo)}function Pw(e,r){return function(t,n){if(t==null)return t;if(!qr(t))return e(t,n);for(var o=t.length,a=r?o:-1,i=Object(t);(r?a--:++a<o)&&n(i[a],a,i)!==!1;);return t}}var Uw=Pw(Aw),md=Uw;function Cw(e,r,t,n){return md(e,function(o,a,i){r(n,o,t(o),i)}),n}function Bw(e,r){return function(t,n){var o=Xe(t)?Ew:Cw,a=r?r():{};return o(t,e,hi(n),a)}}var Iw=function(){return Pt.Date.now()},Ni=Iw,zw="Expected a function",Lw=Math.max,Dw=Math.min;function Rw(e,r,t){var n,o,a,i,s,c,d=0,l=!1,f=!1,u=!0;if(typeof e!="function")throw new TypeError(zw);r=so(r)||0,St(t)&&(l=!!t.leading,f="maxWait"in t,a=f?Lw(so(t.maxWait)||0,r):a,u="trailing"in t?!!t.trailing:u);function h(x){var O=n,M=o;return n=o=void 0,d=x,i=e.apply(M,O),i}function p(x){return d=x,s=setTimeout(y,r),l?h(x):i}function m(x){var O=x-c,M=x-d,T=r-O;return f?Dw(T,a-M):T}function b(x){var O=x-c,M=x-d;return c===void 0||O>=r||O<0||f&&M>=a}function y(){var x=Ni();if(b(x))return g(x);s=setTimeout(y,m(x))}function g(x){return s=void 0,u&&n?h(x):(n=o=void 0,i)}function w(){s!==void 0&&clearTimeout(s),d=0,n=c=o=s=void 0}function k(){return s===void 0?i:g(Ni())}function _(){var x=Ni(),O=b(x);if(n=arguments,o=this,c=x,O){if(s===void 0)return p(c);if(f)return clearTimeout(s),s=setTimeout(y,r),h(c)}return s===void 0&&(s=setTimeout(y,r)),i}return _.cancel=w,_.flush=k,_}function tc(e,r,t){(t!==void 0&&!Eo(e[r],t)||t===void 0&&!(r in e))&&ii(e,r,t)}function rc(e){return $t(e)&&qr(e)}function nc(e,r){if(!(r==="constructor"&&typeof e[r]=="function")&&r!="__proto__")return e[r]}function Fw(e){return To(e,Ao(e))}function Nw(e,r,t,n,o,a,i){var s=nc(e,t),c=nc(r,t),d=i.get(c);if(d){tc(e,t,d);return}var l=a?a(s,c,t+"",e,r,i):void 0,f=l===void 0;if(f){var u=Xe(c),h=!u&&Mn(c),p=!u&&!h&&ci(c);l=c,u||h||p?Xe(s)?l=s:rc(s)?l=fp(s):h?(f=!1,l=qp(c,!0)):p?(f=!1,l=Zp(c,!0)):l=[]:Cb(c)||Sn(c)?(l=s,Sn(s)?l=Fw(s):(!St(s)||ad(s))&&(l=Kp(c))):f=!1}f&&(i.set(c,l),o(l,c,n,a,i),i.delete(c)),tc(e,t,l)}function sh(e,r,t,n,o){e!==r&&ih(r,function(a,i){if(o||(o=new Ot),St(a))Nw(e,r,i,t,sh,n,o);else{var s=n?n(nc(e,i),a,i+"",e,r,o):void 0;s===void 0&&(s=a),tc(e,i,s)}},Ao)}function Vw(e,r,t){for(var n=-1,o=e==null?0:e.length;++n<o;)if(t(r,e[n]))return!0;return!1}function $w(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}function Hw(e,r){var t=-1,n=qr(e)?Array(e.length):[];return md(e,function(o,a,i){n[++t]=r(o,a,i)}),n}function Gw(e,r){var t=Xe(e)?dp:Hw;return t(e,hi(r))}var jw=1/0;function qw(e,r){return ui(Gw(e,r),jw)}function Ww(e){for(var r=-1,t=e==null?0:e.length,n={};++r<t;){var o=e[r];n[o[0]]=o[1]}return n}var Yw=Object.prototype,Xw=Yw.hasOwnProperty,Zw=Bw(function(e,r,t){Xw.call(e,t)?e[t].push(r):ii(e,t,[r])}),Kw=Zw,Qw="[object Map]",Jw="[object Set]",e_=Object.prototype,t_=e_.hasOwnProperty;function r_(e){if(e==null)return!0;if(qr(e)&&(Xe(e)||typeof e=="string"||typeof e.splice=="function"||Mn(e)||ci(e)||Sn(e)))return!e.length;var r=Tn(e);if(r==Qw||r==Jw)return!e.size;if(si(e))return!wp(e).length;for(var t in e)if(t_.call(e,t))return!1;return!0}function n_(e,r){return pi(e,r)}var o_=Gp(function(e,r,t){return e+(t?"-":"")+r.toLowerCase()}),a_=o_,i_=Wv(function(e,r,t){sh(e,r,t)}),s_=i_;function c_(e,r){var t;return md(e,function(n,o,a){return t=r(n,o,a),!t}),!!t}function d_(e,r,t){var n=Xe(e)?th:c_;return t&&hp(e,r,t)&&(r=void 0),n(e,hi(r))}var l_=1/0,f_=bn&&1/gd(new bn([,-0]))[1]==l_?function(e){return new bn(e)}:Sv,u_=f_,p_=200;function ch(e,r,t){var n=-1,o=Nv,a=e.length,i=!0,s=[],c=s;if(t)i=!1,o=Vw;else if(a>=p_){var d=r?null:u_(e);if(d)return gd(d);i=!1,o=rh,c=new go}else c=r?[]:s;e:for(;++n<a;){var l=e[n],f=r?r(l):l;if(l=t||l!==0?l:0,i&&f===f){for(var u=c.length;u--;)if(c[u]===f)continue e;r&&c.push(f),s.push(l)}else o(c,f,t)||(c!==s&&c.push(f),s.push(l))}return s}var h_=pp(function(e){var r=$w(e);return rc(r)&&(r=void 0),ch(ui(e,1,rc,!0),hi(r))}),g_=h_;function m_(e){return e&&e.length?ch(e):[]}var oc="http://www.w3.org/1999/xhtml",Yl={svg:"http://www.w3.org/2000/svg",xhtml:oc,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function gi(e){var r=e+="",t=r.indexOf(":");return t>=0&&(r=e.slice(0,t))!=="xmlns"&&(e=e.slice(t+1)),Yl.hasOwnProperty(r)?{space:Yl[r],local:e}:e}function v_(e){return function(){var r=this.ownerDocument,t=this.namespaceURI;return t===oc&&r.documentElement.namespaceURI===oc?r.createElement(e):r.createElementNS(t,e)}}function b_(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function dh(e){var r=gi(e);return(r.local?b_:v_)(r)}function y_(){}function vd(e){return e==null?y_:function(){return this.querySelector(e)}}function w_(e){typeof e!="function"&&(e=vd(e));for(var r=this._groups,t=r.length,n=new Array(t),o=0;o<t;++o)for(var a=r[o],i=a.length,s=n[o]=new Array(i),c,d,l=0;l<i;++l)(c=a[l])&&(d=e.call(c,c.__data__,l,a))&&("__data__"in c&&(d.__data__=c.__data__),s[l]=d);return new vt(n,this._parents)}function __(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function x_(){return[]}function lh(e){return e==null?x_:function(){return this.querySelectorAll(e)}}function k_(e){return function(){return __(e.apply(this,arguments))}}function S_(e){typeof e=="function"?e=k_(e):e=lh(e);for(var r=this._groups,t=r.length,n=[],o=[],a=0;a<t;++a)for(var i=r[a],s=i.length,c,d=0;d<s;++d)(c=i[d])&&(n.push(e.call(c,c.__data__,d,i)),o.push(c));return new vt(n,o)}function fh(e){return function(){return this.matches(e)}}function uh(e){return function(r){return r.matches(e)}}var M_=Array.prototype.find;function E_(e){return function(){return M_.call(this.children,e)}}function T_(){return this.firstElementChild}function O_(e){return this.select(e==null?T_:E_(typeof e=="function"?e:uh(e)))}var A_=Array.prototype.filter;function P_(){return Array.from(this.children)}function U_(e){return function(){return A_.call(this.children,e)}}function C_(e){return this.selectAll(e==null?P_:U_(typeof e=="function"?e:uh(e)))}function B_(e){typeof e!="function"&&(e=fh(e));for(var r=this._groups,t=r.length,n=new Array(t),o=0;o<t;++o)for(var a=r[o],i=a.length,s=n[o]=[],c,d=0;d<i;++d)(c=a[d])&&e.call(c,c.__data__,d,a)&&s.push(c);return new vt(n,this._parents)}function ph(e){return new Array(e.length)}function I_(){return new vt(this._enter||this._groups.map(ph),this._parents)}function Ta(e,r){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=r}Ta.prototype={constructor:Ta,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,r){return this._parent.insertBefore(e,r)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function z_(e){return function(){return e}}function L_(e,r,t,n,o,a){for(var i=0,s,c=r.length,d=a.length;i<d;++i)(s=r[i])?(s.__data__=a[i],n[i]=s):t[i]=new Ta(e,a[i]);for(;i<c;++i)(s=r[i])&&(o[i]=s)}function D_(e,r,t,n,o,a,i){var s,c,d=new Map,l=r.length,f=a.length,u=new Array(l),h;for(s=0;s<l;++s)(c=r[s])&&(u[s]=h=i.call(c,c.__data__,s,r)+"",d.has(h)?o[s]=c:d.set(h,c));for(s=0;s<f;++s)h=i.call(e,a[s],s,a)+"",(c=d.get(h))?(n[s]=c,c.__data__=a[s],d.delete(h)):t[s]=new Ta(e,a[s]);for(s=0;s<l;++s)(c=r[s])&&d.get(u[s])===c&&(o[s]=c)}function R_(e){return e.__data__}function F_(e,r){if(!arguments.length)return Array.from(this,R_);var t=r?D_:L_,n=this._parents,o=this._groups;typeof e!="function"&&(e=z_(e));for(var a=o.length,i=new Array(a),s=new Array(a),c=new Array(a),d=0;d<a;++d){var l=n[d],f=o[d],u=f.length,h=N_(e.call(l,l&&l.__data__,d,n)),p=h.length,m=s[d]=new Array(p),b=i[d]=new Array(p),y=c[d]=new Array(u);t(l,f,m,b,y,h,r);for(var g=0,w=0,k,_;g<p;++g)if(k=m[g]){for(g>=w&&(w=g+1);!(_=b[w])&&++w<p;);k._next=_||null}}return i=new vt(i,n),i._enter=s,i._exit=c,i}function N_(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function V_(){return new vt(this._exit||this._groups.map(ph),this._parents)}function $_(e,r,t){var n=this.enter(),o=this,a=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),r!=null&&(o=r(o),o&&(o=o.selection())),t==null?a.remove():t(a),n&&o?n.merge(o).order():o}function H_(e){for(var r=e.selection?e.selection():e,t=this._groups,n=r._groups,o=t.length,a=n.length,i=Math.min(o,a),s=new Array(o),c=0;c<i;++c)for(var d=t[c],l=n[c],f=d.length,u=s[c]=new Array(f),h,p=0;p<f;++p)(h=d[p]||l[p])&&(u[p]=h);for(;c<o;++c)s[c]=t[c];return new vt(s,this._parents)}function G_(){for(var e=this._groups,r=-1,t=e.length;++r<t;)for(var n=e[r],o=n.length-1,a=n[o],i;--o>=0;)(i=n[o])&&(a&&i.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(i,a),a=i);return this}function j_(e){e||(e=q_);function r(f,u){return f&&u?e(f.__data__,u.__data__):!f-!u}for(var t=this._groups,n=t.length,o=new Array(n),a=0;a<n;++a){for(var i=t[a],s=i.length,c=o[a]=new Array(s),d,l=0;l<s;++l)(d=i[l])&&(c[l]=d);c.sort(r)}return new vt(o,this._parents).order()}function q_(e,r){return e<r?-1:e>r?1:e>=r?0:NaN}function W_(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Y_(){return Array.from(this)}function X_(){for(var e=this._groups,r=0,t=e.length;r<t;++r)for(var n=e[r],o=0,a=n.length;o<a;++o){var i=n[o];if(i)return i}return null}function Z_(){let e=0;for(const r of this)++e;return e}function K_(){return!this.node()}function Q_(e){for(var r=this._groups,t=0,n=r.length;t<n;++t)for(var o=r[t],a=0,i=o.length,s;a<i;++a)(s=o[a])&&e.call(s,s.__data__,a,o);return this}function J_(e){return function(){this.removeAttribute(e)}}function ex(e){return function(){this.removeAttributeNS(e.space,e.local)}}function tx(e,r){return function(){this.setAttribute(e,r)}}function rx(e,r){return function(){this.setAttributeNS(e.space,e.local,r)}}function nx(e,r){return function(){var t=r.apply(this,arguments);t==null?this.removeAttribute(e):this.setAttribute(e,t)}}function ox(e,r){return function(){var t=r.apply(this,arguments);t==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}}function ax(e,r){var t=gi(e);if(arguments.length<2){var n=this.node();return t.local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}return this.each((r==null?t.local?ex:J_:typeof r=="function"?t.local?ox:nx:t.local?rx:tx)(t,r))}function hh(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function ix(e){return function(){this.style.removeProperty(e)}}function sx(e,r,t){return function(){this.style.setProperty(e,r,t)}}function cx(e,r,t){return function(){var n=r.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,t)}}function dx(e,r,t){return arguments.length>1?this.each((r==null?ix:typeof r=="function"?cx:sx)(e,r,t==null?"":t)):On(this.node(),e)}function On(e,r){return e.style.getPropertyValue(r)||hh(e).getComputedStyle(e,null).getPropertyValue(r)}function lx(e){return function(){delete this[e]}}function fx(e,r){return function(){this[e]=r}}function ux(e,r){return function(){var t=r.apply(this,arguments);t==null?delete this[e]:this[e]=t}}function px(e,r){return arguments.length>1?this.each((r==null?lx:typeof r=="function"?ux:fx)(e,r)):this.node()[e]}function gh(e){return e.trim().split(/^|\s+/)}function bd(e){return e.classList||new mh(e)}function mh(e){this._node=e,this._names=gh(e.getAttribute("class")||"")}mh.prototype={add:function(e){var r=this._names.indexOf(e);r<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var r=this._names.indexOf(e);r>=0&&(this._names.splice(r,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function vh(e,r){for(var t=bd(e),n=-1,o=r.length;++n<o;)t.add(r[n])}function bh(e,r){for(var t=bd(e),n=-1,o=r.length;++n<o;)t.remove(r[n])}function hx(e){return function(){vh(this,e)}}function gx(e){return function(){bh(this,e)}}function mx(e,r){return function(){(r.apply(this,arguments)?vh:bh)(this,e)}}function vx(e,r){var t=gh(e+"");if(arguments.length<2){for(var n=bd(this.node()),o=-1,a=t.length;++o<a;)if(!n.contains(t[o]))return!1;return!0}return this.each((typeof r=="function"?mx:r?hx:gx)(t,r))}function bx(){this.textContent=""}function yx(e){return function(){this.textContent=e}}function wx(e){return function(){var r=e.apply(this,arguments);this.textContent=r==null?"":r}}function _x(e){return arguments.length?this.each(e==null?bx:(typeof e=="function"?wx:yx)(e)):this.node().textContent}function xx(){this.innerHTML=""}function kx(e){return function(){this.innerHTML=e}}function Sx(e){return function(){var r=e.apply(this,arguments);this.innerHTML=r==null?"":r}}function Mx(e){return arguments.length?this.each(e==null?xx:(typeof e=="function"?Sx:kx)(e)):this.node().innerHTML}function Ex(){this.nextSibling&&this.parentNode.appendChild(this)}function Tx(){return this.each(Ex)}function Ox(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ax(){return this.each(Ox)}function Px(e){var r=typeof e=="function"?e:dh(e);return this.select(function(){return this.appendChild(r.apply(this,arguments))})}function Ux(){return null}function Cx(e,r){var t=typeof e=="function"?e:dh(e),n=r==null?Ux:typeof r=="function"?r:vd(r);return this.select(function(){return this.insertBefore(t.apply(this,arguments),n.apply(this,arguments)||null)})}function Bx(){var e=this.parentNode;e&&e.removeChild(this)}function Ix(){return this.each(Bx)}function zx(){var e=this.cloneNode(!1),r=this.parentNode;return r?r.insertBefore(e,this.nextSibling):e}function Lx(){var e=this.cloneNode(!0),r=this.parentNode;return r?r.insertBefore(e,this.nextSibling):e}function Dx(e){return this.select(e?Lx:zx)}function Rx(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Fx(e){return function(r){e.call(this,r,this.__data__)}}function Nx(e){return e.trim().split(/^|\s+/).map(function(r){var t="",n=r.indexOf(".");return n>=0&&(t=r.slice(n+1),r=r.slice(0,n)),{type:r,name:t}})}function Vx(e){return function(){var r=this.__on;if(!!r){for(var t=0,n=-1,o=r.length,a;t<o;++t)a=r[t],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):r[++n]=a;++n?r.length=n:delete this.__on}}}function $x(e,r,t){return function(){var n=this.__on,o,a=Fx(r);if(n){for(var i=0,s=n.length;i<s;++i)if((o=n[i]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=a,o.options=t),o.value=r;return}}this.addEventListener(e.type,a,t),o={type:e.type,name:e.name,value:r,listener:a,options:t},n?n.push(o):this.__on=[o]}}function Hx(e,r,t){var n=Nx(e+""),o,a=n.length,i;if(arguments.length<2){var s=this.node().__on;if(s){for(var c=0,d=s.length,l;c<d;++c)for(o=0,l=s[c];o<a;++o)if((i=n[o]).type===l.type&&i.name===l.name)return l.value}return}for(s=r?$x:Vx,o=0;o<a;++o)this.each(s(n[o],r,t));return this}function yh(e,r,t){var n=hh(e),o=n.CustomEvent;typeof o=="function"?o=new o(r,t):(o=n.document.createEvent("Event"),t?(o.initEvent(r,t.bubbles,t.cancelable),o.detail=t.detail):o.initEvent(r,!1,!1)),e.dispatchEvent(o)}function Gx(e,r){return function(){return yh(this,e,r)}}function jx(e,r){return function(){return yh(this,e,r.apply(this,arguments))}}function qx(e,r){return this.each((typeof r=="function"?jx:Gx)(e,r))}function*Wx(){for(var e=this._groups,r=0,t=e.length;r<t;++r)for(var n=e[r],o=0,a=n.length,i;o<a;++o)(i=n[o])&&(yield i)}var wh=[null];function vt(e,r){this._groups=e,this._parents=r}function Uo(){return new vt([[document.documentElement]],wh)}function Yx(){return this}vt.prototype=Uo.prototype={constructor:vt,select:w_,selectAll:S_,selectChild:O_,selectChildren:C_,filter:B_,data:F_,enter:I_,exit:V_,join:$_,merge:H_,selection:Yx,order:G_,sort:j_,call:W_,nodes:Y_,node:X_,size:Z_,empty:K_,each:Q_,attr:ax,style:dx,property:px,classed:vx,text:_x,html:Mx,raise:Tx,lower:Ax,append:Px,insert:Cx,remove:Ix,clone:Dx,datum:Rx,on:Hx,dispatch:qx,[Symbol.iterator]:Wx};function R(e){return typeof e=="string"?new vt([[document.querySelector(e)]],[document.documentElement]):new vt([[e]],wh)}function Xx(e){let r;for(;r=e.sourceEvent;)e=r;return e}function Lr(e,r){if(e=Xx(e),r===void 0&&(r=e.currentTarget),r){var t=r.ownerSVGElement||r;if(t.createSVGPoint){var n=t.createSVGPoint();return n.x=e.clientX,n.y=e.clientY,n=n.matrixTransform(r.getScreenCTM().inverse()),[n.x,n.y]}if(r.getBoundingClientRect){var o=r.getBoundingClientRect();return[e.clientX-o.left-r.clientLeft,e.clientY-o.top-r.clientTop]}}return[e.pageX,e.pageY]}var v;(function(e){e.debounce=Rw,e.clone=Ry,e.merge=s_,e.unionBy=g_,e.removeArrayDuplicates=m_,e.clamp=e2,e.flatten=Mb,e.groupBy=Kw,e.camelCase=Q1,e.isEmpty=r_,e.isEqual=n_,e.flatMapDeep=qw,e.kebabCase=a_,e.fromPairs=Ww,e.some=d_;function r(m,b,y){var g=null;return function(){var w=this,k=arguments;w.mousePosition=Lr(k[0],y),clearTimeout(g),g=setTimeout(function(){m.apply(w,k)},b)}}e.debounceWithD3MousePosition=r;function t(m,b){var y,g,w=e.clone(m),k=Object.keys(b.axes||{});!((g=(y=b)===null||y===void 0?void 0:y.toolbar)===null||g===void 0)&&g.controls&&delete w.toolbar.controls,k.length===0&&delete w.axes;for(var _ in w.axes)if(k.includes(_)){var x=b.axes[_];(x.primary||x.secondary)&&console.warn("`primary` & `secondary` are no longer needed for axis configurations. Read more here https://carbon-design-system.github.io/carbon-charts/?path=/story/docs-tutorials--tabular-data-format");var O=x.mapsTo;if(O==null){var M=x.scaleType;M==null?x.mapsTo="value":M===ne.TIME?x.mapsTo="date":M===ne.LABELS&&(x.mapsTo="key")}}else delete w.axes[_];return l(w,b),e.merge(w,b)}e.mergeDefaultChartOptions=t;function n(m){return{width:parseFloat(m.style.width.replace("px","")||m.offsetWidth),height:parseFloat(m.style.height.replace("px","")||m.offsetHeight)}}e.getDimensions=n;function o(m){if(!!m){var b=/translate\([0-9]+\.?[0-9]*,[0-9]+\.?[0-9]*\)/,y=m.getAttribute("transform").match(b);if(!y)return null;if(y[0]){var g=y[0].replace(/translate\(/,"").replace(/\)/,"").split(",");return{tx:g[0],ty:g[1]}}return null}}e.getTranslationValues=o;function a(m){var b=/\(([^)]+)\)/,y=b.exec(m)[1],g=y.split(",");return{x:parseFloat(g[0]),y:parseFloat(g[1])}}e.getTranformOffsets=a;function i(m){var b=m.toString();return b.match(/[a-z]/i)?b:b+"px"}e.formatWidthHeightValues=i;function s(m){return m[0].toUpperCase()+m.slice(1)}e.capitalizeFirstLetter=s;function c(m,b,y){y===void 0&&(y="value");var g=m/b.reduce(function(w,k){return w+k[y]},0)*100;return g%1!==0?parseFloat(g.toFixed(1)):g}e.convertValueToPercentage=c;function d(m,b,y){if(y>m.length)return m;if(b===tr.MID_LINE)return m.substr(0,y/2)+"..."+m.substr(-y/2);if(b===tr.FRONT_LINE)return"..."+m.substr(-y);if(b===tr.END_LINE)return m.substr(0,y)+"..."}e.truncateLabel=d;function l(m,b){var y=e.getProperty(m,"legend","additionalItems"),g=e.getProperty(b,"legend","additionalItems");if(y&&g){var w=g.map(function(x){return x.type}),k=y.map(function(x){return x.type}),_=ip.filter(function(x){return k.includes(x.type)&&!w.includes(x.type)});m.legend.additionalItems=_,b.legend.additionalItems=e.unionBy(_,g,"name")}}e.updateLegendAdditionalItems=l;function f(m,b){var y={missing:[],added:[]};return m.forEach(function(g){b.indexOf(g)===-1&&y.missing.push(g)}),b.forEach(function(g){m.indexOf(g)===-1&&y.added.push(g)}),y}e.arrayDifferences=f;function u(m){var b=[],y=[];return m.forEach(function(g){b.indexOf(g)!==-1&&y.indexOf(g)===-1&&y.push(g),b.push(g)}),y}e.getDuplicateValues=u;function h(m){return m.each(function(){this.parentNode.appendChild(this)})}e.moveToFront=h,e.getProperty=function(m){for(var b=[],y=1;y<arguments.length;y++)b[y-1]=arguments[y];var g=m;if(g){for(var w=0,k=b;w<k.length;w++){var _=k[w];if(g[_]!==null&&g[_]!==void 0)g=g[_];else return null}return g}return null},e.flipSVGCoordinatesBasedOnOrientation=function(m,b){return b===He.HORIZONTAL?{y0:m.x0,y1:m.x1,x0:m.y0,x1:m.y1}:m},e.generateSVGPathString=function(m,b){var y=e.flipSVGCoordinatesBasedOnOrientation(m,b),g=y.x0,w=y.x1,k=y.y0,_=y.y1;return"M"+g+","+k+"L"+g+","+_+"L"+w+","+_+"L"+w+","+k+"L"+g+","+k};function p(m,b,y){return y===He.VERTICAL?[m,b]:[b,m]}e.flipDomainAndRangeBasedOnOrientation=p,e.compareNumeric=function(m,b){return Number(m)===Number(b)}})(v||(v={}));function Zx(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Kx(e){if(e.__esModule)return e;var r=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach(function(t){var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,n.get?n:{enumerable:!0,get:function(){return e[t]}})}),r}var ac={exports:{}},ic={exports:{}};(function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var t={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function n(o,a,i){i=i||{};var s;return typeof t[o]=="string"?s=t[o]:a===1?s=t[o].one:s=t[o].other.replace("{{count}}",a),i.addSuffix?i.comparison>0?"in "+s:s+" ago":s}e.exports=r.default})(ic,ic.exports);var sc={exports:{}},cc={exports:{}};(function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=t;function t(n){return function(o){var a=o||{},i=a.width?String(a.width):n.defaultWidth,s=n.formats[i]||n.formats[n.defaultWidth];return s}}e.exports=r.default})(cc,cc.exports);(function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var t=n(cc.exports);function n(d){return d&&d.__esModule?d:{default:d}}var o={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},a={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},i={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},s={date:(0,t.default)({formats:o,defaultWidth:"full"}),time:(0,t.default)({formats:a,defaultWidth:"full"}),dateTime:(0,t.default)({formats:i,defaultWidth:"full"})},c=s;r.default=c,e.exports=r.default})(sc,sc.exports);var dc={exports:{}};(function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var t={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function n(o,a,i,s){return t[o]}e.exports=r.default})(dc,dc.exports);var lc={exports:{}},fc={exports:{}};(function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=t;function t(n){return function(o,a){var i=a||{},s=i.context?String(i.context):"standalone",c;if(s==="formatting"&&n.formattingValues){var d=n.defaultFormattingWidth||n.defaultWidth,l=i.width?String(i.width):d;c=n.formattingValues[l]||n.formattingValues[d]}else{var f=n.defaultWidth,u=i.width?String(i.width):n.defaultWidth;c=n.values[u]||n.values[f]}var h=n.argumentCallback?n.argumentCallback(o):o;return c[h]}}e.exports=r.default})(fc,fc.exports);(function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var t=n(fc.exports);function n(h){return h&&h.__esModule?h:{default:h}}var o={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},a={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},i={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},s={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},c={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},d={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}};function l(h,p){var m=Number(h),b=m%100;if(b>20||b<10)switch(b%10){case 1:return m+"st";case 2:return m+"nd";case 3:return m+"rd"}return m+"th"}var f={ordinalNumber:l,era:(0,t.default)({values:o,defaultWidth:"wide"}),quarter:(0,t.default)({values:a,defaultWidth:"wide",argumentCallback:function(h){return Number(h)-1}}),month:(0,t.default)({values:i,defaultWidth:"wide"}),day:(0,t.default)({values:s,defaultWidth:"wide"}),dayPeriod:(0,t.default)({values:c,defaultWidth:"wide",formattingValues:d,defaultFormattingWidth:"wide"})},u=f;r.default=u,e.exports=r.default})(lc,lc.exports);var uc={exports:{}},pc={exports:{}};(function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=t;function t(n){return function(o,a){var i=String(o),s=a||{},c=i.match(n.matchPattern);if(!c)return null;var d=c[0],l=i.match(n.parsePattern);if(!l)return null;var f=n.valueCallback?n.valueCallback(l[0]):l[0];return f=s.valueCallback?s.valueCallback(f):f,{value:f,rest:i.slice(d.length)}}}e.exports=r.default})(pc,pc.exports);var hc={exports:{}};(function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=t;function t(a){return function(i,s){var c=String(i),d=s||{},l=d.width,f=l&&a.matchPatterns[l]||a.matchPatterns[a.defaultMatchWidth],u=c.match(f);if(!u)return null;var h=u[0],p=l&&a.parsePatterns[l]||a.parsePatterns[a.defaultParseWidth],m;return Object.prototype.toString.call(p)==="[object Array]"?m=o(p,function(b){return b.test(c)}):m=n(p,function(b){return b.test(c)}),m=a.valueCallback?a.valueCallback(m):m,m=d.valueCallback?d.valueCallback(m):m,{value:m,rest:c.slice(h.length)}}}function n(a,i){for(var s in a)if(a.hasOwnProperty(s)&&i(a[s]))return s}function o(a,i){for(var s=0;s<a.length;s++)if(i(a[s]))return s}e.exports=r.default})(hc,hc.exports);(function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var t=o(pc.exports),n=o(hc.exports);function o(w){return w&&w.__esModule?w:{default:w}}var a=/^(\d+)(th|st|nd|rd)?/i,i=/\d+/i,s={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},c={any:[/^b/i,/^(a|c)/i]},d={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},l={any:[/1/i,/2/i,/3/i,/4/i]},f={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},u={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},h={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},p={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},m={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},b={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},y={ordinalNumber:(0,t.default)({matchPattern:a,parsePattern:i,valueCallback:function(w){return parseInt(w,10)}}),era:(0,n.default)({matchPatterns:s,defaultMatchWidth:"wide",parsePatterns:c,defaultParseWidth:"any"}),quarter:(0,n.default)({matchPatterns:d,defaultMatchWidth:"wide",parsePatterns:l,defaultParseWidth:"any",valueCallback:function(w){return w+1}}),month:(0,n.default)({matchPatterns:f,defaultMatchWidth:"wide",parsePatterns:u,defaultParseWidth:"any"}),day:(0,n.default)({matchPatterns:h,defaultMatchWidth:"wide",parsePatterns:p,defaultParseWidth:"any"}),dayPeriod:(0,n.default)({matchPatterns:m,defaultMatchWidth:"any",parsePatterns:b,defaultParseWidth:"any"})},g=y;r.default=g,e.exports=r.default})(uc,uc.exports);(function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var t=s(ic.exports),n=s(sc.exports),o=s(dc.exports),a=s(lc.exports),i=s(uc.exports);function s(l){return l&&l.__esModule?l:{default:l}}var c={code:"en-US",formatDistance:t.default,formatLong:n.default,formatRelative:o.default,localize:a.default,match:i.default,options:{weekStartsOn:0,firstWeekContainsDate:1}},d=c;r.default=d,e.exports=r.default})(ac,ac.exports);var Qx=Zx(ac.exports),Jx=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;for(var n=Array(e),o=0,r=0;r<t;r++)for(var a=arguments[r],i=0,s=a.length;i<s;i++,o++)n[o]=a[i];return n},ln={type:tr.END_LINE,threshold:16,numCharacter:14},ek={enabled:!0,position:gn.BOTTOM,clickable:!0,truncation:ln,alignment:$e.LEFT,order:null,additionalItems:[]},_h={x:{enabled:!0,numberOfTicks:15,alignWithAxisTicks:!1},y:{enabled:!0,numberOfTicks:5,alignWithAxisTicks:!1}},xh={enabled:!0},yd={enabled:!0,showTotal:!0,truncation:ln,groupLabel:"Group"},kh={top:{visible:!0,includeZero:!0,truncation:ln},bottom:{visible:!0,includeZero:!0,truncation:ln},left:{visible:!0,includeZero:!0,truncation:ln},right:{visible:!0,includeZero:!0,truncation:ln}},Co={addSpaceOnEdges:1,showDayName:!1,localeObject:Qx,timeIntervalFormats:{"15seconds":{primary:"MMM d, pp",secondary:"pp"},minute:{primary:"MMM d, p",secondary:"p"},"30minutes":{primary:"MMM d, p",secondary:"p"},hourly:{primary:"MMM d, hh a",secondary:"hh a"},daily:{primary:"MMM d",secondary:"d"},weekly:{primary:"eee, MMM d",secondary:"eee"},monthly:{primary:"MMM yyyy",secondary:"MMM"},quarterly:{primary:"QQQ ''yy",secondary:"QQQ"},yearly:{primary:"yyyy",secondary:"yyyy"}}},tk=typeof document!="undefined"&&(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled),tt={width:null,height:null,resizable:!0,tooltip:yd,legend:ek,style:{prefix:"cc"},data:{groupMapsTo:"group",loading:!1,selectedGroups:[]},color:{scale:null,pairing:{numberOfVariants:null,option:1},gradient:{enabled:!1}},toolbar:{enabled:!0,numberOfIcons:3,controls:Jx([{type:Pe.SHOW_AS_DATATABLE}],tk?[{type:Pe.MAKE_FULLSCREEN}]:[],[{type:Pe.EXPORT_CSV},{type:Pe.EXPORT_PNG},{type:Pe.EXPORT_JPG}])}},Bo=v.merge({},tt,{axes:kh,timeScale:Co,grid:_h,ruler:xh,zoomBar:{zoomRatio:.4,minZoomRatio:.01,top:{enabled:!1,type:Et.GRAPH_VIEW}}}),Dr=v.merge({},Bo,{bars:{maxWidth:16,spacingFactor:.25},timeScale:v.merge(Co,{addSpaceOnEdges:1})}),rk=v.merge({},Dr,{}),nk=v.merge({},Dr,{}),ok=v.merge({},Dr,{bars:v.merge({},Dr.bars,{dividerSize:1.5})}),ak=v.merge({},Dr,{}),wd=v.merge({},Bo,{points:{radius:4,fillOpacity:.3,filled:!0,enabled:!0}}),ik=wd,Sh=v.merge({},wd,{points:{radius:3,filled:!1,enabled:!0}}),Mh=v.merge({},Sh,{timeScale:v.merge(Co,{addSpaceOnEdges:0})}),sk=Mh,ck=v.merge({},Bo,{bubble:{radiusMapsTo:"radius",radiusLabel:"Radius",radiusRange:function(e,r){var t=Math.min(e.width,e.height);return[t*3/400,t*25/400]},fillOpacity:.2,enabled:!0},points:{filled:!0},legend:{additionalItems:[{type:Ne.RADIUS,name:"Radius"}]}}),dk=v.merge({},Bo,{bullet:{performanceAreaTitles:["Poor","Satisfactory","Great"]},grid:{x:{enabled:!1},y:{enabled:!1}},legend:{additionalItems:[{type:Ne.AREA,name:"Poor area"},{type:Ne.AREA,name:"Satisfactory area"},{type:Ne.AREA,name:"Great area"},{type:Ne.QUARTILE,name:"Quartiles"}]}}),lk=v.merge({},Dr,{bars:{dividerSize:1.5},timeScale:v.merge(Co,{addSpaceOnEdges:0})}),fk=v.merge({},tt,{tooltip:v.merge({},yd,{wordLabel:"Word",valueLabel:"Value"}),wordCloud:{fontSizeMapsTo:"value",fontSizeRange:function(e,r){var t=Math.min(e.width,e.height);return[t*20/400,t*75/400]},wordMapsTo:"word"}}),Eh=v.merge({},tt,{pie:{labels:{formatter:null,enabled:!0},alignment:$e.LEFT,sortFunction:null,valueMapsTo:"value"}}),uk=v.merge({},tt,{legend:{enabled:!1},gauge:{type:Ur.SEMI,arcWidth:16,deltaArrow:{size:function(e){return e/8},enabled:!0},showPercentageSymbol:!0,status:null,numberSpacing:10,deltaFontSize:function(e){return e/8},valueFontSize:function(e){return e/2.5},numberFormatter:function(e){return e.toFixed(2)%1!==0?e.toFixed(2).toLocaleString():e.toFixed().toLocaleString()},alignment:$e.LEFT}}),pk=v.merge({},Eh,{donut:{center:{numberFontSize:function(e){return Math.min(e/100*24,24)+"px"},titleFontSize:function(e){return Math.min(e/100*15,15)+"px"},titleYPosition:function(e){return Math.min(e/80*20,20)},numberFormatter:function(e){return Math.floor(e).toLocaleString()}},alignment:$e.LEFT}}),Th=v.merge({},tt,{legend:{enabled:!1,clickable:!1},meter:{showLabels:!0,proportional:null,statusBar:{percentageIndicator:{enabled:!0}}}}),hk=v.merge({},Th,{legend:{enabled:!0}}),gk=v.merge({},tt,{radar:{axes:{angle:"key",value:"value"},alignment:$e.LEFT},tooltip:{gridline:{enabled:!0},valueFormatter:function(e){return e!=null?e:"N/A"}}}),mk=v.merge({},Dr,{comboChartTypes:[]}),vk=v.merge({tree:{type:xa.TREE}},tt,{}),bk=v.merge({},tt,{data:v.merge(tt.data,{groupMapsTo:"name"})}),yk=v.merge({},tt,Or,{data:v.merge(tt.data,{groupMapsTo:"name"})}),wk=v.merge({},tt,{alluvial:{data:v.merge(tt.data,{groupMapsTo:"source"}),nodeAlignment:$e.CENTER,nodePadding:24,monochrome:!1,nodes:[]}}),_k=v.merge({},tt,{axes:kh,heatmap:{divider:{state:mn.AUTO},colorLegend:{type:"linear"}}}),Me={chart:tt,axisChart:Bo,simpleBarChart:rk,groupedBarChart:nk,stackedBarChart:ok,boxplotChart:ak,bubbleChart:ck,bulletChart:dk,histogramChart:lk,lineChart:Sh,areaChart:Mh,stackedAreaChart:sk,scatterChart:wd,lollipopChart:ik,pieChart:Eh,donutChart:pk,meterChart:Th,proportionalMeterChart:hk,radarChart:gk,gaugeChart:uk,comboChart:mk,treeChart:vk,treemapChart:bk,circlePackChart:yk,wordCloudChart:fk,alluvialChart:wk,heatmapChart:_k},Oh=Object.freeze(Object.defineProperty({__proto__:null,grid:_h,ruler:xh,baseTooltip:yd,timeScale:Co,options:Me,carbonPrefix:et,area:Dt,axis:Qt,canvasZoomSettings:vn,circlePack:Or,color:nd,boxplot:ut,histogram:op,legend:Le,lines:Lt,meter:Ge,pie:Se,radar:gr,alluvial:wt,heatmap:qs,spacers:Ws,tooltips:ap,transitions:Ys,toolbar:Bm,zoomBar:at,defaultLegendAdditionalItems:ip},Symbol.toStringTag,{value:"Module"}));function Br(e,r){return e==null||r==null?NaN:e<r?-1:e>r?1:e>=r?0:NaN}function xk(e,r){return e==null||r==null?NaN:r<e?-1:r>e?1:r>=e?0:NaN}function _d(e){let r,t,n;e.length!==2?(r=Br,t=(s,c)=>Br(e(s),c),n=(s,c)=>e(s)-c):(r=e===Br||e===xk?e:kk,t=e,n=e);function o(s,c,d=0,l=s.length){if(d<l){if(r(c,c)!==0)return l;do{const f=d+l>>>1;t(s[f],c)<0?d=f+1:l=f}while(d<l)}return d}function a(s,c,d=0,l=s.length){if(d<l){if(r(c,c)!==0)return l;do{const f=d+l>>>1;t(s[f],c)<=0?d=f+1:l=f}while(d<l)}return d}function i(s,c,d=0,l=s.length){const f=o(s,c,d,l-1);return f>d&&n(s[f-1],c)>-n(s[f],c)?f-1:f}return{left:o,center:i,right:a}}function kk(){return 0}function Sk(e){return e===null?NaN:+e}function*Mk(e,r){if(r===void 0)for(let t of e)t!=null&&(t=+t)>=t&&(yield t);else{let t=-1;for(let n of e)(n=r(n,++t,e))!=null&&(n=+n)>=n&&(yield n)}}const Ek=_d(Br),Tk=Ek.right;_d(Sk).center;var xd=Tk;function Ok(e,r){let t=0;if(r===void 0)for(let n of e)n!=null&&(n=+n)>=n&&++t;else{let n=-1;for(let o of e)(o=r(o,++n,e))!=null&&(o=+o)>=o&&++t}return t}function Rt(e,r){let t,n;if(r===void 0)for(const o of e)o!=null&&(t===void 0?o>=o&&(t=n=o):(t>o&&(t=o),n<o&&(n=o)));else{let o=-1;for(let a of e)(a=r(a,++o,e))!=null&&(t===void 0?a>=a&&(t=n=a):(t>a&&(t=a),n<a&&(n=a)))}return[t,n]}class Xl extends Map{constructor(r,t=Uk){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),r!=null)for(const[n,o]of r)this.set(n,o)}get(r){return super.get(Zl(this,r))}has(r){return super.has(Zl(this,r))}set(r,t){return super.set(Ak(this,r),t)}delete(r){return super.delete(Pk(this,r))}}function Zl({_intern:e,_key:r},t){const n=r(t);return e.has(n)?e.get(n):t}function Ak({_intern:e,_key:r},t){const n=r(t);return e.has(n)?e.get(n):(e.set(n,t),t)}function Pk({_intern:e,_key:r},t){const n=r(t);return e.has(n)&&(t=e.get(n),e.delete(n)),t}function Uk(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Ck(e){return e}function Bk(e=Br){if(e===Br)return Ah;if(typeof e!="function")throw new TypeError("compare is not a function");return(r,t)=>{const n=e(r,t);return n||n===0?n:(e(t,t)===0)-(e(r,r)===0)}}function Ah(e,r){return(e==null||!(e>=e))-(r==null||!(r>=r))||(e<r?-1:e>r?1:0)}var Ik=Array.prototype,zk=Ik.slice;function Xo(e){return()=>e}var gc=Math.sqrt(50),mc=Math.sqrt(10),vc=Math.sqrt(2);function Oa(e,r,t){var n,o=-1,a,i,s;if(r=+r,e=+e,t=+t,e===r&&t>0)return[e];if((n=r<e)&&(a=e,e=r,r=a),(s=mo(e,r,t))===0||!isFinite(s))return[];if(s>0){let c=Math.round(e/s),d=Math.round(r/s);for(c*s<e&&++c,d*s>r&&--d,i=new Array(a=d-c+1);++o<a;)i[o]=(c+o)*s}else{s=-s;let c=Math.round(e*s),d=Math.round(r*s);for(c/s<e&&++c,d/s>r&&--d,i=new Array(a=d-c+1);++o<a;)i[o]=(c+o)/s}return n&&i.reverse(),i}function mo(e,r,t){var n=(r-e)/Math.max(0,t),o=Math.floor(Math.log(n)/Math.LN10),a=n/Math.pow(10,o);return o>=0?(a>=gc?10:a>=mc?5:a>=vc?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(a>=gc?10:a>=mc?5:a>=vc?2:1)}function bc(e,r,t){var n=Math.abs(r-e)/Math.max(0,t),o=Math.pow(10,Math.floor(Math.log(n)/Math.LN10)),a=n/o;return a>=gc?o*=10:a>=mc?o*=5:a>=vc&&(o*=2),r<e?-o:o}function Lk(e,r,t){let n;for(;;){const o=mo(e,r,t);if(o===n||o===0||!isFinite(o))return[e,r];o>0?(e=Math.floor(e/o)*o,r=Math.ceil(r/o)*o):o<0&&(e=Math.ceil(e*o)/o,r=Math.floor(r*o)/o),n=o}}function Dk(e){return Math.ceil(Math.log(Ok(e))/Math.LN2)+1}function Rk(){var e=Ck,r=Rt,t=Dk;function n(o){Array.isArray(o)||(o=Array.from(o));var a,i=o.length,s,c,d=new Array(i);for(a=0;a<i;++a)d[a]=e(o[a],a,o);var l=r(d),f=l[0],u=l[1],h=t(d,f,u);if(!Array.isArray(h)){const y=u,g=+h;if(r===Rt&&([f,u]=Lk(f,u,g)),h=Oa(f,u,g),h[0]<=f&&(c=mo(f,u,g)),h[h.length-1]>=u)if(y>=u&&r===Rt){const w=mo(f,u,g);isFinite(w)&&(w>0?u=(Math.floor(u/w)+1)*w:w<0&&(u=(Math.ceil(u*-w)+1)/-w))}else h.pop()}for(var p=h.length;h[0]<=f;)h.shift(),--p;for(;h[p-1]>u;)h.pop(),--p;var m=new Array(p+1),b;for(a=0;a<=p;++a)b=m[a]=[],b.x0=a>0?h[a-1]:f,b.x1=a<p?h[a]:u;if(isFinite(c)){if(c>0)for(a=0;a<i;++a)(s=d[a])!=null&&f<=s&&s<=u&&m[Math.min(p,Math.floor((s-f)/c))].push(o[a]);else if(c<0){for(a=0;a<i;++a)if((s=d[a])!=null&&f<=s&&s<=u){const y=Math.floor((f-s)*c);m[Math.min(p,y+(h[y]<=s))].push(o[a])}}}else for(a=0;a<i;++a)(s=d[a])!=null&&f<=s&&s<=u&&m[xd(h,s,0,p)].push(o[a]);return m}return n.value=function(o){return arguments.length?(e=typeof o=="function"?o:Xo(o),n):e},n.domain=function(o){return arguments.length?(r=typeof o=="function"?o:Xo([o[0],o[1]]),n):r},n.thresholds=function(o){return arguments.length?(t=typeof o=="function"?o:Array.isArray(o)?Xo(zk.call(o)):Xo(o),n):t},n}function Rr(e,r){let t;if(r===void 0)for(const n of e)n!=null&&(t<n||t===void 0&&n>=n)&&(t=n);else{let n=-1;for(let o of e)(o=r(o,++n,e))!=null&&(t<o||t===void 0&&o>=o)&&(t=o)}return t}function vr(e,r){let t;if(r===void 0)for(const n of e)n!=null&&(t>n||t===void 0&&n>=n)&&(t=n);else{let n=-1;for(let o of e)(o=r(o,++n,e))!=null&&(t>o||t===void 0&&o>=o)&&(t=o)}return t}function Ph(e,r,t=0,n=e.length-1,o){for(o=o===void 0?Ah:Bk(o);n>t;){if(n-t>600){const c=n-t+1,d=r-t+1,l=Math.log(c),f=.5*Math.exp(2*l/3),u=.5*Math.sqrt(l*f*(c-f)/c)*(d-c/2<0?-1:1),h=Math.max(t,Math.floor(r-d*f/c+u)),p=Math.min(n,Math.floor(r+(c-d)*f/c+u));Ph(e,r,h,p,o)}const a=e[r];let i=t,s=n;for(Nn(e,t,r),o(e[n],a)>0&&Nn(e,t,n);i<s;){for(Nn(e,i,s),++i,--s;o(e[i],a)<0;)++i;for(;o(e[s],a)>0;)--s}o(e[t],a)===0?Nn(e,t,s):(++s,Nn(e,s,n)),s<=r&&(t=s+1),r<=s&&(n=s-1)}return e}function Nn(e,r,t){const n=e[r];e[r]=e[t],e[t]=n}function Vi(e,r,t){if(e=Float64Array.from(Mk(e,t)),!!(n=e.length)){if((r=+r)<=0||n<2)return vr(e);if(r>=1)return Rr(e);var n,o=(n-1)*r,a=Math.floor(o),i=Rr(Ph(e,a).subarray(0,a+1)),s=vr(e.subarray(a+1));return i+(s-i)*(o-a)}}function Fk(e,r,t){e=+e,r=+r,t=(o=arguments.length)<2?(r=e,e=0,1):o<3?1:+t;for(var n=-1,o=Math.max(0,Math.ceil((r-e)/t))|0,a=new Array(o);++n<o;)a[n]=e+n*t;return a}function Dn(e,r){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(r).domain(e);break}return this}const Kl=Symbol("implicit");function mi(){var e=new Xl,r=[],t=[],n=Kl;function o(a){let i=e.get(a);if(i===void 0){if(n!==Kl)return n;e.set(a,i=r.push(a)-1)}return t[i%t.length]}return o.domain=function(a){if(!arguments.length)return r.slice();r=[],e=new Xl;for(const i of a)e.has(i)||e.set(i,r.push(i)-1);return o},o.range=function(a){return arguments.length?(t=Array.from(a),o):t.slice()},o.unknown=function(a){return arguments.length?(n=a,o):n},o.copy=function(){return mi(r,t).unknown(n)},Dn.apply(o,arguments),o}function Io(){var e=mi().unknown(void 0),r=e.domain,t=e.range,n=0,o=1,a,i,s=!1,c=0,d=0,l=.5;delete e.unknown;function f(){var u=r().length,h=o<n,p=h?o:n,m=h?n:o;a=(m-p)/Math.max(1,u-c+d*2),s&&(a=Math.floor(a)),p+=(m-p-a*(u-c))*l,i=a*(1-c),s&&(p=Math.round(p),i=Math.round(i));var b=Fk(u).map(function(y){return p+a*y});return t(h?b.reverse():b)}return e.domain=function(u){return arguments.length?(r(u),f()):r()},e.range=function(u){return arguments.length?([n,o]=u,n=+n,o=+o,f()):[n,o]},e.rangeRound=function(u){return[n,o]=u,n=+n,o=+o,s=!0,f()},e.bandwidth=function(){return i},e.step=function(){return a},e.round=function(u){return arguments.length?(s=!!u,f()):s},e.padding=function(u){return arguments.length?(c=Math.min(1,d=+u),f()):c},e.paddingInner=function(u){return arguments.length?(c=Math.min(1,u),f()):c},e.paddingOuter=function(u){return arguments.length?(d=+u,f()):d},e.align=function(u){return arguments.length?(l=Math.max(0,Math.min(1,u)),f()):l},e.copy=function(){return Io(r(),[n,o]).round(s).paddingInner(c).paddingOuter(d).align(l)},Dn.apply(f(),arguments)}function kd(e,r,t){e.prototype=r.prototype=t,t.constructor=e}function Uh(e,r){var t=Object.create(e.prototype);for(var n in r)t[n]=r[n];return t}function zo(){}var vo=.7,Aa=1/vo,yn="\\s*([+-]?\\d+)\\s*",bo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ft="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Nk=/^#([0-9a-f]{3,8})$/,Vk=new RegExp(`^rgb\\(${yn},${yn},${yn}\\)$`),$k=new RegExp(`^rgb\\(${Ft},${Ft},${Ft}\\)$`),Hk=new RegExp(`^rgba\\(${yn},${yn},${yn},${bo}\\)$`),Gk=new RegExp(`^rgba\\(${Ft},${Ft},${Ft},${bo}\\)$`),jk=new RegExp(`^hsl\\(${bo},${Ft},${Ft}\\)$`),qk=new RegExp(`^hsla\\(${bo},${Ft},${Ft},${bo}\\)$`),Ql={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};kd(zo,rr,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Jl,formatHex:Jl,formatHex8:Wk,formatHsl:Yk,formatRgb:ef,toString:ef});function Jl(){return this.rgb().formatHex()}function Wk(){return this.rgb().formatHex8()}function Yk(){return Ch(this).formatHsl()}function ef(){return this.rgb().formatRgb()}function rr(e){var r,t;return e=(e+"").trim().toLowerCase(),(r=Nk.exec(e))?(t=r[1].length,r=parseInt(r[1],16),t===6?tf(r):t===3?new it(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):t===8?Zo(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):t===4?Zo(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=Vk.exec(e))?new it(r[1],r[2],r[3],1):(r=$k.exec(e))?new it(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=Hk.exec(e))?Zo(r[1],r[2],r[3],r[4]):(r=Gk.exec(e))?Zo(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=jk.exec(e))?of(r[1],r[2]/100,r[3]/100,1):(r=qk.exec(e))?of(r[1],r[2]/100,r[3]/100,r[4]):Ql.hasOwnProperty(e)?tf(Ql[e]):e==="transparent"?new it(NaN,NaN,NaN,0):null}function tf(e){return new it(e>>16&255,e>>8&255,e&255,1)}function Zo(e,r,t,n){return n<=0&&(e=r=t=NaN),new it(e,r,t,n)}function Xk(e){return e instanceof zo||(e=rr(e)),e?(e=e.rgb(),new it(e.r,e.g,e.b,e.opacity)):new it}function yc(e,r,t,n){return arguments.length===1?Xk(e):new it(e,r,t,n==null?1:n)}function it(e,r,t,n){this.r=+e,this.g=+r,this.b=+t,this.opacity=+n}kd(it,yc,Uh(zo,{brighter(e){return e=e==null?Aa:Math.pow(Aa,e),new it(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?vo:Math.pow(vo,e),new it(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new it(Ir(this.r),Ir(this.g),Ir(this.b),Pa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rf,formatHex:rf,formatHex8:Zk,formatRgb:nf,toString:nf}));function rf(){return`#${Cr(this.r)}${Cr(this.g)}${Cr(this.b)}`}function Zk(){return`#${Cr(this.r)}${Cr(this.g)}${Cr(this.b)}${Cr((isNaN(this.opacity)?1:this.opacity)*255)}`}function nf(){const e=Pa(this.opacity);return`${e===1?"rgb(":"rgba("}${Ir(this.r)}, ${Ir(this.g)}, ${Ir(this.b)}${e===1?")":`, ${e})`}`}function Pa(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ir(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Cr(e){return e=Ir(e),(e<16?"0":"")+e.toString(16)}function of(e,r,t,n){return n<=0?e=r=t=NaN:t<=0||t>=1?e=r=NaN:r<=0&&(e=NaN),new Tt(e,r,t,n)}function Ch(e){if(e instanceof Tt)return new Tt(e.h,e.s,e.l,e.opacity);if(e instanceof zo||(e=rr(e)),!e)return new Tt;if(e instanceof Tt)return e;e=e.rgb();var r=e.r/255,t=e.g/255,n=e.b/255,o=Math.min(r,t,n),a=Math.max(r,t,n),i=NaN,s=a-o,c=(a+o)/2;return s?(r===a?i=(t-n)/s+(t<n)*6:t===a?i=(n-r)/s+2:i=(r-t)/s+4,s/=c<.5?a+o:2-a-o,i*=60):s=c>0&&c<1?0:i,new Tt(i,s,c,e.opacity)}function Sd(e,r,t,n){return arguments.length===1?Ch(e):new Tt(e,r,t,n==null?1:n)}function Tt(e,r,t,n){this.h=+e,this.s=+r,this.l=+t,this.opacity=+n}kd(Tt,Sd,Uh(zo,{brighter(e){return e=e==null?Aa:Math.pow(Aa,e),new Tt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?vo:Math.pow(vo,e),new Tt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,r=isNaN(e)||isNaN(this.s)?0:this.s,t=this.l,n=t+(t<.5?t:1-t)*r,o=2*t-n;return new it($i(e>=240?e-240:e+120,o,n),$i(e,o,n),$i(e<120?e+240:e-120,o,n),this.opacity)},clamp(){return new Tt(af(this.h),Ko(this.s),Ko(this.l),Pa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Pa(this.opacity);return`${e===1?"hsl(":"hsla("}${af(this.h)}, ${Ko(this.s)*100}%, ${Ko(this.l)*100}%${e===1?")":`, ${e})`}`}}));function af(e){return e=(e||0)%360,e<0?e+360:e}function Ko(e){return Math.max(0,Math.min(1,e||0))}function $i(e,r,t){return(e<60?r+(t-r)*e/60:e<180?t:e<240?r+(t-r)*(240-e)/60:r)*255}var Md=e=>()=>e;function Kk(e,r){return function(t){return e+t*r}}function Qk(e,r,t){return e=Math.pow(e,t),r=Math.pow(r,t)-e,t=1/t,function(n){return Math.pow(e+n*r,t)}}function Jk(e){return(e=+e)==1?Bh:function(r,t){return t-r?Qk(r,t,e):Md(isNaN(r)?t:r)}}function Bh(e,r){var t=r-e;return t?Kk(e,t):Md(isNaN(e)?r:e)}var Ua=function e(r){var t=Jk(r);function n(o,a){var i=t((o=yc(o)).r,(a=yc(a)).r),s=t(o.g,a.g),c=t(o.b,a.b),d=Bh(o.opacity,a.opacity);return function(l){return o.r=i(l),o.g=s(l),o.b=c(l),o.opacity=d(l),o+""}}return n.gamma=e,n}(1);function e3(e,r){r||(r=[]);var t=e?Math.min(r.length,e.length):0,n=r.slice(),o;return function(a){for(o=0;o<t;++o)n[o]=e[o]*(1-a)+r[o]*a;return n}}function t3(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function r3(e,r){var t=r?r.length:0,n=e?Math.min(t,e.length):0,o=new Array(n),a=new Array(t),i;for(i=0;i<n;++i)o[i]=Lo(e[i],r[i]);for(;i<t;++i)a[i]=r[i];return function(s){for(i=0;i<n;++i)a[i]=o[i](s);return a}}function n3(e,r){var t=new Date;return e=+e,r=+r,function(n){return t.setTime(e*(1-n)+r*n),t}}function ht(e,r){return e=+e,r=+r,function(t){return e*(1-t)+r*t}}function o3(e,r){var t={},n={},o;(e===null||typeof e!="object")&&(e={}),(r===null||typeof r!="object")&&(r={});for(o in r)o in e?t[o]=Lo(e[o],r[o]):n[o]=r[o];return function(a){for(o in t)n[o]=t[o](a);return n}}var wc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Hi=new RegExp(wc.source,"g");function a3(e){return function(){return e}}function i3(e){return function(r){return e(r)+""}}function Ih(e,r){var t=wc.lastIndex=Hi.lastIndex=0,n,o,a,i=-1,s=[],c=[];for(e=e+"",r=r+"";(n=wc.exec(e))&&(o=Hi.exec(r));)(a=o.index)>t&&(a=r.slice(t,a),s[i]?s[i]+=a:s[++i]=a),(n=n[0])===(o=o[0])?s[i]?s[i]+=o:s[++i]=o:(s[++i]=null,c.push({i,x:ht(n,o)})),t=Hi.lastIndex;return t<r.length&&(a=r.slice(t),s[i]?s[i]+=a:s[++i]=a),s.length<2?c[0]?i3(c[0].x):a3(r):(r=c.length,function(d){for(var l=0,f;l<r;++l)s[(f=c[l]).i]=f.x(d);return s.join("")})}function Lo(e,r){var t=typeof r,n;return r==null||t==="boolean"?Md(r):(t==="number"?ht:t==="string"?(n=rr(r))?(r=n,Ua):Ih:r instanceof rr?Ua:r instanceof Date?n3:t3(r)?e3:Array.isArray(r)?r3:typeof r.valueOf!="function"&&typeof r.toString!="function"||isNaN(r)?o3:ht)(e,r)}function zh(e,r){return e=+e,r=+r,function(t){return Math.round(e*(1-t)+r*t)}}var sf=180/Math.PI,_c={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Lh(e,r,t,n,o,a){var i,s,c;return(i=Math.sqrt(e*e+r*r))&&(e/=i,r/=i),(c=e*t+r*n)&&(t-=e*c,n-=r*c),(s=Math.sqrt(t*t+n*n))&&(t/=s,n/=s,c/=s),e*n<r*t&&(e=-e,r=-r,c=-c,i=-i),{translateX:o,translateY:a,rotate:Math.atan2(r,e)*sf,skewX:Math.atan(c)*sf,scaleX:i,scaleY:s}}var Qo;function s3(e){const r=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return r.isIdentity?_c:Lh(r.a,r.b,r.c,r.d,r.e,r.f)}function c3(e){return e==null||(Qo||(Qo=document.createElementNS("http://www.w3.org/2000/svg","g")),Qo.setAttribute("transform",e),!(e=Qo.transform.baseVal.consolidate()))?_c:(e=e.matrix,Lh(e.a,e.b,e.c,e.d,e.e,e.f))}function Dh(e,r,t,n){function o(d){return d.length?d.pop()+" ":""}function a(d,l,f,u,h,p){if(d!==f||l!==u){var m=h.push("translate(",null,r,null,t);p.push({i:m-4,x:ht(d,f)},{i:m-2,x:ht(l,u)})}else(f||u)&&h.push("translate("+f+r+u+t)}function i(d,l,f,u){d!==l?(d-l>180?l+=360:l-d>180&&(d+=360),u.push({i:f.push(o(f)+"rotate(",null,n)-2,x:ht(d,l)})):l&&f.push(o(f)+"rotate("+l+n)}function s(d,l,f,u){d!==l?u.push({i:f.push(o(f)+"skewX(",null,n)-2,x:ht(d,l)}):l&&f.push(o(f)+"skewX("+l+n)}function c(d,l,f,u,h,p){if(d!==f||l!==u){var m=h.push(o(h)+"scale(",null,",",null,")");p.push({i:m-4,x:ht(d,f)},{i:m-2,x:ht(l,u)})}else(f!==1||u!==1)&&h.push(o(h)+"scale("+f+","+u+")")}return function(d,l){var f=[],u=[];return d=e(d),l=e(l),a(d.translateX,d.translateY,l.translateX,l.translateY,f,u),i(d.rotate,l.rotate,f,u),s(d.skewX,l.skewX,f,u),c(d.scaleX,d.scaleY,l.scaleX,l.scaleY,f,u),d=l=null,function(h){for(var p=-1,m=u.length,b;++p<m;)f[(b=u[p]).i]=b.x(h);return f.join("")}}}var d3=Dh(s3,"px, ","px)","deg)"),l3=Dh(c3,", ",")",")");function f3(e,r){for(var t=new Array(r),n=0;n<r;++n)t[n]=e(n/(r-1));return t}function u3(e){return function(){return e}}function p3(e){return+e}var cf=[0,1];function fn(e){return e}function xc(e,r){return(r-=e=+e)?function(t){return(t-e)/r}:u3(isNaN(r)?NaN:.5)}function h3(e,r){var t;return e>r&&(t=e,e=r,r=t),function(n){return Math.max(e,Math.min(r,n))}}function g3(e,r,t){var n=e[0],o=e[1],a=r[0],i=r[1];return o<n?(n=xc(o,n),a=t(i,a)):(n=xc(n,o),a=t(a,i)),function(s){return a(n(s))}}function m3(e,r,t){var n=Math.min(e.length,r.length)-1,o=new Array(n),a=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),r=r.slice().reverse());++i<n;)o[i]=xc(e[i],e[i+1]),a[i]=t(r[i],r[i+1]);return function(s){var c=xd(e,s,1,n)-1;return a[c](o[c](s))}}function Ed(e,r){return r.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Rh(){var e=cf,r=cf,t=Lo,n,o,a,i=fn,s,c,d;function l(){var u=Math.min(e.length,r.length);return i!==fn&&(i=h3(e[0],e[u-1])),s=u>2?m3:g3,c=d=null,f}function f(u){return u==null||isNaN(u=+u)?a:(c||(c=s(e.map(n),r,t)))(n(i(u)))}return f.invert=function(u){return i(o((d||(d=s(r,e.map(n),ht)))(u)))},f.domain=function(u){return arguments.length?(e=Array.from(u,p3),l()):e.slice()},f.range=function(u){return arguments.length?(r=Array.from(u),l()):r.slice()},f.rangeRound=function(u){return r=Array.from(u),t=zh,l()},f.clamp=function(u){return arguments.length?(i=u?!0:fn,l()):i!==fn},f.interpolate=function(u){return arguments.length?(t=u,l()):t},f.unknown=function(u){return arguments.length?(a=u,f):a},function(u,h){return n=u,o=h,l()}}function Fh(){return Rh()(fn,fn)}function v3(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ca(e,r){if((t=(e=r?e.toExponential(r-1):e.toExponential()).indexOf("e"))<0)return null;var t,n=e.slice(0,t);return[n.length>1?n[0]+n.slice(2):n,+e.slice(t+1)]}function An(e){return e=Ca(Math.abs(e)),e?e[1]:NaN}function b3(e,r){return function(t,n){for(var o=t.length,a=[],i=0,s=e[0],c=0;o>0&&s>0&&(c+s+1>n&&(s=Math.max(1,n-c)),a.push(t.substring(o-=s,o+s)),!((c+=s+1)>n));)s=e[i=(i+1)%e.length];return a.reverse().join(r)}}function y3(e){return function(r){return r.replace(/[0-9]/g,function(t){return e[+t]})}}var w3=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function yo(e){if(!(r=w3.exec(e)))throw new Error("invalid format: "+e);var r;return new Td({fill:r[1],align:r[2],sign:r[3],symbol:r[4],zero:r[5],width:r[6],comma:r[7],precision:r[8]&&r[8].slice(1),trim:r[9],type:r[10]})}yo.prototype=Td.prototype;function Td(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Td.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function _3(e){e:for(var r=e.length,t=1,n=-1,o;t<r;++t)switch(e[t]){case".":n=o=t;break;case"0":n===0&&(n=t),o=t;break;default:if(!+e[t])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(o+1):e}var Nh;function x3(e,r){var t=Ca(e,r);if(!t)return e+"";var n=t[0],o=t[1],a=o-(Nh=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,i=n.length;return a===i?n:a>i?n+new Array(a-i+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Ca(e,Math.max(0,r+a-1))[0]}function df(e,r){var t=Ca(e,r);if(!t)return e+"";var n=t[0],o=t[1];return o<0?"0."+new Array(-o).join("0")+n:n.length>o+1?n.slice(0,o+1)+"."+n.slice(o+1):n+new Array(o-n.length+2).join("0")}var lf={"%":(e,r)=>(e*100).toFixed(r),b:e=>Math.round(e).toString(2),c:e=>e+"",d:v3,e:(e,r)=>e.toExponential(r),f:(e,r)=>e.toFixed(r),g:(e,r)=>e.toPrecision(r),o:e=>Math.round(e).toString(8),p:(e,r)=>df(e*100,r),r:df,s:x3,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function ff(e){return e}var uf=Array.prototype.map,pf=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function k3(e){var r=e.grouping===void 0||e.thousands===void 0?ff:b3(uf.call(e.grouping,Number),e.thousands+""),t=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",o=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?ff:y3(uf.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"\u2212":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(f){f=yo(f);var u=f.fill,h=f.align,p=f.sign,m=f.symbol,b=f.zero,y=f.width,g=f.comma,w=f.precision,k=f.trim,_=f.type;_==="n"?(g=!0,_="g"):lf[_]||(w===void 0&&(w=12),k=!0,_="g"),(b||u==="0"&&h==="=")&&(b=!0,u="0",h="=");var x=m==="$"?t:m==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",O=m==="$"?n:/[%p]/.test(_)?i:"",M=lf[_],T=/[defgprs%]/.test(_);w=w===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function A(S){var P=x,I=O,L,B,C;if(_==="c")I=M(S)+I,S="";else{S=+S;var z=S<0||1/S<0;if(S=isNaN(S)?c:M(Math.abs(S),w),k&&(S=_3(S)),z&&+S==0&&p!=="+"&&(z=!1),P=(z?p==="("?p:s:p==="-"||p==="("?"":p)+P,I=(_==="s"?pf[8+Nh/3]:"")+I+(z&&p==="("?")":""),T){for(L=-1,B=S.length;++L<B;)if(C=S.charCodeAt(L),48>C||C>57){I=(C===46?o+S.slice(L+1):S.slice(L))+I,S=S.slice(0,L);break}}}g&&!b&&(S=r(S,1/0));var F=P.length+S.length+I.length,U=F<y?new Array(y-F+1).join(u):"";switch(g&&b&&(S=r(U+S,U.length?y-I.length:1/0),U=""),h){case"<":S=P+S+I+U;break;case"=":S=P+U+S+I;break;case"^":S=U.slice(0,F=U.length>>1)+P+S+I+U.slice(F);break;default:S=U+P+S+I;break}return a(S)}return A.toString=function(){return f+""},A}function l(f,u){var h=d((f=yo(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(An(u)/3)))*3,m=Math.pow(10,-p),b=pf[8+p/3];return function(y){return h(m*y)+b}}return{format:d,formatPrefix:l}}var Jo,Od,Vh;S3({thousands:",",grouping:[3],currency:["$",""]});function S3(e){return Jo=k3(e),Od=Jo.format,Vh=Jo.formatPrefix,Jo}function M3(e){return Math.max(0,-An(Math.abs(e)))}function E3(e,r){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(An(r)/3)))*3-An(Math.abs(e)))}function T3(e,r){return e=Math.abs(e),r=Math.abs(r)-e,Math.max(0,An(r)-An(e))+1}function O3(e,r,t,n){var o=bc(e,r,t),a;switch(n=yo(n==null?",f":n),n.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(r));return n.precision==null&&!isNaN(a=E3(o,i))&&(n.precision=a),Vh(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=T3(o,Math.max(Math.abs(e),Math.abs(r))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=M3(o))&&(n.precision=a-(n.type==="%")*2);break}}return Od(n)}function $h(e){var r=e.domain;return e.ticks=function(t){var n=r();return Oa(n[0],n[n.length-1],t==null?10:t)},e.tickFormat=function(t,n){var o=r();return O3(o[0],o[o.length-1],t==null?10:t,n)},e.nice=function(t){t==null&&(t=10);var n=r(),o=0,a=n.length-1,i=n[o],s=n[a],c,d,l=10;for(s<i&&(d=i,i=s,s=d,d=o,o=a,a=d);l-- >0;){if(d=mo(i,s,t),d===c)return n[o]=i,n[a]=s,r(n);if(d>0)i=Math.floor(i/d)*d,s=Math.ceil(s/d)*d;else if(d<0)i=Math.ceil(i*d)/d,s=Math.floor(s*d)/d;else break;c=d}return e},e}function Ht(){var e=Fh();return e.copy=function(){return Ed(e,Ht())},Dn.apply(e,arguments),$h(e)}function Hh(e,r){e=e.slice();var t=0,n=e.length-1,o=e[t],a=e[n],i;return a<o&&(i=t,t=n,n=i,i=o,o=a,a=i),e[t]=r.floor(o),e[n]=r.ceil(a),e}function hf(e){return Math.log(e)}function gf(e){return Math.exp(e)}function A3(e){return-Math.log(-e)}function P3(e){return-Math.exp(-e)}function U3(e){return isFinite(e)?+("1e"+e):e<0?0:e}function C3(e){return e===10?U3:e===Math.E?Math.exp:r=>Math.pow(e,r)}function B3(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),r=>Math.log(r)/e)}function mf(e){return(r,t)=>-e(-r,t)}function I3(e){const r=e(hf,gf),t=r.domain;let n=10,o,a;function i(){return o=B3(n),a=C3(n),t()[0]<0?(o=mf(o),a=mf(a),e(A3,P3)):e(hf,gf),r}return r.base=function(s){return arguments.length?(n=+s,i()):n},r.domain=function(s){return arguments.length?(t(s),i()):t()},r.ticks=s=>{const c=t();let d=c[0],l=c[c.length-1];const f=l<d;f&&([d,l]=[l,d]);let u=o(d),h=o(l),p,m;const b=s==null?10:+s;let y=[];if(!(n%1)&&h-u<b){if(u=Math.floor(u),h=Math.ceil(h),d>0){for(;u<=h;++u)for(p=1;p<n;++p)if(m=u<0?p/a(-u):p*a(u),!(m<d)){if(m>l)break;y.push(m)}}else for(;u<=h;++u)for(p=n-1;p>=1;--p)if(m=u>0?p/a(-u):p*a(u),!(m<d)){if(m>l)break;y.push(m)}y.length*2<b&&(y=Oa(d,l,b))}else y=Oa(u,h,Math.min(h-u,b)).map(a);return f?y.reverse():y},r.tickFormat=(s,c)=>{if(s==null&&(s=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=yo(c)).precision==null&&(c.trim=!0),c=Od(c)),s===1/0)return c;const d=Math.max(1,n*s/r.ticks().length);return l=>{let f=l/a(Math.round(o(l)));return f*n<n-.5&&(f*=n),f<=d?c(l):""}},r.nice=()=>t(Hh(t(),{floor:s=>a(Math.floor(o(s))),ceil:s=>a(Math.ceil(o(s)))})),r}function Gh(){const e=I3(Rh()).domain([1,10]);return e.copy=()=>Ed(e,Gh()).base(e.base()),Dn.apply(e,arguments),e}function jh(){var e=0,r=1,t=1,n=[.5],o=[0,1],a;function i(c){return c!=null&&c<=c?o[xd(n,c,0,t)]:a}function s(){var c=-1;for(n=new Array(t);++c<t;)n[c]=((c+1)*r-(c-t)*e)/(t+1);return i}return i.domain=function(c){return arguments.length?([e,r]=c,e=+e,r=+r,s()):[e,r]},i.range=function(c){return arguments.length?(t=(o=Array.from(c)).length-1,s()):o.slice()},i.invertExtent=function(c){var d=o.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,n[0]]:d>=t?[n[t-1],r]:[n[d-1],n[d]]},i.unknown=function(c){return arguments.length&&(a=c),i},i.thresholds=function(){return n.slice()},i.copy=function(){return jh().domain([e,r]).range(o).unknown(a)},Dn.apply($h(i),arguments)}var Gi=new Date,ji=new Date;function je(e,r,t,n){function o(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return o.floor=function(a){return e(a=new Date(+a)),a},o.ceil=function(a){return e(a=new Date(a-1)),r(a,1),e(a),a},o.round=function(a){var i=o(a),s=o.ceil(a);return a-i<s-a?i:s},o.offset=function(a,i){return r(a=new Date(+a),i==null?1:Math.floor(i)),a},o.range=function(a,i,s){var c=[],d;if(a=o.ceil(a),s=s==null?1:Math.floor(s),!(a<i)||!(s>0))return c;do c.push(d=new Date(+a)),r(a,s),e(a);while(d<a&&a<i);return c},o.filter=function(a){return je(function(i){if(i>=i)for(;e(i),!a(i);)i.setTime(i-1)},function(i,s){if(i>=i)if(s<0)for(;++s<=0;)for(;r(i,-1),!a(i););else for(;--s>=0;)for(;r(i,1),!a(i););})},t&&(o.count=function(a,i){return Gi.setTime(+a),ji.setTime(+i),e(Gi),e(ji),Math.floor(t(Gi,ji))},o.every=function(a){return a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?o.filter(n?function(i){return n(i)%a===0}:function(i){return o.count(0,i)%a===0}):o}),o}var Ba=je(function(){},function(e,r){e.setTime(+e+r)},function(e,r){return r-e});Ba.every=function(e){return e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?je(function(r){r.setTime(Math.floor(r/e)*e)},function(r,t){r.setTime(+r+t*e)},function(r,t){return(t-r)/e}):Ba};var z3=Ba;Ba.range;const Jt=1e3,xt=Jt*60,er=xt*60,Fr=er*24,Ad=Fr*7,vf=Fr*30,qi=Fr*365;var qh=je(function(e){e.setTime(e-e.getMilliseconds())},function(e,r){e.setTime(+e+r*Jt)},function(e,r){return(r-e)/Jt},function(e){return e.getUTCSeconds()}),Xn=qh;qh.range;var Wh=je(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*Jt)},function(e,r){e.setTime(+e+r*xt)},function(e,r){return(r-e)/xt},function(e){return e.getMinutes()}),Yh=Wh;Wh.range;var Xh=je(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*Jt-e.getMinutes()*xt)},function(e,r){e.setTime(+e+r*er)},function(e,r){return(r-e)/er},function(e){return e.getHours()}),Zh=Xh;Xh.range;var Kh=je(e=>e.setHours(0,0,0,0),(e,r)=>e.setDate(e.getDate()+r),(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*xt)/Fr,e=>e.getDate()-1),vi=Kh;Kh.range;function Wr(e){return je(function(r){r.setDate(r.getDate()-(r.getDay()+7-e)%7),r.setHours(0,0,0,0)},function(r,t){r.setDate(r.getDate()+t*7)},function(r,t){return(t-r-(t.getTimezoneOffset()-r.getTimezoneOffset())*xt)/Ad})}var bi=Wr(0),Ia=Wr(1),L3=Wr(2),D3=Wr(3),Pn=Wr(4),R3=Wr(5),F3=Wr(6);bi.range;Ia.range;L3.range;D3.range;Pn.range;R3.range;F3.range;var Qh=je(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,r){e.setMonth(e.getMonth()+r)},function(e,r){return r.getMonth()-e.getMonth()+(r.getFullYear()-e.getFullYear())*12},function(e){return e.getMonth()}),Jh=Qh;Qh.range;var Pd=je(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,r){e.setFullYear(e.getFullYear()+r)},function(e,r){return r.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});Pd.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:je(function(r){r.setFullYear(Math.floor(r.getFullYear()/e)*e),r.setMonth(0,1),r.setHours(0,0,0,0)},function(r,t){r.setFullYear(r.getFullYear()+t*e)})};var Nr=Pd;Pd.range;var eg=je(function(e){e.setUTCSeconds(0,0)},function(e,r){e.setTime(+e+r*xt)},function(e,r){return(r-e)/xt},function(e){return e.getUTCMinutes()}),N3=eg;eg.range;var tg=je(function(e){e.setUTCMinutes(0,0,0)},function(e,r){e.setTime(+e+r*er)},function(e,r){return(r-e)/er},function(e){return e.getUTCHours()}),V3=tg;tg.range;var rg=je(function(e){e.setUTCHours(0,0,0,0)},function(e,r){e.setUTCDate(e.getUTCDate()+r)},function(e,r){return(r-e)/Fr},function(e){return e.getUTCDate()-1}),Ud=rg;rg.range;function Yr(e){return je(function(r){r.setUTCDate(r.getUTCDate()-(r.getUTCDay()+7-e)%7),r.setUTCHours(0,0,0,0)},function(r,t){r.setUTCDate(r.getUTCDate()+t*7)},function(r,t){return(t-r)/Ad})}var Cd=Yr(0),za=Yr(1),$3=Yr(2),H3=Yr(3),Un=Yr(4),G3=Yr(5),j3=Yr(6);Cd.range;za.range;$3.range;H3.range;Un.range;G3.range;j3.range;var ng=je(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,r){e.setUTCMonth(e.getUTCMonth()+r)},function(e,r){return r.getUTCMonth()-e.getUTCMonth()+(r.getUTCFullYear()-e.getUTCFullYear())*12},function(e){return e.getUTCMonth()}),q3=ng;ng.range;var Bd=je(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,r){e.setUTCFullYear(e.getUTCFullYear()+r)},function(e,r){return r.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});Bd.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:je(function(r){r.setUTCFullYear(Math.floor(r.getUTCFullYear()/e)*e),r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0)},function(r,t){r.setUTCFullYear(r.getUTCFullYear()+t*e)})};var Cn=Bd;Bd.range;function og(e,r,t,n,o,a){const i=[[Xn,1,Jt],[Xn,5,5*Jt],[Xn,15,15*Jt],[Xn,30,30*Jt],[a,1,xt],[a,5,5*xt],[a,15,15*xt],[a,30,30*xt],[o,1,er],[o,3,3*er],[o,6,6*er],[o,12,12*er],[n,1,Fr],[n,2,2*Fr],[t,1,Ad],[r,1,vf],[r,3,3*vf],[e,1,qi]];function s(d,l,f){const u=l<d;u&&([d,l]=[l,d]);const h=f&&typeof f.range=="function"?f:c(d,l,f),p=h?h.range(d,+l+1):[];return u?p.reverse():p}function c(d,l,f){const u=Math.abs(l-d)/f,h=_d(([,,b])=>b).right(i,u);if(h===i.length)return e.every(bc(d/qi,l/qi,f));if(h===0)return z3.every(Math.max(bc(d,l,f),1));const[p,m]=i[u/i[h-1][2]<i[h][2]/u?h-1:h];return p.every(m)}return[s,c]}og(Cn,q3,Cd,Ud,V3,N3);const[W3,Y3]=og(Nr,Jh,bi,vi,Zh,Yh);function Wi(e){if(0<=e.y&&e.y<100){var r=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return r.setFullYear(e.y),r}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Yi(e){if(0<=e.y&&e.y<100){var r=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return r.setUTCFullYear(e.y),r}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Vn(e,r,t){return{y:e,m:r,d:t,H:0,M:0,S:0,L:0}}function X3(e){var r=e.dateTime,t=e.date,n=e.time,o=e.periods,a=e.days,i=e.shortDays,s=e.months,c=e.shortMonths,d=$n(o),l=Hn(o),f=$n(a),u=Hn(a),h=$n(i),p=Hn(i),m=$n(s),b=Hn(s),y=$n(c),g=Hn(c),w={a:z,A:F,b:U,B:N,c:null,d:kf,e:kf,f:b5,g:O5,G:P5,H:g5,I:m5,j:v5,L:ag,m:y5,M:w5,p:V,q:X,Q:Ef,s:Tf,S:_5,u:x5,U:k5,V:S5,w:M5,W:E5,x:null,X:null,y:T5,Y:A5,Z:U5,"%":Mf},k={a:ce,A:ae,b:Z,B:re,c:null,d:Sf,e:Sf,f:z5,g:j5,G:W5,H:C5,I:B5,j:I5,L:sg,m:L5,M:D5,p:J,q:se,Q:Ef,s:Tf,S:R5,u:F5,U:N5,V:V5,w:$5,W:H5,x:null,X:null,y:G5,Y:q5,Z:Y5,"%":Mf},_={a:A,A:S,b:P,B:I,c:L,d:_f,e:_f,f:f5,g:wf,G:yf,H:xf,I:xf,j:s5,L:l5,m:i5,M:c5,p:T,q:a5,Q:p5,s:h5,S:d5,u:e5,U:t5,V:r5,w:J3,W:n5,x:B,X:C,y:wf,Y:yf,Z:o5,"%":u5};w.x=x(t,w),w.X=x(n,w),w.c=x(r,w),k.x=x(t,k),k.X=x(n,k),k.c=x(r,k);function x(K,ee){return function(de){var q=[],he=-1,le=0,j=K.length,Y,H,ue;for(de instanceof Date||(de=new Date(+de));++he<j;)K.charCodeAt(he)===37&&(q.push(K.slice(le,he)),(H=bf[Y=K.charAt(++he)])!=null?Y=K.charAt(++he):H=Y==="e"?" ":"0",(ue=ee[Y])&&(Y=ue(de,H)),q.push(Y),le=he+1);return q.push(K.slice(le,he)),q.join("")}}function O(K,ee){return function(de){var q=Vn(1900,void 0,1),he=M(q,K,de+="",0),le,j;if(he!=de.length)return null;if("Q"in q)return new Date(q.Q);if("s"in q)return new Date(q.s*1e3+("L"in q?q.L:0));if(ee&&!("Z"in q)&&(q.Z=0),"p"in q&&(q.H=q.H%12+q.p*12),q.m===void 0&&(q.m="q"in q?q.q:0),"V"in q){if(q.V<1||q.V>53)return null;"w"in q||(q.w=1),"Z"in q?(le=Yi(Vn(q.y,0,1)),j=le.getUTCDay(),le=j>4||j===0?za.ceil(le):za(le),le=Ud.offset(le,(q.V-1)*7),q.y=le.getUTCFullYear(),q.m=le.getUTCMonth(),q.d=le.getUTCDate()+(q.w+6)%7):(le=Wi(Vn(q.y,0,1)),j=le.getDay(),le=j>4||j===0?Ia.ceil(le):Ia(le),le=vi.offset(le,(q.V-1)*7),q.y=le.getFullYear(),q.m=le.getMonth(),q.d=le.getDate()+(q.w+6)%7)}else("W"in q||"U"in q)&&("w"in q||(q.w="u"in q?q.u%7:"W"in q?1:0),j="Z"in q?Yi(Vn(q.y,0,1)).getUTCDay():Wi(Vn(q.y,0,1)).getDay(),q.m=0,q.d="W"in q?(q.w+6)%7+q.W*7-(j+5)%7:q.w+q.U*7-(j+6)%7);return"Z"in q?(q.H+=q.Z/100|0,q.M+=q.Z%100,Yi(q)):Wi(q)}}function M(K,ee,de,q){for(var he=0,le=ee.length,j=de.length,Y,H;he<le;){if(q>=j)return-1;if(Y=ee.charCodeAt(he++),Y===37){if(Y=ee.charAt(he++),H=_[Y in bf?ee.charAt(he++):Y],!H||(q=H(K,de,q))<0)return-1}else if(Y!=de.charCodeAt(q++))return-1}return q}function T(K,ee,de){var q=d.exec(ee.slice(de));return q?(K.p=l.get(q[0].toLowerCase()),de+q[0].length):-1}function A(K,ee,de){var q=h.exec(ee.slice(de));return q?(K.w=p.get(q[0].toLowerCase()),de+q[0].length):-1}function S(K,ee,de){var q=f.exec(ee.slice(de));return q?(K.w=u.get(q[0].toLowerCase()),de+q[0].length):-1}function P(K,ee,de){var q=y.exec(ee.slice(de));return q?(K.m=g.get(q[0].toLowerCase()),de+q[0].length):-1}function I(K,ee,de){var q=m.exec(ee.slice(de));return q?(K.m=b.get(q[0].toLowerCase()),de+q[0].length):-1}function L(K,ee,de){return M(K,r,ee,de)}function B(K,ee,de){return M(K,t,ee,de)}function C(K,ee,de){return M(K,n,ee,de)}function z(K){return i[K.getDay()]}function F(K){return a[K.getDay()]}function U(K){return c[K.getMonth()]}function N(K){return s[K.getMonth()]}function V(K){return o[+(K.getHours()>=12)]}function X(K){return 1+~~(K.getMonth()/3)}function ce(K){return i[K.getUTCDay()]}function ae(K){return a[K.getUTCDay()]}function Z(K){return c[K.getUTCMonth()]}function re(K){return s[K.getUTCMonth()]}function J(K){return o[+(K.getUTCHours()>=12)]}function se(K){return 1+~~(K.getUTCMonth()/3)}return{format:function(K){var ee=x(K+="",w);return ee.toString=function(){return K},ee},parse:function(K){var ee=O(K+="",!1);return ee.toString=function(){return K},ee},utcFormat:function(K){var ee=x(K+="",k);return ee.toString=function(){return K},ee},utcParse:function(K){var ee=O(K+="",!0);return ee.toString=function(){return K},ee}}}var bf={"-":"",_:" ",0:"0"},qe=/^\s*\d+/,Z3=/^%/,K3=/[\\^$*+?|[\]().{}]/g;function ye(e,r,t){var n=e<0?"-":"",o=(n?-e:e)+"",a=o.length;return n+(a<t?new Array(t-a+1).join(r)+o:o)}function Q3(e){return e.replace(K3,"\\$&")}function $n(e){return new RegExp("^(?:"+e.map(Q3).join("|")+")","i")}function Hn(e){return new Map(e.map((r,t)=>[r.toLowerCase(),t]))}function J3(e,r,t){var n=qe.exec(r.slice(t,t+1));return n?(e.w=+n[0],t+n[0].length):-1}function e5(e,r,t){var n=qe.exec(r.slice(t,t+1));return n?(e.u=+n[0],t+n[0].length):-1}function t5(e,r,t){var n=qe.exec(r.slice(t,t+2));return n?(e.U=+n[0],t+n[0].length):-1}function r5(e,r,t){var n=qe.exec(r.slice(t,t+2));return n?(e.V=+n[0],t+n[0].length):-1}function n5(e,r,t){var n=qe.exec(r.slice(t,t+2));return n?(e.W=+n[0],t+n[0].length):-1}function yf(e,r,t){var n=qe.exec(r.slice(t,t+4));return n?(e.y=+n[0],t+n[0].length):-1}function wf(e,r,t){var n=qe.exec(r.slice(t,t+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),t+n[0].length):-1}function o5(e,r,t){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(r.slice(t,t+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),t+n[0].length):-1}function a5(e,r,t){var n=qe.exec(r.slice(t,t+1));return n?(e.q=n[0]*3-3,t+n[0].length):-1}function i5(e,r,t){var n=qe.exec(r.slice(t,t+2));return n?(e.m=n[0]-1,t+n[0].length):-1}function _f(e,r,t){var n=qe.exec(r.slice(t,t+2));return n?(e.d=+n[0],t+n[0].length):-1}function s5(e,r,t){var n=qe.exec(r.slice(t,t+3));return n?(e.m=0,e.d=+n[0],t+n[0].length):-1}function xf(e,r,t){var n=qe.exec(r.slice(t,t+2));return n?(e.H=+n[0],t+n[0].length):-1}function c5(e,r,t){var n=qe.exec(r.slice(t,t+2));return n?(e.M=+n[0],t+n[0].length):-1}function d5(e,r,t){var n=qe.exec(r.slice(t,t+2));return n?(e.S=+n[0],t+n[0].length):-1}function l5(e,r,t){var n=qe.exec(r.slice(t,t+3));return n?(e.L=+n[0],t+n[0].length):-1}function f5(e,r,t){var n=qe.exec(r.slice(t,t+6));return n?(e.L=Math.floor(n[0]/1e3),t+n[0].length):-1}function u5(e,r,t){var n=Z3.exec(r.slice(t,t+1));return n?t+n[0].length:-1}function p5(e,r,t){var n=qe.exec(r.slice(t));return n?(e.Q=+n[0],t+n[0].length):-1}function h5(e,r,t){var n=qe.exec(r.slice(t));return n?(e.s=+n[0],t+n[0].length):-1}function kf(e,r){return ye(e.getDate(),r,2)}function g5(e,r){return ye(e.getHours(),r,2)}function m5(e,r){return ye(e.getHours()%12||12,r,2)}function v5(e,r){return ye(1+vi.count(Nr(e),e),r,3)}function ag(e,r){return ye(e.getMilliseconds(),r,3)}function b5(e,r){return ag(e,r)+"000"}function y5(e,r){return ye(e.getMonth()+1,r,2)}function w5(e,r){return ye(e.getMinutes(),r,2)}function _5(e,r){return ye(e.getSeconds(),r,2)}function x5(e){var r=e.getDay();return r===0?7:r}function k5(e,r){return ye(bi.count(Nr(e)-1,e),r,2)}function ig(e){var r=e.getDay();return r>=4||r===0?Pn(e):Pn.ceil(e)}function S5(e,r){return e=ig(e),ye(Pn.count(Nr(e),e)+(Nr(e).getDay()===4),r,2)}function M5(e){return e.getDay()}function E5(e,r){return ye(Ia.count(Nr(e)-1,e),r,2)}function T5(e,r){return ye(e.getFullYear()%100,r,2)}function O5(e,r){return e=ig(e),ye(e.getFullYear()%100,r,2)}function A5(e,r){return ye(e.getFullYear()%1e4,r,4)}function P5(e,r){var t=e.getDay();return e=t>=4||t===0?Pn(e):Pn.ceil(e),ye(e.getFullYear()%1e4,r,4)}function U5(e){var r=e.getTimezoneOffset();return(r>0?"-":(r*=-1,"+"))+ye(r/60|0,"0",2)+ye(r%60,"0",2)}function Sf(e,r){return ye(e.getUTCDate(),r,2)}function C5(e,r){return ye(e.getUTCHours(),r,2)}function B5(e,r){return ye(e.getUTCHours()%12||12,r,2)}function I5(e,r){return ye(1+Ud.count(Cn(e),e),r,3)}function sg(e,r){return ye(e.getUTCMilliseconds(),r,3)}function z5(e,r){return sg(e,r)+"000"}function L5(e,r){return ye(e.getUTCMonth()+1,r,2)}function D5(e,r){return ye(e.getUTCMinutes(),r,2)}function R5(e,r){return ye(e.getUTCSeconds(),r,2)}function F5(e){var r=e.getUTCDay();return r===0?7:r}function N5(e,r){return ye(Cd.count(Cn(e)-1,e),r,2)}function cg(e){var r=e.getUTCDay();return r>=4||r===0?Un(e):Un.ceil(e)}function V5(e,r){return e=cg(e),ye(Un.count(Cn(e),e)+(Cn(e).getUTCDay()===4),r,2)}function $5(e){return e.getUTCDay()}function H5(e,r){return ye(za.count(Cn(e)-1,e),r,2)}function G5(e,r){return ye(e.getUTCFullYear()%100,r,2)}function j5(e,r){return e=cg(e),ye(e.getUTCFullYear()%100,r,2)}function q5(e,r){return ye(e.getUTCFullYear()%1e4,r,4)}function W5(e,r){var t=e.getUTCDay();return e=t>=4||t===0?Un(e):Un.ceil(e),ye(e.getUTCFullYear()%1e4,r,4)}function Y5(){return"+0000"}function Mf(){return"%"}function Ef(e){return+e}function Tf(e){return Math.floor(+e/1e3)}var en,dg;X5({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function X5(e){return en=X3(e),dg=en.format,en.parse,en.utcFormat,en.utcParse,en}function Z5(e){return new Date(e)}function K5(e){return e instanceof Date?+e:+new Date(+e)}function lg(e,r,t,n,o,a,i,s,c,d){var l=Fh(),f=l.invert,u=l.domain,h=d(".%L"),p=d(":%S"),m=d("%I:%M"),b=d("%I %p"),y=d("%a %d"),g=d("%b %d"),w=d("%B"),k=d("%Y");function _(x){return(c(x)<x?h:s(x)<x?p:i(x)<x?m:a(x)<x?b:n(x)<x?o(x)<x?y:g:t(x)<x?w:k)(x)}return l.invert=function(x){return new Date(f(x))},l.domain=function(x){return arguments.length?u(Array.from(x,K5)):u().map(Z5)},l.ticks=function(x){var O=u();return e(O[0],O[O.length-1],x==null?10:x)},l.tickFormat=function(x,O){return O==null?_:d(O)},l.nice=function(x){var O=u();return(!x||typeof x.range!="function")&&(x=r(O[0],O[O.length-1],x==null?10:x)),x?u(Hh(O,x)):l},l.copy=function(){return Ed(l,lg(e,r,t,n,o,a,i,s,c,d))},l}function fg(){return Dn.apply(lg(W3,Y3,Nr,Jh,bi,vi,Zh,Yh,Xn,dg).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}const kc=Math.PI,Sc=2*kc,Mr=1e-6,Q5=Sc-Mr;function Mc(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Do(){return new Mc}Mc.prototype=Do.prototype={constructor:Mc,moveTo:function(e,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+r)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,r){this._+="L"+(this._x1=+e)+","+(this._y1=+r)},quadraticCurveTo:function(e,r,t,n){this._+="Q"+ +e+","+ +r+","+(this._x1=+t)+","+(this._y1=+n)},bezierCurveTo:function(e,r,t,n,o,a){this._+="C"+ +e+","+ +r+","+ +t+","+ +n+","+(this._x1=+o)+","+(this._y1=+a)},arcTo:function(e,r,t,n,o){e=+e,r=+r,t=+t,n=+n,o=+o;var a=this._x1,i=this._y1,s=t-e,c=n-r,d=a-e,l=i-r,f=d*d+l*l;if(o<0)throw new Error("negative radius: "+o);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=r);else if(f>Mr)if(!(Math.abs(l*s-c*d)>Mr)||!o)this._+="L"+(this._x1=e)+","+(this._y1=r);else{var u=t-a,h=n-i,p=s*s+c*c,m=u*u+h*h,b=Math.sqrt(p),y=Math.sqrt(f),g=o*Math.tan((kc-Math.acos((p+f-m)/(2*b*y)))/2),w=g/y,k=g/b;Math.abs(w-1)>Mr&&(this._+="L"+(e+w*d)+","+(r+w*l)),this._+="A"+o+","+o+",0,0,"+ +(l*u>d*h)+","+(this._x1=e+k*s)+","+(this._y1=r+k*c)}},arc:function(e,r,t,n,o,a){e=+e,r=+r,t=+t,a=!!a;var i=t*Math.cos(n),s=t*Math.sin(n),c=e+i,d=r+s,l=1^a,f=a?n-o:o-n;if(t<0)throw new Error("negative radius: "+t);this._x1===null?this._+="M"+c+","+d:(Math.abs(this._x1-c)>Mr||Math.abs(this._y1-d)>Mr)&&(this._+="L"+c+","+d),t&&(f<0&&(f=f%Sc+Sc),f>Q5?this._+="A"+t+","+t+",0,1,"+l+","+(e-i)+","+(r-s)+"A"+t+","+t+",0,1,"+l+","+(this._x1=c)+","+(this._y1=d):f>Mr&&(this._+="A"+t+","+t+",0,"+ +(f>=kc)+","+l+","+(this._x1=e+t*Math.cos(o))+","+(this._y1=r+t*Math.sin(o))))},rect:function(e,r,t,n){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+r)+"h"+ +t+"v"+ +n+"h"+-t+"Z"},toString:function(){return this._}};function ge(e){return function(){return e}}const Of=Math.abs,Ze=Math.atan2,xr=Math.cos,J5=Math.max,Xi=Math.min,Bt=Math.sin,un=Math.sqrt,Je=1e-12,wo=Math.PI,La=wo/2,la=2*wo;function e4(e){return e>1?0:e<-1?wo:Math.acos(e)}function Af(e){return e>=1?La:e<=-1?-La:Math.asin(e)}function t4(e){return e.innerRadius}function r4(e){return e.outerRadius}function n4(e){return e.startAngle}function o4(e){return e.endAngle}function a4(e){return e&&e.padAngle}function i4(e,r,t,n,o,a,i,s){var c=t-e,d=n-r,l=i-o,f=s-a,u=f*c-l*d;if(!(u*u<Je))return u=(l*(r-a)-f*(e-o))/u,[e+u*c,r+u*d]}function ea(e,r,t,n,o,a,i){var s=e-t,c=r-n,d=(i?a:-a)/un(s*s+c*c),l=d*c,f=-d*s,u=e+l,h=r+f,p=t+l,m=n+f,b=(u+p)/2,y=(h+m)/2,g=p-u,w=m-h,k=g*g+w*w,_=o-a,x=u*m-p*h,O=(w<0?-1:1)*un(J5(0,_*_*k-x*x)),M=(x*w-g*O)/k,T=(-x*g-w*O)/k,A=(x*w+g*O)/k,S=(-x*g+w*O)/k,P=M-b,I=T-y,L=A-b,B=S-y;return P*P+I*I>L*L+B*B&&(M=A,T=S),{cx:M,cy:T,x01:-l,y01:-f,x11:M*(o/_-1),y11:T*(o/_-1)}}function _o(){var e=t4,r=r4,t=ge(0),n=null,o=n4,a=o4,i=a4,s=null;function c(){var d,l,f=+e.apply(this,arguments),u=+r.apply(this,arguments),h=o.apply(this,arguments)-La,p=a.apply(this,arguments)-La,m=Of(p-h),b=p>h;if(s||(s=d=Do()),u<f&&(l=u,u=f,f=l),!(u>Je))s.moveTo(0,0);else if(m>la-Je)s.moveTo(u*xr(h),u*Bt(h)),s.arc(0,0,u,h,p,!b),f>Je&&(s.moveTo(f*xr(p),f*Bt(p)),s.arc(0,0,f,p,h,b));else{var y=h,g=p,w=h,k=p,_=m,x=m,O=i.apply(this,arguments)/2,M=O>Je&&(n?+n.apply(this,arguments):un(f*f+u*u)),T=Xi(Of(u-f)/2,+t.apply(this,arguments)),A=T,S=T,P,I;if(M>Je){var L=Af(M/f*Bt(O)),B=Af(M/u*Bt(O));(_-=L*2)>Je?(L*=b?1:-1,w+=L,k-=L):(_=0,w=k=(h+p)/2),(x-=B*2)>Je?(B*=b?1:-1,y+=B,g-=B):(x=0,y=g=(h+p)/2)}var C=u*xr(y),z=u*Bt(y),F=f*xr(k),U=f*Bt(k);if(T>Je){var N=u*xr(g),V=u*Bt(g),X=f*xr(w),ce=f*Bt(w),ae;if(m<wo&&(ae=i4(C,z,X,ce,N,V,F,U))){var Z=C-ae[0],re=z-ae[1],J=N-ae[0],se=V-ae[1],K=1/Bt(e4((Z*J+re*se)/(un(Z*Z+re*re)*un(J*J+se*se)))/2),ee=un(ae[0]*ae[0]+ae[1]*ae[1]);A=Xi(T,(f-ee)/(K-1)),S=Xi(T,(u-ee)/(K+1))}}x>Je?S>Je?(P=ea(X,ce,C,z,u,S,b),I=ea(N,V,F,U,u,S,b),s.moveTo(P.cx+P.x01,P.cy+P.y01),S<T?s.arc(P.cx,P.cy,S,Ze(P.y01,P.x01),Ze(I.y01,I.x01),!b):(s.arc(P.cx,P.cy,S,Ze(P.y01,P.x01),Ze(P.y11,P.x11),!b),s.arc(0,0,u,Ze(P.cy+P.y11,P.cx+P.x11),Ze(I.cy+I.y11,I.cx+I.x11),!b),s.arc(I.cx,I.cy,S,Ze(I.y11,I.x11),Ze(I.y01,I.x01),!b))):(s.moveTo(C,z),s.arc(0,0,u,y,g,!b)):s.moveTo(C,z),!(f>Je)||!(_>Je)?s.lineTo(F,U):A>Je?(P=ea(F,U,N,V,f,-A,b),I=ea(C,z,X,ce,f,-A,b),s.lineTo(P.cx+P.x01,P.cy+P.y01),A<T?s.arc(P.cx,P.cy,A,Ze(P.y01,P.x01),Ze(I.y01,I.x01),!b):(s.arc(P.cx,P.cy,A,Ze(P.y01,P.x01),Ze(P.y11,P.x11),!b),s.arc(0,0,f,Ze(P.cy+P.y11,P.cx+P.x11),Ze(I.cy+I.y11,I.cx+I.x11),b),s.arc(I.cx,I.cy,A,Ze(I.y11,I.x11),Ze(I.y01,I.x01),!b))):s.arc(0,0,f,k,w,b)}if(s.closePath(),d)return s=null,d+""||null}return c.centroid=function(){var d=(+e.apply(this,arguments)+ +r.apply(this,arguments))/2,l=(+o.apply(this,arguments)+ +a.apply(this,arguments))/2-wo/2;return[xr(l)*d,Bt(l)*d]},c.innerRadius=function(d){return arguments.length?(e=typeof d=="function"?d:ge(+d),c):e},c.outerRadius=function(d){return arguments.length?(r=typeof d=="function"?d:ge(+d),c):r},c.cornerRadius=function(d){return arguments.length?(t=typeof d=="function"?d:ge(+d),c):t},c.padRadius=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:ge(+d),c):n},c.startAngle=function(d){return arguments.length?(o=typeof d=="function"?d:ge(+d),c):o},c.endAngle=function(d){return arguments.length?(a=typeof d=="function"?d:ge(+d),c):a},c.padAngle=function(d){return arguments.length?(i=typeof d=="function"?d:ge(+d),c):i},c.context=function(d){return arguments.length?(s=d==null?null:d,c):s},c}var s4=Array.prototype.slice;function yi(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function ug(e){this._context=e}ug.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;default:this._context.lineTo(e,r);break}}};function wi(e){return new ug(e)}function Id(e){return e[0]}function zd(e){return e[1]}function _i(e,r){var t=ge(!0),n=null,o=wi,a=null;e=typeof e=="function"?e:e===void 0?Id:ge(e),r=typeof r=="function"?r:r===void 0?zd:ge(r);function i(s){var c,d=(s=yi(s)).length,l,f=!1,u;for(n==null&&(a=o(u=Do())),c=0;c<=d;++c)!(c<d&&t(l=s[c],c,s))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+e(l,c,s),+r(l,c,s));if(u)return a=null,u+""||null}return i.x=function(s){return arguments.length?(e=typeof s=="function"?s:ge(+s),i):e},i.y=function(s){return arguments.length?(r=typeof s=="function"?s:ge(+s),i):r},i.defined=function(s){return arguments.length?(t=typeof s=="function"?s:ge(!!s),i):t},i.curve=function(s){return arguments.length?(o=s,n!=null&&(a=o(n)),i):o},i.context=function(s){return arguments.length?(s==null?n=a=null:a=o(n=s),i):n},i}function Ld(e,r,t){var n=null,o=ge(!0),a=null,i=wi,s=null;e=typeof e=="function"?e:e===void 0?Id:ge(+e),r=typeof r=="function"?r:ge(r===void 0?0:+r),t=typeof t=="function"?t:t===void 0?zd:ge(+t);function c(l){var f,u,h,p=(l=yi(l)).length,m,b=!1,y,g=new Array(p),w=new Array(p);for(a==null&&(s=i(y=Do())),f=0;f<=p;++f){if(!(f<p&&o(m=l[f],f,l))===b)if(b=!b)u=f,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=f-1;h>=u;--h)s.point(g[h],w[h]);s.lineEnd(),s.areaEnd()}b&&(g[f]=+e(m,f,l),w[f]=+r(m,f,l),s.point(n?+n(m,f,l):g[f],t?+t(m,f,l):w[f]))}if(y)return s=null,y+""||null}function d(){return _i().defined(o).curve(i).context(a)}return c.x=function(l){return arguments.length?(e=typeof l=="function"?l:ge(+l),n=null,c):e},c.x0=function(l){return arguments.length?(e=typeof l=="function"?l:ge(+l),c):e},c.x1=function(l){return arguments.length?(n=l==null?null:typeof l=="function"?l:ge(+l),c):n},c.y=function(l){return arguments.length?(r=typeof l=="function"?l:ge(+l),t=null,c):r},c.y0=function(l){return arguments.length?(r=typeof l=="function"?l:ge(+l),c):r},c.y1=function(l){return arguments.length?(t=l==null?null:typeof l=="function"?l:ge(+l),c):t},c.lineX0=c.lineY0=function(){return d().x(e).y(r)},c.lineY1=function(){return d().x(e).y(t)},c.lineX1=function(){return d().x(n).y(r)},c.defined=function(l){return arguments.length?(o=typeof l=="function"?l:ge(!!l),c):o},c.curve=function(l){return arguments.length?(i=l,a!=null&&(s=i(a)),c):i},c.context=function(l){return arguments.length?(l==null?a=s=null:s=i(a=l),c):a},c}function c4(e,r){return r<e?-1:r>e?1:r>=e?0:NaN}function d4(e){return e}function l4(){var e=d4,r=c4,t=null,n=ge(0),o=ge(la),a=ge(0);function i(s){var c,d=(s=yi(s)).length,l,f,u=0,h=new Array(d),p=new Array(d),m=+n.apply(this,arguments),b=Math.min(la,Math.max(-la,o.apply(this,arguments)-m)),y,g=Math.min(Math.abs(b)/d,a.apply(this,arguments)),w=g*(b<0?-1:1),k;for(c=0;c<d;++c)(k=p[h[c]=c]=+e(s[c],c,s))>0&&(u+=k);for(r!=null?h.sort(function(_,x){return r(p[_],p[x])}):t!=null&&h.sort(function(_,x){return t(s[_],s[x])}),c=0,f=u?(b-d*w)/u:0;c<d;++c,m=y)l=h[c],k=p[l],y=m+(k>0?k*f:0)+w,p[l]={data:s[l],index:c,value:k,startAngle:m,endAngle:y,padAngle:g};return p}return i.value=function(s){return arguments.length?(e=typeof s=="function"?s:ge(+s),i):e},i.sortValues=function(s){return arguments.length?(r=s,t=null,i):r},i.sort=function(s){return arguments.length?(t=s,r=null,i):t},i.startAngle=function(s){return arguments.length?(n=typeof s=="function"?s:ge(+s),i):n},i.endAngle=function(s){return arguments.length?(o=typeof s=="function"?s:ge(+s),i):o},i.padAngle=function(s){return arguments.length?(a=typeof s=="function"?s:ge(+s),i):a},i}var f4=hg(wi);function pg(e){this._curve=e}pg.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,r){this._curve.point(r*Math.sin(e),r*-Math.cos(e))}};function hg(e){function r(t){return new pg(e(t))}return r._curve=e,r}function u4(e){var r=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(t){return arguments.length?r(hg(t)):r()._curve},e}function p4(){return u4(_i().curve(f4))}class h4{constructor(r,t){this._context=r,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(r,t){switch(r=+r,t=+t,this._point){case 0:{this._point=1,this._line?this._context.lineTo(r,t):this._context.moveTo(r,t);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+r)/2,this._y0,this._x0,t,r,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,r,this._y0,r,t);break}}this._x0=r,this._y0=t}}function g4(e){return new h4(e,!0)}function m4(e){return e.source}function v4(e){return e.target}function b4(e){let r=m4,t=v4,n=Id,o=zd,a=null,i=null;function s(){let c;const d=s4.call(arguments),l=r.apply(this,d),f=t.apply(this,d);if(a==null&&(i=e(c=Do())),i.lineStart(),d[0]=l,i.point(+n.apply(this,d),+o.apply(this,d)),d[0]=f,i.point(+n.apply(this,d),+o.apply(this,d)),i.lineEnd(),c)return i=null,c+""||null}return s.source=function(c){return arguments.length?(r=c,s):r},s.target=function(c){return arguments.length?(t=c,s):t},s.x=function(c){return arguments.length?(n=typeof c=="function"?c:ge(+c),s):n},s.y=function(c){return arguments.length?(o=typeof c=="function"?c:ge(+c),s):o},s.context=function(c){return arguments.length?(c==null?a=i=null:i=e(a=c),s):a},s}function y4(){return b4(g4)}function br(){}function Da(e,r,t){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+r)/6,(e._y0+4*e._y1+t)/6)}function xi(e){this._context=e}xi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Da(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Da(this,e,r);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r}};function w4(e){return new xi(e)}function gg(e){this._context=e}gg.prototype={areaStart:br,areaEnd:br,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._x2=e,this._y2=r;break;case 1:this._point=2,this._x3=e,this._y3=r;break;case 2:this._point=3,this._x4=e,this._y4=r,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+r)/6);break;default:Da(this,e,r);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r}};function _4(e){return new gg(e)}function mg(e){this._context=e}mg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var t=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+r)/6;this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 3:this._point=4;default:Da(this,e,r);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r}};function x4(e){return new mg(e)}function vg(e,r){this._basis=new xi(e),this._beta=r}vg.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,r=this._y,t=e.length-1;if(t>0)for(var n=e[0],o=r[0],a=e[t]-n,i=r[t]-o,s=-1,c;++s<=t;)c=s/t,this._basis.point(this._beta*e[s]+(1-this._beta)*(n+c*a),this._beta*r[s]+(1-this._beta)*(o+c*i));this._x=this._y=null,this._basis.lineEnd()},point:function(e,r){this._x.push(+e),this._y.push(+r)}};var k4=function e(r){function t(n){return r===1?new xi(n):new vg(n,r)}return t.beta=function(n){return e(+n)},t}(.85);function Ra(e,r,t){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-r),e._y2+e._k*(e._y1-t),e._x2,e._y2)}function Dd(e,r){this._context=e,this._k=(1-r)/6}Dd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Ra(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2,this._x1=e,this._y1=r;break;case 2:this._point=3;default:Ra(this,e,r);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=r}};var S4=function e(r){function t(n){return new Dd(n,r)}return t.tension=function(n){return e(+n)},t}(0);function Rd(e,r){this._context=e,this._k=(1-r)/6}Rd.prototype={areaStart:br,areaEnd:br,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._x3=e,this._y3=r;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=r);break;case 2:this._point=3,this._x5=e,this._y5=r;break;default:Ra(this,e,r);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=r}};var M4=function e(r){function t(n){return new Rd(n,r)}return t.tension=function(n){return e(+n)},t}(0);function Fd(e,r){this._context=e,this._k=(1-r)/6}Fd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ra(this,e,r);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=r}};var E4=function e(r){function t(n){return new Fd(n,r)}return t.tension=function(n){return e(+n)},t}(0);function Nd(e,r,t){var n=e._x1,o=e._y1,a=e._x2,i=e._y2;if(e._l01_a>Je){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,c=3*e._l01_a*(e._l01_a+e._l12_a);n=(n*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/c,o=(o*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/c}if(e._l23_a>Je){var d=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,l=3*e._l23_a*(e._l23_a+e._l12_a);a=(a*d+e._x1*e._l23_2a-r*e._l12_2a)/l,i=(i*d+e._y1*e._l23_2a-t*e._l12_2a)/l}e._context.bezierCurveTo(n,o,a,i,e._x2,e._y2)}function bg(e,r){this._context=e,this._alpha=r}bg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){if(e=+e,r=+r,this._point){var t=this._x2-e,n=this._y2-r;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(t*t+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;break;case 2:this._point=3;default:Nd(this,e,r);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=r}};var T4=function e(r){function t(n){return r?new bg(n,r):new Dd(n,0)}return t.alpha=function(n){return e(+n)},t}(.5);function yg(e,r){this._context=e,this._alpha=r}yg.prototype={areaStart:br,areaEnd:br,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,r){if(e=+e,r=+r,this._point){var t=this._x2-e,n=this._y2-r;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(t*t+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=r;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=r);break;case 2:this._point=3,this._x5=e,this._y5=r;break;default:Nd(this,e,r);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=r}};var O4=function e(r){function t(n){return r?new yg(n,r):new Rd(n,0)}return t.alpha=function(n){return e(+n)},t}(.5);function wg(e,r){this._context=e,this._alpha=r}wg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){if(e=+e,r=+r,this._point){var t=this._x2-e,n=this._y2-r;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(t*t+n*n,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Nd(this,e,r);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=r}};var A4=function e(r){function t(n){return r?new wg(n,r):new Fd(n,0)}return t.alpha=function(n){return e(+n)},t}(.5);function _g(e){this._context=e}_g.prototype={areaStart:br,areaEnd:br,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,r){e=+e,r=+r,this._point?this._context.lineTo(e,r):(this._point=1,this._context.moveTo(e,r))}};function xg(e){return new _g(e)}function Pf(e){return e<0?-1:1}function Uf(e,r,t){var n=e._x1-e._x0,o=r-e._x1,a=(e._y1-e._y0)/(n||o<0&&-0),i=(t-e._y1)/(o||n<0&&-0),s=(a*o+i*n)/(n+o);return(Pf(a)+Pf(i))*Math.min(Math.abs(a),Math.abs(i),.5*Math.abs(s))||0}function Cf(e,r){var t=e._x1-e._x0;return t?(3*(e._y1-e._y0)/t-r)/2:r}function Zi(e,r,t){var n=e._x0,o=e._y0,a=e._x1,i=e._y1,s=(a-n)/3;e._context.bezierCurveTo(n+s,o+s*r,a-s,i-s*t,a,i)}function Fa(e){this._context=e}Fa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Zi(this,this._t0,Cf(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){var t=NaN;if(e=+e,r=+r,!(e===this._x1&&r===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;break;case 2:this._point=3,Zi(this,Cf(this,t=Uf(this,e,r)),t);break;default:Zi(this,this._t0,t=Uf(this,e,r));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r,this._t0=t}}};function kg(e){this._context=new Sg(e)}(kg.prototype=Object.create(Fa.prototype)).point=function(e,r){Fa.prototype.point.call(this,r,e)};function Sg(e){this._context=e}Sg.prototype={moveTo:function(e,r){this._context.moveTo(r,e)},closePath:function(){this._context.closePath()},lineTo:function(e,r){this._context.lineTo(r,e)},bezierCurveTo:function(e,r,t,n,o,a){this._context.bezierCurveTo(r,e,n,t,a,o)}};function P4(e){return new Fa(e)}function U4(e){return new kg(e)}function Mg(e){this._context=e}Mg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,r=this._y,t=e.length;if(t)if(this._line?this._context.lineTo(e[0],r[0]):this._context.moveTo(e[0],r[0]),t===2)this._context.lineTo(e[1],r[1]);else for(var n=Bf(e),o=Bf(r),a=0,i=1;i<t;++a,++i)this._context.bezierCurveTo(n[0][a],o[0][a],n[1][a],o[1][a],e[i],r[i]);(this._line||this._line!==0&&t===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,r){this._x.push(+e),this._y.push(+r)}};function Bf(e){var r,t=e.length-1,n,o=new Array(t),a=new Array(t),i=new Array(t);for(o[0]=0,a[0]=2,i[0]=e[0]+2*e[1],r=1;r<t-1;++r)o[r]=1,a[r]=4,i[r]=4*e[r]+2*e[r+1];for(o[t-1]=2,a[t-1]=7,i[t-1]=8*e[t-1]+e[t],r=1;r<t;++r)n=o[r]/a[r-1],a[r]-=n,i[r]-=n*i[r-1];for(o[t-1]=i[t-1]/a[t-1],r=t-2;r>=0;--r)o[r]=(i[r]-o[r+1])/a[r];for(a[t-1]=(e[t]+o[t-1])/2,r=0;r<t-1;++r)a[r]=2*e[r+1]-o[r+1];return[o,a]}function C4(e){return new Mg(e)}function ki(e,r){this._context=e,this._t=r}ki.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,r),this._context.lineTo(e,r);else{var t=this._x*(1-this._t)+e*this._t;this._context.lineTo(t,this._y),this._context.lineTo(t,r)}break}}this._x=e,this._y=r}};function B4(e){return new ki(e,.5)}function I4(e){return new ki(e,0)}function z4(e){return new ki(e,1)}function If(e,r){if((i=e.length)>1)for(var t=1,n,o,a=e[r[0]],i,s=a.length;t<i;++t)for(o=a,a=e[r[t]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(o[n][1])?o[n][0]:o[n][1]}function zf(e){for(var r=e.length,t=new Array(r);--r>=0;)t[r]=r;return t}function L4(e,r){return e[r]}function D4(e){const r=[];return r.key=e,r}function Ki(){var e=ge([]),r=zf,t=If,n=L4;function o(a){var i=Array.from(e.apply(this,arguments),D4),s,c=i.length,d=-1,l;for(const f of a)for(s=0,++d;s<c;++s)(i[s][d]=[0,+n(f,i[s].key,d,a)]).data=f;for(s=0,l=yi(r(i));s<c;++s)i[l[s]].index=s;return t(i,l),i}return o.keys=function(a){return arguments.length?(e=typeof a=="function"?a:ge(Array.from(a)),o):e},o.value=function(a){return arguments.length?(n=typeof a=="function"?a:ge(+a),o):n},o.order=function(a){return arguments.length?(r=a==null?zf:typeof a=="function"?a:ge(Array.from(a)),o):r},o.offset=function(a){return arguments.length?(t=a==null?If:a,o):t},o}function R4(e,r){if((c=e.length)>0)for(var t,n=0,o,a,i,s,c,d=e[r[0]].length;n<d;++n)for(i=s=0,t=0;t<c;++t)(a=(o=e[r[t]][n])[1]-o[0])>0?(o[0]=i,o[1]=i+=a):a<0?(o[1]=s,o[0]=s+=a):(o[0]=0,o[1]=a)}var Na=globalThis&&globalThis.__assign||function(){return Na=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Na.apply(this,arguments)},ir=function(){function e(r){this.state={options:{}},this.colorScale={},this.colorClassNames={},this.services=r}return e.prototype.getAllDataFromDomain=function(r){if(!this.getData())return null;var t=this.getOptions(),n=this.getData(),o=this.getDataGroups(),a=v.getProperty(t,"data").groupMapsTo,i=v.getProperty(t,"axes");return r&&(n=n.filter(function(s){return r.includes(s[a])})),i&&Object.keys(i).forEach(function(s){var c=i[s].mapsTo,d=i[s].scaleType;if((d===ne.LINEAR||d===ne.LOG)&&(n=n.map(function(h){var p;return Na(Na({},h),(p={},p[c]=h[c]===null?h[c]:Number(h[c]),p))})),c&&i[s].domain)if(d===ne.LABELS)n=n.filter(function(h){return i[s].domain.includes(h[c])});else{var l=i[s].domain,f=l[0],u=l[1];n=n.filter(function(h){return!(c in h)||h[c]>=f&&h[c]<=u})}}),n.filter(function(s){return o.find(function(c){return c.name===s[a]})})},e.prototype.getDisplayData=function(r){if(!this.get("data"))return null;var t=Le.items.status.ACTIVE,n=this.getDataGroups(r),o=this.getOptions().data.groupMapsTo,a=this.getAllDataFromDomain(r);return a.filter(function(i){return n.find(function(s){return s.name===i[o]&&s.status===t})})},e.prototype.getData=function(){return this.get("data")},e.prototype.isDataEmpty=function(){return!this.getData().length},e.prototype.setData=function(r){var t=this.sanitize(v.clone(r)),n=this.generateDataGroups(t);return this.set({data:t,dataGroups:n}),t},e.prototype.getDataGroups=function(r){var t=v.getProperty(this.getOptions(),"data","loading");return t?[]:r?this.get("dataGroups").filter(function(n){return r.includes(n.name)}):this.get("dataGroups")},e.prototype.getActiveDataGroups=function(r){var t=Le.items.status.ACTIVE;return this.getDataGroups(r).filter(function(n){return n.status===t})},e.prototype.getDataGroupNames=function(r){var t=this.getDataGroups(r);return t.map(function(n){return n.name})},e.prototype.getActiveDataGroupNames=function(r){var t=this.getActiveDataGroups(r);return t.map(function(n){return n.name})},e.prototype.aggregateBinDataByGroup=function(r){return v.groupBy(r,"group")},e.prototype.getBinConfigurations=function(){var r=this,t=this.getDisplayData(),n=this.getOptions(),o=this.services.cartesianScales.getMainXAxisPosition(),a=this.services.cartesianScales.getDomainIdentifier(),i=n.axes[o],s=n.data.groupMapsTo,c=i.bins,d=c===void 0?op.defaultBins:c,l=Array.isArray(d),f=Rk().value(function(b){return b[a]}).thresholds(d)(t);if(l)f[f.length-1].x1=d[d.length-1];else{var u=f[0].x1-f[0].x0;f[f.length-1].x1=+f[f.length-1].x0+u}var h=l?[d[0],d[d.length-1]]:[f[0].x0,f[f.length-1].x1],p=Array.from(new Set(t.map(function(b){return b[s]}))),m=[];return f.forEach(function(b){var y=b.x0+"-"+b.x1,g=r.aggregateBinDataByGroup(b);p.forEach(function(w){m.push({group:w,key:y,value:g[w]||0,bin:b.x0})})}),{bins:f,binsDomain:h}},e.prototype.getBinnedStackedData=function(){var r=this.getOptions(),t=r.data.groupMapsTo,n=this.getActiveDataGroupNames(),o=this.getBinConfigurations().bins,a=this.getDataValuesGroupedByKeys({bins:o});return Ki().keys(n)(a).map(function(i,s){return Object.keys(i).filter(function(c){return!isNaN(c)}).map(function(c){var d=i[c];return d[t]=n[s],d})})},e.prototype.getGroupedData=function(r){var t=this.getDisplayData(r),n={},o=this.getOptions().data.groupMapsTo;return t.map(function(a){var i=a[o];n[i]!==null&&n[i]!==void 0?n[i].push(a):n[i]=[a]}),Object.keys(n).map(function(a){return{name:a,data:n[a]}})},e.prototype.getStackKeys=function(r){var t=this,n=r===void 0?{bins:null,groups:null}:r,o=n.bins,a=o===void 0?null:o,i=n.groups,s=i===void 0?null:i,c=this.getOptions(),d=this.getDisplayData(s),l;a?l=a.map(function(h){return h.x0+"-"+h.x1}):l=v.removeArrayDuplicates(d.map(function(h){var p=t.services.cartesianScales.getDomainIdentifier(h);return h[p]&&typeof h[p].toString=="function"?h[p].toString():h[p]}));var f=this.services.cartesianScales.domainAxisPosition,u=c.axes[f].scaleType;return u===ne.TIME?l.sort(function(h,p){var m=new Date(h),b=new Date(p);return m-b}):(u===ne.LOG||u===ne.LINEAR)&&l.sort(function(h,p){return h-p}),l},e.prototype.getDataValuesGroupedByKeys=function(r){var t=this,n=r.bins,o=n===void 0?null:n,a=r.groups,i=a===void 0?null:a,s=this.getOptions(),c=s.data.groupMapsTo,d=this.getDisplayData(i),l=this.getDataGroupNames(),f=this.getStackKeys({bins:o,groups:i});return o?f.map(function(u){var h=u.split("-"),p=h[0],m=h[1],b={x0:p,x1:m},y=o.find(function(g){return g.x0.toString()===p.toString()});return l.forEach(function(g){b[g]=y.filter(function(w){return w[c]===g}).length}),b}):f.map(function(u){var h={sharedStackKey:u};return l.forEach(function(p){var m=d.find(function(y){var g=t.services.cartesianScales.getDomainIdentifier(y);return y[c]===p&&y.hasOwnProperty(g)&&y[g].toString()===u}),b=t.services.cartesianScales.getRangeIdentifier(h);h[p]=m?m[b]:null}),h})},e.prototype.getStackedData=function(r){var t=r.percentage,n=t===void 0?!1:t,o=r.groups,a=o===void 0?null:o,i=r.divergent,s=i===void 0?!1:i,c=this.getOptions(),d=c.data.groupMapsTo,l=this.getActiveDataGroupNames(a),f=this.getDataValuesGroupedByKeys({groups:a});if(n){var u=v.fromPairs(f.map(function(p){return[p.sharedStackKey,0]}));f.forEach(function(p){l.forEach(function(m){u[p.sharedStackKey]+=p[m]})}),f.forEach(function(p){l.forEach(function(m){u[p.sharedStackKey]?p[m]=p[m]/u[p.sharedStackKey]*100:p[m]=0})})}var h=s?Ki().offset(R4):Ki();return h.keys(l)(f).map(function(p,m){return Object.keys(p).filter(function(b){return!isNaN(b)}).map(function(b){var y=p[b];return y[d]=l[m],y})})},e.prototype.getOptions=function(){return this.state.options},e.prototype.set=function(r,t){this.state=Object.assign({},this.state,r);var n=Object.assign({skipUpdate:!1,animate:!0},t);n.skipUpdate||this.update(n.animate)},e.prototype.get=function(r){return r?this.state[r]:this.state},e.prototype.setOptions=function(r){var t=this.getOptions();v.updateLegendAdditionalItems(t,r),this.set({options:v.merge(t,r)})},e.prototype.update=function(r){r===void 0&&(r=!0),this.getDisplayData()&&(this.updateAllDataGroups(),this.setCustomColorScale(),this.setColorClassNames(),this.services.events.dispatchEvent(E.Model.UPDATE,{animate:r}))},e.prototype.toggleDataLabel=function(r){var t=Le.items.status,n=t.ACTIVE,o=t.DISABLED,a=this.getDataGroups(),i=a.some(function(u){return u.status===o}),s=a.filter(function(u){return u.status===n});if(i)if(s.length===1&&s[0].name===r)a.forEach(function(u,h){a[h].status=n});else{var c=a.findIndex(function(u){return u.name===r});a[c].status=a[c].status===o?n:o}else a.forEach(function(u,h){a[h].status=u.name===r?n:o});var d=a.filter(function(u){return u.status===n}),l=this.getOptions(),f=a.some(function(u){return u.status===o});f?l.data.selectedGroups=d.map(function(u){return u.name}):l.data.selectedGroups=[],this.services.events.dispatchEvent(E.Legend.ITEMS_UPDATE,{dataGroups:a}),this.set({dataGroups:a})},e.prototype.getIsFilled=function(r,t,n,o){var a=this.getOptions();return a.getIsFilled?a.getIsFilled(r,t,n,o):o},e.prototype.getFillColor=function(r,t,n){var o=this.getOptions(),a=v.getProperty(this.colorScale,r);return o.getFillColor?o.getFillColor(r,t,n,a):a},e.prototype.getStrokeColor=function(r,t,n){var o=this.getOptions(),a=v.getProperty(this.colorScale,r);return o.getStrokeColor?o.getStrokeColor(r,t,n,a):a},e.prototype.isUserProvidedColorScaleValid=function(){var r=v.getProperty(this.getOptions(),"color","scale"),t=this.getDataGroups();return r==null||Object.keys(r).length==0?!1:t.some(function(n){return Object.keys(r).includes(n.name)})},e.prototype.getColorClassName=function(r){var t=this.colorClassNames(r.dataGroupName),n=r.originalClassName;return r.classNameTypes.forEach(function(o){return n=r.originalClassName?n+" "+o+"-"+t:o+"-"+t}),n},e.prototype.getStatus=function(){return null},e.prototype.getAllDataGroupsNames=function(){return this.allDataGroups},e.prototype.transformToTabularData=function(r){console.warn("We've updated the charting data format to be tabular by default. The current format you're using is deprecated and will be removed in v1.0, read more here https://carbon-design-system.github.io/carbon-charts/?path=/story/docs-tutorials--tabular-data-format");var t=[],n=r.datasets,o=r.labels;return n.forEach(function(a){a.data.forEach(function(i,s){var c,d=v.getProperty(a,"label");if(d===null){var l=v.getProperty(o,s);l?c=l:c="Ungrouped"}else c=d;var f={group:c,key:o[s]};isNaN(i)?(f.value=i.value,f.date=i.date):f.value=i,t.push(f)})}),t},e.prototype.getTabularDataArray=function(){return[]},e.prototype.exportToCSV=function(){var r=this.getTabularDataArray().map(function(o){return o.map(function(a){return'"'+a+'"'})}),t="",n="";r.forEach(function(o,a){n=o.join(","),t+=a<r.length?n+`
`:n}),this.services.files.downloadCSV(t,"myChart.csv")},e.prototype.getTabularData=function(r){return Array.isArray(r)?r:this.transformToTabularData(r)},e.prototype.sanitize=function(r){return r=this.getTabularData(r),r},e.prototype.updateAllDataGroups=function(){var r=this;this.allDataGroups?this.getDataGroupNames().forEach(function(t){r.allDataGroups.indexOf(t)===-1&&r.allDataGroups.push(t)}):this.allDataGroups=this.getDataGroupNames()},e.prototype.generateDataGroups=function(r){var t=this.getOptions().data.groupMapsTo,n=Le.items.status,o=n.ACTIVE,a=n.DISABLED,i=this.getOptions(),s=v.removeArrayDuplicates(r.map(function(l){return l[t]}));if(i.data.selectedGroups.length){var c=i.data.selectedGroups.every(function(l){return s.includes(l)});c||(i.data.selectedGroups=[])}var d=function(l){return!i.data.selectedGroups.length||i.data.selectedGroups.includes(l)?o:a};return s.map(function(l){return{name:l,status:d(l)}})},e.prototype.setCustomColorScale=function(){var r=this;if(!!this.isUserProvidedColorScaleValid()){var t=this.getOptions(),n=v.getProperty(t,"color","scale");Object.keys(n).forEach(function(a){r.allDataGroups.includes(a)||console.warn('"'+a+'" does not exist in data groups.')});var o=this.allDataGroups.filter(function(a){return n[a]});o.forEach(function(a){return r.colorScale[a]=n[a]})}},e.prototype.setColorClassNames=function(){var r=v.getProperty(this.getOptions(),"color","pairing"),t=v.getProperty(r,"numberOfVariants");(!t||t<this.allDataGroups.length)&&(t=this.allDataGroups.length);var n=v.getProperty(r,"option"),o=nd.pairingOptions,a=t>5?14:t;n=n<=o[a+"-color"]?n:1;var i=this.allDataGroups.map(function(s,c){return a+"-"+n+"-"+(c%14+1)});this.colorClassNames=mi().range(i).domain(this.allDataGroups)},e}(),sr=function(){function e(r,t){this.model=r,this.services=t,this.init()}return e.prototype.init=function(){},e.prototype.update=function(){},e.prototype.setModel=function(r){this.model=r},e.prototype.setServices=function(r){this.services=r},e}(),Eg=function(){if(typeof Map!="undefined")return Map;function e(r,t){var n=-1;return r.some(function(o,a){return o[0]===t?(n=a,!0):!1}),n}return function(){function r(){this.__entries__=[]}var t={size:{configurable:!0}};return t.size.get=function(){return this.__entries__.length},r.prototype.get=function(n){var o=e(this.__entries__,n),a=this.__entries__[o];return a&&a[1]},r.prototype.set=function(n,o){var a=e(this.__entries__,n);~a?this.__entries__[a][1]=o:this.__entries__.push([n,o])},r.prototype.delete=function(n){var o=this.__entries__,a=e(o,n);~a&&o.splice(a,1)},r.prototype.has=function(n){return!!~e(this.__entries__,n)},r.prototype.clear=function(){this.__entries__.splice(0)},r.prototype.forEach=function(n,o){var a=this;o===void 0&&(o=null);for(var i=0,s=a.__entries__;i<s.length;i+=1){var c=s[i];n.call(o,c[1],c[0])}},Object.defineProperties(r.prototype,t),r}()}(),Vd=typeof window!="undefined"&&typeof document!="undefined"&&window.document===document,Va=function(){return typeof global!="undefined"&&global.Math===Math?global:typeof self!="undefined"&&self.Math===Math?self:typeof window!="undefined"&&window.Math===Math?window:Function("return this")()}(),F4=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Va):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),N4=2,V4=function(e,r){var t=!1,n=!1,o=0;function a(){t&&(t=!1,e()),n&&s()}function i(){F4(a)}function s(){var c=Date.now();if(t){if(c-o<N4)return;n=!0}else t=!0,n=!1,setTimeout(i,r);o=c}return s},$4=20,H4=["top","right","bottom","left","width","height","size","weight"],G4=typeof MutationObserver!="undefined",At=function(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=V4(this.refresh.bind(this),$4)};At.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()};At.prototype.removeObserver=function(e){var r=this.observers_,t=r.indexOf(e);~t&&r.splice(t,1),!r.length&&this.connected_&&this.disconnect_()};At.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()};At.prototype.updateObservers_=function(){var e=this.observers_.filter(function(r){return r.gatherActive(),r.hasActive()});return e.forEach(function(r){return r.broadcastActive()}),e.length>0};At.prototype.connect_=function(){!Vd||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),G4?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)};At.prototype.disconnect_=function(){!Vd||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)};At.prototype.onTransitionEnd_=function(e){var r=e.propertyName;r===void 0&&(r="");var t=H4.some(function(n){return!!~r.indexOf(n)});t&&this.refresh()};At.getInstance=function(){return this.instance_||(this.instance_=new At),this.instance_};At.instance_=null;var Tg=function(e,r){for(var t=0,n=Object.keys(r);t<n.length;t+=1){var o=n[t];Object.defineProperty(e,o,{value:r[o],enumerable:!1,writable:!1,configurable:!0})}return e},Bn=function(e){var r=e&&e.ownerDocument&&e.ownerDocument.defaultView;return r||Va},Og=Si(0,0,0,0);function $a(e){return parseFloat(e)||0}function Lf(e){for(var r=[],t=arguments.length-1;t-- >0;)r[t]=arguments[t+1];return r.reduce(function(n,o){var a=e["border-"+o+"-width"];return n+$a(a)},0)}function j4(e){for(var r=["top","right","bottom","left"],t={},n=0,o=r;n<o.length;n+=1){var a=o[n],i=e["padding-"+a];t[a]=$a(i)}return t}function q4(e){var r=e.getBBox();return Si(0,0,r.width,r.height)}function W4(e){var r=e.clientWidth,t=e.clientHeight;if(!r&&!t)return Og;var n=Bn(e).getComputedStyle(e),o=j4(n),a=o.left+o.right,i=o.top+o.bottom,s=$a(n.width),c=$a(n.height);if(n.boxSizing==="border-box"&&(Math.round(s+a)!==r&&(s-=Lf(n,"left","right")+a),Math.round(c+i)!==t&&(c-=Lf(n,"top","bottom")+i)),!X4(e)){var d=Math.round(s+a)-r,l=Math.round(c+i)-t;Math.abs(d)!==1&&(s-=d),Math.abs(l)!==1&&(c-=l)}return Si(o.left,o.top,s,c)}var Y4=function(){return typeof SVGGraphicsElement!="undefined"?function(e){return e instanceof Bn(e).SVGGraphicsElement}:function(e){return e instanceof Bn(e).SVGElement&&typeof e.getBBox=="function"}}();function X4(e){return e===Bn(e).document.documentElement}function Z4(e){return Vd?Y4(e)?q4(e):W4(e):Og}function K4(e){var r=e.x,t=e.y,n=e.width,o=e.height,a=typeof DOMRectReadOnly!="undefined"?DOMRectReadOnly:Object,i=Object.create(a.prototype);return Tg(i,{x:r,y:t,width:n,height:o,top:t,right:r+n,bottom:o+t,left:r}),i}function Si(e,r,t,n){return{x:e,y:r,width:t,height:n}}var $d=function(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Si(0,0,0,0),this.target=e};$d.prototype.isActive=function(){var e=Z4(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight};$d.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e};var Q4=function(e,r){var t=K4(r);Tg(this,{target:e,contentRect:t})},yr=function(e,r,t){if(this.activeObservations_=[],this.observations_=new Eg,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=r,this.callbackCtx_=t};yr.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(e instanceof Bn(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(e)||(r.set(e,new $d(e)),this.controller_.addObserver(this),this.controller_.refresh())}};yr.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(e instanceof Bn(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;!r.has(e)||(r.delete(e),r.size||this.controller_.removeObserver(this))}};yr.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)};yr.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(r){r.isActive()&&e.activeObservations_.push(r)})};yr.prototype.broadcastActive=function(){if(!!this.hasActive()){var e=this.callbackCtx_,r=this.activeObservations_.map(function(t){return new Q4(t.target,t.broadcastRect())});this.callback_.call(e,r,e),this.clearActive()}};yr.prototype.clearActive=function(){this.activeObservations_.splice(0)};yr.prototype.hasActive=function(){return this.activeObservations_.length>0};var Ag=typeof WeakMap!="undefined"?new WeakMap:new Eg,Hd=function(e){if(!(this instanceof Hd))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=At.getInstance(),t=new yr(e,r,this);Ag.set(this,t)};["observe","unobserve","disconnect"].forEach(function(e){Hd.prototype[e]=function(){return(r=Ag.get(this))[e].apply(r,arguments);var r}});var J4=function(){return typeof Va.ResizeObserver!="undefined"?Va.ResizeObserver:Hd}(),Pg={exports:{}};(function(e){(function(r){var t=w(),n=k(),o=_(),a=x(),i={imagePlaceholder:void 0,cacheBust:!1},s={toSvg:c,toPng:l,toJpeg:f,toBlob:u,toPixelData:d,impl:{fontFaces:o,images:a,util:t,inliner:n,options:{}}};e.exports=s;function c(O,M){return M=M||{},h(M),Promise.resolve(O).then(function(A){return m(A,M.filter,!0)}).then(b).then(y).then(T).then(function(A){return g(A,M.width||t.width(O),M.height||t.height(O))});function T(A){return M.bgcolor&&(A.style.backgroundColor=M.bgcolor),M.width&&(A.style.width=M.width+"px"),M.height&&(A.style.height=M.height+"px"),M.style&&Object.keys(M.style).forEach(function(S){A.style[S]=M.style[S]}),A}}function d(O,M){return p(O,M||{}).then(function(T){return T.getContext("2d").getImageData(0,0,t.width(O),t.height(O)).data})}function l(O,M){return p(O,M||{}).then(function(T){return T.toDataURL()})}function f(O,M){return M=M||{},p(O,M).then(function(T){return T.toDataURL("image/jpeg",M.quality||1)})}function u(O,M){return p(O,M||{}).then(t.canvasToBlob)}function h(O){typeof O.imagePlaceholder=="undefined"?s.impl.options.imagePlaceholder=i.imagePlaceholder:s.impl.options.imagePlaceholder=O.imagePlaceholder,typeof O.cacheBust=="undefined"?s.impl.options.cacheBust=i.cacheBust:s.impl.options.cacheBust=O.cacheBust}function p(O,M){return c(O,M).then(t.makeImage).then(t.delay(100)).then(function(A){var S=T(O);return S.getContext("2d").drawImage(A,0,0),S});function T(A){var S=document.createElement("canvas");if(S.width=M.width||t.width(A),S.height=M.height||t.height(A),M.bgcolor){var P=S.getContext("2d");P.fillStyle=M.bgcolor,P.fillRect(0,0,S.width,S.height)}return S}}function m(O,M,T){if(!T&&M&&!M(O))return Promise.resolve();return Promise.resolve(O).then(A).then(function(I){return S(O,I,M)}).then(function(I){return P(O,I)});function A(I){return I instanceof HTMLCanvasElement?t.makeImage(I.toDataURL()):I.cloneNode(!1)}function S(I,L,B){var C=I.childNodes;if(C.length===0)return Promise.resolve(L);return z(L,t.asArray(C),B).then(function(){return L});function z(F,U,N){var V=Promise.resolve();return U.forEach(function(X){V=V.then(function(){return m(X,N)}).then(function(ce){ce&&F.appendChild(ce)})}),V}}function P(I,L){if(!(L instanceof Element))return L;return Promise.resolve().then(B).then(C).then(z).then(F).then(function(){return L});function B(){U(window.getComputedStyle(I),L.style);function U(N,V){N.cssText?V.cssText=N.cssText:X(N,V);function X(ce,ae){t.asArray(ce).forEach(function(Z){ae.setProperty(Z,ce.getPropertyValue(Z),ce.getPropertyPriority(Z))})}}}function C(){[":before",":after"].forEach(function(N){U(N)});function U(N){var V=window.getComputedStyle(I,N),X=V.getPropertyValue("content");if(X===""||X==="none")return;var ce=t.uid();L.className=L.className+" "+ce;var ae=document.createElement("style");ae.appendChild(Z(ce,N,V)),L.appendChild(ae);function Z(re,J,se){var K="."+re+":"+J,ee=se.cssText?de(se):q(se);return document.createTextNode(K+"{"+ee+"}");function de(he){var le=he.getPropertyValue("content");return he.cssText+" content: "+le+";"}function q(he){return t.asArray(he).map(le).join("; ")+";";function le(j){return j+": "+he.getPropertyValue(j)+(he.getPropertyPriority(j)?" !important":"")}}}}}function z(){I instanceof HTMLTextAreaElement&&(L.innerHTML=I.value),I instanceof HTMLInputElement&&L.setAttribute("value",I.value)}function F(){L instanceof SVGElement&&(L.setAttribute("xmlns","http://www.w3.org/2000/svg"),L instanceof SVGRectElement&&["width","height"].forEach(function(U){var N=L.getAttribute(U);!N||L.style.setProperty(U,N)}))}}}function b(O){return o.resolveAll().then(function(M){var T=document.createElement("style");return O.appendChild(T),T.appendChild(document.createTextNode(M)),O})}function y(O){return a.inlineAll(O).then(function(){return O})}function g(O,M,T){return Promise.resolve(O).then(function(A){return A.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),new XMLSerializer().serializeToString(A)}).then(t.escapeXhtml).then(function(A){return'<foreignObject x="0" y="0" width="100%" height="100%">'+A+"</foreignObject>"}).then(function(A){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+M+'" height="'+T+'">'+A+"</svg>"}).then(function(A){return"data:image/svg+xml;charset=utf-8,"+A})}function w(){return{escape:F,parseExtension:M,mimeType:T,dataAsUrl:z,isDataUrl:A,canvasToBlob:P,resolveUrl:I,getAndEncode:C,uid:L(),delay:U,asArray:N,escapeXhtml:V,makeImage:B,width:X,height:ce};function O(){var Z="application/font-woff",re="image/jpeg";return{woff:Z,woff2:Z,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:re,jpeg:re,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"}}function M(Z){var re=/\.([^\.\/]*?)$/g.exec(Z);return re?re[1]:""}function T(Z){var re=M(Z).toLowerCase();return O()[re]||""}function A(Z){return Z.search(/^(data:)/)!==-1}function S(Z){return new Promise(function(re){for(var J=window.atob(Z.toDataURL().split(",")[1]),se=J.length,K=new Uint8Array(se),ee=0;ee<se;ee++)K[ee]=J.charCodeAt(ee);re(new Blob([K],{type:"image/png"}))})}function P(Z){return Z.toBlob?new Promise(function(re){Z.toBlob(re)}):S(Z)}function I(Z,re){var J=document.implementation.createHTMLDocument(),se=J.createElement("base");J.head.appendChild(se);var K=J.createElement("a");return J.body.appendChild(K),se.href=re,K.href=Z,K.href}function L(){var Z=0;return function(){return"u"+re()+Z++;function re(){return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)}}}function B(Z){return new Promise(function(re,J){var se=new Image;se.onload=function(){re(se)},se.onerror=J,se.src=Z})}function C(Z){var re=3e4;return s.impl.options.cacheBust&&(Z+=(/\?/.test(Z)?"&":"?")+new Date().getTime()),new Promise(function(J){var se=new XMLHttpRequest;se.onreadystatechange=de,se.ontimeout=q,se.responseType="blob",se.timeout=re,se.open("GET",Z,!0),se.send();var K;if(s.impl.options.imagePlaceholder){var ee=s.impl.options.imagePlaceholder.split(/,/);ee&&ee[1]&&(K=ee[1])}function de(){if(se.readyState===4){if(se.status!==200){K?J(K):he("cannot fetch resource: "+Z+", status: "+se.status);return}var le=new FileReader;le.onloadend=function(){var j=le.result.split(/,/)[1];J(j)},le.readAsDataURL(se.response)}}function q(){K?J(K):he("timeout of "+re+"ms occured while fetching resource: "+Z)}function he(le){console.error(le),J("")}})}function z(Z,re){return"data:"+re+";base64,"+Z}function F(Z){return Z.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")}function U(Z){return function(re){return new Promise(function(J){setTimeout(function(){J(re)},Z)})}}function N(Z){for(var re=[],J=Z.length,se=0;se<J;se++)re.push(Z[se]);return re}function V(Z){return Z.replace(/#/g,"%23").replace(/\n/g,"%0A")}function X(Z){var re=ae(Z,"border-left-width"),J=ae(Z,"border-right-width");return Z.scrollWidth+re+J}function ce(Z){var re=ae(Z,"border-top-width"),J=ae(Z,"border-bottom-width");return Z.scrollHeight+re+J}function ae(Z,re){var J=window.getComputedStyle(Z).getPropertyValue(re);return parseFloat(J.replace("px",""))}}function k(){var O=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:S,shouldProcess:M,impl:{readUrls:T,inline:A}};function M(P){return P.search(O)!==-1}function T(P){for(var I=[],L;(L=O.exec(P))!==null;)I.push(L[1]);return I.filter(function(B){return!t.isDataUrl(B)})}function A(P,I,L,B){return Promise.resolve(I).then(function(z){return L?t.resolveUrl(z,L):z}).then(B||t.getAndEncode).then(function(z){return t.dataAsUrl(z,t.mimeType(I))}).then(function(z){return P.replace(C(I),"$1"+z+"$3")});function C(z){return new RegExp(`(url\\(['"]?)(`+t.escape(z)+`)(['"]?\\))`,"g")}}function S(P,I,L){if(B())return Promise.resolve(P);return Promise.resolve(P).then(T).then(function(C){var z=Promise.resolve(P);return C.forEach(function(F){z=z.then(function(U){return A(U,F,I,L)})}),z});function B(){return!M(P)}}}function _(){return{resolveAll:O,impl:{readAll:M}};function O(){return M().then(function(T){return Promise.all(T.map(function(A){return A.resolve()}))}).then(function(T){return T.join(`
`)})}function M(){return Promise.resolve(t.asArray(document.styleSheets)).then(A).then(T).then(function(P){return P.map(S)});function T(P){return P.filter(function(I){return I.type===CSSRule.FONT_FACE_RULE}).filter(function(I){return n.shouldProcess(I.style.getPropertyValue("src"))})}function A(P){var I=[];return P.forEach(function(L){try{t.asArray(L.cssRules||[]).forEach(I.push.bind(I))}catch(B){console.log("Error while reading CSS rules from "+L.href,B.toString())}}),I}function S(P){return{resolve:function(){var L=(P.parentStyleSheet||{}).href;return n.inlineAll(P.cssText,L)},src:function(){return P.style.getPropertyValue("src")}}}}}function x(){return{inlineAll:M,impl:{newImage:O}};function O(T){return{inline:A};function A(S){return t.isDataUrl(T.src)?Promise.resolve():Promise.resolve(T.src).then(S||t.getAndEncode).then(function(P){return t.dataAsUrl(P,t.mimeType(T.src))}).then(function(P){return new Promise(function(I,L){T.onload=I,T.onerror=L,T.src=P})})}}function M(T){if(!(T instanceof Element))return Promise.resolve(T);return A(T).then(function(){return T instanceof HTMLImageElement?O(T).inline():Promise.all(t.asArray(T.childNodes).map(function(S){return M(S)}))});function A(S){var P=S.style.getPropertyValue("background");return P?n.inlineAll(P).then(function(I){S.style.setProperty("background",I,S.style.getPropertyPriority("background"))}).then(function(){return S}):Promise.resolve(S)}}}})()})(Pg);var Df=Pg.exports,e6=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Rf="DONT_STYLE_ME_css_styles_verifier",D=function(e){e6(r,e);function r(t,n){return e.call(this,t,n)||this}return r.getHTMLElementSize=function(t){return{width:t.clientWidth,height:t.clientHeight}},r.getSVGElementSize=function(t,n){n===void 0&&(n={useAttrs:!1,useClientDimensions:!1,useBBox:!1,useBoundingRect:!1}),t.attr||(t=R(t));var o={width:0,height:0},a=function(h){h&&Object.keys(o).forEach(function(p){if(h[p]){var m=h[p],b=parseFloat(m);m&&b>o[p]&&(""+m).indexOf("%")===-1&&(o[p]=b)}})},i={width:t.attr("width"),height:t.attr("height")},s,c,d,l;try{s=t.node().getBBox(),c={width:s.width,height:s.height}}catch{}try{d=t.node().getBoundingClientRect(),l={width:d.width,height:d.height}}catch{}var f={width:t.node().clientWidth,height:t.node().clientHeight};if(n){if(n.useAttrs&&(a(i),o.width>0&&o.height>0))return o;if(n.useClientDimensions&&(a(f),o.width>0&&o.height>0))return f;if(n.useBBox&&(a(c),o.width>0&&o.height>0))return c;if(n.useBoundingRect&&(a(l),o.width>0&&o.height>0))return l}try{var u={width:v.getProperty(t.node(),"width","baseVal","value"),height:v.getProperty(t.node(),"height","baseVal","value")};a(u)}catch{a(f),a(c),a(i)}return o},r.appendOrSelect=function(t,n){var o=t.select(""+n);if(o.empty()){var a=n.split("#"),i=void 0,s=void 0;return a.length===2?(i=a[0],a=a[1].split("."),s=a[0]):(a=n.split("."),i=a[0]),t.append(i).attr("id",s).attr("class",a.slice(1).join(" "))}return o},r.prototype.init=function(){this.styleHolderElement(),this.initializeID(),this.addMainContainer(),this.verifyCSSStylesBeingApplied(),this.model.getOptions().resizable&&this.addResizeListener(),this.addHolderListeners(),this.handleFullscreenChange()},r.prototype.getChartID=function(){return this.chartID},r.prototype.generateElementIDString=function(t){return"chart-"+this.chartID+"-"+t},r.prototype.initializeID=function(){this.chartID=Math.floor((1+Math.random())*281474976710656).toString(16)},r.prototype.addMainContainer=function(){var t=this.model.getOptions(),n=v.getProperty(t,"style","prefix"),o=R(this.getHolder()).append("div").classed(et+"--"+n+"--chart-wrapper",!0).attr("id","chart-"+this.getChartID()).style("height","100%").style("width","100%");o.append("g").attr("class",Rf),this.mainContainer=o.node()},r.prototype.update=function(){this.styleHolderElement()},r.prototype.styleHolderElement=function(){var t=this.getHolder();R(this.getHolder()).classed(et+"--chart-holder",!0);var n=this.model.getOptions(),o=n.width,a=n.height;o!==this.width&&(t.style.width=o,this.width=o),a!==this.height&&(t.style.height=a,this.height=a)},r.prototype.getHolder=function(){return this.model.get("holder")},r.prototype.exportToJPG=function(){var t=this,n=this.getHolder(),o=R(n);o.classed("filled",!0),Df.toJpeg(this.getMainContainer(),{bgcolor:typeof window!="undefined"?window.getComputedStyle(n).getPropertyValue("background-color"):void 0,quality:1,filter:function(a){return!(a.classList&&a.classList.contains("cds--cc--toolbar"))}}).then(function(a){t.services.files.downloadImage(a,"myChart.jpg"),o.classed("filled",!1)})},r.prototype.exportToPNG=function(){var t=this,n=this.getHolder(),o=R(n);o.classed("filled",!0),Df.toPng(this.getMainContainer(),{bgcolor:typeof window!="undefined"?window.getComputedStyle(n).getPropertyValue("background-color"):void 0,quality:1,filter:function(a){return!(a.classList&&a.classList.contains("cds--cc--toolbar"))}}).then(function(a){t.services.files.downloadImage(a,"myChart.png"),o.classed("filled",!1)}).catch(function(a){console.error("oops, something went wrong!",a)})},r.prototype.toggleFullscreen=function(){var t=this.getHolder(),n=R(t),o=n.classed("fullscreen");o&&(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen():t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.msRequestFullscreen&&t.msRequestFullscreen()},r.prototype.handleFullscreenChange=function(){var t=this;document.addEventListener("fullscreenchange",function(){var n=R(t.getHolder()),o=n.classed("fullscreen");n.classed("fullscreen",!o)})},r.prototype.verifyCSSStylesBeingApplied=function(){var t=this;setTimeout(function(){var n=R(t.mainContainer).select("g."+Rf).node(),o=getComputedStyle(n);(o.getPropertyValue("overflow")!=="hidden"||o.getPropertyValue("opacity")!=="0")&&console.error("Missing CSS styles for Carbon Charts. Please read the Carbon Charts getting started guide.")})},r.prototype.setSVGMaxHeight=function(){if(!this.model.getOptions().height){var t=r.getSVGElementSize(R(this.mainContainer),{useBBox:!0}).height,n=R(this.mainContainer).attr("class"),o=R(this.mainContainer).selectAll("."+n+" > svg"),a=0;o.nodes().forEach(function(i){a+=Number(r.getSVGElementSize(R(i),{useBBox:!0}).height)}),a<=t?R(this.mainContainer).attr("height",a):R(this.mainContainer).attr("height","100%")}},r.prototype.getMainContainer=function(){return this.mainContainer},r.prototype.addHolderListeners=function(){var t=this,n=this.getHolder();!n||R(n).on("mouseover",function(){t.services.events.dispatchEvent(E.Chart.MOUSEOVER)}).on("mouseout",function(){t.services.events.dispatchEvent(E.Chart.MOUSEOUT)})},r.prototype.addResizeListener=function(){var t=this,n=this.getHolder();if(!!n){var o=n.clientWidth,a=n.clientHeight,i=v.debounce(function(c,d){!n||(Math.abs(o-n.clientWidth)>1||Math.abs(a-n.clientHeight)>1)&&(o=n.clientWidth,a=n.clientHeight,t.services.events.dispatchEvent(E.Chart.RESIZE))},12.5),s=new J4(i);s.observe(n)}},r}(sr),t6=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),r6=function(e){t6(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.init=function(){this.documentFragment=document.createDocumentFragment()},r.prototype.addEventListener=function(t,n){this.documentFragment.addEventListener(t,n)},r.prototype.removeEventListener=function(t,n){this.documentFragment.removeEventListener(t,n)},r.prototype.dispatchEvent=function(t,n){var o;n?o=new CustomEvent(t,{detail:n}):(o=document.createEvent("Event"),o.initEvent(t,!1,!0)),this.documentFragment.dispatchEvent(o)},r}(sr),n6=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),o6=function(e){n6(r,e);function r(t,n){return e.call(this,t,n)||this}return r.prototype.downloadCSV=function(t,n){var o=document.createElement("a"),a="text/csv;encoding:utf-8";if(navigator.msSaveBlob)navigator.msSaveBlob(new Blob([t],{type:a}),n);else if(URL&&"download"in o){var i=URL.createObjectURL(new Blob([t],{type:a}));o.href=i,o.setAttribute("download",n),document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(i)}else location.href="data:application/octet-stream,"+encodeURIComponent(t)},r.prototype.downloadImage=function(t,n){var o=document.createElement("a");o.download=n,o.href=t,document.body.appendChild(o),o.click(),document.body.removeChild(o)},r}(sr),a6=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),i6=function(e){a6(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.pendingTransitions={},t}return r.prototype.init=function(){var t=this;this.services.events.addEventListener(E.Model.UPDATE,function(){t.pendingTransitions={}})},r.prototype.setupTransition=function(t){var n=this,o=t.transition,a=t.name,i=t.animate;return this.pendingTransitions[o._id]=o,o.on("end interrupt cancel",function(){delete n.pendingTransitions[o._id]}),this.model.getOptions().animations===!1||i===!1?o.duration(0):o.duration(v.getProperty(Ys,a,"duration")||Ys.default.duration)},r.prototype.getPendingTransitions=function(){return this.pendingTransitions},r}(sr),s6=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ec=function(e){s6(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.appendOrUpdateLinearGradient=function(t){var n=t.svg.select("defs linearGradient#"+t.id);n.empty()&&(n=t.svg.append("defs").append("linearGradient").attr("id",t.id).attr("x1",t.x1).attr("x2",t.x2).attr("y1",t.y1).attr("y2",t.y2)),n.selectAll("stop").remove(),n.selectAll("stop").data(t.stops).enter().append("stop").attr("offset",function(o){return o.offset}).style("stop-color",function(o){return o.color}).style("stop-opacity",function(o){return o.opacity})},r.getOffsetRatio=function(t){var n=(Math.abs(t[1])*100/Math.abs(t[0]-t[1])).toFixed(2)+"%";return n},r.getStops=function(t,n){var o=t[0]<0&&t[1]>0,a=[{offset:"0%",color:n,opacity:"0.6"},{offset:"80%",color:n,opacity:"0"}];return o&&(a=[{offset:"0%",color:n,opacity:"0.6"},{offset:r.getOffsetRatio(t),color:n,opacity:"0"},{offset:"100%",color:n,opacity:"0.6"}]),a},r}(sr);function ke(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var r=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&r==="[object Date]"?new Date(e.getTime()):typeof e=="number"||r==="[object Number]"?new Date(e):((typeof e=="string"||r==="[object String]")&&typeof console!="undefined"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn(new Error().stack)),new Date(NaN))}function ze(e){if(e===null||e===!0||e===!1)return NaN;var r=Number(e);return isNaN(r)?r:r<0?Math.ceil(r):Math.floor(r)}function Ug(e,r){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var t=ke(e),n=ze(r);return t.setDate(t.getDate()+n),t}function Mi(e,r){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var t=ke(e).getTime(),n=ze(r);return new Date(t+n)}var c6=36e5;function Cg(e,r){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var t=ze(r);return Mi(e,t*c6)}var Ff=6e4;function Tc(e){var r=new Date(e.getTime()),t=Math.ceil(r.getTimezoneOffset());r.setSeconds(0,0);var n=r.getTime()%Ff;return t*Ff+n}function Nf(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var r=ke(e);return r.setHours(0,0,0,0),r}var d6=864e5;function l6(e,r){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var t=Nf(e),n=Nf(r),o=t.getTime()-Tc(t),a=n.getTime()-Tc(n);return Math.round((o-a)/d6)}var f6=6e4;function Oc(e,r){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var t=ze(r);return Mi(e,t*f6)}function u6(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var r=ke(e),t=r.getFullYear(),n=r.getMonth(),o=new Date(0);return o.setFullYear(t,n+1,0),o.setHours(0,0,0,0),o.getDate()}function Gd(e,r){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var t=ke(e),n=ze(r),o=t.getMonth()+n,a=new Date(0);a.setFullYear(t.getFullYear(),o,1),a.setHours(0,0,0,0);var i=u6(a);return t.setMonth(o,Math.min(i,t.getDate())),t}function Ac(e,r){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var t=ze(r);return Mi(e,t*1e3)}function Bg(e,r){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var t=ze(r);return Gd(e,t*12)}function In(e,r){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var t=ke(e),n=ke(r),o=t.getTime()-n.getTime();return o<0?-1:o>0?1:o}function p6(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var r=ke(e);return!isNaN(r)}function h6(e,r){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var t=ke(e),n=ke(r),o=t.getFullYear()-n.getFullYear(),a=t.getMonth()-n.getMonth();return o*12+a}function g6(e,r){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var t=ke(e),n=ke(r);return t.getFullYear()-n.getFullYear()}function m6(e,r){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var t=ke(e),n=ke(r),o=In(t,n),a=Math.abs(l6(t,n));t.setDate(t.getDate()-o*a);var i=In(t,n)===-o,s=o*(a-i);return s===0?0:s}function jd(e,r){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var t=ke(e),n=ke(r);return t.getTime()-n.getTime()}var v6=36e5;function b6(e,r){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var t=jd(e,r)/v6;return t>0?Math.floor(t):Math.ceil(t)}var y6=6e4;function Vf(e,r){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var t=jd(e,r)/y6;return t>0?Math.floor(t):Math.ceil(t)}function w6(e,r){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var t=ke(e),n=ke(r),o=In(t,n),a=Math.abs(h6(t,n));t.setMonth(t.getMonth()-o*a);var i=In(t,n)===-o,s=o*(a-i);return s===0?0:s}function $f(e,r){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var t=jd(e,r)/1e3;return t>0?Math.floor(t):Math.ceil(t)}function _6(e,r){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var t=ke(e),n=ke(r),o=In(t,n),a=Math.abs(g6(t,n));t.setFullYear(t.getFullYear()-o*a);var i=In(t,n)===-o,s=o*(a-i);return s===0?0:s}var ta={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function x6(e,r,t){t=t||{};var n;return typeof ta[e]=="string"?n=ta[e]:r===1?n=ta[e].one:n=ta[e].other.replace("{{count}}",r),t.addSuffix?t.comparison>0?"in "+n:n+" ago":n}function Qi(e){return function(r){var t=r||{},n=t.width?String(t.width):e.defaultWidth,o=e.formats[n]||e.formats[e.defaultWidth];return o}}var k6={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},S6={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},M6={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},E6={date:Qi({formats:k6,defaultWidth:"full"}),time:Qi({formats:S6,defaultWidth:"full"}),dateTime:Qi({formats:M6,defaultWidth:"full"})},T6=E6,O6={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function A6(e,r,t,n){return O6[e]}function Gn(e){return function(r,t){var n=t||{},o=n.context?String(n.context):"standalone",a;if(o==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,s=n.width?String(n.width):i;a=e.formattingValues[s]||e.formattingValues[i]}else{var c=e.defaultWidth,d=n.width?String(n.width):e.defaultWidth;a=e.values[d]||e.values[c]}var l=e.argumentCallback?e.argumentCallback(r):r;return a[l]}}var P6={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},U6={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},C6={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},B6={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},I6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},z6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}};function L6(e,r){var t=Number(e),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"}var D6={ordinalNumber:L6,era:Gn({values:P6,defaultWidth:"wide"}),quarter:Gn({values:U6,defaultWidth:"wide",argumentCallback:function(e){return Number(e)-1}}),month:Gn({values:C6,defaultWidth:"wide"}),day:Gn({values:B6,defaultWidth:"wide"}),dayPeriod:Gn({values:I6,defaultWidth:"wide",formattingValues:z6,defaultFormattingWidth:"wide"})},R6=D6;function F6(e){return function(r,t){var n=String(r),o=t||{},a=n.match(e.matchPattern);if(!a)return null;var i=a[0],s=n.match(e.parsePattern);if(!s)return null;var c=e.valueCallback?e.valueCallback(s[0]):s[0];return c=o.valueCallback?o.valueCallback(c):c,{value:c,rest:n.slice(i.length)}}}function jn(e){return function(r,t){var n=String(r),o=t||{},a=o.width,i=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],s=n.match(i);if(!s)return null;var c=s[0],d=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],l;return Object.prototype.toString.call(d)==="[object Array]"?l=V6(d,function(f){return f.test(n)}):l=N6(d,function(f){return f.test(n)}),l=e.valueCallback?e.valueCallback(l):l,l=o.valueCallback?o.valueCallback(l):l,{value:l,rest:n.slice(c.length)}}}function N6(e,r){for(var t in e)if(e.hasOwnProperty(t)&&r(e[t]))return t}function V6(e,r){for(var t=0;t<e.length;t++)if(r(e[t]))return t}var $6=/^(\d+)(th|st|nd|rd)?/i,H6=/\d+/i,G6={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},j6={any:[/^b/i,/^(a|c)/i]},q6={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},W6={any:[/1/i,/2/i,/3/i,/4/i]},Y6={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},X6={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Z6={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},K6={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Q6={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},J6={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},eS={ordinalNumber:F6({matchPattern:$6,parsePattern:H6,valueCallback:function(e){return parseInt(e,10)}}),era:jn({matchPatterns:G6,defaultMatchWidth:"wide",parsePatterns:j6,defaultParseWidth:"any"}),quarter:jn({matchPatterns:q6,defaultMatchWidth:"wide",parsePatterns:W6,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:jn({matchPatterns:Y6,defaultMatchWidth:"wide",parsePatterns:X6,defaultParseWidth:"any"}),day:jn({matchPatterns:Z6,defaultMatchWidth:"wide",parsePatterns:K6,defaultParseWidth:"any"}),dayPeriod:jn({matchPatterns:Q6,defaultMatchWidth:"any",parsePatterns:J6,defaultParseWidth:"any"})},tS=eS,rS={code:"en-US",formatDistance:x6,formatLong:T6,formatRelative:A6,localize:R6,match:tS,options:{weekStartsOn:0,firstWeekContainsDate:1}},nS=rS;function oS(e,r){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var t=ze(r);return Mi(e,-t)}function we(e,r){for(var t=e<0?"-":"",n=Math.abs(e).toString();n.length<r;)n="0"+n;return t+n}var aS={y:function(e,r){var t=e.getUTCFullYear(),n=t>0?t:1-t;return we(r==="yy"?n%100:n,r.length)},M:function(e,r){var t=e.getUTCMonth();return r==="M"?String(t+1):we(t+1,2)},d:function(e,r){return we(e.getUTCDate(),r.length)},a:function(e,r){var t=e.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":case"aaa":return t.toUpperCase();case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h:function(e,r){return we(e.getUTCHours()%12||12,r.length)},H:function(e,r){return we(e.getUTCHours(),r.length)},m:function(e,r){return we(e.getUTCMinutes(),r.length)},s:function(e,r){return we(e.getUTCSeconds(),r.length)},S:function(e,r){var t=r.length,n=e.getUTCMilliseconds(),o=Math.floor(n*Math.pow(10,t-3));return we(o,r.length)}},lr=aS,iS=864e5;function sS(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var r=ke(e),t=r.getTime();r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0);var n=r.getTime(),o=t-n;return Math.floor(o/iS)+1}function Ha(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var r=1,t=ke(e),n=t.getUTCDay(),o=(n<r?7:0)+n-r;return t.setUTCDate(t.getUTCDate()-o),t.setUTCHours(0,0,0,0),t}function Ig(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var r=ke(e),t=r.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(t+1,0,4),n.setUTCHours(0,0,0,0);var o=Ha(n),a=new Date(0);a.setUTCFullYear(t,0,4),a.setUTCHours(0,0,0,0);var i=Ha(a);return r.getTime()>=o.getTime()?t+1:r.getTime()>=i.getTime()?t:t-1}function cS(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var r=Ig(e),t=new Date(0);t.setUTCFullYear(r,0,4),t.setUTCHours(0,0,0,0);var n=Ha(t);return n}var dS=6048e5;function lS(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var r=ke(e),t=Ha(r).getTime()-cS(r).getTime();return Math.round(t/dS)+1}function Ga(e,r){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var t=r||{},n=t.locale,o=n&&n.options&&n.options.weekStartsOn,a=o==null?0:ze(o),i=t.weekStartsOn==null?a:ze(t.weekStartsOn);if(!(i>=0&&i<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var s=ke(e),c=s.getUTCDay(),d=(c<i?7:0)+c-i;return s.setUTCDate(s.getUTCDate()-d),s.setUTCHours(0,0,0,0),s}function zg(e,r){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var t=ke(e,r),n=t.getUTCFullYear(),o=r||{},a=o.locale,i=a&&a.options&&a.options.firstWeekContainsDate,s=i==null?1:ze(i),c=o.firstWeekContainsDate==null?s:ze(o.firstWeekContainsDate);if(!(c>=1&&c<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var d=new Date(0);d.setUTCFullYear(n+1,0,c),d.setUTCHours(0,0,0,0);var l=Ga(d,r),f=new Date(0);f.setUTCFullYear(n,0,c),f.setUTCHours(0,0,0,0);var u=Ga(f,r);return t.getTime()>=l.getTime()?n+1:t.getTime()>=u.getTime()?n:n-1}function fS(e,r){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var t=r||{},n=t.locale,o=n&&n.options&&n.options.firstWeekContainsDate,a=o==null?1:ze(o),i=t.firstWeekContainsDate==null?a:ze(t.firstWeekContainsDate),s=zg(e,r),c=new Date(0);c.setUTCFullYear(s,0,i),c.setUTCHours(0,0,0,0);var d=Ga(c,r);return d}var uS=6048e5;function pS(e,r){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var t=ke(e),n=Ga(t,r).getTime()-fS(t,r).getTime();return Math.round(n/uS)+1}var tn={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},hS={G:function(e,r,t){var n=e.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return t.era(n,{width:"abbreviated"});case"GGGGG":return t.era(n,{width:"narrow"});case"GGGG":default:return t.era(n,{width:"wide"})}},y:function(e,r,t){if(r==="yo"){var n=e.getUTCFullYear(),o=n>0?n:1-n;return t.ordinalNumber(o,{unit:"year"})}return lr.y(e,r)},Y:function(e,r,t,n){var o=zg(e,n),a=o>0?o:1-o;if(r==="YY"){var i=a%100;return we(i,2)}return r==="Yo"?t.ordinalNumber(a,{unit:"year"}):we(a,r.length)},R:function(e,r){var t=Ig(e);return we(t,r.length)},u:function(e,r){var t=e.getUTCFullYear();return we(t,r.length)},Q:function(e,r,t){var n=Math.ceil((e.getUTCMonth()+1)/3);switch(r){case"Q":return String(n);case"QQ":return we(n,2);case"Qo":return t.ordinalNumber(n,{unit:"quarter"});case"QQQ":return t.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,r,t){var n=Math.ceil((e.getUTCMonth()+1)/3);switch(r){case"q":return String(n);case"qq":return we(n,2);case"qo":return t.ordinalNumber(n,{unit:"quarter"});case"qqq":return t.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,r,t){var n=e.getUTCMonth();switch(r){case"M":case"MM":return lr.M(e,r);case"Mo":return t.ordinalNumber(n+1,{unit:"month"});case"MMM":return t.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(n,{width:"wide",context:"formatting"})}},L:function(e,r,t){var n=e.getUTCMonth();switch(r){case"L":return String(n+1);case"LL":return we(n+1,2);case"Lo":return t.ordinalNumber(n+1,{unit:"month"});case"LLL":return t.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(n,{width:"wide",context:"standalone"})}},w:function(e,r,t,n){var o=pS(e,n);return r==="wo"?t.ordinalNumber(o,{unit:"week"}):we(o,r.length)},I:function(e,r,t){var n=lS(e);return r==="Io"?t.ordinalNumber(n,{unit:"week"}):we(n,r.length)},d:function(e,r,t){return r==="do"?t.ordinalNumber(e.getUTCDate(),{unit:"date"}):lr.d(e,r)},D:function(e,r,t){var n=sS(e);return r==="Do"?t.ordinalNumber(n,{unit:"dayOfYear"}):we(n,r.length)},E:function(e,r,t){var n=e.getUTCDay();switch(r){case"E":case"EE":case"EEE":return t.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(n,{width:"short",context:"formatting"});case"EEEE":default:return t.day(n,{width:"wide",context:"formatting"})}},e:function(e,r,t,n){var o=e.getUTCDay(),a=(o-n.weekStartsOn+8)%7||7;switch(r){case"e":return String(a);case"ee":return we(a,2);case"eo":return t.ordinalNumber(a,{unit:"day"});case"eee":return t.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(o,{width:"short",context:"formatting"});case"eeee":default:return t.day(o,{width:"wide",context:"formatting"})}},c:function(e,r,t,n){var o=e.getUTCDay(),a=(o-n.weekStartsOn+8)%7||7;switch(r){case"c":return String(a);case"cc":return we(a,r.length);case"co":return t.ordinalNumber(a,{unit:"day"});case"ccc":return t.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(o,{width:"narrow",context:"standalone"});case"cccccc":return t.day(o,{width:"short",context:"standalone"});case"cccc":default:return t.day(o,{width:"wide",context:"standalone"})}},i:function(e,r,t){var n=e.getUTCDay(),o=n===0?7:n;switch(r){case"i":return String(o);case"ii":return we(o,r.length);case"io":return t.ordinalNumber(o,{unit:"day"});case"iii":return t.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(n,{width:"short",context:"formatting"});case"iiii":default:return t.day(n,{width:"wide",context:"formatting"})}},a:function(e,r,t){var n=e.getUTCHours(),o=n/12>=1?"pm":"am";switch(r){case"a":case"aa":case"aaa":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaaaa":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,r,t){var n=e.getUTCHours(),o;switch(n===12?o=tn.noon:n===0?o=tn.midnight:o=n/12>=1?"pm":"am",r){case"b":case"bb":case"bbb":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbbbb":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,r,t){var n=e.getUTCHours(),o;switch(n>=17?o=tn.evening:n>=12?o=tn.afternoon:n>=4?o=tn.morning:o=tn.night,r){case"B":case"BB":case"BBB":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,r,t){if(r==="ho"){var n=e.getUTCHours()%12;return n===0&&(n=12),t.ordinalNumber(n,{unit:"hour"})}return lr.h(e,r)},H:function(e,r,t){return r==="Ho"?t.ordinalNumber(e.getUTCHours(),{unit:"hour"}):lr.H(e,r)},K:function(e,r,t){var n=e.getUTCHours()%12;return r==="Ko"?t.ordinalNumber(n,{unit:"hour"}):we(n,r.length)},k:function(e,r,t){var n=e.getUTCHours();return n===0&&(n=24),r==="ko"?t.ordinalNumber(n,{unit:"hour"}):we(n,r.length)},m:function(e,r,t){return r==="mo"?t.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):lr.m(e,r)},s:function(e,r,t){return r==="so"?t.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):lr.s(e,r)},S:function(e,r){return lr.S(e,r)},X:function(e,r,t,n){var o=n._originalDate||e,a=o.getTimezoneOffset();if(a===0)return"Z";switch(r){case"X":return Gf(a);case"XXXX":case"XX":return Er(a);case"XXXXX":case"XXX":default:return Er(a,":")}},x:function(e,r,t,n){var o=n._originalDate||e,a=o.getTimezoneOffset();switch(r){case"x":return Gf(a);case"xxxx":case"xx":return Er(a);case"xxxxx":case"xxx":default:return Er(a,":")}},O:function(e,r,t,n){var o=n._originalDate||e,a=o.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+Hf(a,":");case"OOOO":default:return"GMT"+Er(a,":")}},z:function(e,r,t,n){var o=n._originalDate||e,a=o.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+Hf(a,":");case"zzzz":default:return"GMT"+Er(a,":")}},t:function(e,r,t,n){var o=n._originalDate||e,a=Math.floor(o.getTime()/1e3);return we(a,r.length)},T:function(e,r,t,n){var o=n._originalDate||e,a=o.getTime();return we(a,r.length)}};function Hf(e,r){var t=e>0?"-":"+",n=Math.abs(e),o=Math.floor(n/60),a=n%60;if(a===0)return t+String(o);var i=r||"";return t+String(o)+i+we(a,2)}function Gf(e,r){if(e%60===0){var t=e>0?"-":"+";return t+we(Math.abs(e)/60,2)}return Er(e,r)}function Er(e,r){var t=r||"",n=e>0?"-":"+",o=Math.abs(e),a=we(Math.floor(o/60),2),i=we(o%60,2);return n+a+t+i}var gS=hS;function jf(e,r){switch(e){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}}function Lg(e,r){switch(e){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}}function mS(e,r){var t=e.match(/(P+)(p+)?/),n=t[1],o=t[2];if(!o)return jf(e,r);var a;switch(n){case"P":a=r.dateTime({width:"short"});break;case"PP":a=r.dateTime({width:"medium"});break;case"PPP":a=r.dateTime({width:"long"});break;case"PPPP":default:a=r.dateTime({width:"full"});break}return a.replace("{{date}}",jf(n,r)).replace("{{time}}",Lg(o,r))}var vS={p:Lg,P:mS},bS=vS,yS=["D","DD"],wS=["YY","YYYY"];function _S(e){return yS.indexOf(e)!==-1}function xS(e){return wS.indexOf(e)!==-1}function qf(e){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` for formatting years; see: https://git.io/fxCyr");if(e==="YY")throw new RangeError("Use `yy` instead of `YY` for formatting years; see: https://git.io/fxCyr");if(e==="D")throw new RangeError("Use `d` instead of `D` for formatting days of the month; see: https://git.io/fxCyr");if(e==="DD")throw new RangeError("Use `dd` instead of `DD` for formatting days of the month; see: https://git.io/fxCyr")}var kS=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,SS=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,MS=/^'([^]*?)'?$/,ES=/''/g,TS=/[a-zA-Z]/;function xo(e,r,t){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=String(r),o=t||{},a=o.locale||nS,i=a.options&&a.options.firstWeekContainsDate,s=i==null?1:ze(i),c=o.firstWeekContainsDate==null?s:ze(o.firstWeekContainsDate);if(!(c>=1&&c<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var d=a.options&&a.options.weekStartsOn,l=d==null?0:ze(d),f=o.weekStartsOn==null?l:ze(o.weekStartsOn);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!a.localize)throw new RangeError("locale must contain localize property");if(!a.formatLong)throw new RangeError("locale must contain formatLong property");var u=ke(e);if(!p6(u))throw new RangeError("Invalid time value");var h=Tc(u),p=oS(u,h),m={firstWeekContainsDate:c,weekStartsOn:f,locale:a,_originalDate:u},b=n.match(SS).map(function(y){var g=y[0];if(g==="p"||g==="P"){var w=bS[g];return w(y,a.formatLong,m)}return y}).join("").match(kS).map(function(y){if(y==="''")return"'";var g=y[0];if(g==="'")return OS(y);var w=gS[g];if(w)return!o.useAdditionalWeekYearTokens&&xS(y)&&qf(y),!o.useAdditionalDayOfYearTokens&&_S(y)&&qf(y),w(p,y,a.localize,m);if(g.match(TS))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return y}).join("");return b}function OS(e){return e.match(MS)[1].replace(ES,"'")}function AS(e,r){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var t=ze(r);return Ug(e,-t)}function PS(e,r){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var t=ze(r);return Cg(e,-t)}function Wf(e,r){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var t=ze(r);return Oc(e,-t)}function US(e,r){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var t=ze(r);return Gd(e,-t)}function Yf(e,r){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var t=ze(r);return Ac(e,-t)}function CS(e,r){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var t=ze(r);return Bg(e,-t)}var BS=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),IS=globalThis&&globalThis.__rest||function(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)r.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(t[n[o]]=e[n[o]]);return t},zS=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;for(var n=Array(e),o=0,r=0;r<t;r++)for(var a=arguments[r],i=0,s=a.length;i<s;i++,o++)n[o]=a[i];return n},LS=function(e){BS(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.scaleTypes={top:null,right:null,bottom:null,left:null},t.scales={top:null,right:null,bottom:null,left:null},t}return r.prototype.getDomainAxisPosition=function(t){var n=(t===void 0?{}:t).datum,o=n===void 0?null:n,a;if(this.dualAxes&&o){var i=this.model.getOptions(),s=i.data.groupMapsTo,c=v.getProperty(i,"axes",this.secondaryDomainAxisPosition),d=o[s];if(((a=c)===null||a===void 0?void 0:a.correspondingDatasets)&&c.correspondingDatasets.includes(d))return this.secondaryDomainAxisPosition}return this.domainAxisPosition},r.prototype.getRangeAxisPosition=function(t){var n=t===void 0?{}:t,o=n.datum,a=o===void 0?null:o,i=n.groups,s=i===void 0?null:i,c;if(this.dualAxes){var d=this.model.getOptions(),l=d.data.groupMapsTo,f=v.getProperty(d,"axes",this.secondaryRangeAxisPosition),u=void 0;if(a!==null?u=a[l]:s&&s.length>0&&(u=s[0]),((c=f)===null||c===void 0?void 0:c.correspondingDatasets)&&f.correspondingDatasets.includes(u))return this.secondaryRangeAxisPosition}return this.rangeAxisPosition},r.prototype.getAxisOptions=function(t){return v.getProperty(this.model.getOptions(),"axes",t)},r.prototype.getDomainAxisOptions=function(){var t=this.getDomainAxisPosition();return this.getAxisOptions(t)},r.prototype.getRangeAxisOptions=function(){var t=this.getRangeAxisPosition();return this.getAxisOptions(t)},r.prototype.getScaleLabel=function(t){var n=this.getAxisOptions(t),o=n.title;return o||(t===W.BOTTOM||t===W.TOP?"x-value":"y-value")},r.prototype.getDomainLabel=function(){return this.getScaleLabel(this.getDomainAxisPosition())},r.prototype.getRangeLabel=function(){return this.getScaleLabel(this.getRangeAxisPosition())},r.prototype.update=function(t){var n=this;this.determineAxisDuality(),this.findDomainAndRangeAxes(),this.determineOrientation();var o=Object.keys(W).map(function(a){return W[a]});o.forEach(function(a){n.scales[a]=n.createScale(a)})},r.prototype.findDomainAndRangeAxes=function(){var t=this.findVerticalAxesPositions(),n=this.findHorizontalAxesPositions(),o=this.findDomainAndRangeAxesPositions(t,n);this.domainAxisPosition=o.primaryDomainAxisPosition,this.rangeAxisPosition=o.primaryRangeAxisPosition,this.isDualAxes()&&(this.secondaryDomainAxisPosition=o.secondaryDomainAxisPosition,this.secondaryRangeAxisPosition=o.secondaryRangeAxisPosition)},r.prototype.determineOrientation=function(){(this.rangeAxisPosition===W.LEFT||this.rangeAxisPosition===W.RIGHT)&&(this.domainAxisPosition===W.BOTTOM||this.domainAxisPosition===W.TOP)?this.orientation=He.VERTICAL:this.orientation=He.HORIZONTAL},r.prototype.isDualAxes=function(){return this.dualAxes},r.prototype.determineAxisDuality=function(){var t,n,o,a,i=this.model.getOptions(),s=v.getProperty(i,"axes");(((t=s[W.LEFT])===null||t===void 0?void 0:t.correspondingDatasets)&&s[W.RIGHT]||((n=s[W.RIGHT])===null||n===void 0?void 0:n.correspondingDatasets)&&s[W.LEFT]||((o=s[W.TOP])===null||o===void 0?void 0:o.correspondingDatasets)&&s[W.BOTTOM]||((a=s[W.BOTTOM])===null||a===void 0?void 0:a.correspondingDatasets)&&s[W.TOP])&&(this.dualAxes=!0)},r.prototype.getCustomDomainValuesByposition=function(t){var n=v.getProperty(this.model.getOptions(),"axes",t,"domain");if(n&&!Array.isArray(n))throw new Error("Domain in "+t+" axis is not a valid array");if(Array.isArray(n)&&(this.scaleTypes[t]===ne.LINEAR||this.scaleTypes[t]===ne.TIME)&&n.length!==2)throw new Error("There can only be 2 elements in domain for scale type: "+this.scaleTypes[t]);return n},r.prototype.getOrientation=function(){return this.orientation},r.prototype.getScaleByPosition=function(t){return this.scales[t]},r.prototype.getScaleTypeByPosition=function(t){return this.scaleTypes[t]},r.prototype.getDomainAxisScaleType=function(){var t=this.getDomainAxisPosition();return this.getScaleTypeByPosition(t)},r.prototype.getRangeAxisScaleType=function(){var t=this.getRangeAxisPosition();return this.getScaleTypeByPosition(t)},r.prototype.getDomainScale=function(){return this.scales[this.domainAxisPosition]},r.prototype.getRangeScale=function(){return this.scales[this.rangeAxisPosition]},r.prototype.getMainXAxisPosition=function(){var t=[W.BOTTOM,W.TOP];return[this.domainAxisPosition,this.rangeAxisPosition].find(function(n){return t.indexOf(n)>-1})},r.prototype.getMainYAxisPosition=function(){var t=[W.LEFT,W.RIGHT];return[this.domainAxisPosition,this.rangeAxisPosition].find(function(n){return t.indexOf(n)>-1})},r.prototype.getMainXScale=function(){return this.scales[this.getMainXAxisPosition()]},r.prototype.getMainYScale=function(){return this.scales[this.getMainYAxisPosition()]},r.prototype.getValueFromScale=function(t,n,o,a,i){var s=this.model.getOptions(),c=v.getProperty(s,"axes"),d=c[o],l=d.mapsTo,f=v.getProperty(a,l)!==null?a[l]:a,u;switch(n){case ne.LABELS:u=t(f)+t.step()/2;break;case ne.TIME:u=t(new Date(f));break;default:u=t(f)}return u},r.prototype.getBoundedScaledValues=function(t,n){var o=this.model.getOptions().bounds,a=this.getRangeAxisPosition({datum:t}),i=this.scales[a],s=this.model.getOptions(),c=v.getProperty(s,"axes"),d=c[a],l=d.mapsTo,f=t[l]!==void 0?t[l]:t,u=[i(v.getProperty(t,o.upperBoundMapsTo)!==null?t[o.upperBoundMapsTo]:f),i(v.getProperty(t,o.lowerBoundMapsTo)!==null?t[o.lowerBoundMapsTo]:f)];return u},r.prototype.getValueThroughAxisPosition=function(t,n,o){var a=this.scaleTypes[t],i=this.scales[t];return this.getValueFromScale(i,a,t,n,o)},r.prototype.getDomainValue=function(t,n){var o=this.getDomainAxisPosition({datum:t});return this.getValueThroughAxisPosition(o,t,n)},r.prototype.getRangeValue=function(t,n){var o=this.getRangeAxisPosition({datum:t});return this.getValueThroughAxisPosition(o,t,n)},r.prototype.getMainXScaleType=function(){return this.getScaleTypeByPosition(this.getMainXAxisPosition())},r.prototype.getMainYScaleType=function(){return this.getScaleTypeByPosition(this.getMainYAxisPosition())},r.prototype.getDomainIdentifier=function(t){var n=this.model.getOptions();return v.getProperty(n,"axes",this.getDomainAxisPosition({datum:t}),"mapsTo")},r.prototype.getRangeIdentifier=function(t){var n=this.model.getOptions();return v.getProperty(n,"axes",this.getRangeAxisPosition({datum:t}),"mapsTo")},r.prototype.extendsDomain=function(t,n){var o=this.model.getOptions(),a=v.getProperty(o,"axes",t);if(a.scaleType===ne.TIME){var i=v.getProperty(o,"timeScale","addSpaceOnEdges");return DS(n,i)}else return RS(n,Qt.paddingRatio,a.scaleType)},r.prototype.findVerticalAxesPositions=function(){var t=this.model.getOptions(),n=v.getProperty(t,"axes"),o=this.isDualAxes();return v.getProperty(n,W.LEFT)===null&&v.getProperty(n,W.RIGHT)!==null||v.getProperty(n,W.RIGHT,"main")===!0||o&&v.getProperty(n,W.LEFT,"correspondingDatasets")?{primary:W.RIGHT,secondary:W.LEFT}:{primary:W.LEFT,secondary:W.RIGHT}},r.prototype.findHorizontalAxesPositions=function(){var t=this.model.getOptions(),n=v.getProperty(t,"axes"),o=this.isDualAxes();return v.getProperty(n,W.BOTTOM)===null&&v.getProperty(n,W.TOP)!==null||v.getProperty(n,W.TOP,"main")===!0||o&&v.getProperty(n,W.BOTTOM,"correspondingDatasets")?{primary:W.TOP,secondary:W.BOTTOM}:{primary:W.BOTTOM,secondary:W.TOP}},r.prototype.findDomainAndRangeAxesPositions=function(t,n){var o=this.model.getOptions(),a=v.getProperty(o,"axes",t.primary),i=v.getProperty(o,"axes",n.primary),s=a.scaleType||ne.LINEAR,c=i.scaleType||ne.LINEAR,d={primaryDomainAxisPosition:null,secondaryDomainAxisPosition:null,primaryRangeAxisPosition:null,secondaryRangeAxisPosition:null};return d.primaryDomainAxisPosition=n.primary,d.primaryRangeAxisPosition=t.primary,d.secondaryDomainAxisPosition=n.secondary,d.secondaryRangeAxisPosition=t.secondary,(!(c===ne.LABELS||c===ne.TIME)&&s===ne.LABELS||s===ne.TIME)&&(d.primaryDomainAxisPosition=t.primary,d.primaryRangeAxisPosition=n.primary,d.secondaryDomainAxisPosition=t.secondary,d.secondaryRangeAxisPosition=n.secondary),d},r.prototype.getScaleDomain=function(t){var n=this.model.getOptions(),o=v.getProperty(n,"axes",t),a=v.getProperty(n,"bounds"),i=o.includeZero,s=v.getProperty(o,"scaleType")||ne.LINEAR;if(this.model.isDataEmpty())return[];if(o.binned){var c=this.model.getBinConfigurations().bins;return[0,Rr(c,function(T){return T.length})]}else if(o.limitDomainToBins){var c=this.model.getBinConfigurations().bins,d=this.model.getStackKeys({bins:c});return[d[0].split("-")[0],d[d.length-1].split("-")[1]]}var l=this.model.getDisplayData(),f=o.extendLinearDomainBy,u=o.mapsTo,h=o.percentage,p=o.thresholds,m=Qt.ratio,b=m.reference,y=m.compareTo;if(o.domain)return s===ne.LABELS?o.domain:(s===ne.TIME&&(o.domain=o.domain.map(function(T){return T.getTime===void 0?new Date(T):T})),this.extendsDomain(t,o.domain));if(h)return[0,100];if(o&&s===ne.LABELS)return v.removeArrayDuplicates(l.map(function(T){return T[u]}));var g,w,k=this.model.getDataGroupNames();if(s===ne.LABELS_RATIO)return l.map(function(T){return T[b]+"/"+T[y]});if(s===ne.TIME)w=l.map(function(T){return+new Date(T[u])});else if(a&&n.axes)w=[],l.forEach(function(T){w.push(T[u]),T[a.upperBoundMapsTo]&&w.push(T[a.upperBoundMapsTo]),T[a.lowerBoundMapsTo]&&w.push(T[a.lowerBoundMapsTo])});else if(o.stacked===!0&&k&&t===this.getRangeAxisPosition()){var _=n.data.groupMapsTo,x=this.model.getDataValuesGroupedByKeys({groups:k}),O=l.filter(function(T){return!k.includes(T[_])}),M=[];x.forEach(function(T){T.sharedStackKey;var A=IS(T,["sharedStackKey"]),S=0,P=0;Object.values(A).forEach(function(I){isNaN(I)||(I<0?P+=I:S+=I)}),M.push([P,S])}),w=zS(v.flatten(M),O.map(function(T){return T[u]}))}else w=[],l.forEach(function(T){var A=T[u];Array.isArray(A)&&A.length===2?(w.push(A[0]),w.push(A[1])):(f&&w.push(Math.max(T[u],T[f])),w.push(A))});return s!==ne.TIME&&s!==ne.LOG&&i&&w.push(0),p&&p.length>0&&p.forEach(function(T){var A=v.getProperty(T,"value");A!==null&&w.push(A)}),g=Rt(w),g=this.extendsDomain(t,g),g},r.prototype.createScale=function(t){var n=this.model.getOptions(),o=v.getProperty(n,"axes",t);if(!o)return null;var a=v.getProperty(o,"scaleType")||ne.LINEAR;this.scaleTypes[t]=a;var i;return a===ne.TIME?i=fg():a===ne.LOG?i=Gh().base(o.base||10):a===ne.LABELS||a===ne.LABELS_RATIO?i=Io():i=Ht(),i.domain(this.getScaleDomain(t)),i},r.prototype.getHighestDomainThreshold=function(){var t=v.getProperty(this.model.getOptions(),"axes"),n=this.getDomainAxisPosition(),o=t[n].thresholds;if(!Array.isArray(o)||Array.isArray(o)&&!o.length)return null;var a=this.getDomainScale(),i=o.sort(function(c,d){return d.value-c.value})[0],s=this.getScaleTypeByPosition(n);return s===ne.TIME&&(typeof i.value=="string"||i.value.getTime===void 0)&&(i.value=new Date(i.value)),{threshold:i,scaleValue:a(i.value)}},r.prototype.getHighestRangeThreshold=function(){var t=v.getProperty(this.model.getOptions(),"axes"),n=this.getRangeAxisPosition(),o=t[n].thresholds;if(!Array.isArray(o)||Array.isArray(o)&&!o.length)return null;var a=this.getRangeScale(),i=o.sort(function(s,c){return c.value-s.value})[0];return{threshold:i,scaleValue:a(i.value)}},r}(sr);function DS(e,r){var t=new Date(e[0]),n=new Date(e[1]);return _6(n,t)>1?[CS(t,r),Bg(n,r)]:w6(n,t)>1?[US(t,r),Gd(n,r)]:m6(n,t)>1?[AS(t,r),Ug(n,r)]:b6(n,t)>1?[PS(t,r),Cg(n,r)]:Vf(n,t)>30?[Wf(t,r*30),Oc(n,r*30)]:Vf(n,t)>1?[Wf(t,r),Oc(n,r)]:$f(n,t)>15?[Yf(t,r*15),Ac(n,r*15)]:$f(n,t)>1?[Yf(t,r),Ac(n,r)]:[t,n]}function RS(e,r,t){var n=e[0],o=e[1],a=o-n,i=a*r,s=o<=0&&o+i>0?0:o+i,c=n>=0&&n-i<0?0:n-i;if(t===ne.LOG&&c<=0){if(n<=0)throw Error("Data must have values greater than 0 if log scale type is used.");c=n}return[c,s]}var FS=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),NS=function(e){FS(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.curveTypes={curveLinear:wi,curveLinearClosed:xg,curveBasis:w4,curveBasisClosed:_4,curveBasisOpen:x4,curveBundle:k4,curveCardinal:S4,curveCardinalClosed:M4,curveCardinalOpen:E4,curveCatmullRom:T4,curveCatmullRomClosed:O4,curveCatmullRomOpen:A4,curveMonotoneX:P4,curveMonotoneY:U4,curveNatural:C4,curveStep:B4,curveStepAfter:z4,curveStepBefore:I4},t}return r.prototype.getD3Curve=function(){var t="curveLinear",n=this.model.getOptions().curve;if(n&&(typeof n=="string"?t=n:t=n.name),this.curveTypes[t]){var o=this.curveTypes[t];return n&&Object.keys(n).forEach(function(a){o[a]&&(o=o[a](n[a]))}),o}return console.warn("The curve type '"+t+"' is invalid, using 'curveLinear' instead"),this.curveTypes.curveLinear},r}(sr),VS=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),$S=function(e){VS(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.isZoomBarEnabled=function(){if(!this.services.cartesianScales||!v.getProperty(this.model.getOptions(),"zoomBar","top","enabled"))return!1;this.services.cartesianScales.findDomainAndRangeAxes();var t=this.services.cartesianScales.getMainXAxisPosition(),n=v.getProperty(this.model.getOptions(),"axes",t,"scaleType");return t===W.BOTTOM&&n===ne.TIME},r.prototype.getZoomBarData=function(){var t=this.model.getZoomBarData();return t&&t.length>1?t:this.model.getDisplayData()},r.prototype.getDefaultZoomBarDomain=function(t){var n=t||this.services.zoom.getZoomBarData(),o=this.services.cartesianScales,a=o.getMainXAxisPosition(),i=o.getDomainIdentifier(),s=v.getProperty(this.model.getOptions(),"axes",a,"domain");return Array.isArray(s)&&s.length===2?s:o.extendsDomain(a,Rt(n,function(c){return c[i]}))},r.prototype.handleDomainChange=function(t,n){n===void 0&&(n={dispatchEvent:!0}),this.model.set({zoomDomain:t},{animate:!1}),n.dispatchEvent&&this.services.events.dispatchEvent(E.ZoomDomain.CHANGE,{newDomain:t})},r.prototype.getZoomRatio=function(){return v.getProperty(this.model.getOptions(),"zoomBar","zoomRatio")},r.prototype.filterDataForRangeAxis=function(t,n){var o=this.model.get("zoomDomain"),a=Object.assign({stacked:!1},n),i=v.getProperty(this.model.getOptions(),"zoomBar","updateRangeAxis");if(this.isZoomBarEnabled()&&i&&o){var s=a.stacked?"sharedStackKey":this.services.cartesianScales.getDomainIdentifier(),c=t.filter(function(d){return new Date(d[s])>=o[0]&&new Date(d[s])<=o[1]});if(c.length>0)return c}return t},r.prototype.zoomIn=function(t){t===void 0&&(t=this.getZoomRatio());var n=this.model.get("zoomDomain"),o=at.handleWidth,a=this.services.cartesianScales.getMainXScale().copy();a.domain(this.getDefaultZoomBarDomain());var i=a(n[0]),s=a(n[1]);if(!(s-i<o+1)){var c=a.range(),d=s-i,l=Math.min((c[1]-c[0])/2*(t/2),d/2),f=i+l,u=s-l;f>=u&&(f=i+d/2-o/2,u=s-d/2+o/2);var h=[a.invert(f),a.invert(u)];(n[0].valueOf()!==h[0].valueOf()||n[1].valueOf()!==h[1].valueOf())&&this.handleDomainChange(h)}},r.prototype.zoomOut=function(t){t===void 0&&(t=this.getZoomRatio());var n=this.model.get("zoomDomain"),o=this.services.cartesianScales.getMainXScale().copy();o.domain(this.getDefaultZoomBarDomain());var a=o(n[0]),i=o(n[1]),s=o.range(),c=(s[1]-s[0])/2*(t/2),d=Math.max(a-c,s[0]),l=Math.min(i+c,s[1]),f=[o.invert(d),o.invert(l)];(n[0].valueOf()!==f[0].valueOf()||n[1].valueOf()!==f[1].valueOf())&&this.handleDomainChange(f)},r.prototype.resetZoomDomain=function(){var t=this.model.get("zoomDomain"),n=this.getDefaultZoomBarDomain();(t[0].valueOf()!==n[0].valueOf()||t[1].valueOf()!==n[1].valueOf())&&this.handleDomainChange(n)},r.prototype.isMinZoomDomain=function(){var t=this.model.get("zoomDomain"),n=this.getDefaultZoomBarDomain();if(!t||!n)return!1;var o=t[1].valueOf()-t[0].valueOf(),a=n[1].valueOf()-n[0].valueOf(),i=v.getProperty(this.model.getOptions(),"zoomBar","minZoomRatio");return o/a<i},r.prototype.isMaxZoomDomain=function(){var t=this.model.get("zoomDomain"),n=this.getDefaultZoomBarDomain();return!!(t&&n&&t[0].valueOf()===n[0].valueOf()&&t[1].valueOf()===n[1].valueOf())},r.prototype.isEmptyState=function(){return this.getZoomBarData().length===0},r.prototype.isZoomBarLoading=function(t){return v.getProperty(this.model.getOptions(),"zoomBar",t,"loading")},r.prototype.isZoomBarLocked=function(t){return v.getProperty(this.model.getOptions(),"zoomBar",t,"locked")},r}(sr),HS=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),GS=function(e){HS(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.zoomIn=function(t,n,o){var a,i,s,c=o||vn;t&&(a=t.x,i=t.y,s=2);var d=D.getSVGElementSize(this.services.domUtils.getHolder(),{useClientDimensions:!0}),l=d.width,f=d.height;n.transition().duration(c.duration).ease(c.ease).attr("transform","translate("+l/2+", "+f/2+") scale("+s+") translate("+-a+","+-i+")"),this.services.events.dispatchEvent(E.CanvasZoom.CANVAS_ZOOM_IN,{element:R(t)})},r.prototype.zoomOut=function(t,n){var o=n||vn;t.transition().duration(o.duration).ease(o.ease).attr("transform",""),this.services.events.dispatchEvent(E.CanvasZoom.CANVAS_ZOOM_OUT)},r}(sr),ve=function(){function e(r,t,n){if(this.renderType=oe.HTML,this.configs={},this.model=r,this.services=t,n&&(this.configs=n,this.configs.id)){var o=v.getProperty(this.model.getOptions(),"style","prefix");this.id=o+"--"+this.configs.id}this.parent||this.setParent(R(this.services.domUtils.getMainContainer()))}return e.prototype.init=function(){},e.prototype.render=function(r){console.error("render() method is not implemented")},e.prototype.destroy=function(){},e.prototype.setModel=function(r){this.model=r},e.prototype.setServices=function(r){this.services=r},e.prototype.setParent=function(r){var t=this.parent;if(this.parent=r,!(t&&t.node()===r.node())&&this.type){var n=v.getProperty(this.model.getOptions(),"style","prefix");this.parent.classed(et+"--"+n+"--"+this.type,!0),t&&t.classed(et+"--"+n+"--"+this.type,!1)}},e.prototype.getParent=function(){return this.parent},e.prototype.getComponentContainer=function(r){if(r===void 0&&(r={withinChartClip:!1}),this.type){var t=v.getProperty(this.model.getOptions(),"style","prefix"),n=this.id?"#"+this.id:"",o=D.appendOrSelect(this.parent,(this.renderType===oe.SVG?"svg":"div")+n+"."+et+"--"+t+"--"+this.type);if(r.withinChartClip){var a=this.model.get("chartClipId");if(a){var i=R("#"+a),s=i.select("rect");s.size()!==0&&parseFloat(s.attr("height"))>0&&o.attr("clip-path","url(#"+a+")")}}return o.attr("width","100%").attr("height","100%")}return this.parent},e.prototype.getOptions=function(){if(this.configs.options){var r=v.merge({},this.model.getOptions(),this.configs.options);return r}return this.model.getOptions()},e}(),jS=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),qd=function(e){jS(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="legend",t.renderType=oe.HTML,t}return r.prototype.render=function(){var t=this,n=this.getOptions(),o=v.getProperty(n,"legend"),a=v.getProperty(o,"alignment"),i=v.getProperty(n,"legend","orientation"),s=this.model.getDataGroups(),c=Le.items.status.DISABLED,d=s.some(function(M){return M.status===c}),l=v.getProperty(o,"order"),f=this.getComponentContainer().classed("center-aligned",a===$e.CENTER).classed("right-aligned",a===$e.RIGHT).classed(i,!0).classed("has-deactivated-items",d).attr("role",fe.GROUP).attr("aria-label","Data groups").attr("data-name","legend-items");l&&(s=this.sortDataGroups(s,l));var u=f.selectAll("div.legend-item").data(s,function(M){return M.name}),h=u.enter().append("div").attr("class","legend-item");h.merge(f.selectAll("div.legend-item")).classed("active",function(M,T){return M.status===Le.items.status.ACTIVE});var p=v.getProperty(this.getOptions(),"legend","clickable");f.classed("clickable",p&&s.length>1);var m=Le.checkbox.radius,b=h.append("div").classed("checkbox",!0),y=b.merge(u.select("div.checkbox")).attr("role",fe.CHECKBOX).attr("tabindex",p?0:-1).attr("aria-labelledby",function(M,T){return t.services.domUtils.generateElementIDString("legend-datagroup-"+T+"-title")}).attr("aria-checked",function(M){var T=M.status;return T===Le.items.status.ACTIVE}).attr("width",m*2).attr("height",m*2).attr("class",function(M,T){return t.model.getColorClassName({classNameTypes:[ie.BACKGROUND],dataGroupName:M.name,originalClassName:"checkbox"})}).style("background",function(M){return M.status===Le.items.status.ACTIVE?t.model.getFillColor(M.name)||t.model.getStrokeColor(M.name):null}).classed("active",function(M,T){return M.status===Le.items.status.ACTIVE});b.append("svg").attr("focusable",!1).attr("preserveAspectRatio","xMidYMid meet").attr("xmlns","http://www.w3.org/2000/svg").attr("width","11").attr("height","11").attr("viewBox","0 0 31 28").attr("aria-hidden",!0).style("will-change","transform").append("path").attr("d","M13 21.2l-7.1-7.1-1.4 1.4 7.1 7.1L13 24 27.1 9.9l-1.4-1.5z"),h.append("p").merge(u.select("p"));var g=v.getProperty(n,"legend","additionalItems");if(g&&s.length){var w=this,k=f.selectAll("div.additional-item").data(g);k.exit().remove();var _=k.enter().append("div").merge(k).classed("legend-item",!0).classed("additional",!0).attr("aria-labelledby",function(M,T){return t.services.domUtils.generateElementIDString("legend-datagroup-"+(y.size()+T)+"-title")});_.selectAll("*").remove();var x,O=1;_.append("svg").classed("icon",!0).each(function(M,T){var A=R(this);!x||x!=M.type?(x=M.type,O=1):O++,w.addAdditionalItem(A,M,O)}),_.append("p").merge(_.select("p")),this.truncateLegendText()}u.exit().on("mouseover",null).on("click",null).on("mouseout",null).remove(),p&&h.size()>1&&this.addEventListeners()},r.prototype.sortDataGroups=function(t,n){if(t.sort(function(i,s){return n.indexOf(i.name)-n.indexOf(s.name)}),n.length<t.length){var o=t.length-n.length,a=t.slice(o);return a.concat(t.slice(0,o))}return t},r.prototype.addAdditionalItem=function(t,n,o){var a=Le.area,i=a.width,s=a.height;if(n.type===Ne.RADIUS?t.style("width",s+"px").style("height",s+"px"):t.style("width",i+"px").style("height",s+"px"),n.type===Ne.RADIUS){var c=Le.radius,d=c.iconData,l=c.fill,f=c.stroke,u=t.attr("fill","none").selectAll("circle").data(d).enter();u.append("circle").classed("radius",!0).attr("role",fe.IMG).attr("aria-label","radius").attr("cx",function(k){return k.cx}).attr("cy",function(k){return k.cy}).attr("r",function(k){return k.r}).style("fill",n.fill?n.fill:l).style("stroke",n.stroke?n.stroke:f)}else if(n.type===Ne.LINE){var h=Le.line;t.select("line.line").empty()&&t.append("line").classed("line-"+o,!0).attr("role",fe.IMG).attr("aria-label","line").attr("x1",0).attr("y1",h.yPosition).attr("x2",i).attr("y2",h.yPosition).style("stroke",n.stroke?n.stroke:h.stroke).style("stroke-width",h.strokeWidth)}else if(n.type===Ne.AREA)t.select("rect.area").empty()&&t.append("rect").classed("area-"+o,!0).attr("role",fe.IMG).attr("aria-label","area").attr("width",i).attr("height",s).style("fill",o>3&&!n.fill?Le.area.fill:n.fill).style("stroke",n.stroke);else if(n.type===Ne.SIZE){var p=Le.size,d=p.iconData,l=p.fill,f=p.stroke,m=t.attr("fill","none").attr("role",fe.IMG).attr("aria-label","size").selectAll("rect").data(d).enter();m.append("rect").classed("size",!0).attr("width",function(O){return O.width}).attr("height",function(O){return O.height}).attr("y",function(O){return 0}).style("fill",n.fill?n.fill:l).style("stroke",n.stroke?n.stroke:f).style("stroke-width",1)}else if(n.type===Ne.QUARTILE){var d=Le.quartile.iconData,b=t.selectAll("rect").attr("role",fe.IMG).attr("aria-label","quartile").data(d).enter();b.append("rect").attr("class",function(_,x){return"quartile-"+(x===0?"wrapper":"line")}).attr("x",function(_){return _.x}).attr("y",function(_){return _.y}).attr("width",function(_){return _.width}).attr("height",function(_){return _.height})}else if(n.type===Ne.ZOOM){var y=v.getProperty(Oh,"legend","zoom"),d=y.iconData,g=y.color,w=t.attr("role",fe.IMG).attr("aria-label","zoom").selectAll("g.icon").data(d).enter();w.append("g").attr("x",function(_){return _.x}).attr("y",function(_){return _.y}).attr("width",function(_){return _.width}).attr("height",function(_){return _.height}).append("polygon").attr("points","7.7 4.82 5.78 4.82 5.78 2.89 4.82 2.89 4.82 4.82 2.89 4.82 2.89 5.78 4.82 5.78 4.82 7.7 5.78 7.7 5.78 5.78 7.7 5.78 7.7 4.82").attr("fill",function(_){return n.color?n.color:g}),w.append("path").attr("d","M9.36,8.67A5.22,5.22,0,0,0,10.59,5.3,5.3,5.3,0,1,0,5.3,10.59,5.22,5.22,0,0,0,8.67,9.36L12.32,13l.68-.68Zm-4.06,1A4.34,4.34,0,1,1,9.63,5.3,4.33,4.33,0,0,1,5.3,9.63Z").attr("fill",function(_){return n.color?n.color:g})}},r.prototype.truncateLegendText=function(){var t=this.getComponentContainer(),n=v.getProperty(this.getOptions(),"legend","truncation"),o=v.getProperty(n,"type"),a=v.getProperty(n,"threshold"),i=v.getProperty(n,"numCharacter"),s=t.selectAll("div.legend-item p");s.attr("id",function(c,d){var l=this.parentNode.querySelector("div.checkbox")||this.parentNode;return l.getAttribute("aria-labelledby")}),o!==tr.NONE?s.html(function(c){return c.name.length>a?v.truncateLabel(c.name,o,i):c.name}):s.html(function(c){return c.name})},r.prototype.addEventListeners=function(){var t=this,n=this.getComponentContainer(),o=this.getOptions(),a=v.getProperty(o,"legend"),i=v.getProperty(a,"truncation","threshold");n.selectAll("div.legend-item").on("mouseover",function(s){t.services.events.dispatchEvent(E.Legend.ITEM_HOVER,{hoveredElement:R(this)});var c=R(this);c.select("div.checkbox").classed("hovered",!0);var d=c.datum();d.name.length>i&&t.services.events.dispatchEvent(E.Tooltip.SHOW,{event:s,hoveredElement:c,content:d.name})}).on("mousemove",function(s){t.services.events.dispatchEvent(E.Tooltip.MOVE,{event:s})}).on("click",function(){t.services.events.dispatchEvent(E.Legend.ITEM_CLICK,{clickedElement:R(this)});var s=R(this),c=s.datum();t.model.toggleDataLabel(c.name)}).on("mouseout",function(){var s=R(this);s.select("div.checkbox").classed("hovered",!1),t.services.events.dispatchEvent(E.Tooltip.HIDE),t.services.events.dispatchEvent(E.Legend.ITEM_MOUSEOUT,{hoveredElement:s})}),n.selectAll("div.legend-item div.checkbox").on("keyup",function(s){s.key&&s.key==="Tab"&&t.services.events.dispatchEvent(E.Legend.ITEM_HOVER,{hoveredElement:R(this)})}),n.selectAll("div.legend-item div.checkbox").on("keydown",function(s,c){s.key&&s.key===" "?(s.preventDefault(),t.model.toggleDataLabel(c.name)):s.key&&s.key==="Tab"&&t.services.events.dispatchEvent(E.Legend.ITEM_MOUSEOUT,{hoveredElement:R(this)})}),n.selectAll("g.additional-item").on("mouseover",function(s){var c=R(this),d=c.datum();d.name.length>i&&t.services.events.dispatchEvent(E.Tooltip.SHOW,{event:s,hoveredElement:c,content:d.name})})},r}(ve);function qS(e){return e}var fa=1,ua=2,Pc=3,Zn=4,Xf=1e-6;function WS(e){return"translate("+e+",0)"}function YS(e){return"translate(0,"+e+")"}function XS(e){return r=>+e(r)}function ZS(e,r){return r=Math.max(0,e.bandwidth()-r*2)/2,e.round()&&(r=Math.round(r)),t=>+e(t)+r}function KS(){return!this.__axis}function Ei(e,r){var t=[],n=null,o=null,a=6,i=6,s=3,c=typeof window!="undefined"&&window.devicePixelRatio>1?0:.5,d=e===fa||e===Zn?-1:1,l=e===Zn||e===ua?"x":"y",f=e===fa||e===Pc?WS:YS;function u(h){var p=n==null?r.ticks?r.ticks.apply(r,t):r.domain():n,m=o==null?r.tickFormat?r.tickFormat.apply(r,t):qS:o,b=Math.max(a,0)+s,y=r.range(),g=+y[0]+c,w=+y[y.length-1]+c,k=(r.bandwidth?ZS:XS)(r.copy(),c),_=h.selection?h.selection():h,x=_.selectAll(".domain").data([null]),O=_.selectAll(".tick").data(p,r).order(),M=O.exit(),T=O.enter().append("g").attr("class","tick"),A=O.select("line"),S=O.select("text");x=x.merge(x.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),O=O.merge(T),A=A.merge(T.append("line").attr("stroke","currentColor").attr(l+"2",d*a)),S=S.merge(T.append("text").attr("fill","currentColor").attr(l,d*b).attr("dy",e===fa?"0em":e===Pc?"0.71em":"0.32em")),h!==_&&(x=x.transition(h),O=O.transition(h),A=A.transition(h),S=S.transition(h),M=M.transition(h).attr("opacity",Xf).attr("transform",function(P){return isFinite(P=k(P))?f(P+c):this.getAttribute("transform")}),T.attr("opacity",Xf).attr("transform",function(P){var I=this.parentNode.__axis;return f((I&&isFinite(I=I(P))?I:k(P))+c)})),M.remove(),x.attr("d",e===Zn||e===ua?i?"M"+d*i+","+g+"H"+c+"V"+w+"H"+d*i:"M"+c+","+g+"V"+w:i?"M"+g+","+d*i+"V"+c+"H"+w+"V"+d*i:"M"+g+","+c+"H"+w),O.attr("opacity",1).attr("transform",function(P){return f(k(P)+c)}),A.attr(l+"2",d*a),S.attr(l,d*b).text(m),_.filter(KS).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===ua?"start":e===Zn?"end":"middle"),_.each(function(){this.__axis=k})}return u.scale=function(h){return arguments.length?(r=h,u):r},u.ticks=function(){return t=Array.from(arguments),u},u.tickArguments=function(h){return arguments.length?(t=h==null?[]:Array.from(h),u):t.slice()},u.tickValues=function(h){return arguments.length?(n=h==null?null:Array.from(h),u):n&&n.slice()},u.tickFormat=function(h){return arguments.length?(o=h,u):o},u.tickSize=function(h){return arguments.length?(a=i=+h,u):a},u.tickSizeInner=function(h){return arguments.length?(a=+h,u):a},u.tickSizeOuter=function(h){return arguments.length?(i=+h,u):i},u.tickPadding=function(h){return arguments.length?(s=+h,u):s},u.offset=function(h){return arguments.length?(c=+h,u):c},u}function QS(e){return Ei(fa,e)}function JS(e){return Ei(ua,e)}function Wd(e){return Ei(Pc,e)}function Dg(e){return Ei(Zn,e)}var e8=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),t8=function(e){e8(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="color-legend",t.renderType=oe.SVG,t.gradient_id="gradient-id-"+Math.floor(Math.random()*99999999999),t.handleAxisCompleteEvent=function(n){var o=t.getComponentContainer(),a=D.getSVGElementSize(o,{useAttrs:!0}).width,i=v.getProperty(t.getOptions(),"data","loading");if(a>Le.color.barWidth&&!i){var s=v.getProperty(t.getOptions(),"heatmap","colorLegend","title"),c=t.services.cartesianScales,d=c.getMainXScale(),l=d.range();if(l[0]>1&&(o.select("g.legend").attr("transform","translate("+l[0]+", 0)"),s)){var f=D.getSVGElementSize(o.select("g.legend-title").select("text"),{useBBox:!0}).width,u=l[0]-f-9;u>1?o.select("g.legend-title").attr("transform","translate("+u+", 0)"):(o.select("g.legend").attr("transform","translate("+l[0]+", 16)"),o.select("g.legend-title").attr("transform","translate("+l[0]+", 0)"))}}else o.select("g.legend-title").attr("transform","translate(0, 0)")},t}return r.prototype.init=function(){var t=this.services.events;t.addEventListener(E.Axis.RENDER_COMPLETE,this.handleAxisCompleteEvent)},r.prototype.render=function(t){var n=this.getOptions(),o=this.getComponentContainer(),a=D.getSVGElementSize(o,{useAttrs:!0}).width,i=v.getProperty(n,"color","gradient","colors"),s=v.getProperty(n,"heatmap","colorLegend","type"),c=v.getProperty(n,"color","pairing","option"),d=v.getProperty(n,"heatmap","colorLegend","title"),l=v.getProperty(this.getOptions(),"data","loading");if(l){o.html("");return}var f=!v.isEmpty(i),u=this.model.getValueDomain(),h=!(a<=Le.color.barWidth),p=h?Le.color.barWidth:a,m=D.appendOrSelect(o,"g.legend"),b=D.appendOrSelect(m,"g.legend-axis");if(d){var y=D.appendOrSelect(o,"g.legend-title"),g=D.appendOrSelect(y,"text");g.text(d).attr("dy","0.7em"),m.attr("transform","translate(0, 16)")}var w=u[0]<0&&u[1]>0?"diverge":"mono";(c<1&&c>4&&w==="mono"||c<1&&c>2&&w==="diverge")&&(c=1);var k=[],_=w==="diverge"?17:11;if(f)k=i;else for(var x=1;x<_+1;x++)k.push(s===io.LINEAR?"stop-color-"+w+"-"+c+"-"+x:"fill-"+w+"-"+c+"-"+x);var O=ht(u[0],u[1]),M=f3(O,3),T=Ht().domain(u).range([0,p]),A=Wd(T).tickSize(0).tickValues(M);switch(s){case io.LINEAR:this.drawLinear(k,m,p);break;case io.QUANTIZE:var S=this.drawQuantize(k,w,f,m,p);T.range([S,p]);break;default:throw Error("Entered color legend type is not supported.")}b.attr("transform","translate(0,"+Le.color.axisYTranslation+")").call(A),b.select(".domain").remove(),b.select("g.tick:last-of-type text").style("text-anchor",h?"middle":"end"),b.select("g.tick:first-of-type text").style("text-anchor",h?"middle":"start")},r.prototype.drawLinear=function(t,n,o){var a=100/(t.length-1),i=D.appendOrSelect(n,"linearGradient");i.attr("id",this.gradient_id+"-legend").selectAll("stop").data(t).enter().append("stop").attr("offset",function(c,d){return d*a+"%"}).attr("class",function(c,d){return t[d]}).attr("stop-color",function(c){return c});var s=D.appendOrSelect(n,"rect");s.attr("width",o).attr("height",Le.color.barHeight).style("fill","url(#"+this.gradient_id+"-legend)")},r.prototype.drawQuantize=function(t,n,o,a,i){!o&&n==="diverge"&&t.splice(t.length/2,1);var s=Io().domain(t).range([0,i]),c=D.appendOrSelect(a,"g.quantized-rect");return c.selectAll("rect").data(s.domain()).join("rect").attr("x",function(d){return s(d)}).attr("y",0).attr("width",Math.max(0,s.bandwidth()-1)).attr("height",Le.color.barHeight).attr("class",function(d){return d}).attr("fill",function(d){return d}),(!o&&n)==="mono"?s.bandwidth()-1:0},r.prototype.destroy=function(){var t=this.services.events;t.removeEventListener(E.Axis.RENDER_COMPLETE,this.handleAxisCompleteEvent)},r}(qd),r8={prefix:"bx",selectorTabbable:`
    a[href], area[href], input:not([disabled]):not([tabindex='-1']),
    button:not([disabled]):not([tabindex='-1']),select:not([disabled]):not([tabindex='-1']),
    textarea:not([disabled]):not([tabindex='-1']),
    iframe, object, embed, *[tabindex]:not([tabindex='-1']), *[contenteditable=true]
  `,selectorFocusable:`
    a[href], area[href], input:not([disabled]),
    button:not([disabled]),select:not([disabled]),
    textarea:not([disabled]),
    iframe, object, embed, *[tabindex], *[contenteditable=true]
  `},Ji=r8;function Zf(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function n8(e,r,t){return r&&Zf(e.prototype,r),t&&Zf(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function o8(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function a8(e){return d8(e)||c8(e)||s8(e)||i8()}function i8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s8(e,r){if(!!e){if(typeof e=="string")return Uc(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Uc(e,r)}}function c8(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function d8(e){if(Array.isArray(e))return Uc(e)}function Uc(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Rg(e){return e.reduce(function(r,t){return Array.isArray(t)?r.push.apply(r,a8(Rg(t))):r.push(t),r},[])}function l8(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return Rg(r).reduce(function(n,o){return o(n)},function(){function n(){o8(this,n)}return n8(n)}())}function Cc(e){return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Cc(e)}function f8(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Kf(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u8(e,r,t){return r&&Kf(e.prototype,r),t&&Kf(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function p8(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&Bc(e,r)}function Bc(e,r){return Bc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Bc(e,r)}function h8(e){var r=m8();return function(){var n=ja(e),o;if(r){var a=ja(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return g8(this,o)}}function g8(e,r){if(r&&(Cc(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fg(e)}function Fg(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m8(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ja(e){return ja=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ja(e)}function v8(e){var r=function(t){p8(o,t);var n=h8(o);function o(a){var i,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(f8(this,o),i=n.call(this,a,s),i.children=[],!a||a.nodeType!==Node.ELEMENT_NODE)throw new TypeError("DOM element should be given to initialize this widget.");return i.element=a,i.options=Object.assign(Object.create(i.constructor.options),s),i.constructor.components.set(i.element,Fg(i)),i}return u8(o,[{key:"release",value:function(){for(var i=this.children.pop();i;i=this.children.pop())i.release();return this.constructor.components.delete(this.element),null}}],[{key:"create",value:function(i,s){return this.components.get(i)||new this(i,s)}}]),o}(e);return r}function Ic(e){return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ic(e)}function b8(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Qf(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y8(e,r,t){return r&&Qf(e.prototype,r),t&&Qf(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function pa(){return typeof Reflect!="undefined"&&Reflect.get?pa=Reflect.get:pa=function(r,t,n){var o=w8(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},pa.apply(this,arguments)}function w8(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=zn(e),e!==null););return e}function _8(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&zc(e,r)}function zc(e,r){return zc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},zc(e,r)}function x8(e){var r=M8();return function(){var n=zn(e),o;if(r){var a=zn(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return k8(this,o)}}function k8(e,r){if(r&&(Ic(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S8(e)}function S8(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M8(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function zn(e){return zn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},zn(e)}function E8(e){var r=function(t){_8(o,t);var n=x8(o);function o(){var a;b8(this,o);for(var i=arguments.length,s=new Array(i),c=0;c<i;c++)s[c]=arguments[c];return a=n.call.apply(n,[this].concat(s)),a.handles=new Set,a}return y8(o,[{key:"manage",value:function(i){return this.handles.add(i),i}},{key:"unmanage",value:function(i){return this.handles.delete(i),i}},{key:"release",value:function(){var i=this;return this.handles.forEach(function(s){s.release(),i.handles.delete(s)}),pa(zn(o.prototype),"release",this).call(this)}}]),o}(e);return r}function Kn(e){for(var r=arguments.length,t=new Array(r>1?r-1:0),n=1;n<r;n++)t[n-1]=arguments[n];return e.addEventListener.apply(e,t),{release:function(){return e.removeEventListener.apply(e,t),null}}}function Lc(e){return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Lc(e)}function T8(e){return U8(e)||P8(e)||A8(e)||O8()}function O8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A8(e,r){if(!!e){if(typeof e=="string")return Dc(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Dc(e,r)}}function P8(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function U8(e){if(Array.isArray(e))return Dc(e)}function Dc(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function C8(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Jf(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function B8(e,r,t){return r&&Jf(e.prototype,r),t&&Jf(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function I8(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&Rc(e,r)}function Rc(e,r){return Rc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Rc(e,r)}function z8(e){var r=R8();return function(){var n=qa(e),o;if(r){var a=qa(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return L8(this,o)}}function L8(e,r){if(r&&(Lc(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D8(e)}function D8(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R8(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function qa(e){return qa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},qa(e)}function F8(e){var r=function(t){I8(o,t);var n=z8(o);function o(){return C8(this,o),n.apply(this,arguments)}return B8(o,[{key:"_changeState",value:function(){throw new Error("_changeState() should be overridden to perform actual change in state.")}},{key:"changeState",value:function(){for(var i=this,s=arguments.length,c=new Array(s),d=0;d<s;d++)c[d]=arguments[d];var l=typeof c[0]=="string"?c.shift():void 0,f=Object(c[0])===c[0]&&typeof c[0]!="function"?c.shift():void 0,u=typeof c[0]=="function"?c.shift():void 0;if(typeof this.shouldStateBeChanged=="function"&&!this.shouldStateBeChanged(l,f)){u&&u(null,!0);return}var h={group:f&&f.group,state:l},p=[h.group,l].filter(Boolean).join("-").split("-").map(function(k){return k[0].toUpperCase()+k.substr(1)}).join(""),m=new CustomEvent(this.options["eventBefore".concat(p)],{bubbles:!0,cancelable:!0,detail:f}),b=f&&f.delegatorNode||this.element,y=!b.dispatchEvent(m);if(y){if(u){var g=new Error("Changing state (".concat(JSON.stringify(h),") has been canceled."));g.canceled=!0,u(g)}}else{var w=[l,f].filter(Boolean);this._changeState.apply(this,T8(w).concat([function(){b.dispatchEvent(new CustomEvent(i.options["eventAfter".concat(p)],{bubbles:!0,cancelable:!0,detail:f})),u&&u()}]))}}}]),o}(e);return r}function Fc(e,r){var t=e.target,n=e.currentTarget;if(typeof t.matches=="function"){if(t.matches(r))return t;if(t.matches("".concat(r," *"))){var o=t.closest(r);if((n.nodeType===Node.DOCUMENT_NODE?n.documentElement:n).contains(o))return o}}}function eu(e){if(!e||typeof e=="function")return{launchingElement:null,launchingEvent:null};var r=e.delegateTarget||e.currentTarget||e,t=e.currentTarget&&e;if(r&&!r.nodeType)throw new TypeError("DOM Node should be given for launching element.");if(t&&!t.type)throw new TypeError("DOM event should be given for launching event.");return{launchingElement:r,launchingEvent:t}}function Nc(e){return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Nc(e)}function N8(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function tu(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function V8(e,r,t){return r&&tu(e.prototype,r),t&&tu(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $8(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&Vc(e,r)}function Vc(e,r){return Vc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Vc(e,r)}function H8(e){var r=q8();return function(){var n=Wa(e),o;if(r){var a=Wa(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return G8(this,o)}}function G8(e,r){if(r&&(Nc(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j8(e)}function j8(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q8(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Wa(e){return Wa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Wa(e)}function W8(e){var r=function(t){$8(o,t);var n=H8(o);function o(){return N8(this,o),n.apply(this,arguments)}return V8(o,[{key:"show",value:function(i,s){(!i||typeof i=="function")&&(s=i),this.changeState("shown",eu(i),s)}},{key:"hide",value:function(i,s){(!i||typeof i=="function")&&(s=i),this.changeState("hidden",eu(i),s)}}]),o}(e);return r}var Y8=[F8,W8],X8=Y8;function $c(e){return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},$c(e)}function Z8(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function ru(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function K8(e,r,t){return r&&ru(e.prototype,r),t&&ru(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Q8(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&Hc(e,r)}function Hc(e,r){return Hc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Hc(e,r)}function J8(e){var r=rM();return function(){var n=Ya(e),o;if(r){var a=Ya(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return eM(this,o)}}function eM(e,r){if(r&&($c(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tM(e)}function tM(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rM(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ya(e){return Ya=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ya(e)}function nM(e){var r=function(t){Q8(o,t);var n=J8(o);function o(){return Z8(this,o),n.apply(this,arguments)}return K8(o,null,[{key:"init",value:function(){var i=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=Object.assign(Object.create(this.options),c);if(!s||s.nodeType!==Node.ELEMENT_NODE&&s.nodeType!==Node.DOCUMENT_NODE)throw new TypeError("DOM document or DOM element should be given to search for and initialize this widget.");if(s.nodeType===Node.ELEMENT_NODE&&s.matches(d.selectorInit))this.create(s,c);else{var l=d.initEventNames.map(function(f){return Kn(s,f,function(u){var h=Fc(u,"[".concat(d.attribInitTarget,"]"));if(h){u.delegateTarget=h;var p=h.ownerDocument.querySelectorAll(h.getAttribute(d.attribInitTarget));if(p.length>1)throw new Error("Target widget must be unique.");if(p.length===1){h.tagName==="A"&&u.preventDefault();var m=i.create(p[0],c);typeof m.createdByLauncher=="function"&&m.createdByLauncher(u)}}})});return{release:function(){for(var u=l.pop();u;u=l.pop())u.release()}}}return""}}]),o.forLazyInit=!0,o}(e);return r}function Gc(e){return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Gc(e)}function oM(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function nu(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function aM(e,r,t){return r&&nu(e.prototype,r),t&&nu(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function iM(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&jc(e,r)}function jc(e,r){return jc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},jc(e,r)}function sM(e){var r=lM();return function(){var n=Xa(e),o;if(r){var a=Xa(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return cM(this,o)}}function cM(e,r){if(r&&(Gc(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dM(e)}function dM(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lM(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Xa(e){return Xa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Xa(e)}var fM=function(e){iM(t,e);var r=sM(t);function t(n,o){var a;return oM(this,t),a=r.call(this,n,o),a._handleFocusinListener=void 0,a._handleKeydownListener=void 0,a._handleFocusin=function(i){var s=a.element.querySelector(a.options.selectorModalContainer)||a.element;a.element.classList.contains(a.options.classVisible)&&!s.contains(i.target)&&a.options.selectorsFloatingMenus.every(function(c){return!Fc(i,c)})&&a.element.querySelector(Ji.selectorTabbable).focus()},a._hookCloseActions(),a}return aM(t,[{key:"createdByLauncher",value:function(o){this.show(o)}},{key:"shouldStateBeChanged",value:function(o){return o==="shown"?!this.element.classList.contains(this.options.classVisible):this.element.classList.contains(this.options.classVisible)}},{key:"_changeState",value:function(o,a,i){var s=this,c,d=function(){if(c&&(c=s.unmanage(c).release()),o==="shown"&&s.element.offsetWidth>0&&s.element.offsetHeight>0){s.previouslyFocusedNode=s.element.ownerDocument.activeElement;var h=s.element.querySelector(s.options.selectorPrimaryFocus)||s.element.querySelector(Ji.selectorTabbable);h.focus()}i()};if(this._handleFocusinListener&&(this._handleFocusinListener=this.unmanage(this._handleFocusinListener).release()),o==="shown"){var l="onfocusin"in this.element.ownerDocument.defaultView,f=l?"focusin":"focus";this._handleFocusinListener=this.manage(Kn(this.element.ownerDocument,f,this._handleFocusin,!l))}o==="hidden"?(this.element.classList.toggle(this.options.classVisible,!1),this.element.ownerDocument.body.classList.toggle(this.options.classBody,!1),(this.options.selectorFocusOnClose||this.previouslyFocusedNode)&&(this.element.ownerDocument.querySelector(this.options.selectorFocusOnClose)||this.previouslyFocusedNode).focus()):o==="shown"&&(this.element.classList.toggle(this.options.classVisible,!0),this.element.ownerDocument.body.classList.toggle(this.options.classBody,!0)),c=this.manage(Kn(this.element,"transitionend",d))}},{key:"_hookCloseActions",value:function(){var o=this;this.manage(Kn(this.element,"click",function(a){var i=Fc(a,o.options.selectorModalClose);i&&(a.delegateTarget=i),(i||a.target===o.element)&&o.hide(a)})),this._handleKeydownListener&&(this._handleKeydownListener=this.unmanage(this._handleKeydownListener).release()),this._handleKeydownListener=this.manage(Kn(this.element.ownerDocument.body,"keydown",function(a){a.which===27&&o.shouldStateBeChanged("hidden")&&(a.stopPropagation(),o.hide(a))}))}}],[{key:"options",get:function(){var o=Ji.prefix;return{selectorInit:"[data-modal]",selectorModalClose:"[data-modal-close]",selectorPrimaryFocus:"[data-modal-primary-focus]",selectorsFloatingMenus:[".".concat(o,"--overflow-menu-options"),".".concat(o,"--tooltip"),".flatpickr-calendar"],selectorModalContainer:".".concat(o,"--modal-container"),classVisible:"is-visible",classBody:"".concat(o,"--body--with-modal-open"),attribInitTarget:"data-modal-target",initEventNames:["click"],eventBeforeShown:"modal-beingshown",eventAfterShown:"modal-shown",eventBeforeHidden:"modal-beinghidden",eventAfterHidden:"modal-hidden"}}}]),t.components=new WeakMap,t}(l8(v8,nM,X8,E8)),uM=fM,pM=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Yd=function(e){pM(r,e);function r(t,n,o){var a=e.call(this,t,n,o)||this;return a.type="modal",a.isEventListenerAdded=!1,a.handleShowModal=function(){a.modal.html(a.getModalHTML()),a.modal.select("div.cds--modal-footer button.cds--btn").on("click",function(){return a.model.exportToCSV()});var i=uM.create(a.modal.node());i.show()},a.init(),a}return r.prototype.addEventListeners=function(){this.services.events.addEventListener(E.Modal.SHOW,this.handleShowModal)},r.prototype.removeEventListeners=function(){this.services.events.removeEventListener(E.Modal.SHOW,this.handleShowModal)},r.prototype.getModalHTML=function(){var t=this.model.getOptions(),n=v.getProperty(t,"style","prefix"),o=this.model.getTabularDataArray();return`
		<div class="cds--modal-container cds--modal-container">
			<div class="cds--modal-header cds--modal-header">
				<p class="cds--modal-header__label cds--type-delta cds--modal-header__label cds--type-delta" id="modal-title">Tabular representation</p>

				<p class="cds--modal-header__heading cds--type-beta cds--modal-header__heading cds--type-beta" id="modal-description">`+t.title+`</p>

				<button class="cds--modal-close cds--modal-close" type="button" data-modal-close aria-label="close modal"  data-modal-primary-focus>
					<svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" fill="currentColor" aria-label="Close" width="20" height="20" viewBox="0 0 32 32" role="img" class="cds--modal-close__icon cds--modal-close__icon">
						<path d="M24 9.4L22.6 8 16 14.6 9.4 8 8 9.4 14.6 16 8 22.6 9.4 24 16 17.4 22.6 24 24 22.6 17.4 16 24 9.4z"></path>
					</svg>
				</button>
			</div>

			<div class="cds--modal-content cds--modal-content">
				<table class="cds--data-table cds--data-table--no-border cds--data-table cds--data-table--no-border">
					<thead>
						<tr>
							`+Te(o,0).map(function(a){return`<th scope="col">
								<div class="cds--table-header-label cds--table-header-label">`+a+`</div>
							</th>`}).join("")+`
						</tr>
					</thead>

					<tbody>`+o.slice(1).map(function(a){return`
							<tr>
								`+a.map(function(i){return"<td>"+i+"</td>"}).join("")+`
							</tr>`}).join("")+`
					</tbody>
				</table>
			</div>

			<div class="cds--modal-footer cds--modal-footer">
			  <div class="`+et+"--"+n+`-modal-footer-spacer"></div>
			  <button class="cds--btn cds--btn--primary cds--btn cds--btn--primary" type="button" data-modal-primary-focus>Download as CSV</button>
			</div>
		</div>`},r.prototype.render=function(){var t=this.model.getOptions();if(!this.isEventListenerAdded){var n=R(this.services.domUtils.getHolder()),o=v.getProperty(t,"style","prefix");this.modal=D.appendOrSelect(n,"div."+et+"--"+o+"--modal"),this.addEventListeners(),this.isEventListenerAdded=!0,this.modal.attr("data-modal",!0).attr("class","cds--modal cds--modal").attr("role","dialog").attr("aria-modal",!0).attr("aria-labelledby","modal-title").attr("aria-describedby","modal-description").attr("tabindex",-1)}},r.prototype.destroy=function(){this.removeEventListeners(),this.isEventListenerAdded=!1},r}(ve),rn,Ye;(function(e){e.LEFT="left",e.RIGHT="right",e.TOP="top",e.BOTTOM="bottom"})(Ye||(Ye={}));var ou=(rn={},rn[Ye.LEFT]=function(e,r,t){return{top:e.top-Math.round(r.offsetHeight/2)+Math.round(t.height/2),left:Math.round(e.left-r.offsetWidth)}},rn[Ye.RIGHT]=function(e,r,t){return{top:e.top-Math.round(r.offsetHeight/2)+Math.round(t.height/2),left:Math.round(e.left+t.width)}},rn[Ye.TOP]=function(e,r,t){return{top:Math.round(e.top-r.offsetHeight),left:e.left-Math.round(r.offsetWidth/2)+Math.round(t.width/2)}},rn[Ye.BOTTOM]=function(e,r,t){return{top:Math.round(e.top+t.height),left:e.left-Math.round(r.offsetWidth/2)+Math.round(t.width/2)}},rn),ra=typeof window!="undefined"?window:{innerHeight:0,scrollY:0,innerWidth:0,scrollX:0},Ti=function(){function e(r){r===void 0&&(r={}),this.positions=ou,this.positions=Object.assign({},ou,r)}return e.prototype.getRelativeOffset=function(r){for(var t={left:r.offsetLeft,top:r.offsetTop};r.offsetParent&&getComputedStyle(r.offsetParent).position==="static";)t.left+=r.offsetLeft,t.top+=r.offsetTop,r=r.offsetParent;return t},e.prototype.getAbsoluteOffset=function(r){for(var t=r,n={top:0,left:0};t.offsetParent;){var o=getComputedStyle(t.offsetParent);o.position==="static"&&o.marginLeft&&o.marginTop&&(parseInt(o.marginTop,10)&&(n.top+=parseInt(o.marginTop,10)),parseInt(o.marginLeft,10)&&(n.left+=parseInt(o.marginLeft,10))),t=t.offsetParent}var a=r.getBoundingClientRect(),i=document.body.getBoundingClientRect();return{top:a.top-i.top+n.top,left:a.left-i.left+n.left}},e.prototype.findRelative=function(r,t,n){var o=this.getRelativeOffset(r),a=r.getBoundingClientRect();return this.calculatePosition(o,a,t,n)},e.prototype.findAbsolute=function(r,t,n){var o=this.getAbsoluteOffset(r),a=r.getBoundingClientRect();return this.calculatePosition(o,a,t,n)},e.prototype.findPosition=function(r,t,n,o){o===void 0&&(o=this.getAbsoluteOffset);var a=o(r),i=r.getBoundingClientRect();return this.calculatePosition(a,i,t,n)},e.prototype.findPositionAt=function(r,t,n){return this.calculatePosition(r,{height:0,width:0},t,n)},e.prototype.getPlacementBox=function(r,t){var n=r.offsetHeight+t.top,o=r.offsetWidth+t.left;return{top:t.top,bottom:n,left:t.left,right:o}},e.prototype.addOffset=function(r,t,n){return t===void 0&&(t=0),n===void 0&&(n=0),Object.assign({},r,{top:r.top+t,left:r.left+n})},e.prototype.setElement=function(r,t){r.style.top=t.top+"px",r.style.left=t.left+"px"},e.prototype.findBestPlacement=function(r,t,n,o,a){var i=this;o===void 0&&(o=this.defaultContainerFunction),a===void 0&&(a=this.findPosition);var s=n.map(function(c){var d=a(r,t,c),l=i.getPlacementBox(t,d),f=l.bottom-o().height,u=l.right-o().width;f=f<0?t.offsetHeight:f,u=u<0?t.offsetWidth:u;var h=t.offsetHeight*t.offsetWidth,p=f*u,m=h-p;m=m===0?h:m;var b=m/h;return{placement:c,weight:b}});return s.sort(function(c,d){return d.weight-c.weight}),s[0].placement},e.prototype.findBestPlacementAt=function(r,t,n,o){var a=this;o===void 0&&(o=this.defaultContainerFunction);var i=function(s,c,d){return a.findPositionAt(r,c,d)};return this.findBestPlacement(null,t,n,o,i)},e.prototype.defaultContainerFunction=function(){return{width:ra.innerHeight-ra.scrollY,height:ra.innerWidth-ra.scrollX}},e.prototype.calculatePosition=function(r,t,n,o){return this.positions[o]?this.positions[o](r,n,t):(console.error("No function found for placement, defaulting to 0,0"),{left:0,top:0})},e}();new Ti;var es=[["15seconds",15*1e3],["minute",60*1e3],["30minutes",30*60*1e3],["hourly",60*60*1e3],["daily",24*60*60*1e3],["monthly",30*24*60*60*1e3],["quarterly",3*30*24*60*60*1e3],["yearly",12*30*24*60*60*1e3]];function Ng(e,r,t,n,o){var a=r===0,i=Number(xo(new Date(e),"c"))===2,s=Number(xo(new Date(e),"q"))===1,c=r!==0?t[r-1]:null;switch(n){case"15seconds":return a||na(e)||qn(e,c)||kr(e);case"minute":return a||na(e)||qn(e,c)||kr(e);case"30minutes":return a||na(e)||qn(e,c)||kr(e);case"hourly":return a||na(e)||qn(e,c)||kr(e);case"daily":return o?a||i||kr(e):a||qn(e,c)||kr(e);case"monthly":return a||kr(e);case"quarterly":return a||s;case"yearly":return!1;default:throw new Error(n+" is not a valid time interval.")}}function qc(e,r,t,n,o){var a=o.showDayName,i=n==="daily"&&a?"weekly":n,s=new Date(e),c=v.getProperty(o,"timeIntervalFormats")[i],d=v.getProperty(c,"primary"),l=v.getProperty(c,"secondary"),f=Ng(e,r,t,n,a)?d:l,u=o.localeObject;return xo(s,f,{locale:u})}function Za(e){var r=new Date(e);return{M:r.getMonth()+1,d:r.getDate(),H:r.getHours(),m:r.getMinutes(),s:r.getSeconds()}}function hM(e){if(!!e)return e.slice(1).map(function(r,t){return r-e[t]})}function gM(e){var r=es.reduce(function(t,n,o){n[0];var a=n[1],i=es[t][1],s=Math.abs(i-e),c=Math.abs(a-e);return s<c?t:o},0);return es[r][0]}function Wc(e){if(e.length===1)return"15seconds";var r=hM(e),t=vr(r);return gM(t)}function na(e){var r=Za(e),t=r.s,n=r.m,o=r.H;return o===0&&n===0&&t===0}function qn(e,r){var t=Za(e).M,n=Za(r).M;return t!==n}function kr(e){var r=Za(e),t=r.M,n=r.d,o=r.s,a=r.m,i=r.H;return t===1&&n===1&&i===0&&a===0&&o===0}var mM=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),vM=function(e){mM(r,e);function r(t,n){var o=e.call(this,t,n)||this;return o.type="threshold",o.renderType=oe.SVG,o.positionService=new Ti,o}return r.prototype.render=function(t){var n=this;t===void 0&&(t=!1);var o=v.getProperty(this.getOptions(),"axes"),a=[];Object.keys(o).forEach(function(p){var m,b;if(Object.values(W).includes(p)){var y=o[p];y.thresholds&&y.thresholds.length>0&&a.push({axisPosition:p,thresholds:y.thresholds,correspondingDatasets:(m=y)===null||m===void 0?void 0:m.correspondingDatasets,mapsTo:(b=y)===null||b===void 0?void 0:b.mapsTo})}});var i=this.getComponentContainer({withinChartClip:!0}),s=i.selectAll("g.axis-thresholds").data(a,function(p){return p.axisPosition});s.exit().attr("opacity",0).remove();var c=s.enter().append("g"),d=c.merge(s);d.attr("class",function(p){return"axis-thresholds "+p.axisPosition});var l=d.selectAll("g.threshold-group").data(function(p){return p.thresholds.map(function(m){return m.axisPosition=p.axisPosition,m.datum=n.constructDatumObj(p,m),m})});l.exit().attr("opacity",0).remove();var f=l.enter().append("g");f.append("line").attr("class","threshold-line"),f.append("rect").attr("class","threshold-hoverable-area");var u=f.merge(l);u.attr("class","threshold-group");var h=this;d.each(function(p){var m=p.axisPosition,b=h.services.cartesianScales.getScaleByPosition(m),y=h.services.cartesianScales.getScaleTypeByPosition(m),g=null,w=null;m===W.LEFT||m===W.RIGHT?(w=b,g=h.services.cartesianScales.getMainXScale()):(g=b,w=h.services.cartesianScales.getMainYScale());var k=y===ne.LABELS,_=g.range(),x=_[0],O=_[1],M=w.range(),T=M[0],A=M[1],S=h.services.cartesianScales,P=S.getOrientation(),I=function(U){return S.getDomainValue(U)},L=function(U){return S.getRangeValue(U)},B=v.flipDomainAndRangeBasedOnOrientation(I,L,P),C=B[0],z=B[1],F=R(this);m===W.TOP||m===W.BOTTOM?(F.selectAll("line.threshold-line").transition().call(function(U){return h.services.transitions.setupTransition({transition:U,name:"threshold-line-update",animate:t})}).attr("y1",A).attr("y2",T).attr("x1",function(U){var N=U.datum;return C(N)+(k?b.step()/2:0)}).attr("x2",function(U){var N=U.datum;return C(N)+(k?b.step()/2:0)}).style("stroke",function(U){var N=U.fillColor;return N}),F.selectAll("rect.threshold-hoverable-area").attr("x",0).attr("y",function(U){var N=U.datum;return-C(N)}).attr("width",Math.abs(T-A)).classed("rotate",!0)):(F.selectAll("line.threshold-line").transition().call(function(U){return h.services.transitions.setupTransition({transition:U,name:"threshold-line-update",animate:t})}).attr("x1",x).attr("x2",O).attr("y1",function(U){var N=U.datum;return z(N)+(k?b.step()/2:0)}).attr("y2",function(U){var N=U.datum;return z(N)+(k?b.step()/2:0)}).style("stroke",function(U){var N=U.fillColor;return N}),F.selectAll("rect.threshold-hoverable-area").attr("x",x).attr("y",function(U){var N=U.datum;return z(N)}).attr("width",Math.abs(O-x)).classed("rotate",!1))}),this.services.events.addEventListener(E.Threshold.SHOW,function(p){n.setThresholdLabelPosition(p.detail),n.label.classed("hidden",!1)}),this.services.events.addEventListener(E.Threshold.HIDE,function(p){n.label.classed("hidden",!0)}),this.appendThresholdLabel(),this.addEventListeners()},r.prototype.getFormattedValue=function(t){var n=t.value,o=t.axisPosition,a=this.getOptions(),i=this.services.cartesianScales.getScaleTypeByPosition(o);if(i===ne.TIME){var s=[W.LEFT,W.RIGHT].includes(o),c=this.services.cartesianScales.getMainXScale(),d=this.services.cartesianScales.getMainYScale(),l=s?d:c,f=v.getProperty(a,"timeScale"),u=Wc(l.ticks());return qc(n,0,l.ticks(),u,f)}return n.toLocaleString("en")},r.prototype.appendThresholdLabel=function(){var t=R(this.services.domUtils.getHolder()),n=v.getProperty(this.getOptions(),"style","prefix");this.label=D.appendOrSelect(t,"div."+et+"--"+n+"--threshold--label").classed("hidden",!0)},r.prototype.setThresholdLabelPosition=function(t){var n=t.event,o=t.datum,a=this.services.domUtils.getHolder(),i=Lr(n,a),s=o.valueFormatter?o.valueFormatter(o.value):this.getFormattedValue(o);this.label.html((o.label||"Threshold")+": "+s).style("background-color",o.fillColor);var c=this.label.node(),d=this.positionService.findBestPlacementAt({left:i[0],top:i[1]},c,[Ye.RIGHT,Ye.LEFT,Ye.TOP,Ye.BOTTOM],function(){return{width:a.offsetWidth,height:a.offsetHeight}}),l=this.positionService.findPositionAt({left:i[0],top:i[1]},c,d);this.positionService.setElement(c,l)},r.prototype.constructDatumObj=function(t,n){var o={};return t.correspondingDatasets&&(o.group=v.getProperty(t,"correspondingDatasets",0)),o[t.mapsTo]=n.value,o},r.prototype.addEventListeners=function(){var t=this,n=this.getComponentContainer({withinChartClip:!0});n.selectAll("rect.threshold-hoverable-area").on("mouseover mousemove",function(o){R(this.parentNode).select("line.threshold-line").classed("active",!0),t.services.events.dispatchEvent(E.Threshold.SHOW,{event:o,hoveredElement:R(this),datum:R(this).datum()})}).on("mouseout",function(o){R(this.parentNode).select("line.threshold-line").classed("active",!1),t.services.events.dispatchEvent(E.Threshold.HIDE,{event:o,hoveredElement:R(this),datum:R(this).datum()})})},r}(ve),bM=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Oi=function(e){bM(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="title",t.renderType=oe.HTML,t}return r.prototype.render=function(){var t=this.getComponentContainer(),n=v.getProperty(this.getOptions(),"title"),o=t.selectAll("p.title").data([n]);if(o.enter().append("p").classed("title",!0).attr("role","heading").attr("aria-level",2).merge(o).html(function(i){return i}),o.node()&&o.node().offsetWidth<o.node().scrollWidth){var a=this;o.on("mouseover",function(i){a.services.events.dispatchEvent(E.Tooltip.SHOW,{event:i,hoveredElement:o,content:o.text()})}).on("mousemove",function(i){a.services.events.dispatchEvent(E.Tooltip.MOVE,{event:i})}).on("mouseout",function(){a.services.events.dispatchEvent(E.Tooltip.HIDE)})}o.exit().remove()},r.prototype.truncateTitle=function(t,n){if(!(n<=0)){var o=t.text();if(t.node().getComputedTextLength()>n){t.append("tspan").text("...");var a=D.appendOrSelect(t,"tspan").node().getComputedTextLength(),i=t.text(),s=this.getSubstringIndex(t.node(),0,i.length-1,n-a);t.html(i.substring(0,s-1)).append("tspan").text("...");var c=this;t.on("mouseover",function(d){c.services.events.dispatchEvent(E.Tooltip.SHOW,{event:d,hoveredElement:t,content:o})}).on("mousemove",function(d){c.services.events.dispatchEvent(E.Tooltip.MOVE,{event:d})}).on("mouseout",function(){c.services.events.dispatchEvent(E.Tooltip.HIDE)})}}},r.prototype.getMaxTitleWidth=function(){return D.getSVGElementSize(this.parent.node(),{useAttrs:!0}).width},r.prototype.getSubstringIndex=function(t,n,o,a){var i=Math.floor((o+n)/2);return t.getSubStringLength(0,i)>a?this.getSubstringIndex(t,n,i,a):t.getSubStringLength(0,i)<a?t.getSubStringLength(0,i+1)>a?i:this.getSubstringIndex(t,i,o,a):i},r}(ve),yM=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),wM=function(e){yM(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="meter-title",t.renderType=oe.SVG,t}return r.prototype.render=function(){var t=v.getProperty(this.model.getDisplayData(),0),n=this.getOptions(),o=this.getComponentContainer(),a=n.data.groupMapsTo,i=v.getProperty(n,"meter","proportional");if(i)this.displayTotal(),this.displayBreakdownTitle();else{var s=o.selectAll("text.meter-title").data([t[a]]);s.enter().append("text").classed("meter-title",!0).merge(s).attr("x",0).attr("y","1em").text(function(l){return l}),s.exit().remove(),this.appendPercentage()}this.displayStatus();var c=this.getMaxTitleWidth(),d=D.appendOrSelect(o,"text.meter-title");c>0&&d.node().getComputedTextLength()>c&&this.truncateTitle(d,c)},r.prototype.displayBreakdownTitle=function(){var t=this.getComponentContainer(),n=this.getOptions(),o=this.model.getMaximumDomain(this.model.getDisplayData()),a=v.getProperty(n,"meter","proportional","total"),i=v.getProperty(n,"meter","proportional","unit")?v.getProperty(n,"meter","proportional","unit"):"",s;if(o===a)s=null;else{var c=a!==null?a-o:o,d=v.getProperty(n,"meter","proportional","breakdownFormatter");s=d!==null?d({datasetsTotal:o,total:a}):o+" "+i+" used ("+c+" "+i+" available)"}var l=t.selectAll("text.proportional-meter-title").data([s]);l.enter().append("text").classed("proportional-meter-title",!0).merge(l).attr("x",0).attr("y","1em").text(function(h){return h}),l.exit().remove();var f=this.getMaxTitleWidth(),u=D.appendOrSelect(t,"text.proportional-meter-title");f>0&&u.node().getComputedTextLength()>f&&this.truncateTitle(u,f)},r.prototype.displayTotal=function(){var t=this.getComponentContainer(),n=this.getOptions(),o=v.getProperty(n,"meter","proportional","total"),a=o?v.getProperty(n,"meter","proportional","total"):this.model.getMaximumDomain(this.model.getDisplayData()),i=v.getProperty(n,"meter","proportional","unit")?v.getProperty(n,"meter","proportional","unit"):"",s=v.getProperty(n,"meter","proportional","totalFormatter"),c=s!==null?s(a):o+" "+i+" total",d=D.getHTMLElementSize(this.services.domUtils.getMainContainer()),l=d.width?d.width:this.parent.node().getAttribute("width"),f=t.selectAll("text.proportional-meter-total").data([c]);f.enter().append("text").classed("proportional-meter-total",!0).merge(f).attr("x",this.model.getStatus()?l-Ge.total.paddingRight:l).attr("y","1em").attr("text-anchor","end").text(function(u){return u}),f.exit().remove()},r.prototype.displayStatus=function(){var t=this,n=this.getComponentContainer(),o=D.getHTMLElementSize(this.services.domUtils.getMainContainer()),a=o.width?o.width:0,i=this.model.getStatus(),s=Ge.status.indicatorSize/2,c=D.appendOrSelect(n,"g.status-indicator").attr("class",i!==null?"status-indicator status--"+i:"").attr("transform","translate("+(a-s)+", 0)"),d=i?[i]:[],l=c.selectAll("circle.status").data(d);l.enter().append("circle").merge(l).attr("class","status").attr("r",s).attr("cx",0).attr("cy","calc(1em / 2)");var f=c.selectAll("path.innerFill").data(d);f.enter().append("path").merge(f).attr("d",t.getStatusIconPathString(i)).attr("transform","translate(-"+s+", 0)").attr("class","innerFill"),f.exit().remove(),l.exit().remove()},r.prototype.appendPercentage=function(){var t=v.getProperty(this.model.getDisplayData(),0,"value"),n=this.getComponentContainer(),o=D.appendOrSelect(n,"text.meter-title"),a=v.getProperty(this.getOptions(),"meter","statusBar","percentageIndicator","enabled")===!0?[t]:[],i=n.selectAll("text.percent-value").data(a),s=Ge.statusBar.paddingRight;i.enter().append("text").classed("percent-value",!0).merge(i).text(function(c){return c+"%"}).attr("x",+o.attr("x")+o.node().getComputedTextLength()+s).attr("y",o.attr("y")),i.exit().remove()},r.prototype.truncateTitle=function(t,n){e.prototype.truncateTitle.call(this,t,n);var o=D.appendOrSelect(this.parent,"tspan"),a=Ge.statusBar.paddingRight,i=Math.ceil(o.node().getComputedTextLength()),s=D.appendOrSelect(this.parent,"text.percent-value");s.attr("x",+t.attr("x")+t.node().getComputedTextLength()+i+a)},r.prototype.getMaxTitleWidth=function(){var t=D.getHTMLElementSize(this.services.domUtils.getMainContainer()),n=v.getProperty(this.getOptions(),"meter","proportional"),o=t.width?t.width:this.parent.node().getAttribute("width");if(n!==null){var a=D.appendOrSelect(this.parent,"text.proportional-meter-total").node(),i=D.getSVGElementSize(a,{useBBox:!0}).width;return o-i-Ge.total.paddingLeft}else{var s=D.appendOrSelect(this.parent,"text.percent-value"),c=Ge.statusBar.paddingRight,d=s.node().getComputedTextLength(),l=D.appendOrSelect(this.parent,"g.status-indicator").node(),f=D.getSVGElementSize(l,{useBBox:!0}).width+Ge.status.paddingLeft;return o-d-c-f}},r.prototype.getStatusIconPathString=function(t){switch(t){case oo.SUCCESS:return"M6.875 11.3125 3.75 8.1875 4.74375 7.25 6.875 9.34375 11.50625 4.75 12.5 5.7375 Z";case oo.DANGER:return"M10.7 11.5 4.5 5.3 5.3 4.5 11.5 10.7 Z";case oo.WARNING:return"M7.9375,11.125 C7.41973305,11.125 7,11.544733 7,12.0625 C7,12.580267 7.41973305,13 7.9375,13 C8.45526695,13 8.875,12.580267 8.875,12.0625 C8.875,11.544733 8.45526695,11.125 7.9375,11.125 M7.3125, 3 8.5625, 3 8.5625, 9.875 7.3125, 9.875, 7.3125, 3 Z"}},r}(Oi),_M=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Vg=function(e){_M(r,e);function r(t,n,o){var a=e.call(this,t,n,o)||this;return a.type="tooltip",a.renderType=oe.HTML,a.isEventListenerAdded=!1,a.positionService=new Ti,a.handleShowTooltip=function(i){var s=i.detail.data||i.detail.items,c=a.getTooltipHTML(i),d=D.appendOrSelect(a.tooltip,"div.content-box");if(v.getProperty(a.getOptions(),"tooltip","customHTML"))if(i.detail.content){var l='<div class="title-tooltip"><p>'+i.detail.content+"</p></div>";d.html(l)}else d.html(a.model.getOptions().tooltip.customHTML(s,c));else d.html(c);a.positionTooltip(i),a.tooltip.classed("hidden",!1).attr("aria-hidden",!1)},a.handleHideTooltip=function(){a.tooltip.classed("hidden",!0).attr("aria-hidden",!0)},a.init(),a}return r.prototype.addTooltipEventListener=function(){var t=this;this.services.events.addEventListener(E.Tooltip.MOVE,function(n){t.tooltip.classed("hidden")===!1&&t.positionTooltip(n)}),this.services.events.addEventListener(E.Tooltip.SHOW,this.handleShowTooltip),this.services.events.addEventListener(E.Tooltip.HIDE,this.handleHideTooltip),this.services.events.addEventListener(E.Chart.MOUSEOUT,this.handleHideTooltip)},r.prototype.removeTooltipEventListener=function(){this.services.events.removeEventListener(E.Tooltip.MOVE,null),this.services.events.removeEventListener(E.Tooltip.SHOW,this.handleShowTooltip),this.services.events.removeEventListener(E.Tooltip.HIDE,this.handleHideTooltip),this.services.events.removeEventListener(E.Chart.MOUSEOUT,this.handleHideTooltip)},r.prototype.getItems=function(t){return t.detail.items?t.detail.items:[]},r.prototype.formatItems=function(t){var n=this,o=this.getOptions(),a=v.getProperty(o,"tooltip","truncation","type"),i=v.getProperty(o,"tooltip","truncation","threshold"),s=v.getProperty(o,"tooltip","truncation","numCharacter");return a!==tr.NONE?t.map(function(c){var d=c.labelIcon?12:0;return c.value=c.value?n.valueFormatter(c.value,c.label):c.value,c.label&&c.label.length+d>i&&(c.label=v.truncateLabel(c.label,a,s)),c.value&&c.value.length>i&&(c.value=v.truncateLabel(c.value,a,s)),c}):t},r.prototype.getTooltipHTML=function(t){var n;if(t.detail.content)n='<div class="title-tooltip"><p>'+t.detail.content+"</p></div>";else{var o=this.getItems(t),a=this.formatItems(o);n='<ul class="multi-tooltip">'+a.map(function(i){return`<li>
							<div class="datapoint-tooltip `+(i.bold?"bold":"")+`">
								`+(i.class?'<div class="tooltip-color '+i.class+'"></div>':"")+`
								`+(i.color?'<div style="background-color: '+i.color+'" class="tooltip-color"></div>':"")+`
								<div class="label">
								<p>`+(i.label||"")+`</p>
								`+(i.labelIcon?'<span class="label-icon"/>'+i.labelIcon+"</span>":"")+`
								</div>
								`+(i.value===void 0||i.value===null?"":'<p class="value"/>'+i.value+"</p>")+`
							</div>
						</li>`}).join("")+"</ul>"}return n},r.prototype.valueFormatter=function(t,n){var o=this.getOptions(),a=v.getProperty(o,"tooltip","valueFormatter");return a?a(t,n):typeof t.getTime=="function"?xo(t,"MMM d, yyyy"):t.toLocaleString()},r.prototype.render=function(){var t=this.getOptions(),n=v.getProperty(t,"tooltip","enabled");if(n){var o=R(this.services.domUtils.getHolder()),a=v.getProperty(t,"style","prefix");this.tooltip=D.appendOrSelect(o,"div."+et+"--"+a+"--tooltip"),this.tooltip.style("max-width",null).attr("role","tooltip"),this.isEventListenerAdded||(this.addTooltipEventListener(),this.isEventListenerAdded=!0),this.tooltip.classed("hidden",!0)}else!n&&this.isEventListenerAdded&&(this.removeTooltipEventListener(),this.isEventListenerAdded=!1)},r.prototype.positionTooltip=function(t){var n=this.services.domUtils.getHolder(),o=this.tooltip.node(),a=this.getOptions(),i=v.getProperty(a,"zoomBar","top","enabled"),s=v.getProperty(t,"detail","mousePosition");if(!s)s=Lr(v.getProperty(t,"detail","event"),n);else{var c=v.getProperty(a,"zoomBar","top","type"),d=at.height[c];i&&(s[1]+=d+at.spacerHeight)}var l,f=n.offsetWidth,u=n.offsetHeight,h;s[0]/f>.9?h=Ye.LEFT:s[0]/f<.1?h=Ye.RIGHT:h=this.positionService.findBestPlacementAt({left:s[0],top:s[1]},o,[Ye.RIGHT,Ye.LEFT,Ye.TOP,Ye.BOTTOM],function(){return{width:f,height:u}});var p=ap.horizontalOffset;h===Ye.LEFT&&(p*=-1),l=this.positionService.findPositionAt({left:s[0]+p,top:s[1]},o,h),this.positionService.setElement(o,l)},r}(ve),xM=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),kM=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;for(var n=Array(e),o=0,r=0;r<t;r++)for(var a=arguments[r],i=0,s=a.length;i<s;i++,o++)n[o]=a[i];return n},$g=function(e){xM(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getItems=function(t){var n=this;if(t.detail.items)return t.detail.items;var o=t.detail.data;if(!o.length||!o[0])return[];var a=this.getOptions(),i=this.services.cartesianScales,s=i.getDomainIdentifier(),c=i.isDualAxes(),d=a.data.groupMapsTo,l=i.getDomainLabel(),f=i.getRangeLabel(),u=o[0][s],h;if(o.length===1){var p=o[0],m=i.getRangeIdentifier(p);if(c){var b=i.getRangeAxisPosition({datum:p,groups:[p[d]]});f=i.getScaleLabel(b)}var y=p[m];h=kM([{label:l,value:u}],Array.isArray(y)&&y.length===2?[{label:"Start",value:y[0]},{label:"End",value:y[1]}]:[{label:f,value:p[m]}]),t.detail.additionalItems&&t.detail.additionalItems.forEach(function(w){return h.push({label:w.label,value:w.value})}),h.push({label:a.tooltip.groupLabel,value:p[d],color:this.model.getFillColor(p[d]),class:this.model.getColorClassName({classNameTypes:[ie.TOOLTIP],dataGroupName:p[d]})})}else if(o.length>1&&(h=[{label:l,value:u}],h=h.concat(o.map(function(w){var k=w[i.getRangeIdentifier(w)];return{label:w[d],value:Array.isArray(k)&&k.length===2?k[0]+" - "+k[1]:k,color:n.model.getFillColor(w[d]),class:n.model.getColorClassName({classNameTypes:[ie.TOOLTIP],dataGroupName:w[d]})}}).sort(function(w,k){return k.value-w.value})),!c&&v.getProperty(a,"tooltip","showTotal")===!0)){var g=i.getRangeIdentifier();h.push({label:Te(a,"tooltip.totalLabel")||"Total",value:o.reduce(function(w,k){return w+k[g]},0),bold:!0})}return h},r}(Vg),SM=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Hg=function(e){SM(r,e);function r(t,n,o){var a=e.call(this,t,n,o)||this;return a.type="chart-clip",a.renderType=oe.SVG,a.chartClipId="chart-clip-id-"+Math.floor(Math.random()*99999999999),a.init(),a}return r.prototype.init=function(){this.model.set({chartClipId:this.chartClipId},{skipUpdate:!0})},r.prototype.render=function(t){this.createClipPath()},r.prototype.createClipPath=function(){var t=this.parent,n=this.services.cartesianScales,o=n.getMainXScale(),a=n.getMainYScale(),i=o.range(),s=i[0],c=i[1],d=a.range(),l=d[0],f=d[1];this.chartClipPath=D.appendOrSelect(t,"clipPath."+this.type).attr("id",this.chartClipId);var u=D.appendOrSelect(this.chartClipPath,"rect."+this.type);u.attr("x",s).attr("y",f).attr("width",c-s).attr("height",l-f),this.chartClipPath.merge(u).lower()},r}(ve),MM=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),EM=function(e){MM(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="canvas-chart-clip",t.chartClipId="canvas-chart-clip-id-"+Math.floor(Math.random()*99999999999),t}return r.prototype.createClipPath=function(){var t=this.parent,n=D.getSVGElementSize(this.parent,{useAttrs:!0}),o=n.width,a=n.height;this.chartClipPath=D.appendOrSelect(t,"clipPath."+this.type).attr("id",this.chartClipId);var i=D.appendOrSelect(this.chartClipPath,"rect."+this.type);i.attr("x",0).attr("y",0).attr("width",o).attr("height",a),this.chartClipPath.merge(i).lower()},r}(Hg),TM=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),fr=globalThis&&globalThis.__rest||function(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)r.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(t[n[o]]=e[n[o]]);return t},OM=function(e){TM(r,e);function r(t,n){var o=e.call(this,t,n)||this;return o.type="highlight",o.renderType=oe.SVG,o.positionService=new Ti,o.highlightStrokeWidth=1,o}return r.prototype.render=function(t){t===void 0&&(t=!1);var n=v.getProperty(this.getOptions(),"axes"),o=[];Object.keys(n).forEach(function(h){if(Object.values(W).includes(h)){var p=n[h];p.highlights&&p.highlights.data.length>0&&o.push({axisPosition:h,highlightStartMapsTo:p.highlights.highlightStartMapsTo,highlightEndMapsTo:p.highlights.highlightEndMapsTo,labelMapsTo:p.highlights.labelMapsTo,highlight:p.highlights.data,color:p.highlights.color})}});var a=this.getComponentContainer({withinChartClip:!0}),i=a.selectAll("g.axis-highlight").data(o,function(h){return h.axisPosition});i.exit().attr("opacity",0).remove();var s=i.enter().append("g"),c=s.merge(i);c.attr("class",function(h){return"axis-highlight "+h.axisPosition});var d=c.selectAll("g.highlight-group").data(function(h){return h.highlight.map(function(p){return p.axisPosition=h.axisPosition,p.highlightStartMapsTo=h.highlightStartMapsTo,p.labelMapsTo=h.labelMapsTo,p.color=h.color,p.highlightEndMapsTo=h.highlightEndMapsTo,p})});d.exit().attr("opacity",0).remove();var l=d.enter().append("g");l.append("rect").attr("class","highlight-bar"),l.append("line").attr("class","highlight-line");var f=l.merge(d);f.attr("class","highlight-group");var u=this;c.each(function(h){var p=h.axisPosition,m=u.services.cartesianScales.getMainXScale(),b=u.services.cartesianScales.getMainYScale(),y=m.range(),g=y[0],w=y[1],k=b.range(),_=k[0],x=k[1],O=u.services.cartesianScales,M=O.getOrientation(),T=function(B){return O.getDomainValue(B)},A=function(B){return O.getRangeValue(B)},S=v.flipDomainAndRangeBasedOnOrientation(T,A,M),P=S[0],I=S[1],L=R(this);p===W.TOP||p===W.BOTTOM?L.selectAll("rect.highlight-bar").transition().call(function(B){return u.services.transitions.setupTransition({transition:B,name:"highlight-bar-update",animate:t})}).attr("y",Math.max(x+u.highlightStrokeWidth,0)).attr("height",Math.max(_-2*u.highlightStrokeWidth,0)).attr("x",function(B){var C=B.highlightStartMapsTo,z=fr(B,["highlightStartMapsTo"]);return P(z[C])}).attr("width",function(B){var C=B.highlightStartMapsTo,z=B.highlightEndMapsTo,F=fr(B,["highlightStartMapsTo","highlightEndMapsTo"]);return Math.max(P(F[z])-P(F[C]),0)}).style("stroke",function(B){var C=B.color,z=B.labelMapsTo,F=fr(B,["color","labelMapsTo"]);return C&&C.scale[F[z]]?C.scale[F[z]]:null}).style("stroke-dasharray","2, 2").attr("stroke-width",u.highlightStrokeWidth+"px").style("fill-opacity",.1).style("fill",function(B){var C=B.color,z=B.labelMapsTo,F=fr(B,["color","labelMapsTo"]);return C&&C.scale[F[z]]?C.scale[F[z]]:null}):L.selectAll("rect.highlight-bar").transition().call(function(B){return u.services.transitions.setupTransition({transition:B,name:"highlight-bar-update",animate:t})}).attr("x",g).attr("width",Math.max(w-g,0)).attr("y",function(B){var C=B.highlightEndMapsTo,z=fr(B,["highlightEndMapsTo"]);return I(z[C])}).attr("height",function(B){var C=B.highlightStartMapsTo,z=B.highlightEndMapsTo,F=fr(B,["highlightStartMapsTo","highlightEndMapsTo"]);return Math.max(I(F[C])-I(F[z]),0)}).style("stroke",function(B){var C=B.color,z=B.labelMapsTo,F=fr(B,["color","labelMapsTo"]);return C&&C.scale[F[z]]?C.scale[F[z]]:null}).style("stroke-dasharray","2, 2").attr("stroke-width",u.highlightStrokeWidth+"px").style("fill-opacity",.1).style("fill",function(B){var C=B.color,z=B.labelMapsTo,F=fr(B,["color","labelMapsTo"]);return C&&C.scale[F[z]]?C.scale[F[z]]:null})})},r}(ve),AM=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Gg=function(e){AM(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="area",t.renderType=oe.SVG,t.gradient_id="gradient-id-"+Math.floor(Math.random()*99999999999),t.handleLegendOnHover=function(n){var o=n.detail.hoveredElement;t.parent.selectAll("path.area").transition("legend-hover-area").call(function(a){return t.services.transitions.setupTransition({transition:a,name:"legend-hover-area"})}).attr("opacity",function(a){return a.name!==o.datum().name?Dt.opacity.unselected:Dt.opacity.selected})},t.handleLegendMouseOut=function(n){t.parent.selectAll("path.area").transition("legend-mouseout-area").call(function(o){return t.services.transitions.setupTransition({transition:o,name:"legend-mouseout-area"})}).attr("opacity",Dt.opacity.selected)},t}return r.prototype.init=function(){var t=this.services.events;t.addEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),t.addEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},r.prototype.render=function(t){var n=this;t===void 0&&(t=!0);var o=this.getComponentContainer({withinChartClip:!0}),a=this.getOptions(),i=[0,0],s=this.services.cartesianScales,c=s.getOrientation(),d=Ld().curve(this.services.curves.getD3Curve()).defined(function(S,P){var I=s.getRangeIdentifier(),L=S[I];return L!=null}),l=this.model.getGroupedData(this.configs.groups),f=v.getProperty(a,"bounds"),u=f&&l&&l.length===1;!u&&f&&console.warn("Bounds can only be shown when having 1 single datagroup, you've supplied "+l.length);var h=0,p=function(S,P){v.getProperty(a,"axes",S,"includeZero")===!1&&P[0]>0&&P[1]>0&&(h=P[0])},m=function(S,P){return u?s.getBoundedScaledValues(S,P)[0]:s.getRangeValue(h)},b=function(S,P){return u?s.getBoundedScaledValues(S,P)[1]:s.getRangeValue(S,P)};c===He.VERTICAL?(i=s.getMainYScale().domain(),p(s.getMainYAxisPosition(),i),d.x(function(S,P){return s.getDomainValue(S,P)}).y0(function(S,P){return m(S,P)}).y1(function(S,P){return b(S,P)})):(i=s.getMainXScale().domain(),p(s.getMainXAxisPosition(),i),d.x0(function(S,P){return m(S,P)}).x1(function(S,P){return b(S,P)}).y(function(S,P){return s.getDomainValue(S,P)}));var y=v.getProperty(a,"color","gradient","enabled"),g=l&&l.length===1&&y;l.length>1&&y&&console.error("Gradients can only be enabled when having 1 single dataset");var w=o.selectAll("path.area").data(l,function(S){return S.name}),k=R(this.services.domUtils.getMainContainer());if(w.exit().attr("opacity",0).remove(),!!l.length){if(g){var _=k.select("path."+this.model.getColorClassName({classNameTypes:[ie.STROKE],dataGroupName:l[0].name})).node(),x=void 0;if(_)x=getComputedStyle(_,null).getPropertyValue("stroke");else{var O=v.getProperty(this.model.getOptions(),"color","scale");if(O!==null){var M=Object.keys(O);x=O[M[0]]}}Ec.appendOrUpdateLinearGradient({svg:this.parent,id:this.services.domUtils.generateElementIDString(l[0].name.replace(" ","")+"_"+this.gradient_id),x1:"0%",x2:"0%",y1:"0%",y2:"100%",stops:Ec.getStops(i,x)})}else this.parent.selectAll("defs linearGradient").empty()||this.parent.selectAll("defs linearGradient").each(function(){this.parentNode.remove()});var T=this,A=w.enter().append("path");g?A.merge(w).style("fill",function(S){return"url(#"+n.services.domUtils.generateElementIDString(S.name.replace(" ","")+"_"+n.gradient_id)+")"}).attr("class","area").attr("class",function(S){return n.model.getColorClassName({classNameTypes:[ie.FILL],dataGroupName:S.name,originalClassName:"area"})}).attr("d",function(S){var P=S.data;return d(P)}):(A.attr("opacity",0).merge(w).attr("class","area").attr("class",function(S){return n.model.getColorClassName({classNameTypes:[ie.FILL,ie.STROKE],dataGroupName:S.name,originalClassName:"area"})}).style("fill",function(S){return T.model.getFillColor(S.name)}).transition().call(function(S){return n.services.transitions.setupTransition({transition:S,name:"area-update-enter",animate:t})}).attr("opacity",u?1:Dt.opacity.selected).attr("d",function(S){var P=S.data;return d(P)}),u&&A.attr("fill-opacity",Dt.opacity.selected).style("stroke",function(S){return T.model.getStrokeColor(S.name)}).style("stroke-dasharray","2, 2").attr("stroke-width",.7+"px"))}},r.prototype.destroy=function(){var t=this.services.events;t.removeEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),t.removeEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},r}(ve),PM=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),jg=function(e){PM(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="area-stacked",t.renderType=oe.SVG,t.handleLegendOnHover=function(n){var o=n.detail.hoveredElement,a=t.getOptions(),i=a.data.groupMapsTo;t.parent.selectAll("path.area").transition("legend-hover-area").call(function(s){return t.services.transitions.setupTransition({transition:s,name:"legend-hover-area"})}).attr("opacity",function(s){return v.getProperty(s,0,i)!==o.datum().name?Dt.opacity.unselected:Dt.opacity.selected})},t.handleLegendMouseOut=function(){t.parent.selectAll("path.area").transition("legend-mouseout-area").call(function(n){return t.services.transitions.setupTransition({transition:n,name:"legend-mouseout-area"})}).attr("opacity",Dt.opacity.selected)},t}return r.prototype.init=function(){var t=this.services.events;t.addEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),t.addEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},r.prototype.render=function(t){var n=this;t===void 0&&(t=!0);var o=this.getComponentContainer({withinChartClip:!0}),a=this,i=this.getOptions(),s=i.data.groupMapsTo,c=Object.keys(i.axes).some(function(b){return i.axes[b].percentage}),d=this.model.getStackedData({percentage:c,groups:this.configs.groups}),l=v.getProperty(d,0,0),f=this.services.cartesianScales.getDomainAxisPosition({firstDatum:l}),u=this.services.cartesianScales.getRangeAxisPosition({firstDatum:l}),h=this.services.cartesianScales.getScaleByPosition(u),p=o.selectAll("path.area").data(d,function(b){return v.getProperty(b,0,s)});this.areaGenerator=Ld().x(function(b,y){return n.services.cartesianScales.getValueThroughAxisPosition(f,b.data.sharedStackKey,y)}).y0(function(b){return h(b[0])}).y1(function(b){return h(b[1])}).curve(this.services.curves.getD3Curve()),p.exit().attr("opacity",0).remove();var m=p.enter().append("path").attr("opacity",0);m.merge(p).data(d,function(b){return v.getProperty(b,0,s)}).attr("class","area").attr("class",function(b){return n.model.getColorClassName({classNameTypes:[ie.FILL],dataGroupName:v.getProperty(b,0,s),originalClassName:"area"})}).style("fill",function(b){return a.model.getFillColor(v.getProperty(b,0,s))}).attr("role",fe.GRAPHICS_SYMBOL).attr("aria-roledescription","area").attr("aria-label",function(b){return v.getProperty(b,0,s)}).transition().call(function(b){return n.services.transitions.setupTransition({transition:b,name:"area-update-enter",animate:t})}).attr("opacity",Dt.opacity.selected).attr("d",this.areaGenerator)},r}(ve),UM=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Xd=function(e){UM(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getBarWidth=function(t){var n=this.getOptions();if(n.bars.width)return n.bars.width;var o=this.model.getDisplayData().length,a=this.services.cartesianScales.getMainXScale(),i=D.getSVGElementSize(this.parent,{useAttrs:!0}).width;if(!a.step){var s=v.getProperty(n,"bars","spacingFactor");return Math.min(n.bars.maxWidth,i*s/o)}return Math.min(n.bars.maxWidth,a.step()/2)},r.prototype.isOutsideZoomedDomain=function(t,n){var o=this.model.getDisplayData().length;if(o<=1)return!1;var a=this.model.get("zoomDomain");if(a!==void 0){var i=this.services.cartesianScales.getDomainScale();return t<i(a[0])||n>i(a[1])}return!1},r}(ve),CM=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),qg=function(e){CM(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="simple-bar",t.renderType=oe.SVG,t.handleLegendOnHover=function(n){var o=n.detail.hoveredElement,a=t.getOptions().data.groupMapsTo;t.parent.selectAll("path.bar").transition("legend-hover-simple-bar").call(function(i){return t.services.transitions.setupTransition({transition:i,name:"legend-hover-simple-bar"})}).attr("opacity",function(i){return i[a]!==o.datum().name?.3:1})},t.handleLegendMouseOut=function(n){t.parent.selectAll("path.bar").transition("legend-mouseout-simple-bar").call(function(o){return t.services.transitions.setupTransition({transition:o,name:"legend-mouseout-simple-bar"})}).attr("opacity",1)},t}return r.prototype.init=function(){var t=this.services.events;t.addEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),t.addEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},r.prototype.render=function(t){var n=this,o=this.getOptions(),a=o.data.groupMapsTo,i=this.getComponentContainer({withinChartClip:!0}),s=this.model.getDisplayData(this.configs.groups),c=this.services.cartesianScales.getOrientation(),d=i.selectAll("path.bar").data(s,function(f){return f[a]});d.exit().attr("opacity",0).remove();var l=d.enter().append("path").attr("opacity",0);l.merge(d).classed("bar",!0).attr("width",this.getBarWidth.bind(this)).transition().call(function(f){return n.services.transitions.setupTransition({transition:f,name:"bar-update-enter",animate:t})}).attr("class",function(f){return n.model.getColorClassName({classNameTypes:[ie.FILL],dataGroupName:f[a],originalClassName:"bar"})}).style("fill",function(f){return n.model.getFillColor(f[a])}).attr("d",function(f,u){var h=n.services.cartesianScales.getRangeIdentifier(),p=n.getBarWidth(),m=f[h],b=n.services.cartesianScales.getDomainValue(f,u)-p/2,y=b+p,g,w;if(Array.isArray(m)&&m.length===2)g=n.services.cartesianScales.getRangeValue(m[0]),w=n.services.cartesianScales.getRangeValue(m[1],u);else{var k=n.services.cartesianScales.getRangeScale(),_=k.domain()[0];g=n.services.cartesianScales.getRangeValue(Math.max(0,_)),w=n.services.cartesianScales.getRangeValue(f,u)}var x=Math.abs(w-g);if(x!==0&&x<2&&(m>0&&c===He.VERTICAL||m<0&&c===He.HORIZONTAL?w=g-2:w=g+2),!n.isOutsideZoomedDomain(b,y))return v.generateSVGPathString({x0:b,x1:y,y0:g,y1:w},c)}).attr("opacity",1).attr("role",fe.GRAPHICS_SYMBOL).attr("aria-roledescription","bar").attr("aria-label",function(f){return f.value}),this.addEventListeners()},r.prototype.addEventListeners=function(){var t=this;this.parent.selectAll("path.bar").on("mouseover",function(n,o){var a=R(this);a.classed("hovered",!0),t.services.events.dispatchEvent(E.Bar.BAR_MOUSEOVER,{event:n,element:a,datum:o}),t.services.events.dispatchEvent(E.Tooltip.SHOW,{event:n,hoveredElement:a,data:[o]})}).on("mousemove",function(n,o){t.services.events.dispatchEvent(E.Bar.BAR_MOUSEMOVE,{event:n,element:R(this),datum:o}),t.services.events.dispatchEvent(E.Tooltip.MOVE,{event:n})}).on("click",function(n,o){t.services.events.dispatchEvent(E.Bar.BAR_CLICK,{event:n,element:R(this),datum:o})}).on("mouseout",function(n,o){var a=R(this);a.classed("hovered",!1),t.services.events.dispatchEvent(E.Bar.BAR_MOUSEOUT,{event:n,element:a,datum:o}),t.services.events.dispatchEvent(E.Tooltip.HIDE,{hoveredElement:a})})},r.prototype.destroy=function(){this.parent.selectAll("path.bar").on("mouseover",null).on("mousemove",null).on("mouseout",null);var t=this.services.events;t.removeEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),t.removeEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},r}(Xd),BM=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Wg=function(e){BM(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="grouped-bar",t.renderType=oe.SVG,t.padding=5,t.defaultStepFactor=70,t.handleLegendOnHover=function(n){var o=n.detail.hoveredElement,a=t.getOptions().data.groupMapsTo;t.parent.selectAll("path.bar").transition("legend-hover-bar").call(function(i){return t.services.transitions.setupTransition({transition:i,name:"legend-hover-bar"})}).attr("opacity",function(i){return i[a]!==o.datum().name?.3:1})},t.handleLegendMouseOut=function(n){t.parent.selectAll("path.bar").transition("legend-mouseout-bar").call(function(o){return t.services.transitions.setupTransition({transition:o,name:"legend-mouseout-bar"})}).attr("opacity",1)},t}return r.prototype.init=function(){var t=this.services.events;t.addEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),t.addEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},r.prototype.render=function(t){var n=this,o=this.model.getDisplayData(this.configs.groups),a=this.getOptions(),i=a.data.groupMapsTo;this.setGroupScale();var s=this.getComponentContainer({withinChartClip:!0}),c=v.removeArrayDuplicates(o.map(function(p){var m=n.services.cartesianScales.getDomainIdentifier(p);return p[m]&&typeof p[m].toString=="function"?p[m].toString():p[m]})),d=s.selectAll("g.bars").data(c,function(p){return p});d.exit().attr("opacity",0).remove();var l=d.enter().append("g").classed("bars",!0).attr("role",fe.GROUP).attr("data-name","bars"),f=l.merge(d);f.transition().call(function(p){return n.services.transitions.setupTransition({transition:p,name:"bar-group-update-enter",animate:t})}).attr("transform",function(p,m){var b=n.services.cartesianScales.getDomainValue(p,m),y=b-n.getGroupWidth()/2;return n.services.cartesianScales.getOrientation()===He.VERTICAL?"translate("+y+", 0)":"translate(0, "+y+")"});var u=f.selectAll("path.bar").data(function(p){return n.getDataCorrespondingToLabel(p)},function(p){return p[i]});u.exit().attr("opacity",0).remove();var h=u.enter().append("path").attr("opacity",0);h.merge(u).classed("bar",!0).transition().call(function(p){return n.services.transitions.setupTransition({transition:p,name:"bar-update-enter",animate:t})}).attr("class",function(p){return n.model.getColorClassName({classNameTypes:[ie.FILL],dataGroupName:p[i],originalClassName:"bar"})}).style("fill",function(p){return n.model.getFillColor(p[i])}).attr("d",function(p,m){var b=n.groupScale(p[i]),y=n.getBarWidth(),g=b,w=b+y,k=n.services.cartesianScales.getRangeAxisPosition({datum:p}),_=n.services.cartesianScales.getValueThroughAxisPosition(k,0),x=n.services.cartesianScales.getRangeValue(p),O=n.services.cartesianScales.getDomainValue(p,m)-y/2,M=O+y;if(!n.isOutsideZoomedDomain(O,M))return v.generateSVGPathString({x0:g,x1:w,y0:_,y1:x},n.services.cartesianScales.getOrientation())}).attr("opacity",1).attr("role",fe.GRAPHICS_SYMBOL).attr("aria-roledescription","bar").attr("aria-label",function(p){return p.value}),this.addEventListeners()},r.prototype.addEventListeners=function(){var t=this;this.parent.selectAll("path.bar").on("mouseover",function(n,o){var a=R(this);a.classed("hovered",!0),t.services.events.dispatchEvent(E.Bar.BAR_MOUSEOVER,{event:n,element:a,datum:o}),t.services.events.dispatchEvent(E.Tooltip.SHOW,{event:n,hoveredElement:a,data:[o]})}).on("mousemove",function(n,o){var a=R(this);t.services.events.dispatchEvent(E.Bar.BAR_MOUSEMOVE,{event:n,element:a,datum:o}),t.services.events.dispatchEvent(E.Tooltip.MOVE,{event:n})}).on("click",function(n,o){t.services.events.dispatchEvent(E.Bar.BAR_CLICK,{event:n,element:R(this),datum:o})}).on("mouseout",function(n,o){var a=R(this);a.classed("hovered",!1),t.services.events.dispatchEvent(E.Bar.BAR_MOUSEOUT,{event:n,element:a,datum:o}),t.services.events.dispatchEvent(E.Tooltip.HIDE,{hoveredElement:a})})},r.prototype.destroy=function(){this.parent.selectAll("path.bar").on("mouseover",null).on("mousemove",null).on("mouseout",null);var t=this.services.events;t.removeEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),t.removeEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},r.prototype.getDataCorrespondingToLabel=function(t){var n=this,o=this.model.getDisplayData(this.configs.groups);return o.filter(function(a){var i=n.services.cartesianScales.getDomainIdentifier(a);return a[i].toString()===t})},r.prototype.getGroupWidth=function(){var t=this.model.getGroupedData(this.configs.groups),n=this.getTotalGroupPadding();return this.getBarWidth()*t.length+n},r.prototype.getDomainScaleStep=function(){var t=this.services.cartesianScales.getDomainScale(),n=this.model.getGroupedData(this.configs.groups),o=this.defaultStepFactor;if(typeof t.step=="function")o=t.step();else if(n.length>0){var a=n.find(function(s){var c;return((c=s.data)===null||c===void 0?void 0:c.length)>1});if(a){var i=this.services.cartesianScales.getDomainIdentifier(a.data[0]);o=Math.abs(t(a.data[1][i])-t(a.data[0][i]))}}return o},r.prototype.getTotalGroupPadding=function(){var t=this.model.getGroupedData(this.configs.groups);if(t.length===1)return 0;var n=Math.min(5,5*(this.getDomainScaleStep()/this.defaultStepFactor));return n*(t.length-1)},r.prototype.getBarWidth=function(){var t=this.getOptions(),n=v.getProperty(t,"bars","width"),o=v.getProperty(t,"bars","maxWidth");if(n!==null&&(o===null||n<=o))return n;var a=this.model.getGroupedData(this.configs.groups),i=a.length,s=this.getTotalGroupPadding();return Math.min(o,(this.getDomainScaleStep()-s)/i)},r.prototype.setGroupScale=function(){var t=this.model.getActiveDataGroupNames(this.configs.groups);this.groupScale=Io().domain(t).rangeRound([0,this.getGroupWidth()])},r}(Xd),IM=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Yg=function(e){IM(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="stacked-bar",t.renderType=oe.SVG,t.handleLegendOnHover=function(n){var o=n.detail.hoveredElement,a=t.model.getOptions().data.groupMapsTo;t.parent.selectAll("path.bar").transition("legend-hover-bar").call(function(i){return t.services.transitions.setupTransition({transition:i,name:"legend-hover-bar"})}).attr("opacity",function(i){return i[a]!==o.datum().name?.3:1})},t.handleLegendMouseOut=function(n){t.parent.selectAll("path.bar").transition("legend-mouseout-bar").call(function(o){return t.services.transitions.setupTransition({transition:o,name:"legend-mouseout-bar"})}).attr("opacity",1)},t}return r.prototype.init=function(){var t=this.services.events;t.addEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),t.addEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},r.prototype.render=function(t){var n=this,o=this.getComponentContainer({withinChartClip:!0}),a=this.getOptions(),i=a.data.groupMapsTo,s=this.model.getStackedData({groups:this.configs.groups,divergent:!0}),c=this.model.getActiveDataGroupNames(),d=o.selectAll("g.bars").data(s,function(f){return v.getProperty(f,0,i)});d.exit().attr("opacity",0).remove(),d.enter().append("g").classed("bars",!0).attr("role",fe.GROUP).attr("data-name","bars");var l=o.selectAll("g.bars").selectAll("path.bar").data(function(f){return f},function(f){return f.data.sharedStackKey});l.exit().remove(),l.enter().append("path").merge(l).classed("bar",!0).transition().call(function(f){return n.services.transitions.setupTransition({transition:f,name:"bar-update-enter",animate:t})}).attr("class",function(f){return n.model.getColorClassName({classNameTypes:[ie.FILL],dataGroupName:f[i],originalClassName:"bar"})}).style("fill",function(f){return n.model.getFillColor(f[i])}).attr("d",function(f,u){var h=f.data.sharedStackKey,p=n.getBarWidth(),m=n.services.cartesianScales.getDomainValue(h,u)-p/2,b=m+p,y=n.services.cartesianScales.getRangeValue(f[0],u),g=n.services.cartesianScales.getRangeValue(f[1],u);if(!n.isOutsideZoomedDomain(m,b)){if(Math.abs(g-y)>0&&Math.abs(g-y)>a.bars.dividerSize){var w=f[0]<0&&f[1]<=0;w&&c.length>1?n.services.cartesianScales.getOrientation()===He.VERTICAL?g+=f[1]===0?2:1:g-=1:w||(n.services.cartesianScales.getOrientation()===He.VERTICAL?g+=1:g-=1)}return v.generateSVGPathString({x0:m,x1:b,y0:y,y1:g},n.services.cartesianScales.getOrientation())}}).attr("opacity",1).attr("role",fe.GRAPHICS_SYMBOL).attr("aria-roledescription","bar").attr("aria-label",function(f){return f[1]-f[0]}),this.addEventListeners()},r.prototype.addEventListeners=function(){var t=this.getOptions(),n=t.data.groupMapsTo,o=this;this.parent.selectAll("path.bar").on("mouseover",function(a,i){var s,c=R(this);c.classed("hovered",!0),o.services.events.dispatchEvent(E.Bar.BAR_MOUSEOVER,{event:a,element:c,datum:i});var d=o.model.getDisplayData(o.configs.groups),l=d.find(function(h){var p=o.services.cartesianScales.getDomainIdentifier(h),m=o.services.cartesianScales.getRangeIdentifier(h);return h[m]===i.data[i[n]]&&h[p].toString()===i.data.sharedStackKey&&h[n]===i[n]});if(l===void 0){var f=o.services.cartesianScales.getDomainIdentifier(),u=o.services.cartesianScales.getRangeIdentifier();l=(s={},s[f]=i.data.sharedStackKey,s[u]=i.data[i[n]],s[n]=i[n],s)}o.services.events.dispatchEvent(E.Tooltip.SHOW,{event:a,hoveredElement:c,data:[l]})}).on("mousemove",function(a,i){var s=R(this);o.services.events.dispatchEvent(E.Bar.BAR_MOUSEMOVE,{event:a,element:s,datum:i}),o.services.events.dispatchEvent(E.Tooltip.MOVE,{event:a})}).on("click",function(a,i){o.services.events.dispatchEvent(E.Bar.BAR_CLICK,{event:a,element:R(this),datum:i})}).on("mouseout",function(a,i){var s=R(this);s.classed("hovered",!1),o.services.events.dispatchEvent(E.Bar.BAR_MOUSEOUT,{event:a,element:s,datum:i}),o.services.events.dispatchEvent(E.Tooltip.HIDE,{hoveredElement:s})})},r.prototype.getBarWidth=function(){var t=this.getOptions();if(v.getProperty(t,"bars","width"))return t.bars.width;var n=this.services.cartesianScales.getMainXScale(),o=D.getSVGElementSize(this.parent,{useAttrs:!0}).width,a=this.model.getStackKeys().length,i=v.getProperty(t,"bars","spacingFactor");return n.step?Math.min(t.bars.maxWidth,n.step()/2):Math.min(t.bars.maxWidth,o*i/a)},r.prototype.destroy=function(){this.parent.selectAll("path.bar").on("mouseover",null).on("mousemove",null).on("mouseout",null);var t=this.services.events;t.removeEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),t.removeEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},r}(Xd),zM=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),LM=function(e){zM(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="boxplot",t.renderType=oe.SVG,t}return r.prototype.render=function(t){var n=this,o=this.getComponentContainer({withinChartClip:!0}),a=this.getOptions(),i=a.data.groupMapsTo,s=this.model.getDataGroupNames(),c=this.services.cartesianScales.getMainXScale(),d=this.services.cartesianScales.getMainYScale(),l=c.range(),f=l[0],u=l[1],h=d.range(),p=h[0],m=h[1],b=u-f,y=p-m;if(b!==0){var g=this.services.cartesianScales,w=g.getOrientation(),k=w===He.VERTICAL,_=v.flipDomainAndRangeBasedOnOrientation(function(C,z){return n.services.cartesianScales.getDomainValue(C,z)},function(C,z){return n.services.cartesianScales.getRangeValue(C,z)},w),x=_[0],O=_[1],M=Math.floor((k?b:y)/s.length),T=Math.min(M/2,16),A=this.model.getBoxplotData(),S=o.selectAll(".box-group").data(A);S.exit().remove();var P=S.enter().append("g").attr("class","box-group"),I=S.merge(P);P.append("path").merge(S.select("path.vertical-line.start")).attr("class",function(){return n.model.getColorClassName({classNameTypes:[ie.STROKE],originalClassName:"vertical-line start"})}).attr("stroke-width",ut.strokeWidth.default).attr("fill","none").transition().call(function(C){return n.services.transitions.setupTransition({transition:C,name:"boxplot-update-verticalstartline",animate:t})}).attr("d",function(C){var z=g.getDomainValue(C[i]),F=z,U=g.getRangeValue(C.whiskers.min),N=g.getRangeValue(C.quartiles.q_25);return v.generateSVGPathString({x0:z,x1:F,y0:U,y1:N},w)}),P.append("path").merge(S.select("path.vertical-line.end")).attr("class",function(){return n.model.getColorClassName({classNameTypes:[ie.STROKE],originalClassName:"vertical-line end"})}).attr("stroke-width",ut.strokeWidth.default).attr("fill","none").transition().call(function(C){return n.services.transitions.setupTransition({transition:C,name:"boxplot-update-verticalendline",animate:t})}).attr("d",function(C){var z=g.getDomainValue(C[i]),F=z,U=g.getRangeValue(C.whiskers.max),N=g.getRangeValue(C.quartiles.q_75);return v.generateSVGPathString({x0:z,x1:F,y0:U,y1:N},w)}),P.append("path").merge(S.select("path.box")).attr("class",function(){return n.model.getColorClassName({classNameTypes:[ie.FILL,ie.STROKE],originalClassName:"box"})}).attr("fill-opacity",ut.box.opacity.default).attr("stroke-width",ut.strokeWidth.default).attr("role",fe.GRAPHICS_SYMBOL).attr("aria-roledescription","box").attr("aria-label",function(C){return C[i]}).transition().call(function(C){return n.services.transitions.setupTransition({transition:C,name:"boxplot-update-quartiles",animate:t})}).attr("d",function(C){var z=g.getDomainValue(C[i])-T/2,F=z+T,U=g.getRangeValue(Math[k?"max":"min"](C.quartiles.q_75,C.quartiles.q_25)),N=U+Math.abs(g.getRangeValue(C.quartiles.q_75)-g.getRangeValue(C.quartiles.q_25));return v.generateSVGPathString({x0:z,x1:F,y0:U,y1:N},w)}),P.append("path").merge(S.select("path.highlight-area")).attr("class","highlight-area").attr("opacity",0).attr("d",function(C){var z=g.getDomainValue(C[i])-T/2,F=z+T,U=g.getRangeValue(C.whiskers.min),N=g.getRangeValue(C.whiskers.max);return v.generateSVGPathString({x0:z,x1:F,y0:U,y1:N},w)}),P.append("path").merge(S.select("path.whisker.start")).attr("class",function(){return n.model.getColorClassName({classNameTypes:[ie.STROKE],originalClassName:"whisker start"})}).attr("stroke-width",ut.strokeWidth.thicker).attr("fill","none").transition().call(function(C){return n.services.transitions.setupTransition({transition:C,name:"boxplot-update-startingwhisker",animate:t})}).attr("d",function(C){var z=g.getDomainValue(C[i])-T/4,F=z+T/2,U=g.getRangeValue(C.whiskers.min),N=g.getRangeValue(C.whiskers.min);return v.generateSVGPathString({x0:z,x1:F,y0:U,y1:N},w)}),P.append("path").merge(S.select("path.median")).attr("fill","none").attr("class",function(){return n.model.getColorClassName({classNameTypes:[ie.STROKE],originalClassName:"median"})}).attr("stroke-width",2).transition().call(function(C){return n.services.transitions.setupTransition({transition:C,name:"boxplot-update-median",animate:t})}).attr("d",function(C){var z=g.getDomainValue(C[i])-T/2,F=z+T,U=g.getRangeValue(C.quartiles.q_50),N=U;return v.generateSVGPathString({x0:z,x1:F,y0:U,y1:N},w)}),P.append("path").merge(S.select("path.whisker.end")).attr("class",function(){return n.model.getColorClassName({classNameTypes:[ie.STROKE],originalClassName:"whisker end"})}).attr("stroke-width",ut.strokeWidth.thicker).attr("fill","none").transition().call(function(C){return n.services.transitions.setupTransition({transition:C,name:"boxplot-update-endingwhisker",animate:t})}).attr("d",function(C){var z=g.getDomainValue(C[i])-T/4,F=z+T/2,U=g.getRangeValue(C.whiskers.max),N=g.getRangeValue(C.whiskers.max);return v.generateSVGPathString({x0:z,x1:F,y0:U,y1:N},w)});var L=I.selectAll("circle.outlier").data(function(C){return C.outliers.map(function(z){var F;return F={min:C.whiskers.min,max:C.whiskers.max},F[i]=C[i],F.value=z,F})});L.exit().remove();var B=L.enter().append("circle");L.merge(B).attr("r",ut.circle.radius).attr("class",function(){return n.model.getColorClassName({classNameTypes:[ie.FILL,ie.STROKE],originalClassName:"outlier"})}).attr("fill-opacity",ut.circle.opacity.default).attr("cx",x).transition().call(function(C){return n.services.transitions.setupTransition({transition:C,name:"boxplot-update-circles",animate:t})}).attr("cy",O),this.addBoxEventListeners(),this.addCircleEventListeners()}},r.prototype.addBoxEventListeners=function(){var t=this,n=this.getOptions(),o=n.data.groupMapsTo;this.parent.selectAll("path.highlight-area").on("mouseover",function(a,i){var s=R(this),c=R(this.parentNode);c.select("path.box").classed("hovered",!0).attr("fill-opacity",ut.box.opacity.hovered),t.services.events.dispatchEvent(E.Tooltip.SHOW,{event:a,hoveredElement:s,items:[{label:n.tooltip.groupLabel,value:i[o],class:t.model.getColorClassName({classNameTypes:[ie.TOOLTIP]})},{label:"Minimum",value:i.whiskers.min},{label:"Q1",value:i.quartiles.q_25},{label:"Median",value:i.quartiles.q_50},{label:"Q3",value:i.quartiles.q_75},{label:"Maximum",value:i.whiskers.max},{label:"IQR",value:i.quartiles.q_75-i.quartiles.q_25}]}),t.services.events.dispatchEvent(E.Boxplot.BOX_MOUSEOVER,{event:a,element:s,datum:i})}).on("mousemove",function(a,i){var s=R(this);t.services.events.dispatchEvent(E.Boxplot.BOX_MOUSEMOVE,{event:a,element:s,datum:i}),t.services.events.dispatchEvent(E.Tooltip.MOVE,{event:a})}).on("click",function(a,i){t.services.events.dispatchEvent(E.Boxplot.BOX_CLICK,{event:a,element:R(this),datum:i})}).on("mouseout",function(a,i){var s=R(this),c=R(this.parentNode);c.select("path.box").classed("hovered",!1).attr("fill-opacity",ut.box.opacity.default),t.services.events.dispatchEvent(E.Boxplot.BOX_MOUSEOUT,{event:a,element:s,datum:i}),t.services.events.dispatchEvent(E.Tooltip.HIDE,{hoveredElement:s})})},r.prototype.addCircleEventListeners=function(){var t=this,n=this.getOptions(),o=n.data.groupMapsTo,a=this.services.cartesianScales.getRangeIdentifier();this.parent.selectAll("circle").on("mouseover",function(i,s){var c=R(this);c.classed("hovered",!0).attr("fill-opacity",ut.circle.opacity.hovered).classed("unfilled",!1),t.services.events.dispatchEvent(E.Tooltip.SHOW,{event:i,hoveredElement:c,items:[{label:n.tooltip.groupLabel,value:s[o],class:t.model.getColorClassName({classNameTypes:[ie.TOOLTIP]})},{label:"Outlier",value:s[a]}]}),t.services.events.dispatchEvent(E.Boxplot.OUTLIER_MOUSEOVER,{event:i,element:c,datum:s})}).on("mousemove",function(i,s){var c=R(this);t.services.events.dispatchEvent(E.Boxplot.OUTLIER_MOUSEMOVE,{event:i,element:c,datum:s}),t.services.events.dispatchEvent(E.Tooltip.MOVE,{event:i})}).on("click",function(i,s){t.services.events.dispatchEvent(E.Boxplot.OUTLIER_CLICK,{event:i,element:R(this),datum:s})}).on("mouseout",function(i,s){var c=R(this);c.classed("hovered",!1).attr("fill-opacity",ut.circle.opacity.default),t.services.events.dispatchEvent(E.Boxplot.OUTLIER_MOUSEOUT,{event:i,element:c,datum:s}),t.services.events.dispatchEvent(E.Tooltip.HIDE,{hoveredElement:c})})},r}(ve),DM=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Nt=function(e){DM(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="scatter",t.renderType=oe.SVG,t.handleChartHolderOnHover=function(n){t.parent.selectAll("circle.dot").transition("chart-holder-hover-scatter").call(function(o){return t.services.transitions.setupTransition({transition:o,name:"chart-holder-hover-scatter"})}).attr("opacity",1)},t.handleChartHolderOnMouseOut=function(n){t.parent.selectAll("circle.dot").transition("chart-holder-mouseout-scatter").call(function(o){return t.services.transitions.setupTransition({transition:o,name:"chart-holder-mouseout-scatter"})}).attr("opacity",0)},t.handleLegendOnHover=function(n){var o=n.detail.hoveredElement,a=t.getOptions().data.groupMapsTo;t.parent.selectAll("circle.dot").transition("legend-hover-scatter").call(function(i){return t.services.transitions.setupTransition({transition:i,name:"legend-hover-scatter"})}).attr("opacity",function(i){return i[a]!==o.datum().name?.3:1})},t.handleLegendMouseOut=function(n){t.parent.selectAll("circle.dot").transition("legend-mouseout-scatter").call(function(o){return t.services.transitions.setupTransition({transition:o,name:"legend-mouseout-scatter"})}).attr("opacity",1)},t}return r.prototype.init=function(){var t=this.services.events;t.addEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),t.addEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut);var n=this.configs.fadeInOnChartHolderMouseover;n&&(t.addEventListener(E.Chart.MOUSEOVER,this.handleChartHolderOnHover),t.addEventListener(E.Chart.MOUSEOUT,this.handleChartHolderOnMouseOut))},r.prototype.filterBasedOnZoomDomain=function(t){var n=this.services.cartesianScales.getDomainIdentifier(t),o=this.model.get("zoomDomain");return o!==void 0?t.filter(function(a){return a[n].getTime()>=o[0].getTime()&&a[n].getTime()<=o[1].getTime()}):t},r.prototype.getScatterData=function(){var t=this,n=this.getOptions(),o=this.configs.stacked,a;if(o){var i=Object.keys(n.axes).some(function(s){return n.axes[s].percentage});a=this.model.getStackedData({groups:this.configs.groups,percentage:i})}else a=this.model.getDisplayData(this.configs.groups).filter(function(s){var c=t.services.cartesianScales.getRangeIdentifier(s);return s[c]!==void 0&&s[c]!==null});return this.filterBasedOnZoomDomain(a)},r.prototype.render=function(t){var n=v.getProperty(this.getOptions(),"points","enabled")||v.getProperty(this.getOptions(),"bubble","enabled");if(!!n){var o=this.getComponentContainer({withinChartClip:!0}),a=this.getOptions(),i=a.data.groupMapsTo,s=this.services.cartesianScales.getDomainIdentifier(),c=o.selectAll("circle.dot").data(this.getScatterData(),function(f){return f[i]+"-"+f[s]});c.exit().attr("opacity",0).remove();var d=c.enter().append("circle").classed("dot",!0).attr("opacity",0),l=d.merge(c);this.styleCircles(l,t),this.addEventListeners()}},r.prototype.isDatapointThresholdAnomaly=function(t,n){var o=this,a=this.configs.handleThresholds;if(!a)return!1;var i=this.services.cartesianScales,s=i.getOrientation(),c=v.flipDomainAndRangeBasedOnOrientation(this.services.cartesianScales.getHighestDomainThreshold(),this.services.cartesianScales.getHighestRangeThreshold(),s),d=c[0],l=c[1],f=v.flipDomainAndRangeBasedOnOrientation(function(b,y){return o.services.cartesianScales.getDomainValue(b,y)},function(b,y){return o.services.cartesianScales.getRangeValue(b,y)},s),u=f[0],h=f[1],p=u(t,n),m=h(t,n);if(l&&d)return m<=l.scaleValue&&p>=d.scaleValue;if(l)return m<=l.scaleValue;if(d)return p>=d.scaleValue},r.prototype.styleCircles=function(t,n){var o=this,a=this.getOptions(),i=a.points,s=i.filled,c=i.fillOpacity,d=this.services,l=d.cartesianScales;d.transitions;var f=a.data.groupMapsTo,u=function(g,w){return l.getDomainValue(g,w)},h=function(g,w){return l.getRangeValue(g,w)},p=v.flipDomainAndRangeBasedOnOrientation(u,h,l.getOrientation()),m=p[0],b=p[1],y=this.configs.fadeInOnChartHolderMouseover;t.raise().classed("dot",!0).attr("class",function(g){var w=l.getDomainIdentifier(g),k=o.model.getIsFilled(g[f],g[w],g,s),_=k?[ie.FILL,ie.STROKE]:[ie.STROKE];return o.model.getColorClassName({classNameTypes:_,dataGroupName:g[f],originalClassName:"dot"})}).classed("threshold-anomaly",function(g,w){return o.isDatapointThresholdAnomaly(g,w)}).classed("filled",function(g){var w=l.getDomainIdentifier(g);return o.model.getIsFilled(g[f],g[w],g,s)}).classed("unfilled",function(g){var w=l.getDomainIdentifier(g);return!o.model.getIsFilled(g[f],g[w],g,s)}).transition().call(function(g){return o.services.transitions.setupTransition({transition:g,name:"scatter-update-enter",animate:n})}).attr("cx",m).attr("cy",b).attr("r",a.points.radius).style("fill",function(g){var w=l.getDomainIdentifier(g);if(o.model.getIsFilled(g[f],g[w],g,s))return o.model.getFillColor(g[f],g[w],g)}).style("stroke",function(g){var w=l.getDomainIdentifier(g);return o.model.getStrokeColor(g[f],g[w],g)}).attr("fill-opacity",s?c:1).attr("opacity",y?0:1).attr("role",fe.GRAPHICS_SYMBOL).attr("aria-roledescription","point").attr("aria-label",function(g){var w=l.getRangeIdentifier(g);return g[w]}),this.addEventListeners()},r.prototype.getTooltipAdditionalItems=function(t){return null},r.prototype.addEventListeners=function(){var t=this,n=t.getOptions().data.groupMapsTo;this.parent.selectAll("circle").on("mouseover",function(o,a){var i=R(this);i.classed("hovered",!0).attr("class",function(s){return t.model.getColorClassName({classNameTypes:[ie.FILL],dataGroupName:s[n],originalClassName:i.attr("class")})}).style("fill",function(s){var c=t.services.cartesianScales.getDomainIdentifier(s);return t.model.getFillColor(s[n],s[c],s)}).classed("unfilled",!1),t.services.events.dispatchEvent(E.Tooltip.SHOW,{event:o,hoveredElement:i,data:[a],additionalItems:t.getTooltipAdditionalItems(a)}),t.services.events.dispatchEvent(E.Scatter.SCATTER_MOUSEOVER,{event:o,element:i,datum:a})}).on("mousemove",function(o,a){var i=R(this);t.services.events.dispatchEvent(E.Scatter.SCATTER_MOUSEMOVE,{event:o,element:i,datum:a}),t.services.events.dispatchEvent(E.Tooltip.MOVE,{event:o})}).on("click",function(o,a){t.services.events.dispatchEvent(E.Scatter.SCATTER_CLICK,{event:o,element:R(this),datum:a})}).on("mouseout",function(o,a){var i=R(this);if(i.classed("hovered",!1),!t.configs.filled){var s=t.getOptions().points.filled,c=t.services.cartesianScales.getDomainIdentifier(a),d=t.model.getIsFilled(a[n],a[c],a,s);i.classed("unfilled",!d).style("fill",function(l){return d||s?t.model.getFillColor(l[n],l[c],l):null})}t.services.events.dispatchEvent(E.Scatter.SCATTER_MOUSEOUT,{event:o,element:i,datum:a}),t.services.events.dispatchEvent(E.Tooltip.HIDE,{hoveredElement:i})})},r.prototype.destroy=function(){this.parent.selectAll("circle").on("mousemove",null).on("mouseout",null);var t=this.services.events;t.removeEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),t.removeEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut),t.removeEventListener(E.Chart.MOUSEOVER,this.handleChartHolderOnHover),t.removeEventListener(E.Chart.MOUSEOUT,this.handleChartHolderOnMouseOut)},r}(ve),RM=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),FM=function(e){RM(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="bubble",t.renderType=oe.SVG,t}return r.prototype.getRadiusScale=function(t){var n=this.getOptions(),o=n.bubble.radiusMapsTo,a=t.data(),i=a.map(function(l){return l[o]}).filter(function(l){return l}),s=D.getHTMLElementSize(this.services.domUtils.getMainContainer()),c=i.length>0,d=c?Rt(i):[1,1];return Ht().domain(d).range(c?n.bubble.radiusRange(s,a):[4,4])},r.prototype.styleCircles=function(t,n){var o=this,a=this.getOptions(),i=a.bubble.radiusMapsTo,s=this.getRadiusScale(t),c=a.data.groupMapsTo,d=this.services.cartesianScales,l=function(m,b){return d.getDomainValue(m,b)},f=function(m,b){return d.getRangeValue(m,b)},u=v.flipDomainAndRangeBasedOnOrientation(l,f,d.getOrientation()),h=u[0],p=u[1];t.raise().classed("dot",!0).attr("role",fe.GRAPHICS_SYMBOL).attr("aria-label",function(m){var b=d.getRangeIdentifier(m);return m[b]}).transition().call(function(m){return o.services.transitions.setupTransition({transition:m,name:"bubble-update-enter",animate:n})}).attr("cx",h).attr("cy",p).attr("r",function(m){return s(m[i]||1)}).attr("class",function(m){return o.model.getColorClassName({classNameTypes:[ie.FILL,ie.STROKE],dataGroupName:m[c],originalClassName:"dot"})}).style("fill",function(m){var b=o.services.cartesianScales.getDomainIdentifier(m);return o.model.getFillColor(m[c],m[b],m)}).style("stroke",function(m){var b=o.services.cartesianScales.getDomainIdentifier(m);return o.model.getStrokeColor(m[c],m[b],m)}).attr("fill-opacity",a.bubble.fillOpacity).attr("opacity",1)},r.prototype.getTooltipAdditionalItems=function(t){var n=v.getProperty(this.getOptions(),"bubble");return[{label:v.getProperty(n,"radiusLabel"),value:t[v.getProperty(n,"radiusMapsTo")]}]},r}(Nt),NM=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),VM=function(e){NM(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="bullet",t.renderType=oe.SVG,t.handleLegendOnHover=function(n){var o=n.detail.hoveredElement,a=t.getOptions().data.groupMapsTo;t.parent.selectAll("path.bar").transition("legend-hover-simple-bar").call(function(i){return t.services.transitions.setupTransition({transition:i,name:"legend-hover-simple-bar"})}).attr("opacity",function(i){return i[a]!==o.datum().name?.3:1})},t.handleLegendMouseOut=function(n){t.parent.selectAll("path.bar").transition("legend-mouseout-simple-bar").call(function(o){return t.services.transitions.setupTransition({transition:o,name:"legend-mouseout-simple-bar"})}).attr("opacity",1)},t}return r.prototype.init=function(){var t=this.services.events;t.addEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),t.addEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},r.prototype.render=function(t){var n=this,o=this.getOptions(),a=o.data.groupMapsTo,i=this.getComponentContainer({withinChartClip:!0}),s=this.model.getDisplayData(this.configs.groups),c=this.services.cartesianScales.getRangeScale(),d=this.services.cartesianScales.getRangeIdentifier(),l=c.range(),f=l[0],u=l[1],h=c.domain();h[0];var p=h[1],m=function(){var w=[];s.forEach(function(x){x.ranges?x.ranges.forEach(function(O,M){O!=null&&O<p&&w.push({datum:x,value:O,order:M+1})}):w.push({datum:x,order:1})});var k=D.appendOrSelect(i,"g.range-boxes").selectAll("path.range-box").data(w,function(x){return x[a]+"-"+x.order});k.exit().attr("opacity",0).remove();var _=k.enter().append("path").attr("opacity",0);_.merge(k).attr("class",function(x){return"range-box order-"+x.order}).transition().call(function(x){return n.services.transitions.setupTransition({transition:x,name:"bullet-range-box-update-enter",animate:t})}).attr("d",function(x,O){var M=16,T,A,S,P;return x.order===1?(T=n.services.cartesianScales.getDomainValue(x.datum,O)-M/2,A=T+M,S=u-2,P=f+1):(T=n.services.cartesianScales.getDomainValue(x.datum,O)-M/2,A=T+M,S=n.services.cartesianScales.getRangeValue(x.value,O),P=u),v.generateSVGPathString({x0:T,x1:A,y0:S,y1:P},n.services.cartesianScales.getOrientation())}).attr("opacity",1)},b=function(){var w=D.appendOrSelect(i,"g.bars").selectAll("path.bar").data(s,function(_){return _[a]});w.exit().attr("opacity",0).remove();var k=w.enter().append("path").attr("opacity",0);k.merge(w).classed("bar",!0).transition().call(function(_){return n.services.transitions.setupTransition({transition:_,name:"bullet-bar-update-enter",animate:t})}).attr("class",function(_){return n.model.getColorClassName({classNameTypes:[ie.FILL],dataGroupName:_[a],originalClassName:"bar"})}).style("fill",function(_){return n.model.getFillColor(_[a])}).attr("d",function(_,x){var O=8,M=n.services.cartesianScales.getDomainValue(_,x)-O/2,T=M+O,A=n.services.cartesianScales.getRangeValue(0)+1,S=n.services.cartesianScales.getRangeValue(_,x);return v.generateSVGPathString({x0:M,x1:T,y0:A,y1:S},n.services.cartesianScales.getOrientation())}).attr("opacity",1).attr("role",fe.GRAPHICS_SYMBOL).attr("aria-roledescription","bar").attr("aria-label",function(_){return _.value})},y=function(){var w=D.appendOrSelect(i,"g.markers").selectAll("path.marker").data(s.filter(function(_){return v.getProperty(_,"marker")!==null}),function(_){return _[a]});w.exit().attr("opacity",0).remove();var k=w.enter().append("path").attr("opacity",0);k.merge(w).classed("marker",!0).transition().call(function(_){return n.services.transitions.setupTransition({transition:_,name:"bullet-marker-update-enter",animate:t})}).attr("d",function(_,x){var O=24,M=n.services.cartesianScales.getDomainValue(_,x)-O/2,T=M+O,A=n.services.cartesianScales.getRangeValue(_.marker,x),S=A;return v.generateSVGPathString({x0:M,x1:T,y0:A,y1:S},n.services.cartesianScales.getOrientation())}).attr("opacity",1)},g=function(){var w=[];s.filter(function(x){return v.getProperty(x,"marker")!==null}).forEach(function(x){var O=x.marker,M=x[d];w=w.concat([{datum:x,value:O*.25,barValue:M},{datum:x,value:O*.5,barValue:M},{datum:x,value:O*.75,barValue:M}])});var k=D.appendOrSelect(i,"g.quartiles").selectAll("path.quartile").data(w,function(x){return x[a]});k.exit().attr("opacity",0).remove();var _=k.enter().append("path").attr("opacity",0);_.merge(k).attr("class",function(x){return"quartile "+(x.value<=x.barValue?"over-bar":"")}).transition().call(function(x){return n.services.transitions.setupTransition({transition:x,name:"bullet-quartile-update-enter",animate:t})}).attr("d",function(x,O){var M=x.datum,T=x.value,A=4;M.ranges&&M.ranges.indexOf(T)!==-1&&(A=8);var S=n.services.cartesianScales.getDomainValue(M,O)-A/2,P=S+A,I=n.services.cartesianScales.getRangeValue(T,O),L=I;return v.generateSVGPathString({x0:S,x1:P,y0:I,y1:L},n.services.cartesianScales.getOrientation())}).attr("opacity",1)};m(),b(),y(),g(),this.addEventListeners()},r.prototype.addEventListeners=function(){var t=this,n=this.getOptions(),o=n.data.groupMapsTo,a=this.services.cartesianScales.getRangeIdentifier();this.parent.selectAll("path.bar").on("mouseover",function(i,s){var c=R(this);c.classed("hovered",!0),t.services.events.dispatchEvent(E.Bar.BAR_MOUSEOVER,{event:i,element:c,datum:s});var d=v.getProperty(n,"bullet","performanceAreaTitles"),l=t.model.getMatchingRangeIndexForDatapoint(s);t.services.events.dispatchEvent(E.Tooltip.SHOW,{event:i,hoveredElement:c,items:[{label:n.tooltip.groupLabel||"Group",value:s[o],class:t.model.getColorClassName({classNameTypes:[ie.TOOLTIP],dataGroupName:s[o]})},{label:"Value",value:s[a]},{label:"Target",value:s.marker},{label:"Percentage",value:Math.floor(s[a]/s.marker*100)+"%"},{label:"Performance",value:d[l]}]})}).on("mousemove",function(i,s){t.services.events.dispatchEvent(E.Bar.BAR_MOUSEMOVE,{event:i,element:R(this),datum:s}),t.services.events.dispatchEvent(E.Tooltip.MOVE,{event:i})}).on("click",function(i,s){t.services.events.dispatchEvent(E.Bar.BAR_CLICK,{event:i,element:R(this),datum:s})}).on("mouseout",function(i,s){var c=R(this);c.classed("hovered",!1),t.services.events.dispatchEvent(E.Bar.BAR_MOUSEOUT,{event:i,element:c,datum:s}),t.services.events.dispatchEvent(E.Tooltip.HIDE,{hoveredElement:c})})},r.prototype.destroy=function(){this.parent.selectAll("path.bar").on("mouseover",null).on("mousemove",null).on("mouseout",null);var t=this.services.events;t.removeEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),t.removeEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},r}(ve),$M=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),HM=function(e){$M(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="histogram",t.renderType=oe.SVG,t.handleLegendOnHover=function(n){var o=n.detail.hoveredElement,a=t.getOptions(),i=a.data.groupMapsTo;t.parent.selectAll("path.bar").transition("legend-hover-bar").call(function(s){return t.services.transitions.setupTransition({transition:s,name:"legend-hover-bar"})}).attr("opacity",function(s){return s[i]!==o.datum().name?.3:1})},t.handleLegendMouseOut=function(n){t.parent.selectAll("path.bar").transition("legend-mouseout-bar").call(function(o){return t.services.transitions.setupTransition({transition:o,name:"legend-mouseout-bar"})}).attr("opacity",1)},t}return r.prototype.init=function(){var t=this.services.events;t.addEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),t.addEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},r.prototype.render=function(t){var n=this,o=this.getComponentContainer(),a=this.model.getOptions(),i=a.groupIdentifier,s=a.data.groupMapsTo,c=this.model.getBinnedStackedData(),d=this.services.cartesianScales.getMainXScale(),l=o.selectAll("g.bars").data(c,function(u){return Te(u,"0."+s)});l.exit().attr("opacity",0).remove(),l.enter().append("g").classed("bars",!0).attr("role",fe.GROUP);var f=o.selectAll("g.bars").selectAll("path.bar").data(function(u){return u});f.exit().remove(),f.enter().append("path").merge(f).classed("bar",!0).attr(i,function(u,h){return h}).transition().call(function(u){return n.services.transitions.setupTransition({transition:u,name:"histogram-bar-update-enter",animate:t})}).attr("class",function(u){return n.model.getColorClassName({classNameTypes:[ie.FILL],dataGroupName:u[s],originalClassName:"bar"})}).style("fill",function(u){return n.model.getFillColor(u[s])}).attr("d",function(u,h){var p=Te(u,"data");if(!!p){var m=d(p.x1)-d(p.x0)-1,b=n.services.cartesianScales.getDomainValue(p.x0,h),y=b+m,g=n.services.cartesianScales.getRangeValue(u[0],h),w=n.services.cartesianScales.getRangeValue(u[1],h);return Math.abs(w-g)>0&&Math.abs(w-g)>a.bars.dividerSize&&(n.services.cartesianScales.getOrientation()===He.VERTICAL?w+=1:w-=1),v.generateSVGPathString({x0:b,x1:y,y0:g,y1:w},n.services.cartesianScales.getOrientation())}}).attr("opacity",1).attr("role",fe.GRAPHICS_SYMBOL).attr("aria-roledescription","bar").attr("aria-label",function(u){return v.getProperty(u,"data",u[s])}),this.addEventListeners()},r.prototype.addEventListeners=function(){var t=this.model.getOptions(),n=t.data.groupMapsTo,o=this;this.parent.selectAll("path.bar").on("mouseover",function(a,i){var s=R(this);s.classed("hovered",!0);var c=parseFloat(Te(i,"data.x0")),d=parseFloat(Te(i,"data.x1")),l=o.services.cartesianScales.getRangeAxisPosition(),f=o.services.cartesianScales.getScaleLabel(l);o.services.events.dispatchEvent(E.Tooltip.SHOW,{event:a,hoveredElement:s,items:[{label:Te(t,"bins.rangeLabel")||"Range",value:c+" \u2013 "+d},{label:t.tooltip.groupLabel||"Group",value:i[n],class:o.model.getColorClassName({classNameTypes:[ie.TOOLTIP],dataGroupName:i[n]})},{label:f,value:Te(i,"data."+i[n])}]})}).on("mousemove",function(a,i){o.services.events.dispatchEvent(E.Tooltip.MOVE,{event:a})}).on("mouseout",function(a,i){var s=R(this);s.classed("hovered",!1),o.services.events.dispatchEvent(E.Tooltip.HIDE)})},r.prototype.destroy=function(){this.parent.selectAll("path.bar").on("mouseover",null).on("mousemove",null).on("mouseout",null);var t=this.services.events;t.removeEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),t.removeEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},r}(ve),GM=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),wn=function(e){GM(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="line",t.renderType=oe.SVG,t.handleLegendOnHover=function(n){var o=n.detail.hoveredElement;t.parent.selectAll("path.line").transition("legend-hover-line").call(function(a){return t.services.transitions.setupTransition({transition:a,name:"legend-hover-line"})}).attr("opacity",function(a){return a.name!==o.datum().name?Lt.opacity.unselected:Lt.opacity.selected})},t.handleLegendMouseOut=function(n){t.parent.selectAll("path.line").transition("legend-mouseout-line").call(function(o){return t.services.transitions.setupTransition({transition:o,name:"legend-mouseout-line"})}).attr("opacity",Lt.opacity.selected)},t}return r.prototype.init=function(){var t=this.services.events;t.addEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),t.addEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},r.prototype.render=function(t){var n=this;t===void 0&&(t=!0);var o=this.getComponentContainer({withinChartClip:!0}),a=this.services,i=a.cartesianScales,s=a.curves,c=function(_,x){return i.getDomainValue(_,x)},d=function(_,x){return i.getRangeValue(_,x)},l=v.flipDomainAndRangeBasedOnOrientation(c,d,i.getOrientation()),f=l[0],u=l[1],h=this.getOptions(),p=_i().x(f).y(u).curve(s.getD3Curve()).defined(function(_,x){var O=i.getRangeIdentifier(_),M=_[O];return M!=null}),m=[];if(this.configs.stacked){var b=Object.keys(h.axes).some(function(_){return h.axes[_].percentage}),y=h.data.groupMapsTo,g=this.model.getStackedData({groups:this.configs.groups,percentage:b});m=g.map(function(_){var x=n.services.cartesianScales.getDomainIdentifier(_),O=n.services.cartesianScales.getRangeIdentifier(_);return{name:v.getProperty(_,0,y),data:_.map(function(M){var T;return T={},T[x]=M.data.sharedStackKey,T[y]=M[y],T[O]=M[1],T}),hidden:!v.some(_,function(M){return M[0]!==M[1]})}})}else m=this.model.getGroupedData(this.configs.groups);var w=o.selectAll("path.line").data(m,function(_){return _.name});w.exit().attr("opacity",0).remove();var k=w.enter().append("path").classed("line",!0).attr("opacity",0);k.merge(w).data(m,function(_){return _.name}).attr("class",function(_){return n.model.getColorClassName({classNameTypes:[ie.STROKE],dataGroupName:_.name,originalClassName:"line"})}).style("stroke",function(_){return n.model.getStrokeColor(_.name)}).attr("role",fe.GRAPHICS_SYMBOL).attr("aria-roledescription","line").attr("aria-label",function(_){var x=_.data;return x.map(function(O){var M=n.services.cartesianScales.getRangeIdentifier(O);return O[M]}).join(",")}).transition().call(function(_){return n.services.transitions.setupTransition({transition:_,name:"line-update-enter",animate:t})}).attr("opacity",function(_){return _.hidden?0:1}).attr("d",function(_){var x=_.data;return p(x)})},r.prototype.destroy=function(){var t=this.services.events;t.removeEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),t.removeEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},r}(ve),jM=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),qM=function(e){jM(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="lollipop",t.renderType=oe.SVG,t.handleScatterOnHover=function(n){var o=n.detail,a=t.getOptions(),i=a.data.groupMapsTo;t.parent.selectAll("line.line").attr("stroke-width",function(s){return s[i]!==o.datum[i]?Lt.weight.unselected:Lt.weight.selected})},t.handleScatterOnMouseOut=function(n){t.parent.selectAll("line.line").attr("stroke-width",Lt.weight.unselected)},t.handleLegendOnHover=function(n){var o=n.detail.hoveredElement,a=t.getOptions(),i=a.data.groupMapsTo;t.parent.selectAll("line.line").transition("legend-hover-line").call(function(s){return t.services.transitions.setupTransition({transition:s,name:"legend-hover-line"})}).attr("opacity",function(s){return s[i]!==o.datum().name?Lt.opacity.unselected:Lt.opacity.selected})},t.handleLegendMouseOut=function(n){t.parent.selectAll("line.line").transition("legend-mouseout-line").call(function(o){return t.services.transitions.setupTransition({transition:o,name:"legend-mouseout-line"})}).attr("opacity",Lt.opacity.selected)},t}return r.prototype.init=function(){var t=this.services.events;t.addEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),t.addEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},r.prototype.render=function(t){var n=this,o=this.getComponentContainer({withinChartClip:!0}),a=this.model.getOptions(),i=a.data.groupMapsTo,s=this.services.cartesianScales,c=s.getMainXScale(),d=s.getMainYScale(),l=s.getDomainIdentifier(),f=function(k,_){return s.getDomainValue(k,_)},u=function(k,_){return s.getRangeValue(k,_)},h=s.getOrientation(),p=v.flipDomainAndRangeBasedOnOrientation(f,u,h),m=p[0],b=p[1],y=o.selectAll("line.line").data(this.getScatterData(),function(k){return k[i]+"-"+k[l]});y.exit().attr("opacity",0).remove();var g=y.enter().append("line").attr("opacity",0),w=g.merge(y).classed("line",!0).attr("class",function(k){return n.model.getColorClassName({classNameTypes:[ie.STROKE],dataGroupName:k[i],originalClassName:"line"})}).transition().call(function(k){return n.services.transitions.setupTransition({transition:k,name:"lollipop-line-update-enter",animate:t})}).style("stroke",function(k){return n.model.getFillColor(k[i],k[l],k)}).attr("opacity",1);h===He.HORIZONTAL?w.attr("y1",b).attr("y2",b).attr("x1",c.range()[0]).attr("x2",function(k,_){return m(k,_)-a.points.radius}):w.attr("x1",m).attr("x2",m).attr("y1",d.range()[0]).attr("y2",function(k,_){return b(k,_)+a.points.radius}),this.addScatterPointEventListeners()},r.prototype.addScatterPointEventListeners=function(){this.services.events.addEventListener(E.Scatter.SCATTER_MOUSEOVER,this.handleScatterOnHover),this.services.events.addEventListener(E.Scatter.SCATTER_MOUSEOUT,this.handleScatterOnMouseOut)},r.prototype.destroy=function(){var t=this.services.events;t.removeEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),t.removeEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut),t.removeEventListener(E.Scatter.SCATTER_MOUSEOVER,this.handleScatterOnHover),t.removeEventListener(E.Scatter.SCATTER_MOUSEOUT,this.handleScatterOnMouseOut)},r}(Nt),WM=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Xg=function(e){WM(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="scatter-stacked",t.renderType=oe.SVG,t}return r.prototype.render=function(t){var n=this,o=v.getProperty(this.getOptions(),"points","enabled");if(!!o){var a=this.getComponentContainer({withinChartClip:!0}),i=this.getOptions(),s=i.data.groupMapsTo,c=Object.keys(i.axes).some(function(m){return i.axes[m].percentage}),d=this.model.getStackedData({groups:this.configs.groups,percentage:c}),l=a.selectAll("g.dots").data(d,function(m){return v.getProperty(m,0,s)});l.exit().attr("opacity",0).remove();var f=l.enter().append("g").classed("dots",!0).attr("role",fe.GROUP),u=f.merge(l).selectAll("circle.dot").data(function(m){return m});u.exit().attr("opacity",0).remove();var h=u.enter().append("circle").classed("dot",!0).attr("opacity",0),p=h.merge(u).datum(function(m){var b,y=m[s],g=n.services.cartesianScales.getDomainIdentifier(m),w=n.services.cartesianScales.getRangeIdentifier(m);return b={},b[s]=y,b[g]=m.data.sharedStackKey,b[w]=m[1],b});this.styleCircles(p,t),this.addEventListeners()}},r.prototype.getTooltipData=function(t,n){var o=this,a=this.getOptions(),i=a.data.groupMapsTo,s=Object.keys(a.axes).some(function(l){return a.axes[l].percentage}),c=this.model.getStackedData({groups:this.configs.groups,percentage:s}),d=[];return c.forEach(function(l,f){l.forEach(function(u,h){var p,m=u[i],b=u.data.sharedStackKey,y=u.data[m],g=u[1],w=o.services.cartesianScales.getDomainIdentifier(u),k=o.services.cartesianScales.getRangeIdentifier(u);y!=null&&t===o.services.cartesianScales.getDomainValue(b)&&n===o.services.cartesianScales.getRangeValue(g)&&(s&&(y=o.model.getStackedData({groups:o.configs.groups})[f][h].data[m]),y!==null&&d.push((p={},p[i]=m,p[w]=b,p[k]=y,p)))})}),this.model.getDisplayData(this.configs.groups).filter(function(l){var f=o.services.cartesianScales.getDomainIdentifier(l),u=o.services.cartesianScales.getRangeIdentifier(l);return d.find(function(h){return h[i]==l[i]&&h[f]==l[f]&&h[u]==l[u]})!==void 0})},r}(Nt),YM=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();function XM(e,r){var t=this,n=Lo(this._current,e);return function(o){return t._current=n(o),r(t._current)}}var Zg=function(e){YM(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="pie",t.renderType=oe.SVG,t.handleLegendOnHover=function(n){var o=n.detail.hoveredElement,a=t.getOptions().data.groupMapsTo;t.parent.selectAll("path.slice").transition("legend-hover-bar").call(function(i){return t.services.transitions.setupTransition({transition:i,name:"legend-hover-bar"})}).attr("opacity",function(i){return i.data[a]!==o.datum().name?.3:1})},t.handleLegendMouseOut=function(n){t.parent.selectAll("path.slice").transition("legend-mouseout-bar").call(function(o){return t.services.transitions.setupTransition({transition:o,name:"legend-mouseout-bar"})}).attr("opacity",1)},t}return r.prototype.init=function(){var t=this.services.events;t.addEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),t.addEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},r.prototype.getInnerRadius=function(){return Se.innerRadius},r.prototype.render=function(t){var n=this;t===void 0&&(t=!0);var o=this,a=this.getComponentContainer(),i=this.getOptions(),s=i.data.groupMapsTo,c=i.pie.valueMapsTo,d=this.model.getDisplayData().filter(function(L){return L[c]>0}),l=this.computeRadius();this.arc=_o().innerRadius(this.getInnerRadius()).outerRadius(l),this.hoverArc=_o().innerRadius(this.getInnerRadius()).outerRadius(l+Se.hoverArc.outerRadiusOffset);var f=l4().value(function(L){return L[c]}).sort(v.getProperty(i,"pie","sortFunction")).padAngle(Se.padAngle),u=f(d),h=D.appendOrSelect(a,"g.slices").attr("role",fe.GROUP).attr("data-name","slices"),p=h.selectAll("path.slice").data(u,function(L){return L.data[s]});p.exit().attr("opacity",0).remove();var m=p.enter().append("path").classed("slice",!0).attr("opacity",0),b=m.merge(p).attr("class",function(L){return n.model.getColorClassName({classNameTypes:[ie.FILL],dataGroupName:L.data[s],originalClassName:"slice"})}).style("fill",function(L){return o.model.getFillColor(L.data[s])}).attr("d",this.arc);b.transition().call(function(L){return n.services.transitions.setupTransition({transition:L,name:"pie_slice_enter_update",animate:t})}).attr("opacity",1).attr("role",fe.GRAPHICS_SYMBOL).attr("aria-roledescription","slice").attr("aria-label",function(L){return L[c]+", "+(v.convertValueToPercentage(L.data[c],d,c)+"%")}).attrTween("d",function(L){return XM.bind(this)(L,o.arc)});var y=i.pie.labels.enabled,g=y?u.filter(function(L){return L.data[c]>0}):[],w=D.appendOrSelect(a,"g.labels").attr("role",fe.GROUP).attr("data-name","labels"),k=w.selectAll("text.pie-label").data(g,function(L){return L.data[s]});k.exit().attr("opacity",0).remove();var _=k.enter().append("text").classed("pie-label",!0),x=[];_.merge(k).style("text-anchor","middle").text(function(L){return i.pie.labels.formatter?i.pie.labels.formatter(L):v.convertValueToPercentage(L.data[c],d,c)+"%"}).datum(function(L){var B=l+7,C=(L.endAngle-L.startAngle)/2+L.startAngle,z=C/Math.PI*180,F=this.getComputedTextLength();return L.textOffsetX=F/2,L.textOffsetY=z>90&&z<270?10:0,L.xPosition=(L.textOffsetX+B)*Math.sin(C),L.yPosition=(L.textOffsetY+B)*-Math.cos(C),L}).attr("transform",function(L,B){var C=g.length,z=(L.endAngle-L.startAngle)*(180/Math.PI);if(B>=C-2&&z<Se.callout.minSliceDegree){var F=void 0,U=void 0;return L.index===C-1?(F=L.xPosition+Se.callout.offsetX+Se.callout.textMargin+L.textOffsetX,U=L.yPosition-Se.callout.offsetY,L.direction=no.RIGHT,x.push(L)):(F=L.xPosition-Se.callout.offsetX-L.textOffsetX-Se.callout.textMargin,U=L.yPosition-Se.callout.offsetY,L.direction=no.LEFT,x.push(L)),"translate("+F+", "+U+")"}return"translate("+L.xPosition+", "+L.yPosition+")"}),this.renderCallouts(x);var O=v.getProperty(i,"donut")?"donut":"pie",M=v.getProperty(i,O,"alignment"),T=D.getSVGElementSize(this.getParent(),{useAttrs:!0}).width,A=y?Se.xOffset:0,S=y?Se.yOffset:0,P=l+A;M===$e.CENTER?P=T/2:M===$e.RIGHT&&(P=T-l-Se.xOffset);var I=l+S;x.length>0&&(I+=Se.yOffsetCallout),a.attr("x",P+7).attr("y",I),this.addEventListeners()},r.prototype.renderCallouts=function(t){var n=D.appendOrSelect(this.getComponentContainer(),"g.callouts").attr("role",fe.GROUP).attr("data-name","callouts"),o=n.selectAll("g.callout").data(t);o.exit().remove();var a=o.enter().append("g").classed("callout",!0).attr("role",fe.GROUP).attr("aria-roledescription","label callout");a.merge(o).datum(function(c){var d=c.xPosition,l=c.yPosition,f=c.direction;return f===no.RIGHT?(c.startPos={x:d,y:l+c.textOffsetY},c.endPos={x:d+Se.callout.offsetX,y:l-Se.callout.offsetY+c.textOffsetY},c.intersectPointX=c.endPos.x-Se.callout.horizontalLineLength):(c.startPos={x:d,y:l+c.textOffsetY},c.endPos={x:d-Se.callout.offsetX,y:l-Se.callout.offsetY+c.textOffsetY},c.intersectPointX=c.endPos.x+Se.callout.horizontalLineLength),c});var i=a.append("line").classed("vertical-line",!0);i.merge(n.selectAll("line.vertical-line")).datum(function(c){return R(this.parentNode).datum()}).style("stroke-width","1px").attr("x1",function(c){return c.startPos.x}).attr("y1",function(c){return c.startPos.y}).attr("x2",function(c){return c.intersectPointX}).attr("y2",function(c){return c.endPos.y});var s=a.append("line").classed("horizontal-line",!0);s.merge(n.selectAll("line.horizontal-line")).datum(function(c){return R(this.parentNode).datum()}).style("stroke-width","1px").attr("x1",function(c){return c.intersectPointX}).attr("y1",function(c){return c.endPos.y}).attr("x2",function(c){return c.endPos.x}).attr("y2",function(c){return c.endPos.y})},r.prototype.addEventListeners=function(){var t=this;this.parent.selectAll("path.slice").on("mouseover",function(n,o){var a=R(this);a.classed("hovered",!0).transition("pie_slice_mouseover").call(function(c){return t.services.transitions.setupTransition({transition:c,name:"pie_slice_mouseover"})}).attr("d",t.hoverArc),t.services.events.dispatchEvent(E.Pie.SLICE_MOUSEOVER,{event:n,element:R(this),datum:o});var i=t.getOptions().data.groupMapsTo,s=t.getOptions().pie.valueMapsTo;t.services.events.dispatchEvent(E.Tooltip.SHOW,{event:n,hoveredElement:a,items:[{label:o.data[i],value:o.data[s]}]})}).on("mousemove",function(n,o){var a=R(this);t.services.events.dispatchEvent(E.Pie.SLICE_MOUSEMOVE,{event:n,element:a,datum:o}),t.services.events.dispatchEvent(E.Tooltip.MOVE,{event:n})}).on("click",function(n,o){t.services.events.dispatchEvent(E.Pie.SLICE_CLICK,{event:n,element:R(this),datum:o})}).on("mouseout",function(n,o){var a=R(this);a.classed("hovered",!1).transition("pie_slice_mouseout").call(function(i){return t.services.transitions.setupTransition({transition:i,name:"pie_slice_mouseout"})}).attr("d",t.arc),t.services.events.dispatchEvent(E.Pie.SLICE_MOUSEOUT,{event:n,element:a,datum:o}),t.services.events.dispatchEvent(E.Tooltip.HIDE,{hoveredElement:a})})},r.prototype.computeRadius=function(){var t=D.getSVGElementSize(this.parent,{useAttrs:!0}),n=t.width,o=t.height,a=this.getOptions(),i=Math.min(n,o)/2,s=a.pie.labels.enabled;return s?i+Se.radiusOffset:i},r}(ve),ZM=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),au="4,10 8,6 12,10",iu="12,6 8,10 4,6",KM=function(e){ZM(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="gauge",t.renderType=oe.SVG,t}return r.prototype.getValue=function(){var t,n,o=this.model.getData(),a=(n=(t=o.find(function(i){return i.group==="value"}))===null||t===void 0?void 0:t.value,n!=null?n:null);return a},r.prototype.getValueRatio=function(){var t=v.clamp(this.getValue(),0,100);return t/100},r.prototype.getDelta=function(){var t,n,o=this.model.getData(),a=(n=(t=o.find(function(i){return i.group==="delta"}))===null||t===void 0?void 0:t.value,n!=null?n:null);return a},r.prototype.getArcRatio=function(){var t=this.getOptions(),n=v.getProperty(t,"gauge","type"),o=n===Ur.FULL?1:.5;return o},r.prototype.getArcSize=function(){return this.getArcRatio()*Math.PI*2},r.prototype.getStartAngle=function(){var t=this.getArcSize();return t===2*Math.PI?0:-t/2},r.prototype.getArrow=function(t){var n=this.getOptions(),o=v.getProperty(n,"gauge","deltaArrow","direction");switch(o){case ka.UP:return au;case ka.DOWN:return iu;default:return t>0?au:iu}},r.prototype.render=function(t){var n=this,o=this.getComponentContainer().attr("width","100%").attr("height","100%"),a=this.getOptions(),i=this.getValue(),s=this.getValueRatio(),c=this.getArcSize(),d=this.getStartAngle(),l=s*c,f=d+l,u=d+c,h=this.computeRadius(),p=this.getInnerRadius();this.backgroundArc=_o().innerRadius(p).outerRadius(h).startAngle(f).endAngle(u),this.arc=_o().innerRadius(p).outerRadius(h).startAngle(d).endAngle(f),D.appendOrSelect(o,"path.arc-background").attr("d",this.backgroundArc);var m=o.selectAll("path.arc-foreground").data([i]),b=m.enter().append("path");b.merge(m).attr("class",this.model.getColorClassName({classNameTypes:[ie.FILL],dataGroupName:"value",originalClassName:"arc-foreground"})).style("fill",function(k){return v.getProperty(n.getOptions(),"color","scale","value")}).attr("d",this.arc).attr("role",fe.GRAPHICS_SYMBOL).attr("aria-roledescription","value").attr("aria-label",function(k){return k}),this.drawValueNumber(),this.drawDelta(),m.exit().remove();var y=v.getProperty(a,"gauge","alignment"),g=D.getSVGElementSize(this.getParent(),{useAttrs:!0}).width,w=h;y===$e.CENTER?w=g/2:y===$e.RIGHT&&(w=g-h),o.attr("x",w).attr("y",h),this.addEventListeners()},r.prototype.drawValueNumber=function(){var t=this.getComponentContainer(),n=this.getOptions(),o=v.getProperty(n,"gauge","type"),a=this.getValue(),i=this.getDelta(),s=this.computeRadius(),c=v.getProperty(n,"gauge","valueFontSize"),d=v.getProperty(n,"gauge","deltaFontSize"),l=v.getProperty(n,"gauge","numberSpacing"),f=v.getProperty(n,"gauge","showPercentageSymbol"),u=0;o===Ur.FULL&&!i?u=d(s):o===Ur.SEMI&&i&&(u=-(d(s)+l));var h=D.appendOrSelect(t,"g.gauge-numbers").attr("transform","translate(0, "+u+")"),p=c(s),m=D.appendOrSelect(h,"g.gauge-value-number"),b=v.getProperty(n,"gauge","numberFormatter"),y=m.selectAll("text.gauge-value-number").data([a]);y.enter().append("text").attr("class","gauge-value-number").merge(y).style("font-size",p+"px").attr("text-anchor","middle").text(function(T){return b(T)});var g=D.getSVGElementSize(D.appendOrSelect(t,"text.gauge-value-number"),{useBBox:!0}).width,w=p/2,k=f?"%":"",_=D.appendOrSelect(m,"text.gauge-value-symbol").style("font-size",w+"px").attr("x",g/2).text(k),x=D.getSVGElementSize(_,{useBBox:!0}),O=x.width,M=x.height;_.attr("y","-"+M/2+"px"),m.attr("transform","translate(-"+O/2+", 0)")},r.prototype.drawDelta=function(){var t=this,n=this.getComponentContainer(),o=this.getOptions(),a=this.getDelta(),i=this.computeRadius(),s=a?v.getProperty(o,"gauge","deltaFontSize"):function(){return 0},c=a?v.getProperty(o,"gauge","numberFormatter"):function(){return null},d=v.getProperty(o,"gauge","deltaArrow","size"),l=v.getProperty(o,"gauge","numberSpacing"),f=v.getProperty(o,"gauge","showPercentageSymbol"),u=D.appendOrSelect(n,"g.gauge-numbers"),h=D.appendOrSelect(u,"g.gauge-delta").attr("transform","translate(0, "+(s(i)+l)+")"),p=D.appendOrSelect(h,"text.gauge-delta-number"),m=f?"%":"";p.data(a===null?[]:[a]),p.enter().append("text").classed("gauge-delta-number",!0).merge(p).attr("text-anchor","middle").style("font-size",s(i)+"px").text(function(w){return""+c(w)+m});var b=D.getSVGElementSize(D.appendOrSelect(n,".gauge-delta-number"),{useBBox:!0}).width,y=v.getProperty(o,"gauge","deltaArrow","enabled"),g=h.selectAll("svg.gauge-delta-arrow").data(a!==null&&y?[a]:[]);g.enter().append("svg").merge(g).attr("class","gauge-delta-arrow").attr("x",-d(i)-b/2).attr("y",-d(i)/2-s(i)*.35).attr("width",d(i)).attr("height",d(i)).attr("viewBox","0 0 16 16").each(function(){var w=R(this);D.appendOrSelect(w,"rect.gauge-delta-arrow-backdrop").attr("width","16").attr("height","16").attr("fill","none");var k=v.getProperty(o,"gauge","status");D.appendOrSelect(w,"polygon.gauge-delta-arrow").attr("class",k!==null?"gauge-delta-arrow status--"+k:"").attr("points",t.getArrow(a))}),g.exit().remove(),p.exit().remove()},r.prototype.getInnerRadius=function(){var t=this.computeRadius(),n=v.getProperty(this.getOptions(),"gauge","arcWidth");return t-n},r.prototype.addEventListeners=function(){var t=this;this.parent.selectAll("path.arc-foreground").on("mouseover",function(n,o){t.services.events.dispatchEvent(E.Gauge.ARC_MOUSEOVER,{event:n,element:R(this),datum:o})}).on("mousemove",function(n,o){var a=R(this);t.services.events.dispatchEvent(E.Gauge.ARC_MOUSEMOVE,{event:n,element:a,datum:o})}).on("click",function(n,o){t.services.events.dispatchEvent(E.Gauge.ARC_CLICK,{event:n,element:R(this),datum:o})}).on("mouseout",function(n,o){var a=R(this);t.services.events.dispatchEvent(E.Gauge.ARC_MOUSEOUT,{event:n,element:a,datum:o})})},r.prototype.computeRadius=function(){var t=this.getOptions(),n=v.getProperty(t,"gauge","type"),o=D.getSVGElementSize(this.parent,{useAttrs:!0}),a=o.width,i=o.height,s=n===Ur.SEMI?Math.min(a/2,i):Math.min(a/2,i/2);return s},r}(ve),QM=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),JM=function(e){QM(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="donut",t.renderType=oe.SVG,t}return r.prototype.render=function(t){var n=this;t===void 0&&(t=!0),e.prototype.render.call(this,t);var o=this;if(this.model.isDataEmpty()){this.getComponentContainer().select("g.center").remove();return}var a=D.appendOrSelect(this.getComponentContainer(),"g.center"),i=this.getOptions(),s=this.computeRadius(),c=v.getProperty(i,"donut","center","label");D.appendOrSelect(a,"text.donut-figure").attr("text-anchor","middle").style("dominant-baseline",function(){return c===null||c===""?"central":"initial"}).style("font-size",function(){return i.donut.center.numberFontSize(s)}).transition().call(function(d){return n.services.transitions.setupTransition({transition:d,name:"donut-figure-enter-update",animate:t})}).tween("text",function(){return o.centerNumberTween(R(this))}),c!==null&&c!==""&&D.appendOrSelect(a,"text.donut-title").attr("text-anchor","middle").style("font-size",function(){return i.donut.center.titleFontSize(s)}).attr("y",i.donut.center.titleYPosition(s)).text(c)},r.prototype.getInnerRadius=function(){var t=this.computeRadius();return t*(3/4)},r.prototype.centerNumberTween=function(t){var n=this.getOptions(),o=v.getProperty(n,"donut","center","number");o===null&&(o=this.model.getDisplayData().reduce(function(c,d){return c+d[n.pie.valueMapsTo]},0));var a=parseInt(t.text().replace(/[, ]+/g,""),10)||0,i;a%1===0&&o%1===0?i=zh:i=ht;var s=i(a,o);return function(c){var d=n.donut.center.numberFormatter;t.text(d(s(c)))}},r}(Zg),eE=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),nt=function(e){eE(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="skeleton",t}return r.prototype.render=function(){var t=v.getProperty(this.getOptions(),"data","loading");t?this.renderSkeleton(t):this.removeSkeleton()},r.prototype.renderSkeleton=function(t){if(this.configs.skeleton===Ve.GRID)this.renderGridSkeleton(t);else if(this.configs.skeleton===Ve.VERT_OR_HORIZ)this.renderVertOrHorizSkeleton(t);else if(this.configs.skeleton===Ve.PIE)this.renderPieSkeleton(t);else if(this.configs.skeleton===Ve.DONUT)this.renderDonutSkeleton(t);else throw new Error('"'+this.configs.skeleton+'" is not a valid Skeleton type.')},r.prototype.renderGridSkeleton=function(t){this.setScales(),this.drawBackdrop(t),this.drawXGrid(t),this.drawYGrid(t),t&&this.setShimmerEffect("shimmer-lines")},r.prototype.renderVertOrHorizSkeleton=function(t){var n=this.services.cartesianScales.getOrientation();this.setScales(),this.drawBackdrop(t),n===He.VERTICAL&&this.drawYGrid(t),n===He.HORIZONTAL&&this.drawXGrid(t),this.setShimmerEffect("shimmer-lines")},r.prototype.renderPieSkeleton=function(t){var n=this.computeOuterRadius(),o=0;this.drawRing(n,o,t),t&&this.setShimmerEffect("shimmer-areas")},r.prototype.renderDonutSkeleton=function(t){var n=this.computeOuterRadius(),o=this.computeInnerRadius();this.drawRing(n,o,t),t&&this.setShimmerEffect("shimmer-areas")},r.prototype.setScales=function(){var t=this.services.cartesianScales.getMainXScale().range(),n=this.services.cartesianScales.getMainYScale().range();this.xScale=Ht().domain([0,1]).range(t),this.yScale=Ht().domain([0,1]).range(n)},r.prototype.drawBackdrop=function(t){var n=this.parent,o=D.getSVGElementSize(n,{useAttrs:!0}),a=o.width,i=o.height;this.backdrop=D.appendOrSelect(n,"svg.chart-skeleton.DAII").attr("width",a).attr("height",i);var s=D.appendOrSelect(this.backdrop,"rect.chart-skeleton-backdrop");s.attr("width","100%").attr("height","100%");var c=this.xScale.range(),d=c[0];c[1];var l=this.yScale.range();l[0];var f=l[1];this.backdrop.merge(s).attr("x",d).attr("y",f),s.classed("shimmer-effect-lines",t).classed("empty-state-lines",!t).style("stroke",t?"url(#"+this.services.domUtils.generateElementIDString("shimmer-lines")+")":null)},r.prototype.drawXGrid=function(t){var n=this.backdrop.attr("width"),o=v.getProperty(this.getOptions(),"grid","x","numberOfTicks"),a=this.xScale.ticks(o).map(function(c){return c*n}),i=D.appendOrSelect(this.backdrop,"g.x.skeleton"),s=i.selectAll("line").data(a);s.enter().append("line").merge(s).attr("x1",function(c){return c}).attr("x2",function(c){return c}).attr("y1",0).attr("y2","100%"),i.selectAll("line").classed("shimmer-effect-lines",t).classed("empty-state-lines",!t).style("stroke",t?"url(#"+this.services.domUtils.generateElementIDString("shimmer-lines")+")":null)},r.prototype.drawYGrid=function(t){var n=this.backdrop.attr("height"),o=this.backdrop.attr("width"),a=v.getProperty(this.getOptions(),"grid","y","numberOfTicks"),i=this.xScale.ticks(a).map(function(d){return d*n}),s=D.appendOrSelect(this.backdrop,"g.y.skeleton"),c=s.selectAll("line").data(i);c.enter().append("line").merge(c).attr("x1",0).attr("x2",o).attr("y1",function(d){return d}).attr("y2",function(d){return d}),s.selectAll("line").classed("shimmer-effect-lines",t).classed("empty-state-lines",!t).style("stroke",t?"url(#"+this.services.domUtils.generateElementIDString("shimmer-lines")+")":null)},r.prototype.drawRing=function(t,n,o){o===void 0&&(o=!0);var a=this.parent,i=D.getSVGElementSize(a,{useAttrs:!0}),s=i.width,c=i.height,d=D.appendOrSelect(a,"svg.chart-skeleton").attr("width",s).attr("height",c),l=n===0?"pie":"donut",f=v.getProperty(this.getOptions(),l,"alignment");D.appendOrSelect(d,"rect.chart-skeleton-area-container").attr("width",s).attr("height",c).attr("fill","none");var u=_o().innerRadius(n).outerRadius(t).startAngle(0).endAngle(Math.PI*2),h=t+Math.abs(Se.radiusOffset),p=t+(Math.min(s,c)-t*2)/2,m=D.appendOrSelect(d,"path").attr("class","skeleton-area-shape").attr("transform","translate("+h+", "+p+")").attr("d",u).classed("shimmer-effect-areas",o).classed("empty-state-areas",!o).style("fill",o?"url(#"+this.services.domUtils.generateElementIDString("shimmer-areas")+")":null),b=t+Se.xOffset;f===$e.CENTER?b=s/2:f===$e.RIGHT&&(b=s-t-Se.xOffset);var y=t+Se.yOffset;m.attr("transform","translate("+b+", "+y+")")},r.prototype.computeOuterRadius=function(){var t=D.getSVGElementSize(this.parent,{useAttrs:!0}),n=t.width,o=t.height,a=Math.min(n,o)/2;return a+Se.radiusOffset},r.prototype.computeInnerRadius=function(){return this.computeOuterRadius()*(3/4)},r.prototype.setShimmerEffect=function(t){var n=2e3,o=1e3,a=.2,i="stop-bg-shimmer",s="stop-shimmer",c=this.parent.select(".chart-skeleton"),d=D.getSVGElementSize(this.parent,{useAttrs:!0}).width,l=0,f=d,u=D.appendOrSelect(c,"defs").lower(),h=D.appendOrSelect(u,"linearGradient").attr("id",this.services.domUtils.generateElementIDString(t)).attr("class",t).attr("x1",l-3*a*d).attr("x2",f).attr("y1",0).attr("y2",0).attr("gradientUnits","userSpaceOnUse").attr("gradientTransform","translate(0, 0)"),p=`
			<stop class="`+i+'" offset="'+l+`"></stop>
			<stop class="`+s+'" offset="'+(l+a)+`"></stop>
			<stop class="`+i+'" offset="'+(l+2*a)+`"></stop>
		`;h.html(p),m();function m(){h.attr("gradientTransform","translate("+(l-3*a*d)+", 0)").transition().duration(n).delay(o).ease(Cm).attr("gradientTransform","translate("+(f+3*a*d)+", 0)").on("end",m)}},r.prototype.removeSkeleton=function(){var t=this.parent.select(".chart-skeleton");t.remove()},r}(ve),tE=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),rE=function(e){tE(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="skeleton-lines",t}return r.prototype.render=function(){var t=v.getProperty(this.getOptions(),"data","loading"),n=!v.getProperty(this.getOptions(),"grid","x","enabled")&&!v.getProperty(this.getOptions(),"grid","y","enabled")&&!v.getProperty(this.getOptions(),"axes","bottom","visible")&&!v.getProperty(this.getOptions(),"axes","left","visible");t&&!n?e.prototype.renderGridSkeleton.call(this,t):t&&n?this.renderSparklineSkeleton(t):this.removeSkeleton()},r.prototype.renderSparklineSkeleton=function(t){this.setScales(),this.drawBackdrop(t),this.drawSparkline(t),this.updateBackdropStyle(),t&&this.setShimmerEffect("shimmer-lines")},r.prototype.drawSparkline=function(t){var n=this.backdrop.attr("width"),o=[100],a=D.appendOrSelect(this.backdrop,"g.y.skeleton"),i=a.selectAll("line").data(o);i.enter().append("line").merge(i).attr("x1",0).attr("x2",n).attr("y1",function(s){return s}).attr("y2",function(s){return s}),a.selectAll("line").classed("shimmer-effect-lines",t).classed("empty-state-lines",!t).style("stroke",t?"url(#"+this.services.domUtils.generateElementIDString("shimmer-lines")+")":null)},r.prototype.updateBackdropStyle=function(){var t=this.parent;this.backdrop=D.appendOrSelect(t,"svg.chart-skeleton.DAII");var n=D.appendOrSelect(this.backdrop,"rect.chart-skeleton-backdrop");n.classed("shimmer-effect-lines",!1).classed("shimmer-effect-sparkline",!0).style("stroke",null)},r}(nt);function nE(e,r){return e.parent===r.parent?1:2}function oE(e){return e.reduce(aE,0)/e.length}function aE(e,r){return e+r.x}function iE(e){return 1+e.reduce(sE,0)}function sE(e,r){return Math.max(e,r.y)}function cE(e){for(var r;r=e.children;)e=r[0];return e}function dE(e){for(var r;r=e.children;)e=r[r.length-1];return e}function lE(){var e=nE,r=1,t=1,n=!1;function o(a){var i,s=0;a.eachAfter(function(u){var h=u.children;h?(u.x=oE(h),u.y=iE(h)):(u.x=i?s+=e(u,i):0,u.y=0,i=u)});var c=cE(a),d=dE(a),l=c.x-e(c,d)/2,f=d.x+e(d,c)/2;return a.eachAfter(n?function(u){u.x=(u.x-a.x)*r,u.y=(a.y-u.y)*t}:function(u){u.x=(u.x-l)/(f-l)*r,u.y=(1-(a.y?u.y/a.y:1))*t})}return o.separation=function(a){return arguments.length?(e=a,o):e},o.size=function(a){return arguments.length?(n=!1,r=+a[0],t=+a[1],o):n?null:[r,t]},o.nodeSize=function(a){return arguments.length?(n=!0,r=+a[0],t=+a[1],o):n?[r,t]:null},o}function fE(e){var r=0,t=e.children,n=t&&t.length;if(!n)r=1;else for(;--n>=0;)r+=t[n].value;e.value=r}function uE(){return this.eachAfter(fE)}function pE(e,r){let t=-1;for(const n of this)e.call(r,n,++t,this);return this}function hE(e,r){for(var t=this,n=[t],o,a,i=-1;t=n.pop();)if(e.call(r,t,++i,this),o=t.children)for(a=o.length-1;a>=0;--a)n.push(o[a]);return this}function gE(e,r){for(var t=this,n=[t],o=[],a,i,s,c=-1;t=n.pop();)if(o.push(t),a=t.children)for(i=0,s=a.length;i<s;++i)n.push(a[i]);for(;t=o.pop();)e.call(r,t,++c,this);return this}function mE(e,r){let t=-1;for(const n of this)if(e.call(r,n,++t,this))return n}function vE(e){return this.eachAfter(function(r){for(var t=+e(r.data)||0,n=r.children,o=n&&n.length;--o>=0;)t+=n[o].value;r.value=t})}function bE(e){return this.eachBefore(function(r){r.children&&r.children.sort(e)})}function yE(e){for(var r=this,t=wE(r,e),n=[r];r!==t;)r=r.parent,n.push(r);for(var o=n.length;e!==t;)n.splice(o,0,e),e=e.parent;return n}function wE(e,r){if(e===r)return e;var t=e.ancestors(),n=r.ancestors(),o=null;for(e=t.pop(),r=n.pop();e===r;)o=e,e=t.pop(),r=n.pop();return o}function _E(){for(var e=this,r=[e];e=e.parent;)r.push(e);return r}function xE(){return Array.from(this)}function kE(){var e=[];return this.eachBefore(function(r){r.children||e.push(r)}),e}function SE(){var e=this,r=[];return e.each(function(t){t!==e&&r.push({source:t.parent,target:t})}),r}function*ME(){var e=this,r,t=[e],n,o,a;do for(r=t.reverse(),t=[];e=r.pop();)if(yield e,n=e.children)for(o=0,a=n.length;o<a;++o)t.push(n[o]);while(t.length)}function Ro(e,r){e instanceof Map?(e=[void 0,e],r===void 0&&(r=OE)):r===void 0&&(r=TE);for(var t=new ko(e),n,o=[t],a,i,s,c;n=o.pop();)if((i=r(n.data))&&(c=(i=Array.from(i)).length))for(n.children=i,s=c-1;s>=0;--s)o.push(a=i[s]=new ko(i[s])),a.parent=n,a.depth=n.depth+1;return t.eachBefore(PE)}function EE(){return Ro(this).eachBefore(AE)}function TE(e){return e.children}function OE(e){return Array.isArray(e)?e[1]:null}function AE(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function PE(e){var r=0;do e.height=r;while((e=e.parent)&&e.height<++r)}function ko(e){this.data=e,this.depth=this.height=0,this.parent=null}ko.prototype=Ro.prototype={constructor:ko,count:uE,each:pE,eachAfter:gE,eachBefore:hE,find:mE,sum:vE,sort:bE,path:yE,ancestors:_E,descendants:xE,leaves:kE,links:SE,copy:EE,[Symbol.iterator]:ME};function UE(e){return e==null?null:Kg(e)}function Kg(e){if(typeof e!="function")throw new Error;return e}function Ar(){return 0}function dn(e){return function(){return e}}const CE=1664525,BE=1013904223,su=4294967296;function IE(){let e=1;return()=>(e=(CE*e+BE)%su)/su}function zE(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function LE(e,r){let t=e.length,n,o;for(;t;)o=r()*t--|0,n=e[t],e[t]=e[o],e[o]=n;return e}function DE(e,r){for(var t=0,n=(e=LE(Array.from(e),r)).length,o=[],a,i;t<n;)a=e[t],i&&Qg(i,a)?++t:(i=FE(o=RE(o,a)),t=0);return i}function RE(e,r){var t,n;if(ts(r,e))return[r];for(t=0;t<e.length;++t)if(oa(r,e[t])&&ts(Qn(e[t],r),e))return[e[t],r];for(t=0;t<e.length-1;++t)for(n=t+1;n<e.length;++n)if(oa(Qn(e[t],e[n]),r)&&oa(Qn(e[t],r),e[n])&&oa(Qn(e[n],r),e[t])&&ts(Jg(e[t],e[n],r),e))return[e[t],e[n],r];throw new Error}function oa(e,r){var t=e.r-r.r,n=r.x-e.x,o=r.y-e.y;return t<0||t*t<n*n+o*o}function Qg(e,r){var t=e.r-r.r+Math.max(e.r,r.r,1)*1e-9,n=r.x-e.x,o=r.y-e.y;return t>0&&t*t>n*n+o*o}function ts(e,r){for(var t=0;t<r.length;++t)if(!Qg(e,r[t]))return!1;return!0}function FE(e){switch(e.length){case 1:return NE(e[0]);case 2:return Qn(e[0],e[1]);case 3:return Jg(e[0],e[1],e[2])}}function NE(e){return{x:e.x,y:e.y,r:e.r}}function Qn(e,r){var t=e.x,n=e.y,o=e.r,a=r.x,i=r.y,s=r.r,c=a-t,d=i-n,l=s-o,f=Math.sqrt(c*c+d*d);return{x:(t+a+c/f*l)/2,y:(n+i+d/f*l)/2,r:(f+o+s)/2}}function Jg(e,r,t){var n=e.x,o=e.y,a=e.r,i=r.x,s=r.y,c=r.r,d=t.x,l=t.y,f=t.r,u=n-i,h=n-d,p=o-s,m=o-l,b=c-a,y=f-a,g=n*n+o*o-a*a,w=g-i*i-s*s+c*c,k=g-d*d-l*l+f*f,_=h*p-u*m,x=(p*k-m*w)/(_*2)-n,O=(m*b-p*y)/_,M=(h*w-u*k)/(_*2)-o,T=(u*y-h*b)/_,A=O*O+T*T-1,S=2*(a+x*O+M*T),P=x*x+M*M-a*a,I=-(Math.abs(A)>1e-6?(S+Math.sqrt(S*S-4*A*P))/(2*A):P/S);return{x:n+x+O*I,y:o+M+T*I,r:I}}function cu(e,r,t){var n=e.x-r.x,o,a,i=e.y-r.y,s,c,d=n*n+i*i;d?(a=r.r+t.r,a*=a,c=e.r+t.r,c*=c,a>c?(o=(d+c-a)/(2*d),s=Math.sqrt(Math.max(0,c/d-o*o)),t.x=e.x-o*n-s*i,t.y=e.y-o*i+s*n):(o=(d+a-c)/(2*d),s=Math.sqrt(Math.max(0,a/d-o*o)),t.x=r.x+o*n-s*i,t.y=r.y+o*i+s*n)):(t.x=r.x+t.r,t.y=r.y)}function du(e,r){var t=e.r+r.r-1e-6,n=r.x-e.x,o=r.y-e.y;return t>0&&t*t>n*n+o*o}function lu(e){var r=e._,t=e.next._,n=r.r+t.r,o=(r.x*t.r+t.x*r.r)/n,a=(r.y*t.r+t.y*r.r)/n;return o*o+a*a}function aa(e){this._=e,this.next=null,this.previous=null}function VE(e,r){if(!(a=(e=zE(e)).length))return 0;var t,n,o,a,i,s,c,d,l,f,u;if(t=e[0],t.x=0,t.y=0,!(a>1))return t.r;if(n=e[1],t.x=-n.r,n.x=t.r,n.y=0,!(a>2))return t.r+n.r;cu(n,t,o=e[2]),t=new aa(t),n=new aa(n),o=new aa(o),t.next=o.previous=n,n.next=t.previous=o,o.next=n.previous=t;e:for(c=3;c<a;++c){cu(t._,n._,o=e[c]),o=new aa(o),d=n.next,l=t.previous,f=n._.r,u=t._.r;do if(f<=u){if(du(d._,o._)){n=d,t.next=n,n.previous=t,--c;continue e}f+=d._.r,d=d.next}else{if(du(l._,o._)){t=l,t.next=n,n.previous=t,--c;continue e}u+=l._.r,l=l.previous}while(d!==l.next);for(o.previous=t,o.next=n,t.next=n.previous=n=o,i=lu(t);(o=o.next)!==n;)(s=lu(o))<i&&(t=o,i=s);n=t.next}for(t=[n._],o=n;(o=o.next)!==n;)t.push(o._);for(o=DE(t,r),c=0;c<a;++c)t=e[c],t.x-=o.x,t.y-=o.y;return o.r}function $E(e){return Math.sqrt(e.value)}function HE(){var e=null,r=1,t=1,n=Ar;function o(a){const i=IE();return a.x=r/2,a.y=t/2,e?a.eachBefore(fu(e)).eachAfter(rs(n,.5,i)).eachBefore(uu(1)):a.eachBefore(fu($E)).eachAfter(rs(Ar,1,i)).eachAfter(rs(n,a.r/Math.min(r,t),i)).eachBefore(uu(Math.min(r,t)/(2*a.r))),a}return o.radius=function(a){return arguments.length?(e=UE(a),o):e},o.size=function(a){return arguments.length?(r=+a[0],t=+a[1],o):[r,t]},o.padding=function(a){return arguments.length?(n=typeof a=="function"?a:dn(+a),o):n},o}function fu(e){return function(r){r.children||(r.r=Math.max(0,+e(r)||0))}}function rs(e,r,t){return function(n){if(o=n.children){var o,a,i=o.length,s=e(n)*r||0,c;if(s)for(a=0;a<i;++a)o[a].r+=s;if(c=VE(o,t),s)for(a=0;a<i;++a)o[a].r-=s;n.r=c+s}}}function uu(e){return function(r){var t=r.parent;r.r*=e,t&&(r.x=t.x+e*r.x,r.y=t.y+e*r.y)}}function GE(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function jE(e,r,t,n,o){for(var a=e.children,i,s=-1,c=a.length,d=e.value&&(n-r)/e.value;++s<c;)i=a[s],i.y0=t,i.y1=o,i.x0=r,i.x1=r+=i.value*d}function qE(e,r){return e.parent===r.parent?1:2}function ns(e){var r=e.children;return r?r[0]:e.t}function os(e){var r=e.children;return r?r[r.length-1]:e.t}function WE(e,r,t){var n=t/(r.i-e.i);r.c-=n,r.s+=t,e.c+=n,r.z+=t,r.m+=t}function YE(e){for(var r=0,t=0,n=e.children,o=n.length,a;--o>=0;)a=n[o],a.z+=r,a.m+=r,r+=a.s+(t+=a.c)}function XE(e,r,t){return e.a.parent===r.parent?e.a:t}function ha(e,r){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=r}ha.prototype=Object.create(ko.prototype);function ZE(e){for(var r=new ha(e,0),t,n=[r],o,a,i,s;t=n.pop();)if(a=t._.children)for(t.children=new Array(s=a.length),i=s-1;i>=0;--i)n.push(o=t.children[i]=new ha(a[i],i)),o.parent=t;return(r.parent=new ha(null,0)).children=[r],r}function KE(){var e=qE,r=1,t=1,n=null;function o(d){var l=ZE(d);if(l.eachAfter(a),l.parent.m=-l.z,l.eachBefore(i),n)d.eachBefore(c);else{var f=d,u=d,h=d;d.eachBefore(function(g){g.x<f.x&&(f=g),g.x>u.x&&(u=g),g.depth>h.depth&&(h=g)});var p=f===u?1:e(f,u)/2,m=p-f.x,b=r/(u.x+p+m),y=t/(h.depth||1);d.eachBefore(function(g){g.x=(g.x+m)*b,g.y=g.depth*y})}return d}function a(d){var l=d.children,f=d.parent.children,u=d.i?f[d.i-1]:null;if(l){YE(d);var h=(l[0].z+l[l.length-1].z)/2;u?(d.z=u.z+e(d._,u._),d.m=d.z-h):d.z=h}else u&&(d.z=u.z+e(d._,u._));d.parent.A=s(d,u,d.parent.A||f[0])}function i(d){d._.x=d.z+d.parent.m,d.m+=d.parent.m}function s(d,l,f){if(l){for(var u=d,h=d,p=l,m=u.parent.children[0],b=u.m,y=h.m,g=p.m,w=m.m,k;p=os(p),u=ns(u),p&&u;)m=ns(m),h=os(h),h.a=d,k=p.z+g-u.z-b+e(p._,u._),k>0&&(WE(XE(p,d,f),d,k),b+=k,y+=k),g+=p.m,b+=u.m,w+=m.m,y+=h.m;p&&!os(h)&&(h.t=p,h.m+=g-y),u&&!ns(m)&&(m.t=u,m.m+=b-w,f=d)}return f}function c(d){d.x*=r,d.y=d.depth*t}return o.separation=function(d){return arguments.length?(e=d,o):e},o.size=function(d){return arguments.length?(n=!1,r=+d[0],t=+d[1],o):n?null:[r,t]},o.nodeSize=function(d){return arguments.length?(n=!0,r=+d[0],t=+d[1],o):n?[r,t]:null},o}function QE(e,r,t,n,o){for(var a=e.children,i,s=-1,c=a.length,d=e.value&&(o-t)/e.value;++s<c;)i=a[s],i.x0=r,i.x1=n,i.y0=t,i.y1=t+=i.value*d}var JE=(1+Math.sqrt(5))/2;function eT(e,r,t,n,o,a){for(var i=[],s=r.children,c,d,l=0,f=0,u=s.length,h,p,m=r.value,b,y,g,w,k,_,x;l<u;){h=o-t,p=a-n;do b=s[f++].value;while(!b&&f<u);for(y=g=b,_=Math.max(p/h,h/p)/(m*e),x=b*b*_,k=Math.max(g/x,x/y);f<u;++f){if(b+=d=s[f].value,d<y&&(y=d),d>g&&(g=d),x=b*b*_,w=Math.max(g/x,x/y),w>k){b-=d;break}k=w}i.push(c={value:b,dice:h<p,children:s.slice(l,f)}),c.dice?jE(c,t,n,o,m?n+=p*b/m:a):QE(c,t,n,m?t+=h*b/m:o,a),m-=b,l=f}return i}var tT=function e(r){function t(n,o,a,i,s){eT(r,n,o,a,i,s)}return t.ratio=function(n){return e((n=+n)>1?n:1)},t}(JE);function rT(){var e=tT,r=!1,t=1,n=1,o=[0],a=Ar,i=Ar,s=Ar,c=Ar,d=Ar;function l(u){return u.x0=u.y0=0,u.x1=t,u.y1=n,u.eachBefore(f),o=[0],r&&u.eachBefore(GE),u}function f(u){var h=o[u.depth],p=u.x0+h,m=u.y0+h,b=u.x1-h,y=u.y1-h;b<p&&(p=b=(p+b)/2),y<m&&(m=y=(m+y)/2),u.x0=p,u.y0=m,u.x1=b,u.y1=y,u.children&&(h=o[u.depth+1]=a(u)/2,p+=d(u)-h,m+=i(u)-h,b-=s(u)-h,y-=c(u)-h,b<p&&(p=b=(p+b)/2),y<m&&(m=y=(m+y)/2),e(u,p,m,b,y))}return l.round=function(u){return arguments.length?(r=!!u,l):r},l.size=function(u){return arguments.length?(t=+u[0],n=+u[1],l):[t,n]},l.tile=function(u){return arguments.length?(e=Kg(u),l):e},l.padding=function(u){return arguments.length?l.paddingInner(u).paddingOuter(u):l.paddingInner()},l.paddingInner=function(u){return arguments.length?(a=typeof u=="function"?u:dn(+u),l):a},l.paddingOuter=function(u){return arguments.length?l.paddingTop(u).paddingRight(u).paddingBottom(u).paddingLeft(u):l.paddingTop()},l.paddingTop=function(u){return arguments.length?(i=typeof u=="function"?u:dn(+u),l):i},l.paddingRight=function(u){return arguments.length?(s=typeof u=="function"?u:dn(+u),l):s},l.paddingBottom=function(u){return arguments.length?(c=typeof u=="function"?u:dn(+u),l):c},l.paddingLeft=function(u){return arguments.length?(d=typeof u=="function"?u:dn(+u),l):d},l}var nT=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),nn=6,oT=function(e){nT(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="tree",t.renderType=oe.SVG,t}return r.prototype.getLongestLabel=function(t){var n=this,o="";return t.forEach(function(a){var i=a.children?n.getLongestLabel(a.children):"";(i.length>o.length||a.name.length>o.length)&&(o=i.length>a.name.length?i:a.name)}),o},r.prototype.getMockLabelWidth=function(t,n){var o=t.append("text").attr("dy","0.31em").attr("x",0).attr("text-anchor","end").text(n),a=D.getSVGElementSize(o.node(),{useBBox:!0}).width;return o.remove(),a},r.prototype.render=function(t){var n=this,o=this.getComponentContainer();o.html("");var a=D.getSVGElementSize(this.parent,{useAttrs:!0}),i=a.width,s=a.height;if(!(i<1||s<1)){var c=this.model.getOptions(),d=this.model.getDisplayData(),l=v.getProperty(c,"tree","rootTitle")||"Tree",f=this.getMockLabelWidth(o,l),u=this.getLongestLabel(d),h=this.getMockLabelWidth(o,u),p={top:0,right:0,bottom:0,left:f>0?f+nn:30-nn},m=Ro({name:l,children:d}),b=10,y=i/6,g=function(T){var A=m.descendants().reverse(),S=m.links(),P=m,I=m;m.eachBefore(function(V){V.x<P.x&&(P=V),V.x>I.x&&(I=V)});var L=I.x-P.x,B=o.transition().call(function(V){return n.services.transitions.setupTransition({transition:V,name:"tree-update-viewbox",animate:!0})}).attr("viewBox",[-p.left,P.x,i,L]),C=M.selectAll("g").data(A,function(V){return V.id}),z=n,F=C.enter().append("g").attr("transform",function(){return"translate("+T.y0+","+T.x0+")"}).attr("class",function(V){return V.depth!==0&&V.children&&V.children.length>0?"clickable":null}).on("mouseover",function(V,X){z.services.events.dispatchEvent(E.Tree.NODE_MOUSEOVER,{event:V,element:R(this),datum:X})}).on("click",function(V,X){X.depth!==0&&(X.children=X.children?null:X._children,g(X)),z.services.events.dispatchEvent(E.Tree.NODE_CLICK,{event:V,element:R(this),datum:X})}).on("mouseout",function(V,X){z.services.events.dispatchEvent(E.Tree.NODE_MOUSEOUT,{event:V,element:R(this),datum:X})});F.append("circle").attr("r",2.5).attr("class",function(V){return V._children?"parent":"child"}).attr("stroke-width",10),F.append("text").attr("dy","0.31em").attr("x",function(V){return V._children?-nn:nn}).attr("text-anchor",function(V){return V._children?"end":"start"}).text(function(V){return V.data.name}).clone(!0).attr("class","text-stroke").lower(),C.merge(F).transition(B).attr("transform",function(V){return"translate("+V.y+","+V.x+")"}).attr("fill-opacity",1).attr("stroke-opacity",1),C.exit().transition(B).remove().attr("transform",function(){return"translate("+T.y+","+T.x+")"}).attr("fill-opacity",0).attr("stroke-opacity",0);var U=O.selectAll("path").data(S,function(V){return V.target.id}),N=U.enter().append("path").attr("d",function(V){var X={x:T.x0,y:T.y0};return x({source:X,target:X})});U.merge(N).transition(B).attr("d",x),U.exit().transition(B).remove().attr("d",function(){var V={x:T.x,y:T.y};return x({source:V,target:V})}),m.eachBefore(function(V){V.x0=V.x,V.y0=V.y})},w=m.descendants(),k=w[w.length-1].depth,_=v.getProperty(c,"tree","type")===xa.DENDROGRAM?lE().size([s,i-h-k*nn-f]):KE().nodeSize([b,y]).size([s,i-h-k*nn-f]),x=y4().x(function(T){return T.y}).y(function(T){return T.x});m.x0=y/2,m.y0=0,m.descendants().forEach(function(T,A){T.id=A,T._children=T.children}),_(m),o.attr("viewBox",[-p.left,-p.top,i,b]).style("user-select","none");var O=o.append("g").attr("class","links"),M=o.append("g").attr("class","nodes");g(m)}},r}(ve),aT="#000000",iT="#ffffff",sT="#fcf4d6",cT="#fddc69",dT="#f1c21b",lT="#d2a106",fT="#b28600",uT="#8e6a00",pT="#684e00",hT="#483700",gT="#302400",mT="#1c1500",vT={10:sT,20:cT,30:dT,40:lT,50:fT,60:uT,70:pT,80:hT,90:gT,100:mT},bT="#fff2e8",yT="#ffd9be",wT="#ffb784",_T="#ff832b",xT="#eb6200",kT="#ba4e00",ST="#8a3800",MT="#5e2900",ET="#3e1a00",TT="#231000",OT={10:bT,20:yT,30:wT,40:_T,50:xT,60:kT,70:ST,80:MT,90:ET,100:TT},AT="#fff1f1",PT="#ffd7d9",UT="#ffb3b8",CT="#ff8389",BT="#fa4d56",IT="#da1e28",zT="#a2191f",LT="#750e13",DT="#520408",RT="#2d0709",FT={10:AT,20:PT,30:UT,40:CT,50:BT,60:IT,70:zT,80:LT,90:DT,100:RT},NT="#fff0f7",VT="#ffd6e8",$T="#ffafd2",HT="#ff7eb6",GT="#ee5396",jT="#d02670",qT="#9f1853",WT="#740937",YT="#510224",XT="#2a0a18",ZT={10:NT,20:VT,30:$T,40:HT,50:GT,60:jT,70:qT,80:WT,90:YT,100:XT},KT="#f6f2ff",QT="#e8daff",JT="#d4bbff",eO="#be95ff",tO="#a56eff",rO="#8a3ffc",nO="#6929c4",oO="#491d8b",aO="#31135e",iO="#1c0f30",sO={10:KT,20:QT,30:JT,40:eO,50:tO,60:rO,70:nO,80:oO,90:aO,100:iO},cO="#edf5ff",dO="#d0e2ff",lO="#a6c8ff",fO="#78a9ff",uO="#4589ff",pO="#0f62fe",hO="#0043ce",gO="#002d9c",mO="#001d6c",vO="#001141",bO={10:cO,20:dO,30:lO,40:fO,50:uO,60:pO,70:hO,80:gO,90:mO,100:vO},yO="#e5f6ff",wO="#bae6ff",_O="#82cfff",xO="#33b1ff",kO="#1192e8",SO="#0072c3",MO="#00539a",EO="#003a6d",TO="#012749",OO="#061727",AO={10:yO,20:wO,30:_O,40:xO,50:kO,60:SO,70:MO,80:EO,90:TO,100:OO},PO="#d9fbfb",UO="#9ef0f0",CO="#3ddbd9",BO="#08bdba",IO="#009d9a",zO="#007d79",LO="#005d5d",DO="#004144",RO="#022b30",FO="#081a1c",NO={10:PO,20:UO,30:CO,40:BO,50:IO,60:zO,70:LO,80:DO,90:RO,100:FO},VO="#defbe6",$O="#a7f0ba",HO="#6fdc8c",GO="#42be65",jO="#24a148",qO="#198038",WO="#0e6027",YO="#044317",XO="#022d0d",ZO="#071908",KO={10:VO,20:$O,30:HO,40:GO,50:jO,60:qO,70:WO,80:YO,90:XO,100:ZO},QO="#f2f4f8",JO="#dde1e6",e9="#c1c7cd",t9="#a2a9b0",r9="#878d96",n9="#697077",o9="#4d5358",a9="#343a3f",i9="#21272a",s9="#121619",c9={10:QO,20:JO,30:e9,40:t9,50:r9,60:n9,70:o9,80:a9,90:i9,100:s9},d9="#f4f4f4",l9="#e0e0e0",f9="#c6c6c6",u9="#a8a8a8",p9="#8d8d8d",h9="#6f6f6f",g9="#525252",m9="#393939",v9="#262626",b9="#161616",y9={10:d9,20:l9,30:f9,40:u9,50:p9,60:h9,70:g9,80:m9,90:v9,100:b9},w9="#f7f3f2",_9="#e5e0df",x9="#cac5c4",k9="#ada8a8",S9="#8f8b8b",M9="#726e6e",E9="#565151",T9="#3c3838",O9="#272525",A9="#171414",P9={10:w9,20:_9,30:x9,40:k9,50:S9,60:M9,70:E9,80:T9,90:O9,100:A9},pu={black:{100:aT},blue:bO,coolGray:c9,cyan:AO,gray:y9,green:KO,magenta:ZT,orange:OT,purple:sO,red:FT,teal:NO,warmGray:P9,white:{0:iT},yellow:vT},U9=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),C9=function(e){if(!e)return null;for(var r=0,t=Object.keys(pu);r<t.length;r++)for(var n=t[r],o=pu[n],a=0,i=Object.keys(o);a<i.length;a++){var s=i[a],c=o[s];if(c===e)return s}return null},hu=function(){var e=R(this.parentNode).select("rect.leaf"),r=getComputedStyle(e.node(),null).getPropertyValue("fill"),t=rr(r),n;if(t&&(n=C9(t?t.hex():null)),n==null){var o=Sd(t).l;n=Math.abs(o*100-100)}return n>50?"white":"black"},B9=0,I9=function(e){U9(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="treemap",t.renderType=oe.SVG,t.handleLegendOnHover=function(n){var o=n.detail.hoveredElement;t.parent.selectAll("g[data-name='leaf']").transition("legend-hover-treemap").call(function(a){return t.services.transitions.setupTransition({transition:a,name:"legend-hover-treemap"})}).attr("opacity",function(a){return a.parent.data.name===o.datum().name?1:.3})},t.handleLegendMouseOut=function(n){t.parent.selectAll("g[data-name='leaf']").transition("legend-mouseout-treemap").call(function(o){return t.services.transitions.setupTransition({transition:o,name:"legend-mouseout-treemap"})}).attr("opacity",1)},t}return r.prototype.init=function(){var t=this.services.events;t.addEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),t.addEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},r.prototype.render=function(t){var n=this;t===void 0&&(t=!0);var o=this.getComponentContainer();this.model.getData();var a=this.model.getDisplayData(),i=this.model.getOptions(),s=v.getProperty(window,"location"),c=D.getSVGElementSize(o,{useAttrs:!0}),d=c.width,l=c.height,f=Ro({name:i.title||"Treemap",children:a}).sum(function(g){return g.value}).sort(function(g,w){return w.value-g.value}),u=rT().size([d,l]).paddingInner(1).paddingOuter(0).round(!0)(f);this.services.transitions;var h=o.selectAll("g[data-name='leaf']").data(u.leaves(),function(g){return g.data.name});h.exit().attr("opacity",0).remove();var p=h.enter().append("g").attr("data-name","leaf").attr("data-uid",function(){return B9++}),m=p.merge(h);m.attr("data-name","leaf").transition().call(function(g){return n.services.transitions.setupTransition({transition:g,name:"treemap-group-update",animate:t})}).attr("transform",function(g){return"translate("+g.x0+","+g.y0+")"});var b=m.selectAll("rect.leaf").data(function(g){return[g]});b.exit().attr("width",0).attr("height",0).remove();var y=b.enter().append("rect").classed("leaf",!0);y.merge(b).attr("width",0).attr("height",0).attr("id",function(){var g=R(this.parentNode).attr("data-uid");return i.style.prefix+"-leaf-"+g}).attr("class",function(g){for(;g.depth>1;)g=g.parent;return n.model.getColorClassName({classNameTypes:[ie.FILL],dataGroupName:g.data.name,originalClassName:"leaf"})}).transition().call(function(g){return n.services.transitions.setupTransition({transition:g,name:"treemap-leaf-update-enter",animate:t})}).attr("width",function(g){return g.x1-g.x0}).attr("height",function(g){return g.y1-g.y0}).style("fill",function(g){for(;g.depth>1;)g=g.parent;return n.model.getFillColor(g.data.name)}),m.selectAll("clipPath").data(function(g){return g.data.showLabel!==!0?[]:[1]},function(g){return g}).join(function(g){g.append("clipPath").attr("id",function(){var w=R(this.parentNode).attr("data-uid");return i.style.prefix+"-clip-"+w}).append("use").attr("xlink:href",function(){var w=R(this.parentNode.parentNode).attr("data-uid"),k=i.style.prefix+"-leaf-"+w;return new URL("#"+k,s)+""})},function(g){return null},function(g){return g.remove()}),m.selectAll("text").data(function(g){if(g.data.showLabel!==!0)return[];for(var w=g;w.depth>1;)w=w.parent;var k=Sd(n.model.getFillColor(w.data.name));return[{text:g.data.name,color:k.l<.5?"white":"black"}]},function(g){return g}).join(function(g){var w=g.append("text").text(function(k){return k.text}).style("fill",hu).attr("x",7).attr("y",18);s&&w.attr("clip-path",function(){var k=R(this.parentNode).attr("data-uid"),_=i.style.prefix+"-clip-"+k;return"url("+(new URL("#"+_,s)+"")+")"})},function(g){return g.text(function(w){return w.text}).style("fill",hu)},function(g){return g.remove()}),this.addEventListeners()},r.prototype.addEventListeners=function(){var t=this;this.parent.selectAll("rect.leaf").on("mouseover",function(n,o){for(var a=R(this),i=getComputedStyle(this,null).getPropertyValue("fill"),s=o;s.depth>1;)s=s.parent;a.transition("graph_element_mouseover_fill_update").call(function(c){return t.services.transitions.setupTransition({transition:c,name:"graph_element_mouseover_fill_update"})}).style("fill",function(c){var d=t.model.getFillColor(c.parent.data.name);return d&&(i=d),rr(i).darker(.7).toString()}),t.services.events.dispatchEvent(E.Tooltip.SHOW,{event:n,hoveredElement:a,items:[{color:i,label:s.data.name,bold:!0},{label:o.data.name,value:o.data.value}]}),t.services.events.dispatchEvent(E.Treemap.LEAF_MOUSEOVER,{event:n,element:a,datum:o})}).on("mousemove",function(n,o){var a=R(this);t.services.events.dispatchEvent(E.Treemap.LEAF_MOUSEMOVE,{event:n,element:a,datum:o}),t.services.events.dispatchEvent(E.Tooltip.MOVE,{event:n})}).on("click",function(n,o){t.services.events.dispatchEvent(E.Treemap.LEAF_CLICK,{event:n,element:R(this),datum:o})}).on("mouseout",function(n,o){var a=R(this);a.classed("hovered",!1);for(var i=o;i.depth>1;)i=i.parent;a.transition().call(function(s){return t.services.transitions.setupTransition({transition:s,name:"graph_element_mouseout_fill_update"})}).style("fill",function(s){return t.model.getFillColor(s.parent.data.name)}),t.services.events.dispatchEvent(E.Treemap.LEAF_MOUSEOUT,{event:n,element:a,datum:o}),t.services.events.dispatchEvent(E.Tooltip.HIDE,{hoveredElement:a})})},r}(ve);function gu(e){var r=z9(em(e),360);return ur(r,[0,10])||ur(r,[350,0])?{textAnchor:It.START,dominantBaseline:zt.MIDDLE}:ur(r,[10,80])?{textAnchor:It.START,dominantBaseline:zt.HANGING}:ur(r,[80,100])?{textAnchor:It.MIDDLE,dominantBaseline:zt.HANGING}:ur(r,[100,170])?{textAnchor:It.END,dominantBaseline:zt.HANGING}:ur(r,[170,190])?{textAnchor:It.END,dominantBaseline:zt.MIDDLE}:ur(r,[190,260])?{textAnchor:It.END,dominantBaseline:zt.BASELINE}:ur(r,[260,280])?{textAnchor:It.MIDDLE,dominantBaseline:zt.BASELINE}:{textAnchor:It.START,dominantBaseline:zt.BASELINE}}function z9(e,r){return(e%r+r)%r}function ur(e,r){var t=r[0],n=r[1];return e>=t&&e<=n}function em(e){return e*(180/Math.PI)}function Re(e,r,t){t===void 0&&(t={x:0,y:0});var n=r*Math.cos(e)+t.x,o=r*Math.sin(e)+t.y;return{x:isNaN(n)?0:n,y:isNaN(o)?0:o}}function L9(e,r){return r*Math.sin(e-Math.PI/2)}var D9=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),R9=function(e){D9(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="radar",t.renderType=oe.SVG,t.getLabelDimensions=function(n){var o=D.appendOrSelect(t.getComponentContainer(),"g.tmp-tick"),a=D.appendOrSelect(o,"text").text(n),i=D.getSVGElementSize(a.node(),{useBBox:!0}),s=i.width,c=i.height;return o.remove(),{width:s,height:c}},t.normalizeFlatData=function(n){var o=t.getOptions(),a=v.getProperty(o,"radar","axes"),i=a.angle,s=a.value,c=v.getProperty(o,"data","groupMapsTo"),d=v.flatMapDeep(t.uniqueKeys.map(function(l){return t.uniqueGroups.map(function(f){var u;return u={},u[i]=l,u[c]=f,u[s]=null,u})}));return v.merge(d,n)},t.normalizeGroupedData=function(n){var o=t.getOptions(),a=v.getProperty(o,"radar","axes"),i=a.angle,s=a.value,c=v.getProperty(o,"data","groupMapsTo");return n.map(function(d){var l=d.name,f=d.data,u=t.uniqueKeys.map(function(h){var p;return p={},p[c]=l,p[i]=h,p[s]=null,p});return{name:l,data:v.merge(u,f)}})},t.handleLegendOnHover=function(n){var o=n.detail.hoveredElement;t.parent.selectAll("g.blobs path").transition("legend-hover-blob").call(function(a){return t.services.transitions.setupTransition({transition:a,name:"legend-hover-blob"})}).style("fill-opacity",function(a){return a.name!==o.datum().name?gr.opacity.unselected:gr.opacity.selected}).style("stroke-opacity",function(a){return a.name!==o.datum().name?gr.opacity.unselected:1})},t.handleLegendMouseOut=function(n){t.parent.selectAll("g.blobs path").transition("legend-mouseout-blob").call(function(o){return t.services.transitions.setupTransition({transition:o,name:"legend-mouseout-blob"})}).style("fill-opacity",gr.opacity.selected).style("stroke-opacity",1)},t}return r.prototype.init=function(){var t=this.services.events;t.addEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),t.addEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},r.prototype.render=function(t){var n=this;t===void 0&&(t=!0);var o=this.getComponentContainer(),a=D.getSVGElementSize(o,{useAttrs:!0}),i=a.width,s=a.height,c=this.model.getData(),d=this.model.getGroupedData(),l=this.getOptions(),f=v.getProperty(l,"data","groupMapsTo"),u=v.getProperty(l,"radar","axes","value"),h=v.getProperty(l,"radar","axes"),p=h.angle,m=h.value,b=gr,y=b.xLabelPadding,g=b.yLabelPadding,w=b.yTicksNumber,k=b.minRange,_=b.xAxisRectHeight;this.uniqueKeys=Array.from(new Set(c.map(function(j){return j[p]}))),this.uniqueGroups=Array.from(new Set(c.map(function(j){return j[f]}))),this.fullDataNormalized=this.normalizeFlatData(c),this.groupedDataNormalized=this.normalizeGroupedData(d);var x=this.getLabelDimensions(this.uniqueKeys[0]).height,O=2*(x+g),M=Math.min(i,s),T=M-O,A=T/2;if(!(A<=0)){var S=Io().domain(this.fullDataNormalized.map(function(j){return j[p]})).range([0,2*Math.PI].map(function(j){return j-Math.PI/2})),P=vr(this.fullDataNormalized.map(function(j){return j[m]})),I=Ht().domain([P>=0?0:P,Rr(this.fullDataNormalized.map(function(j){return j[m]}))]).range([k,A]).nice(w),L=I.ticks(w),B=function(j){return n.model.getFillColor(j)},C=p4().angle(function(j){return S(j[p])+Math.PI/2}).radius(function(j){return I(j[m])}).curve(xg),z=this.uniqueKeys.map(function(j){var Y=n.getLabelDimensions(j).width,H=L9(S(j),A);return Y+H}),F=Rr(z),U={x:F+y,y:s/2},N=D.appendOrSelect(o,"g.y-axes").attr("role",fe.GROUP),V=N.selectAll("path").data(L,function(j){return j}),X=function(j){return n.uniqueKeys.map(function(Y){var H;return H={},H[p]=Y,H[m]=j,H})};V.join(function(j){return j.append("path").attr("opacity",0).attr("transform","translate("+U.x+", "+U.y+")").attr("fill","none").call(function(Y){return Y.transition().call(function(H){return n.services.transitions.setupTransition({transition:H,name:"radar_y_axes_enter",animate:t})}).attr("opacity",1).attr("d",function(H){return C(X(H))})})},function(j){return j.call(function(Y){return Y.transition().call(function(H){return n.services.transitions.setupTransition({transition:H,name:"radar_y_axes_update",animate:t})}).attr("opacity",1).attr("transform","translate("+U.x+", "+U.y+")").attr("d",function(H){return C(X(H))})})},function(j){return j.call(function(Y){return Y.transition().call(function(H){return n.services.transitions.setupTransition({transition:H,name:"radar_y_axes_exit",animate:t})}).attr("d",function(H){return C(X(H))}).attr("opacity",0).remove()})});var ce=D.appendOrSelect(o,"g.x-axes").attr("role",fe.GROUP),ae=ce.selectAll("line").data(this.uniqueKeys,function(j){return j});ae.join(function(j){return j.append("line").attr("opacity",0).attr("class",function(Y){return"x-axis-"+v.kebabCase(Y)}).attr("stroke-dasharray","0").attr("x1",function(Y){return Re(S(Y),0,U).x}).attr("y1",function(Y){return Re(S(Y),0,U).y}).attr("x2",function(Y){return Re(S(Y),0,U).x}).attr("y2",function(Y){return Re(S(Y),0,U).y}).call(function(Y){return Y.transition().call(function(H){return n.services.transitions.setupTransition({transition:H,name:"radar_x_axes_enter",animate:t})}).attr("opacity",1).attr("x1",function(H){return Re(S(H),I.range()[0],U).x}).attr("y1",function(H){return Re(S(H),I.range()[0],U).y}).attr("x2",function(H){return Re(S(H),I.range()[1],U).x}).attr("y2",function(H){return Re(S(H),I.range()[1],U).y})})},function(j){return j.call(function(Y){return Y.transition().call(function(H){return n.services.transitions.setupTransition({transition:H,name:"radar_x_axes_update",animate:t})}).attr("opacity",1).attr("x1",function(H){return Re(S(H),I.range()[0],U).x}).attr("y1",function(H){return Re(S(H),I.range()[0],U).y}).attr("x2",function(H){return Re(S(H),I.range()[1],U).x}).attr("y2",function(H){return Re(S(H),I.range()[1],U).y})})},function(j){return j.call(function(Y){return Y.transition().call(function(H){return n.services.transitions.setupTransition({transition:H,name:"radar_x_axes_exit",animate:t})}).attr("opacity",0).remove()})});var Z=D.appendOrSelect(o,"g.x-labels").attr("role",fe.GROUP),re=Z.selectAll("text").data(this.uniqueKeys);re.join(function(j){return j.append("text").text(function(Y){return Y}).attr("opacity",0).attr("x",function(Y){return Re(S(Y),I.range()[1]+y,U).x}).attr("y",function(Y){return Re(S(Y),I.range()[1]+y,U).y}).style("text-anchor",function(Y){return gu(S(Y)).textAnchor}).style("dominant-baseline",function(Y){return gu(S(Y)).dominantBaseline}).call(function(Y){return Y.transition().call(function(H){return n.services.transitions.setupTransition({transition:H,name:"radar_x_labels_enter",animate:t})}).attr("opacity",1)})},function(j){return j.call(function(Y){return Y.transition().call(function(H){return n.services.transitions.setupTransition({transition:H,name:"radar_x_labels_update",animate:t})}).attr("opacity",1).attr("x",function(H){return Re(S(H),I.range()[1]+y,U).x}).attr("y",function(H){return Re(S(H),I.range()[1]+y,U).y}).end().finally(function(){var H=v.getProperty(l,"radar","alignment"),ue=n.getAlignmentXOffset(H,o,n.getParent());o.attr("x",ue)})})},function(j){return j.call(function(Y){return Y.transition().call(function(H){return n.services.transitions.setupTransition({transition:H,name:"radar_x_labels_exit",animate:t})}).attr("opacity",0).remove()})});var J=D.appendOrSelect(o,"g.blobs").attr("role",fe.GROUP),se=J.selectAll("path").data(this.groupedDataNormalized,function(j){return j.name});se.join(function(j){return j.append("path").attr("class",function(Y){return n.model.getColorClassName({classNameTypes:[ie.FILL,ie.STROKE],dataGroupName:Y.name,originalClassName:"blob"})}).attr("role",fe.GRAPHICS_SYMBOL).attr("aria-label",function(Y){return Y.name}).attr("opacity",0).attr("transform",t?function(){return"translate("+U.x+", "+U.y+") scale("+(1+Math.random()*.35)+")"}:"translate("+U.x+", "+U.y+")").style("fill",function(Y){return B(Y.name)}).style("fill-opacity",gr.opacity.selected).style("stroke",function(Y){return B(Y.name)}).call(function(Y){var H=Y.transition().call(function(ue){return n.services.transitions.setupTransition({transition:ue,name:"radar_blobs_enter",animate:t})});t&&H.delay(function(){return Math.random()*30}).attr("transform","translate("+U.x+", "+U.y+")"),H.attr("opacity",1).attr("d",function(ue){return C(ue.data)})})},function(j){j.attr("class",function(Y){return n.model.getColorClassName({classNameTypes:[ie.FILL,ie.STROKE],dataGroupName:Y.name,originalClassName:"blob"})}).style("fill",function(Y){return B(Y.name)}).style("stroke",function(Y){return B(Y.name)}),j.call(function(Y){return Y.transition().call(function(H){return n.services.transitions.setupTransition({transition:H,name:"radar_blobs_update",animate:t})}).attr("opacity",1).attr("transform","translate("+U.x+", "+U.y+")").attr("d",function(H){return C(H.data)})})},function(j){return j.call(function(Y){var H=Y.transition().call(function(ue){return n.services.transitions.setupTransition({transition:ue,name:"radar_blobs_exit",animate:t})});t&&H.delay(function(){return Math.random()*30}).attr("transform",function(){return"translate("+U.x+", "+U.y+") scale("+(1+Math.random()*.35)+")"}),H.attr("opacity",0).remove()})});var K=D.appendOrSelect(o,"g.dots").attr("role",fe.GROUP),ee=K.selectAll("circle").data(this.fullDataNormalized.filter(function(j){return v.getProperty(j,m)!==null}));ee.join(function(j){return j.append("circle").attr("role",fe.GRAPHICS_SYMBOL).attr("aria-label",function(Y){return Y[u]})},function(j){return j},function(j){return j.remove()}).attr("class",function(j){return n.model.getColorClassName({classNameTypes:[ie.FILL],dataGroupName:j[f],originalClassName:v.kebabCase(j[p])})}).attr("cx",function(j){return Re(S(j[p]),I(j[m]),U).x}).attr("cy",function(j){return Re(S(j[p]),I(j[m]),U).y}).attr("r",0).attr("opacity",0).style("fill",function(j){return B(j[f])});var de=D.appendOrSelect(o,"g.x-axes-rect").attr("role",fe.GROUP),q=de.selectAll("rect").data(this.uniqueKeys);q.join(function(j){return j.append("rect")},function(j){return j},function(j){return j.remove()}).attr("x",U.x).attr("y",U.y-_/2).attr("width",I.range()[1]).attr("height",_).style("fill","red").style("fill-opacity",0).attr("transform",function(j){return"rotate("+em(S(j))+", "+U.x+", "+U.y+")"});var he=D.appendOrSelect(o,"g.y-labels").attr("role",fe.GROUP),le=he.selectAll("text").data(Rt(L));le.join(function(j){return j.append("text").attr("opacity",0).text(function(Y){return Y}).attr("x",function(Y){return Re(-Math.PI/2,I(Y),U).x+g}).attr("y",function(Y){return Re(-Math.PI/2,I(Y),U).y}).style("text-anchor","start").style("dominant-baseline","middle").call(function(Y){return Y.transition().call(function(H){return n.services.transitions.setupTransition({transition:H,name:"radar_y_labels_enter",animate:t})}).attr("opacity",1)})},function(j){return j.call(function(Y){return Y.transition().call(function(H){return n.services.transitions.setupTransition({transition:H,name:"radar_y_labels_update",animate:t})}).text(function(H){return H}).attr("opacity",1).attr("x",function(H){return Re(-Math.PI/2,I(H),U).x+g}).attr("y",function(H){return Re(-Math.PI/2,I(H),U).y})})},function(j){return j.call(function(Y){return Y.transition().call(function(H){return n.services.transitions.setupTransition({transition:H,name:"radar_y_labels_exit",animate:t})}).attr("opacity",0).remove()})}),this.addEventListeners()}},r.prototype.getAlignmentXOffset=function(t,n,o){var a=D.getSVGElementSize(n,{useBBox:!0}),i=D.getSVGElementSize(o,{useAttrs:!0}).width,s=0;return t===$e.CENTER?s=Math.floor((i-a.width)/2):t===$e.RIGHT&&(s=i-a.width),s},r.prototype.destroy=function(){this.parent.selectAll(".x-axes-rect > rect").on("mouseover",null).on("mousemove",null).on("mouseout",null);var t=this.services.events;t.removeEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),t.removeEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},r.prototype.addEventListeners=function(){var t=this,n=v.getProperty(this.getOptions(),"radar").axes.angle;this.parent.selectAll(".x-axes-rect > rect").on("mouseover",function(o,a){var i=R(this);t.services.events.dispatchEvent(E.Radar.X_AXIS_MOUSEOVER,{event:o,element:i,datum:a});var s=t.parent.select(".x-axes .x-axis-"+v.kebabCase(a)),c=t.parent.selectAll(".dots circle."+v.kebabCase(a)),d=t.model.getActiveDataGroupNames(),l=t.getOptions(),f=l.data.groupMapsTo,u=v.getProperty(l,"radar","axes","value");s.classed("hovered",!0).attr("stroke-dasharray","4 4"),c.classed("hovered",!0).attr("opacity",function(p){return d.indexOf(p[f])!==-1?1:0}).attr("r",gr.dotsRadius);var h=t.fullDataNormalized.filter(function(p){return p[n]===a&&d.indexOf(p[f])!==-1});t.services.events.dispatchEvent(E.Tooltip.SHOW,{event:o,hoveredElement:i,items:h.filter(function(p){return typeof p[u]=="number"}).map(function(p){return{label:p[f],value:p[u],color:t.model.getFillColor(p[f]),class:t.model.getColorClassName({classNameTypes:[ie.TOOLTIP],dataGroupName:p[f]})}})})}).on("mousemove",function(o,a){var i=R(this);t.services.events.dispatchEvent(E.Radar.X_AXIS_MOUSEMOVE,{event:o,element:i,datum:a}),t.services.events.dispatchEvent(E.Tooltip.MOVE,{event:o})}).on("click",function(o,a){t.services.events.dispatchEvent(E.Radar.X_AXIS_CLICK,{event:o,element:R(this),datum:a})}).on("mouseout",function(o,a){var i=R(this),s=t.parent.select(".x-axes .x-axis-"+v.kebabCase(a)),c=t.parent.selectAll(".dots circle."+v.kebabCase(a));s.classed("hovered",!1).attr("stroke-dasharray","0"),c.classed("hovered",!1).attr("opacity",0).attr("r",0),t.services.events.dispatchEvent(E.Radar.X_AXIS_MOUSEOUT,{event:o,element:i,datum:a}),t.services.events.dispatchEvent(E.Tooltip.HIDE)})},r}(ve),F9=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),N9=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;for(var n=Array(e),o=0,r=0;r<t;r++)for(var a=arguments[r],i=0,s=a.length;i<s;i++,o++)n[o]=a[i];return n},V9=function(e){F9(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="circle-pack",t.renderType=oe.SVG,t.handleLegendOnHover=function(n){var o=n.detail.hoveredElement;t.parent.selectAll("circle.node").transition("legend-hover-circlepack").call(function(a){return t.services.transitions.setupTransition({transition:a,name:"legend-hover-circlepack"})}).attr("opacity",function(a){return a.data.dataGroupName===o.datum().name?1:Or.circles.fillOpacity})},t.handleLegendMouseOut=function(n){t.parent.selectAll("circle.node").transition("legend-mouseout-circlepack").call(function(o){return t.services.transitions.setupTransition({transition:o,name:"legend-mouseout-circlepack"})}).attr("opacity",1)},t}return r.prototype.render=function(t){var n=this,o=this.getComponentContainer({withinChartClip:!0}),a=D.getSVGElementSize(this.parent,{useAttrs:!0}),i=a.width,s=a.height;if(!(i<1||s<1)){var c=this.model.getDisplayData(),d=this.model.hasParentNode(),l=this.model.getHierarchyLevel(),f=this.getOptions(),u=v.getProperty(f,"canvasZoom","enabled");d&&v.getProperty(c,0,"children")&&(c=v.getProperty(c,0,"children"));var h=Ro({children:c}).sum(function(g){return g.value}).sort(function(g,w){return w.value-g.value}),p=HE().size([i,s]).padding(function(g){return g.depth>=1?Or.padding.children+3:Or.padding.mainGroup+3}),m=p(h).descendants().splice(1).filter(function(g){return g.depth<=l}),b=o.selectAll("circle.node").data(m);b.exit().attr("width",0).attr("height",0).remove();var y=b.enter().append("circle").classed("node",!0);y.merge(b).attr("class",function(g){var w=u&&l===3?n.getZoomClass(g):"";return n.model.getColorClassName({classNameTypes:[ie.FILL,ie.STROKE],dataGroupName:g.data.dataGroupName,originalClassName:g.children?"node "+w:"node node-leaf "+w})}).style("fill",function(g){return n.model.getFillColor(g.data.dataGroupName)}).style("stroke",function(g){return n.model.getFillColor(g.data.dataGroupName)}).attr("cx",function(g){return g.x}).attr("cy",function(g){return g.y}).transition("circlepack-leaf-update-enter").call(function(g){return n.services.transitions.setupTransition({transition:g,name:"circlepack-leaf-update-enter"})}).attr("r",function(g){return g.r}).attr("opacity",1).attr("fill-opacity",Or.circles.fillOpacity),u===!0&&this.focal&&(this.services.canvasZoom.zoomIn(this.focal,y,vn),this.setBackgroundListeners()),d||this.addLegendListeners(),this.addEventListeners()}},r.prototype.unhighlightChildren=function(t){var n=this,o=t.map(function(a){return a.data});this.parent.selectAll("circle.node").filter(function(a){return o.some(function(i){return i===a.data})&&a.depth>1}).style("stroke",function(a){return n.model.getFillColor(a.data.dataGroupName)})},r.prototype.highlightChildren=function(t){var n=t.map(function(o){return o.data});this.parent.selectAll("circle.node").filter(function(o){return n.some(function(a){return a===o.data})&&o.depth>1}).style("stroke",Or.circles.hover.stroke)},r.prototype.getZoomClass=function(t){return this.model.getHierarchyLevel()===3&&this.focal&&(t.data===this.focal.data||this.focal.children.some(function(n){return n.data===t.data}))?"focal":"non-focal"},r.prototype.addLegendListeners=function(){var t=this.services.events;t.addEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),t.addEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},r.prototype.removeBackgroundListeners=function(){var t=R(this.services.domUtils.getMainContainer());t.on("click",function(){return null})},r.prototype.setBackgroundListeners=function(){var t=R(this.services.domUtils.getMainContainer()),n=this,o=this.parent.selectAll("circle.node"),a=v.getProperty(Oh,"canvasZoomSettings");t.on("click",function(){n.focal=null,n.model.updateHierarchyLevel(2),t.classed("zoomed-in",!1),n.services.canvasZoom.zoomOut(o,a)})},r.prototype.getZoomIcon=function(){return`
		<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 10">
			<polygon points="5.93 3.71 4.45 3.71 4.45 2.23 3.71 2.23 3.71 3.71 2.23 3.71 2.23 4.45 3.71 4.45 3.71 5.93 4.45 5.93 4.45 4.45 5.93 4.45 5.93 3.71"/>
			<path d="M7.2,6.67a4,4,0,0,0,1-2.59A4.08,4.08,0,1,0,4.07,8.15h0a4,4,0,0,0,2.59-1L9.48,10,10,9.48Zm-3.12.77A3.34,3.34,0,1,1,7.41,4.08,3.34,3.34,0,0,1,4.08,7.44Z"/>
		</svg>`},r.prototype.addEventListeners=function(){var t=this;this.parent.selectAll("circle.node").on("mouseover",function(n,o){var a=R(this);a.classed("hovered",!0);var i=t.model.getHierarchyLevel(),s=i>2&&!a.classed("focal"),c=v.getProperty(t.model.getOptions(),"canvasZoom","enabled"),d=!1;if(!s){var l=[],f=[],u=null;if(o.children){o.depth>1&&c&&(d=!0,a.classed("clickable",!0)),l=o.children.map(function(m){if(m!==null)return typeof m.data.value=="number"?{label:m.data.name,value:m.data.value}:{label:m.data.name,labelIcon:c&&i<=2?t.getZoomIcon():null,value:m.value}});var h=t.model.getOptions();f=[{label:Te(h,"tooltip.totalLabel")||"Total",value:o.value,bold:!0}],t.highlightChildren(o.children)}else u=o.value;var p=getComputedStyle(this,null).getPropertyValue("fill");t.services.events.dispatchEvent(E.Tooltip.SHOW,{event:n,hoveredElement:a,items:N9([{color:p,label:o.data.name,labelIcon:d&&c&&i<=2?t.getZoomIcon():null,value:u}],l,f)})}t.services.events.dispatchEvent(E.CirclePack.CIRCLE_MOUSEOVER,{event:n,element:a,datum:o})}).on("mousemove",function(n,o){var a=R(this);t.services.events.dispatchEvent(E.CirclePack.CIRCLE_MOUSEMOVE,{event:n,element:a,datum:o}),t.services.events.dispatchEvent(E.Tooltip.MOVE,{event:n})}).on("mouseout",function(n,o){var a=R(this);a.classed("hovered",!1),o.children&&t.unhighlightChildren(o.children),t.services.events.dispatchEvent(E.CirclePack.CIRCLE_MOUSEOUT,{event:n,element:a,datum:o}),t.services.events.dispatchEvent(E.Tooltip.HIDE,{hoveredElement:a})}).on("click",function(n,o){var a=R(this),i=a.classed("non-focal"),s=v.getProperty(t.model.getOptions(),"canvasZoom","enabled");if(s&&t.model.getHierarchyLevel()>2){var c=t.parent.selectAll("circle.node"),d=R(t.services.domUtils.getMainContainer());d.classed("zoomed-in",!1),t.focal=null,t.model.updateHierarchyLevel(2),t.services.canvasZoom.zoomOut(c,vn)}else if(o.depth===2&&o.children&&!i&&s){var c=t.parent.selectAll("circle.node"),d=R(t.services.domUtils.getMainContainer());d.classed("zoomed-in",!0),t.focal=o,t.model.updateHierarchyLevel(3),t.services.canvasZoom.zoomIn(o,c,vn),n.stopPropagation()}t.services.events.dispatchEvent(E.CirclePack.CIRCLE_CLICK,{event:n,element:a,datum:o})})},r.prototype.destroy=function(){this.parent.selectAll("circle.node").on("mouseover",null).on("mousemove",null).on("mouseout",null).on("click",null);var t=this.services.events;t.removeEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),t.removeEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut),this.removeBackgroundListeners()},r}(ve),$9={value:function(){}};function tm(){for(var e=0,r=arguments.length,t={},n;e<r;++e){if(!(n=arguments[e]+"")||n in t||/[\s.]/.test(n))throw new Error("illegal type: "+n);t[n]=[]}return new ga(t)}function ga(e){this._=e}function H9(e,r){return e.trim().split(/^|\s+/).map(function(t){var n="",o=t.indexOf(".");if(o>=0&&(n=t.slice(o+1),t=t.slice(0,o)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})}ga.prototype=tm.prototype={constructor:ga,on:function(e,r){var t=this._,n=H9(e+"",t),o,a=-1,i=n.length;if(arguments.length<2){for(;++a<i;)if((o=(e=n[a]).type)&&(o=G9(t[o],e.name)))return o;return}if(r!=null&&typeof r!="function")throw new Error("invalid callback: "+r);for(;++a<i;)if(o=(e=n[a]).type)t[o]=mu(t[o],e.name,r);else if(r==null)for(o in t)t[o]=mu(t[o],e.name,null);return this},copy:function(){var e={},r=this._;for(var t in r)e[t]=r[t].slice();return new ga(e)},call:function(e,r){if((o=arguments.length-2)>0)for(var t=new Array(o),n=0,o,a;n<o;++n)t[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],n=0,o=a.length;n<o;++n)a[n].value.apply(r,t)},apply:function(e,r,t){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],o=0,a=n.length;o<a;++o)n[o].value.apply(r,t)}};function G9(e,r){for(var t=0,n=e.length,o;t<n;++t)if((o=e[t]).name===r)return o.value}function mu(e,r,t){for(var n=0,o=e.length;n<o;++n)if(e[n].name===r){e[n]=$9,e=e.slice(0,n).concat(e.slice(n+1));break}return t!=null&&e.push({name:r,value:t}),e}var j9=Object.freeze(Object.defineProperty({__proto__:null,dispatch:tm},Symbol.toStringTag,{value:"Module"})),q9=Kx(j9),W9=q9.dispatch,as=Math.PI/180,Jn=1<<11>>5,ma=1<<11,Y9=function(){var e=[256,256],r=X9,t=Z9,n=K9,o=vu,a=vu,i=Q9,s=J9,c=rm,d=[],l=1/0,f=W9("word","end"),u=null,h=Math.random,p={},m=iA;p.canvas=function(g){return arguments.length?(m=pr(g),p):m},p.start=function(){var g=b(m()),w=aA((e[0]>>5)*e[1]),k=null,_=d.length,x=-1,O=[],M=d.map(function(A,S){return A.text=r.call(this,A,S),A.font=t.call(this,A,S),A.style=o.call(this,A,S),A.weight=a.call(this,A,S),A.rotate=i.call(this,A,S),A.size=~~n.call(this,A,S),A.padding=s.call(this,A,S),A}).sort(function(A,S){return S.size-A.size});return u&&clearInterval(u),u=setInterval(T,0),T(),p;function T(){for(var A=Date.now();Date.now()-A<l&&++x<_&&u;){var S=M[x];S.x=e[0]*(h()+.5)>>1,S.y=e[1]*(h()+.5)>>1,eA(g,S,M,x),S.hasText&&y(w,S,k)&&(O.push(S),f.call("word",p,S),k?rA(k,S):k=[{x:S.x+S.x0,y:S.y+S.y0},{x:S.x+S.x1,y:S.y+S.y1}],S.x-=e[0]>>1,S.y-=e[1]>>1)}x>=_&&(p.stop(),f.call("end",p,O,k))}},p.stop=function(){return u&&(clearInterval(u),u=null),p};function b(g){g.width=g.height=1;var w=Math.sqrt(g.getContext("2d").getImageData(0,0,1,1).data.length>>2);g.width=(Jn<<5)/w,g.height=ma/w;var k=g.getContext("2d");return k.fillStyle=k.strokeStyle="red",k.textAlign="center",{context:k,ratio:w}}function y(g,w,k){e[0],e[1];for(var _=w.x,x=w.y,O=Math.sqrt(e[0]*e[0]+e[1]*e[1]),M=c(e),T=h()<.5?1:-1,A=-T,S,P,I;(S=M(A+=T))&&(P=~~S[0],I=~~S[1],!(Math.min(Math.abs(P),Math.abs(I))>=O));)if(w.x=_+P,w.y=x+I,!(w.x+w.x0<0||w.y+w.y0<0||w.x+w.x1>e[0]||w.y+w.y1>e[1])&&(!k||!tA(w,g,e[0]))&&(!k||nA(w,k))){for(var L=w.sprite,B=w.width>>5,C=e[0]>>5,z=w.x-(B<<4),F=z&127,U=32-F,N=w.y1-w.y0,V=(w.y+w.y0)*C+(z>>5),X,ce=0;ce<N;ce++){X=0;for(var ae=0;ae<=B;ae++)g[V+ae]|=X<<U|(ae<B?(X=L[ce*B+ae])>>>F:0);V+=C}return delete w.sprite,!0}return!1}return p.timeInterval=function(g){return arguments.length?(l=g==null?1/0:g,p):l},p.words=function(g){return arguments.length?(d=g,p):d},p.size=function(g){return arguments.length?(e=[+g[0],+g[1]],p):e},p.font=function(g){return arguments.length?(t=pr(g),p):t},p.fontStyle=function(g){return arguments.length?(o=pr(g),p):o},p.fontWeight=function(g){return arguments.length?(a=pr(g),p):a},p.rotate=function(g){return arguments.length?(i=pr(g),p):i},p.text=function(g){return arguments.length?(r=pr(g),p):r},p.spiral=function(g){return arguments.length?(c=sA[g]||g,p):c},p.fontSize=function(g){return arguments.length?(n=pr(g),p):n},p.padding=function(g){return arguments.length?(s=pr(g),p):s},p.random=function(g){return arguments.length?(h=g,p):h},p.on=function(){var g=f.on.apply(f,arguments);return g===f?p:g},p};function X9(e){return e.text}function Z9(){return"serif"}function vu(){return"normal"}function K9(e){return Math.sqrt(e.value)}function Q9(){return(~~(Math.random()*6)-3)*30}function J9(){return 1}function eA(e,r,t,n){if(!r.sprite){var o=e.context,a=e.ratio;o.clearRect(0,0,(Jn<<5)/a,ma/a);var i=0,s=0,c=0,d=t.length;for(--n;++n<d;){r=t[n],o.save(),o.font=r.style+" "+r.weight+" "+~~((r.size+1)/a)+"px "+r.font;var l=o.measureText(r.text+"m").width*a,f=r.size<<1;if(r.rotate){var u=Math.sin(r.rotate*as),h=Math.cos(r.rotate*as),p=l*h,m=l*u,b=f*h,y=f*u;l=Math.max(Math.abs(p+y),Math.abs(p-y))+31>>5<<5,f=~~Math.max(Math.abs(m+b),Math.abs(m-b))}else l=l+31>>5<<5;if(f>c&&(c=f),i+l>=Jn<<5&&(i=0,s+=c,c=0),s+f>=ma)break;o.translate((i+(l>>1))/a,(s+(f>>1))/a),r.rotate&&o.rotate(r.rotate*as),o.fillText(r.text,0,0),r.padding&&(o.lineWidth=2*r.padding,o.strokeText(r.text,0,0)),o.restore(),r.width=l,r.height=f,r.xoff=i,r.yoff=s,r.x1=l>>1,r.y1=f>>1,r.x0=-r.x1,r.y0=-r.y1,r.hasText=!0,i+=l}for(var g=o.getImageData(0,0,(Jn<<5)/a,ma/a).data,w=[];--n>=0;)if(r=t[n],!!r.hasText){for(var l=r.width,k=l>>5,f=r.y1-r.y0,_=0;_<f*k;_++)w[_]=0;if(i=r.xoff,i==null)return;s=r.yoff;for(var x=0,O=-1,M=0;M<f;M++){for(var _=0;_<l;_++){var T=k*M+(_>>5),A=g[(s+M)*(Jn<<5)+(i+_)<<2]?1<<31-_%32:0;w[T]|=A,x|=A}x?O=M:(r.y0++,f--,M--,s++)}r.y1=r.y0+O,r.sprite=w.slice(0,(r.y1-r.y0)*k)}}}function tA(e,r,t){t>>=5;for(var n=e.sprite,o=e.width>>5,a=e.x-(o<<4),i=a&127,s=32-i,c=e.y1-e.y0,d=(e.y+e.y0)*t+(a>>5),l,f=0;f<c;f++){l=0;for(var u=0;u<=o;u++)if((l<<s|(u<o?(l=n[f*o+u])>>>i:0))&r[d+u])return!0;d+=t}return!1}function rA(e,r){var t=e[0],n=e[1];r.x+r.x0<t.x&&(t.x=r.x+r.x0),r.y+r.y0<t.y&&(t.y=r.y+r.y0),r.x+r.x1>n.x&&(n.x=r.x+r.x1),r.y+r.y1>n.y&&(n.y=r.y+r.y1)}function nA(e,r){return e.x+e.x1>r[0].x&&e.x+e.x0<r[1].x&&e.y+e.y1>r[0].y&&e.y+e.y0<r[1].y}function rm(e){var r=e[0]/e[1];return function(t){return[r*(t*=.1)*Math.cos(t),t*Math.sin(t)]}}function oA(e){var r=4,t=r*e[0]/e[1],n=0,o=0;return function(a){var i=a<0?-1:1;switch(Math.sqrt(1+4*i*a)-i&3){case 0:n+=t;break;case 1:o+=r;break;case 2:n-=t;break;default:o-=r;break}return[n,o]}}function aA(e){for(var r=[],t=-1;++t<e;)r[t]=0;return r}function iA(){return document.createElement("canvas")}function pr(e){return typeof e=="function"?e:function(){return e}}var sA={archimedean:rm,rectangular:oA},cA=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),dA=function(e){cA(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="wordcloud",t.renderType=oe.SVG,t.handleLegendOnHover=function(n){var o=n.detail.hoveredElement,a=t.getOptions().data.groupMapsTo;t.parent.selectAll("text.word").transition("legend-hover-wordcloud").call(function(i){return t.services.transitions.setupTransition({transition:i,name:"legend-hover-wordcloud"})}).attr("opacity",function(i){return i[a]!==o.datum().name?.3:1})},t.handleLegendMouseOut=function(n){t.parent.selectAll("text.word").transition("legend-mouseout-wordcloud").call(function(o){return t.services.transitions.setupTransition({transition:o,name:"legend-mouseout-wordcloud"})}).attr("opacity",1)},t}return r.prototype.init=function(){var t=this.services.events;t.addEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),t.addEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},r.prototype.render=function(t){t===void 0&&(t=!0);var n=this,o=this.getComponentContainer().attr("width","100%").attr("height","100%"),a=this.model.getDisplayData(),i=this.getFontSizeScale(a),s=this.getOptions(),c=s.wordCloud,d=c.fontSizeMapsTo,l=c.wordMapsTo,f=s.data.groupMapsTo,u=D.getSVGElementSize(o,{useAttrs:!0}),h=u.width,p=u.height;if(h===0||p===0)return;var m=Y9().size([h,p]).words(a.map(function(y){var g;return g={},g[f]=y[f],g.text=y[l],g.size=y[d],g.value=y[d],g})).padding(5).rotate(0).fontSize(function(y){return i(y.size)}).on("end",b);m.start();function b(y){var g=D.appendOrSelect(o,"g.words");g.attr("transform","translate("+m.size()[0]/2+", "+m.size()[1]/2+")");var w=g.selectAll("text").data(y,function(_){return _[f]+"-"+_.text});w.exit().attr("opacity",0).remove();var k=w.enter().append("text").attr("opacity",0);k.merge(w).style("font-size",function(_){return _.size+"px"}).text(function(_){return _.text}).attr("class",function(_){return n.model.getColorClassName({classNameTypes:[ie.FILL],dataGroupName:_[f],originalClassName:"word "+(_.size>32?"light":"")})}).style("fill",function(_){return n.model.getFillColor(_[f],_.text,_)}).attr("text-anchor","middle").transition().call(function(_){return n.services.transitions.setupTransition({transition:_,name:"wordcloud-text-update-enter",animate:t})}).attr("transform",function(_){return"translate("+_.x+", "+_.y+")"}).attr("opacity",1)}this.addEventListeners()},r.prototype.getFontSizeScale=function(t){var n=this.getOptions(),o=n.wordCloud.fontSizeMapsTo,a=t.map(function(d){return d[o]}).filter(function(d){return d}),i=D.getHTMLElementSize(this.services.domUtils.getMainContainer()),s=a.length>0,c=s?Rt(a):[1,1];return Ht().domain(c).range(s?n.wordCloud.fontSizeRange(i,t):[4,4])},r.prototype.addEventListeners=function(){var t=this.getOptions(),n=t.data.groupMapsTo,o=this,a=v.debounce(function(i){var s=o.parent.selectAll("text.word").transition("wordcloud-word-mouse-highlight").call(function(c){return o.services.transitions.setupTransition({transition:c,name:"wordcloud-word-mouse-highlight"})});i===null?s.attr("opacity",1):s.attr("opacity",function(){return i===this?1:.3})},6);this.parent.selectAll("text.word").on("mouseover",function(i,s){var c=this;a(c),o.services.events.dispatchEvent(E.WordCloud.WORD_MOUSEOVER,{event:i,element:R(this),datum:s}),o.services.events.dispatchEvent(E.Tooltip.SHOW,{event:i,hoveredElement:c,items:[{label:t.tooltip.wordLabel,value:s.text},{label:t.tooltip.valueLabel,value:s.value},{label:t.tooltip.groupLabel,value:s[n],class:o.model.getColorClassName({classNameTypes:[ie.TOOLTIP],dataGroupName:s[n]})}]})}).on("mousemove",function(i,s){var c=R(this);o.services.events.dispatchEvent(E.WordCloud.WORD_MOUSEMOVE,{element:c,datum:s}),o.services.events.dispatchEvent(E.Tooltip.MOVE,{event:i})}).on("click",function(i,s){o.services.events.dispatchEvent(E.WordCloud.WORD_CLICK,{event:i,element:R(this),datum:s})}).on("mouseout",function(i,s){var c=R(this);a(null),o.services.events.dispatchEvent(E.WordCloud.WORD_MOUSEOUT,{event:i,element:c,datum:s}),o.services.events.dispatchEvent(E.Tooltip.HIDE,{hoveredElement:c})})},r}(ve);function bu(e,r){let t;if(r===void 0)for(const n of e)n!=null&&(t<n||t===void 0&&n>=n)&&(t=n);else{let n=-1;for(let o of e)(o=r(o,++n,e))!=null&&(t<o||t===void 0&&o>=o)&&(t=o)}return t}function lA(e,r){let t;if(r===void 0)for(const n of e)n!=null&&(t>n||t===void 0&&n>=n)&&(t=n);else{let n=-1;for(let o of e)(o=r(o,++n,e))!=null&&(t>o||t===void 0&&o>=o)&&(t=o)}return t}function is(e,r){let t=0;if(r===void 0)for(let n of e)(n=+n)&&(t+=n);else{let n=-1;for(let o of e)(o=+r(o,++n,e))&&(t+=o)}return t}function fA(e){return e.depth}function uA(e,r){return r-1-e.height}function nm(e,r){return e.sourceLinks.length?e.depth:r-1}function ia(e){return function(){return e}}function yu(e,r){return Ka(e.source,r.source)||e.index-r.index}function wu(e,r){return Ka(e.target,r.target)||e.index-r.index}function Ka(e,r){return e.y0-r.y0}function ss(e){return e.value}function pA(e){return e.index}function hA(e){return e.nodes}function gA(e){return e.links}function _u(e,r){const t=e.get(r);if(!t)throw new Error("missing: "+r);return t}function xu({nodes:e}){for(const r of e){let t=r.y0,n=t;for(const o of r.sourceLinks)o.y0=t+o.width/2,t+=o.width;for(const o of r.targetLinks)o.y1=n+o.width/2,n+=o.width}}function mA(){let e=0,r=0,t=1,n=1,o=24,a=8,i,s=pA,c=nm,d,l,f=hA,u=gA,h=6;function p(){const B={nodes:f.apply(null,arguments),links:u.apply(null,arguments)};return m(B),b(B),y(B),g(B),_(B),xu(B),B}p.update=function(B){return xu(B),B},p.nodeId=function(B){return arguments.length?(s=typeof B=="function"?B:ia(B),p):s},p.nodeAlign=function(B){return arguments.length?(c=typeof B=="function"?B:ia(B),p):c},p.nodeSort=function(B){return arguments.length?(d=B,p):d},p.nodeWidth=function(B){return arguments.length?(o=+B,p):o},p.nodePadding=function(B){return arguments.length?(a=i=+B,p):a},p.nodes=function(B){return arguments.length?(f=typeof B=="function"?B:ia(B),p):f},p.links=function(B){return arguments.length?(u=typeof B=="function"?B:ia(B),p):u},p.linkSort=function(B){return arguments.length?(l=B,p):l},p.size=function(B){return arguments.length?(e=r=0,t=+B[0],n=+B[1],p):[t-e,n-r]},p.extent=function(B){return arguments.length?(e=+B[0][0],t=+B[1][0],r=+B[0][1],n=+B[1][1],p):[[e,r],[t,n]]},p.iterations=function(B){return arguments.length?(h=+B,p):h};function m({nodes:B,links:C}){for(const[F,U]of B.entries())U.index=F,U.sourceLinks=[],U.targetLinks=[];const z=new Map(B.map((F,U)=>[s(F,U,B),F]));for(const[F,U]of C.entries()){U.index=F;let{source:N,target:V}=U;typeof N!="object"&&(N=U.source=_u(z,N)),typeof V!="object"&&(V=U.target=_u(z,V)),N.sourceLinks.push(U),V.targetLinks.push(U)}if(l!=null)for(const{sourceLinks:F,targetLinks:U}of B)F.sort(l),U.sort(l)}function b({nodes:B}){for(const C of B)C.value=C.fixedValue===void 0?Math.max(is(C.sourceLinks,ss),is(C.targetLinks,ss)):C.fixedValue}function y({nodes:B}){const C=B.length;let z=new Set(B),F=new Set,U=0;for(;z.size;){for(const N of z){N.depth=U;for(const{target:V}of N.sourceLinks)F.add(V)}if(++U>C)throw new Error("circular link");z=F,F=new Set}}function g({nodes:B}){const C=B.length;let z=new Set(B),F=new Set,U=0;for(;z.size;){for(const N of z){N.height=U;for(const{source:V}of N.targetLinks)F.add(V)}if(++U>C)throw new Error("circular link");z=F,F=new Set}}function w({nodes:B}){const C=bu(B,U=>U.depth)+1,z=(t-e-o)/(C-1),F=new Array(C);for(const U of B){const N=Math.max(0,Math.min(C-1,Math.floor(c.call(null,U,C))));U.layer=N,U.x0=e+N*z,U.x1=U.x0+o,F[N]?F[N].push(U):F[N]=[U]}if(d)for(const U of F)U.sort(d);return F}function k(B){const C=lA(B,z=>(n-r-(z.length-1)*i)/is(z,ss));for(const z of B){let F=r;for(const U of z){U.y0=F,U.y1=F+U.value*C,F=U.y1+i;for(const N of U.sourceLinks)N.width=N.value*C}F=(n-F+i)/(z.length+1);for(let U=0;U<z.length;++U){const N=z[U];N.y0+=F*(U+1),N.y1+=F*(U+1)}P(z)}}function _(B){const C=w(B);i=Math.min(a,(n-r)/(bu(C,z=>z.length)-1)),k(C);for(let z=0;z<h;++z){const F=Math.pow(.99,z),U=Math.max(1-F,(z+1)/h);O(C,F,U),x(C,F,U)}}function x(B,C,z){for(let F=1,U=B.length;F<U;++F){const N=B[F];for(const V of N){let X=0,ce=0;for(const{source:Z,value:re}of V.targetLinks){let J=re*(V.layer-Z.layer);X+=I(Z,V)*J,ce+=J}if(!(ce>0))continue;let ae=(X/ce-V.y0)*C;V.y0+=ae,V.y1+=ae,S(V)}d===void 0&&N.sort(Ka),M(N,z)}}function O(B,C,z){for(let F=B.length,U=F-2;U>=0;--U){const N=B[U];for(const V of N){let X=0,ce=0;for(const{target:Z,value:re}of V.sourceLinks){let J=re*(Z.layer-V.layer);X+=L(V,Z)*J,ce+=J}if(!(ce>0))continue;let ae=(X/ce-V.y0)*C;V.y0+=ae,V.y1+=ae,S(V)}d===void 0&&N.sort(Ka),M(N,z)}}function M(B,C){const z=B.length>>1,F=B[z];A(B,F.y0-i,z-1,C),T(B,F.y1+i,z+1,C),A(B,n,B.length-1,C),T(B,r,0,C)}function T(B,C,z,F){for(;z<B.length;++z){const U=B[z],N=(C-U.y0)*F;N>1e-6&&(U.y0+=N,U.y1+=N),C=U.y1+i}}function A(B,C,z,F){for(;z>=0;--z){const U=B[z],N=(U.y1-C)*F;N>1e-6&&(U.y0-=N,U.y1-=N),C=U.y0-i}}function S({sourceLinks:B,targetLinks:C}){if(l===void 0){for(const{source:{sourceLinks:z}}of C)z.sort(wu);for(const{target:{targetLinks:z}}of B)z.sort(yu)}}function P(B){if(l===void 0)for(const{sourceLinks:C,targetLinks:z}of B)C.sort(wu),z.sort(yu)}function I(B,C){let z=B.y0-(B.sourceLinks.length-1)*i/2;for(const{target:F,width:U}of B.sourceLinks){if(F===C)break;z+=U+i}for(const{source:F,width:U}of C.targetLinks){if(F===B)break;z-=U}return z}function L(B,C){let z=C.y0-(C.targetLinks.length-1)*i/2;for(const{source:F,width:U}of C.targetLinks){if(F===B)break;z+=U+i}for(const{target:F,width:U}of B.sourceLinks){if(F===C)break;z-=U}return z}return p}var Yc=Math.PI,Xc=2*Yc,Tr=1e-6,vA=Xc-Tr;function Zc(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function om(){return new Zc}Zc.prototype=om.prototype={constructor:Zc,moveTo:function(e,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+r)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,r){this._+="L"+(this._x1=+e)+","+(this._y1=+r)},quadraticCurveTo:function(e,r,t,n){this._+="Q"+ +e+","+ +r+","+(this._x1=+t)+","+(this._y1=+n)},bezierCurveTo:function(e,r,t,n,o,a){this._+="C"+ +e+","+ +r+","+ +t+","+ +n+","+(this._x1=+o)+","+(this._y1=+a)},arcTo:function(e,r,t,n,o){e=+e,r=+r,t=+t,n=+n,o=+o;var a=this._x1,i=this._y1,s=t-e,c=n-r,d=a-e,l=i-r,f=d*d+l*l;if(o<0)throw new Error("negative radius: "+o);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=r);else if(f>Tr)if(!(Math.abs(l*s-c*d)>Tr)||!o)this._+="L"+(this._x1=e)+","+(this._y1=r);else{var u=t-a,h=n-i,p=s*s+c*c,m=u*u+h*h,b=Math.sqrt(p),y=Math.sqrt(f),g=o*Math.tan((Yc-Math.acos((p+f-m)/(2*b*y)))/2),w=g/y,k=g/b;Math.abs(w-1)>Tr&&(this._+="L"+(e+w*d)+","+(r+w*l)),this._+="A"+o+","+o+",0,0,"+ +(l*u>d*h)+","+(this._x1=e+k*s)+","+(this._y1=r+k*c)}},arc:function(e,r,t,n,o,a){e=+e,r=+r,t=+t,a=!!a;var i=t*Math.cos(n),s=t*Math.sin(n),c=e+i,d=r+s,l=1^a,f=a?n-o:o-n;if(t<0)throw new Error("negative radius: "+t);this._x1===null?this._+="M"+c+","+d:(Math.abs(this._x1-c)>Tr||Math.abs(this._y1-d)>Tr)&&(this._+="L"+c+","+d),t&&(f<0&&(f=f%Xc+Xc),f>vA?this._+="A"+t+","+t+",0,1,"+l+","+(e-i)+","+(r-s)+"A"+t+","+t+",0,1,"+l+","+(this._x1=c)+","+(this._y1=d):f>Tr&&(this._+="A"+t+","+t+",0,"+ +(f>=Yc)+","+l+","+(this._x1=e+t*Math.cos(o))+","+(this._y1=r+t*Math.sin(o))))},rect:function(e,r,t,n){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+r)+"h"+ +t+"v"+ +n+"h"+-t+"Z"},toString:function(){return this._}};function ku(e){return function(){return e}}function bA(e){return e[0]}function yA(e){return e[1]}var wA=Array.prototype.slice;function _A(e){return e.source}function xA(e){return e.target}function kA(e){var r=_A,t=xA,n=bA,o=yA,a=null;function i(){var s,c=wA.call(arguments),d=r.apply(this,c),l=t.apply(this,c);if(a||(a=s=om()),e(a,+n.apply(this,(c[0]=d,c)),+o.apply(this,c),+n.apply(this,(c[0]=l,c)),+o.apply(this,c)),s)return a=null,s+""||null}return i.source=function(s){return arguments.length?(r=s,i):r},i.target=function(s){return arguments.length?(t=s,i):t},i.x=function(s){return arguments.length?(n=typeof s=="function"?s:ku(+s),i):n},i.y=function(s){return arguments.length?(o=typeof s=="function"?s:ku(+s),i):o},i.context=function(s){return arguments.length?(a=s==null?null:s,i):a},i}function SA(e,r,t,n,o){e.moveTo(r,t),e.bezierCurveTo(r=(r+n)/2,t,r,o,n,o)}function MA(){return kA(SA)}function EA(e){return[e.source.x1,e.y0]}function TA(e){return[e.target.x0,e.y1]}function OA(){return MA().source(EA).target(TA)}var AA=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),PA=function(e){AA(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="alluvial",t.renderType=oe.SVG,t.gradient_id="gradient-id-"+Math.floor(Math.random()*99999999999),t}return r.prototype.render=function(t){var n=this,o=this.getComponentContainer({withinChartClip:!0});o.html("");var a=D.getSVGElementSize(o,{useAttrs:!0}),i=a.width,s=a.height;if(!(i<1||s<1)){var c=this.model.getOptions(),d=this.model.getDisplayData(),l=v.getProperty(this.getOptions(),"color","gradient","enabled"),f=wt.minNodePadding;c.alluvial.nodePadding>wt.minNodePadding&&(f=c.alluvial.nodePadding);var u=v.getProperty(c,"alluvial","nodeAlignment"),h=nm;u===$e.LEFT?h=fA:u===$e.RIGHT&&(h=uA);var p=mA().nodeId(function(_){return _.name}).nodeWidth(wt.nodeWidth).nodePadding(f).nodeAlign(h).extent([[2,30],[i-2,s]]);this.graph=p({nodes:c.alluvial.nodes.map(function(_){return Object.assign({},_)}),links:d.map(function(_){return Object.assign({},_)})}),this.graph.nodes=this.graph.nodes.filter(function(_){return _.value!==0});var m={};this.graph.nodes.forEach(function(_){var x,O=_.x0;_.category&&(m[O]=(x=_)===null||x===void 0?void 0:x.category)});var b=o.append("g").classed("header-arrows",!0).selectAll("g").data(Object.keys(m)).join("g").attr("transform",function(_){return"translate("+_+", 0)"});b.append("text").attr("id",function(_,x){return n.services.domUtils.generateElementIDString("alluvial-category-"+x)}).style("font-size","14px").text(function(_){return m[_]?m[_]:""}).attr("y",20).attr("x",function(_,x){var O=n.services.domUtils.generateElementIDString("alluvial-category-"+x),M=D.getSVGElementSize(R("text#"+O),{useBBox:!0}).width,T=0;return _+T>=M&&(T=-M+4),T});var y=o.append("g").attr("fill","none").selectAll("g").data(this.graph.links);if(y.exit().remove(),l){var g=v.getProperty(this.getOptions(),"color","scale");g&&y.enter().append("linearGradient").attr("id",function(_){return n.gradient_id+"-link-"+_.index}).attr("gradientUnits","userSpaceOnUse").call(function(_){return _.append("stop").attr("offset","0%").attr("stop-color",function(x){return g[x.source.name]})}).call(function(_){return _.append("stop").attr("offset","100%").attr("stop-color",function(x){return g[x.target.name]})}),y.exit().remove()}y.enter().append("path").classed("link",!0).attr("d",OA()).attr("id",function(_){return n.services.domUtils.generateElementIDString("alluvial-line-"+_.index)}).attr("class",function(_){return c.alluvial.monochrome?n.model.getColorClassName({classNameTypes:[ie.STROKE],dataGroupName:0,originalClassName:"link"}):n.model.getColorClassName({classNameTypes:[ie.STROKE],dataGroupName:_.source.index,originalClassName:"link"})}).style("stroke",function(_){return l?"url(#"+n.gradient_id+"-link-"+_.index+")":n.model.getFillColor(_.source.name)}).attr("stroke-width",function(_){return Math.max(1,_.width)}).style("stroke-opacity",wt.opacity.default).attr("aria-label",function(_){return _.source.name+" \u2192 "+_.target.name+" ("+_.value+(c.alluvial.units?" "+c.alluvial.units:"")+")"});var w=o.append("g").selectAll("g").data(this.graph.nodes).enter().append("g").attr("id",function(_){return n.services.domUtils.generateElementIDString("alluvial-node-"+_.index)}).classed("node-group",!0).attr("transform",function(_){return"translate("+_.x0+", "+_.y0+")"});w.append("rect").classed("node",!0).attr("height",function(_){return _.y1-_.y0}).attr("width",function(_){return _.x1-_.x0}).attr("fill","black");var k=w.append("g").attr("id",function(_){return n.services.domUtils.generateElementIDString("alluvial-node-title-"+_.index)});k.append("text").attr("id",function(_){return n.services.domUtils.generateElementIDString("alluvial-node-text-"+_.index)}).attr("class","node-text").style("font-size","12px").attr("text-anchor","start").attr("fill","white").attr("x",4).attr("dy",13).text(function(_){return _.name+" ("+_.value+")"}).attr("aria-label",function(_){return _.name+" ("+_.value+")"}),k.append("rect").classed("node-text-bg",!0).attr("width",function(_,x){var O=n.services.domUtils.generateElementIDString("alluvial-node-text-"+x),M=D.getSVGElementSize(R("text#"+O),{useBBox:!0}).width;return M+8}).attr("height",18).attr("stroke-width",2).lower(),k.attr("transform",function(_,x){var O=n.services.domUtils.generateElementIDString("alluvial-node-text-"+x),M=D.getSVGElementSize(R("text#"+O),{useBBox:!0}).width,T=(_.y1-_.y0)/2-9,A=_.x1-_.x0;return _.x1>=M?A=A-(M+16):A+=4,"translate("+A+", "+T+")"}),this.addLineEventListener(),this.addNodeEventListener()}},r.prototype.addLineEventListener=function(){var t=this.getOptions(),n=this,o=v.debounce(function(a,i){i===void 0&&(i="mouseover");var s=n.parent.selectAll("path.link").transition().call(function(c){return n.services.transitions.setupTransition({transition:c,name:"alluvial-links-mouse-highlight"})});i==="mouseout"?(R(a).lower(),s.style("stroke-opacity",wt.opacity.default)):s.style("stroke-opacity",function(){return a===this?(R(this).raise(),wt.opacity.selected):wt.opacity.unfocus})},33);this.parent.selectAll("path.link").on("mouseover",function(a,i){var s=R(this);o(this,"mouseover"),s.classed("link-hovered",!0);var c=getComputedStyle(this).getPropertyValue("stroke");n.services.events.dispatchEvent(E.Alluvial.LINE_MOUSEOVER,{event:a,element:s,datum:i}),n.services.events.dispatchEvent(E.Tooltip.SHOW,{event:a,hoveredElement:s,items:[{label:i.target.name,value:i.value+(t.alluvial.units?" "+t.alluvial.units:""),color:c,labelIcon:n.getRightArrowIcon()}]})}).on("mousemove",function(a,i){n.services.events.dispatchEvent(E.Alluvial.LINE_MOUSEMOVE,{event:a,element:R(this),datum:i}),n.services.events.dispatchEvent(E.Tooltip.MOVE,{event:a})}).on("click",function(a,i){n.services.events.dispatchEvent(E.Alluvial.LINE_CLICK,{event:a,element:R(this),datum:i})}).on("mouseout",function(a,i){var s=R(this);o(this,"mouseout"),s.classed("link-hovered",!1),n.services.events.dispatchEvent(E.Alluvial.LINE_MOUSEOUT,{event:a,element:s,datum:i}),n.services.events.dispatchEvent(E.Tooltip.HIDE,{event:a,hoveredElement:s})})},r.prototype.addNodeEventListener=function(){var t=this,n=this,o=v.debounce(function(a,i){if(a===void 0&&(a=[]),i===void 0&&(i="mouseover"),i==="mouseout"||a.length===0){n.parent.selectAll("path.link").classed("link-hovered",!1).data(t.graph.links,function(c){return c.index}).order().style("stroke-opacity",wt.opacity.default);return}var s=n.parent.selectAll("path.link").transition().call(function(c){return t.services.transitions.setupTransition({transition:c,name:"alluvial-link-mouse-highlight"})});s.style("stroke-opacity",function(c){return a.some(function(d){return d===c.index})?(R(this).classed("link-hovered",!0).raise(),wt.opacity.selected):wt.opacity.unfocus})},66);n.parent.selectAll(".node-group").on("mouseover",function(a,i){var s=R(this),c=[];if(n.traverse({link:"sourceLinks",node:"target"},i,c),n.traverse({link:"targetLinks",node:"source"},i,c),c.length){var d=v.getTranformOffsets(s.attr("transform"));if(s.attr("transform","translate("+(d.x-2)+", "+d.y+")"),s.classed("node-hovered",!0).selectAll("rect.node").attr("width",8),i.x0-2===0){var l=n.services.domUtils.generateElementIDString("alluvial-node-title-"+i.index),f=n.parent.select("g#"+l),u=v.getTranformOffsets(f.attr("transform"));f.attr("transform","translate("+(u.x+4)+","+u.y+")")}var h=n.services.domUtils.generateElementIDString("alluvial-node-text-"+i.index);n.parent.select("text#"+h).style("font-weight","bold"),o(c,"mouseover"),n.services.events.dispatchEvent(E.Alluvial.NODE_MOUSEOVER,{event:a,element:s,datum:i})}}).on("mousemove",function(a,i){n.services.events.dispatchEvent(E.Alluvial.NODE_MOUSEMOVE,{event:a,element:R(this),datum:i}),n.services.events.dispatchEvent(E.Tooltip.MOVE,{event:a})}).on("click",function(a,i){n.services.events.dispatchEvent(E.Alluvial.NODE_CLICK,{event:a,element:R(this),datum:i})}).on("mouseout",function(a,i){var s=R(this),c=v.getTranformOffsets(s.attr("transform"));if(s.classed("node-hovered",!1).attr("transform","translate("+(c.x+2)+", "+c.y+")").select("rect.node").attr("width",wt.nodeWidth),i.x0-2===0){var d=n.services.domUtils.generateElementIDString("alluvial-node-title-"+i.index),l=n.parent.select("g#"+d),f=v.getTranformOffsets(l.attr("transform"));l.attr("transform","translate("+(f.x-4)+","+f.y+")")}var u=n.services.domUtils.generateElementIDString("alluvial-node-text-"+i.index);n.parent.select("text#"+u).style("font-weight","normal"),o([],"mouseout"),n.services.events.dispatchEvent(E.Alluvial.NODE_MOUSEOUT,{event:a,element:s,datum:i}),n.services.events.dispatchEvent(E.Tooltip.HIDE,{hoveredElement:s})})},r.prototype.traverse=function(t,n,o){var a=this;o===void 0&&(o=[]);var i=n[t.link].map(function(s){return o.push(s.index),s[t.node]});i.forEach(function(s){return a.traverse(t,s,o)})},r.prototype.getRightArrowIcon=function(){return`
		<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">
			<polygon points="18 6 16.57 7.393 24.15 15 4 15 4 17 24.15 17 16.57 24.573 18 26 28 16 18 6"/>
			<rect  data-name="&lt;Transparent Rectangle&gt;" style="fill: none;" width="32" height="32"/>
		</svg>`},r.prototype.destroy=function(){this.parent.selectAll("path.line,.node-group").on("mouseover",null).on("mousemove",null).on("click",null).on("mouseout",null)},r}(ve),UA=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),CA=function(e){UA(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="heatmap",t.renderType=oe.SVG,t.matrix={},t.xBandwidth=0,t.yBandwidth=0,t.translationUnits={x:0,y:0},t.handleAxisOnHover=function(n){var o=n.detail,a=o.datum,i=t.model.getUniqueRanges(),s=t.model.getUniqueDomain(),c=t.services.cartesianScales.getDomainLabel(),d=t.services.cartesianScales.getRangeLabel(),l=t.services.cartesianScales.getMainXScale(),f=t.services.cartesianScales.getMainYScale(),u="",h=0,p=0,m=0;t.matrix[a]!==void 0?(u=c,i.forEach(function(b){var y=t.matrix[a][b].value||0;h+=y,p=y<p?y:p,m=y>m?y:m})):(u=d,s.forEach(function(b){var y=t.matrix[b][a].value||0;h+=y,p=y<p?y:p,m=y>m?y:m})),l(a)!==void 0?t.parent.select("g.multi-cell.column-highlight").classed("highlighter-hidden",!1).attr("transform","translate("+l(a)+", "+vr(f.range())+")"):f(a)!==void 0&&t.parent.select("g.multi-cell.row-highlight").classed("highlighter-hidden",!1).attr("transform","translate("+vr(l.range())+","+f(a)+")"),t.services.events.dispatchEvent(E.Tooltip.SHOW,{event:o.event,hoveredElement:R(n.detail.element),items:[{label:u,value:a,bold:!0},{label:"Min",value:p},{label:"Max",value:m},{label:"Average",value:h/s.length}]})},t.handleAxisMouseOut=function(n){t.parent.selectAll("g.multi-cell").classed("highlighter-hidden",!0),t.services.events.dispatchEvent(E.Tooltip.HIDE,{event:n})},t}return r.prototype.init=function(){var t=this.services.events;t.addEventListener(E.Axis.LABEL_MOUSEOVER,this.handleAxisOnHover),t.addEventListener(E.Axis.LABEL_MOUSEOUT,this.handleAxisMouseOut),t.addEventListener(E.Axis.LABEL_FOCUS,this.handleAxisOnHover),t.addEventListener(E.Axis.LABEL_BLUR,this.handleAxisMouseOut)},r.prototype.render=function(t){var n=this,o=this.getComponentContainer({withinChartClip:!0});o.lower();var a=this.services.cartesianScales;if(this.matrix=this.model.getMatrix(),o.html(""),!v.getProperty(this.getOptions(),"data","loading")){var i=a.getMainXScale(),s=a.getMainYScale(),c=a.getDomainIdentifier(),d=a.getRangeIdentifier(),l=this.model.getUniqueDomain(),f=this.model.getUniqueRanges(),u=this.model.getMatrixAsArray(),h=i.range(),p=s.range();this.xBandwidth=Math.abs((h[1]-h[0])/l.length),this.yBandwidth=Math.abs((p[1]-p[0])/f.length);var m=this.services.domUtils.generateElementIDString("heatmap-pattern-stripes");o.append("defs").append("pattern").attr("id",m).attr("width",3).attr("height",3).attr("patternUnits","userSpaceOnUse").attr("patternTransform","rotate(45)").append("rect").classed("pattern-fill",!0).attr("width",.5).attr("height",8);var b=o.selectAll().data(u).enter().append("g").attr("class",function(y){return"heat-"+y.index}).classed("cell",!0).attr("transform",function(y){return"translate("+i(y[c])+", "+s(y[d])+")"}).append("rect").attr("class",function(y){return n.model.getColorClassName({value:y.value,originalClassName:"heat-"+y.index})}).classed("heat",!0).classed("null-state",function(y){return y.index===-1||y.value===null}).attr("width",this.xBandwidth).attr("height",this.yBandwidth).style("fill",function(y){return y.index===-1||y.value===null?"url(#"+m+")":n.model.getFillColor(Number(y.value))}).attr("aria-label",function(y){return y.value});this.createOuterBox("g.cell-highlight",this.xBandwidth,this.yBandwidth),this.createOuterBox("g.multi-cell.column-highlight",this.xBandwidth,Math.abs(p[1]-p[0])),this.createOuterBox("g.multi-cell.row-highlight",Math.abs(h[1]-h[0]),this.yBandwidth),this.determineDividerStatus()&&(b.style("stroke-width","1px"),this.parent.select("g.cell-highlight").classed("cell-2",!0)),this.addEventListener()}},r.prototype.createOuterBox=function(t,n,o){var a=D.appendOrSelect(this.parent,t).classed("shadows",!0).classed("highlighter-hidden",!0);D.appendOrSelect(a,"line.top").attr("x1",-1).attr("x2",n+1),D.appendOrSelect(a,"line.left").attr("x1",0).attr("y1",-1).attr("x2",0).attr("y2",o+1),D.appendOrSelect(a,"line.down").attr("x1",-1).attr("x2",n+1).attr("y1",o).attr("y2",o),D.appendOrSelect(a,"line.right").attr("x1",n).attr("x2",n).attr("y1",-1).attr("y2",o+1)},r.prototype.determineDividerStatus=function(){var t=v.getProperty(this.getOptions(),"heatmap","divider","state");return t!==mn.OFF&&(t===mn.AUTO&&qs.minCellDividerDimension<=this.xBandwidth&&qs.minCellDividerDimension<=this.yBandwidth||t===mn.ON)},r.prototype.addEventListener=function(){var t=this,n=this.services.cartesianScales,o=this.getOptions(),a=Te(o,"tooltip.totalLabel"),i=n.getDomainIdentifier(),s=n.getRangeIdentifier(),c=n.getDomainLabel(),d=n.getRangeLabel();this.parent.selectAll("g.cell").on("mouseover",function(l,f){var u=R(this),h=u.select("rect.heat"),p=h.classed("null-state");if(!p){var m=v.getTranformOffsets(u.attr("transform"));R("g.cell-highlight").attr("transform","translate("+(m.x+t.translationUnits.x)+", "+(m.y+t.translationUnits.y)+")").classed("highlighter-hidden",!1),t.services.events.dispatchEvent(E.Heatmap.HEATMAP_MOUSEOVER,{event:l,element:h,datum:f}),t.services.events.dispatchEvent(E.Tooltip.SHOW,{event:l,items:[{label:c,value:f[i]},{label:d,value:f[s]},{label:a||"Total",value:f.value,color:h.style("fill")}]})}}).on("mousemove",function(l,f){t.services.events.dispatchEvent(E.Heatmap.HEATMAP_MOUSEMOVE,{event:l,element:R(this),datum:f}),t.services.events.dispatchEvent(E.Tooltip.MOVE,{event:l})}).on("click",function(l,f){t.services.events.dispatchEvent(E.Heatmap.HEATMAP_CLICK,{event:l,element:R(this),datum:f})}).on("mouseout",function(l,f){var u=R(this),h=u.select("rect.heat"),p=h.classed("null-state");R("g.cell-highlight").classed("highlighter-hidden",!0),p||(t.services.events.dispatchEvent(E.Heatmap.HEATMAP_MOUSEOUT,{event:l,element:h,datum:f}),t.services.events.dispatchEvent(E.Tooltip.HIDE,{event:l,hoveredElement:h}))})},r.prototype.destroy=function(){this.parent.selectAll("rect.heat").on("mouseover",null).on("mousemove",null).on("click",null).on("mouseout",null);var t=this.services.events;t.removeEventListener(E.Legend.ITEM_HOVER,this.handleAxisOnHover),t.removeEventListener(E.Legend.ITEM_MOUSEOUT,this.handleAxisMouseOut)},r}(ve),BA=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Vr=function(e){BA(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="spacer",t}return r.prototype.render=function(){this.getComponentContainer().style("width",(this.configs.size||Ws.default.size)+"px").style("height",(this.configs.size||Ws.default.size)+"px").attr("opacity",0)},r}(ve),IA=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Vt=function(e){IA(r,e);function r(t,n,o,a){var i=e.call(this,t,n,a)||this;return i.type="layout",i.configs=a,i.children=o,i._instanceID=r.instanceID++,i.init(),i}return r.prototype.init=function(){this.children.forEach(function(t){t.components.forEach(function(n){n.init()})})},r.prototype.getPreferedAndFixedSizeSum=function(){var t=this.parent,n=0;return t.selectAll("div.layout-child-"+this._instanceID).filter(function(o){var a=v.getProperty(o,"growth");return a===me.PREFERRED||a===me.FIXED}).each(function(o){n+=o.size}),n},r.prototype.getNumOfStretchChildren=function(){var t=this.parent;return t.selectAll("div.layout-child-"+this._instanceID).filter(function(n){return v.getProperty(n,"growth")===me.STRETCH}).size()},r.prototype.render=function(t){var n=this;t===void 0&&(t=!0);var o=this.parent,a=D.getHTMLElementSize(o.node()),i=a.width,s=a.height,c=this.configs.direction===Ie.ROW||this.configs.direction===Ie.ROW_REVERSE,d=v.getProperty(this.model.getOptions(),"style","prefix"),l=o.classed(et+"--"+d+"--layout-row",this.configs.direction===Ie.ROW).classed(et+"--"+d+"--layout-row-reverse",this.configs.direction===Ie.ROW_REVERSE).classed(et+"--"+d+"--layout-column",this.configs.direction===Ie.COLUMN).classed(et+"--"+d+"--layout-column-reverse",this.configs.direction===Ie.COLUMN_REVERSE).classed(et+"--"+d+"--layout-alignitems-center",this.configs.alignItems===kn.CENTER).selectAll("div.layout-child-"+this._instanceID).data(this.children,function(h){return h.id}),f=l.enter().append("div");f.merge(o.selectAll("div.layout-child-"+this._instanceID)).attr("class",function(h){return"layout-child layout-child-"+n._instanceID+" "+h.id}).each(function(h){var p=this;h.components.forEach(function(m){var b=R(p),y=v.getProperty(h,"renderType"),g=y===oe.SVG;m.setParent(g?D.appendOrSelect(b,"svg.layout-svg-wrapper").attr("width","100%").attr("height","100%"):b);var w=v.getProperty(h,"growth");(w===me.PREFERRED||w===me.FIXED)&&m.render(t)})}),o.selectAll("div.layout-child-"+this._instanceID).style("height",null).style("width",null).each(function(h){var p=v.getProperty(h,"growth"),m=v.getProperty(h,"renderType"),b=m===oe.SVG?D.getSVGElementSize(R(this).select("svg.layout-svg-wrapper"),{useBBox:!0}):D.getHTMLElementSize(this);if(p===me.PREFERRED){var y=c?b.width:b.height,g=c?i:s;h.size=y/g*100}}),l.exit().remove(),this.children.filter(function(h){var p=v.getProperty(h,"growth");return p===me.STRETCH}).forEach(function(h,p){h.size=(100-+n.getPreferedAndFixedSizeSum())/+n.getNumOfStretchChildren()});var u=o.selectAll("div.layout-child-"+this._instanceID).data(this.children,function(h){return h.id});c?u.style("width",function(h){return h.size/100*i+"px"}).style("height","100%"):u.style("height",function(h){return h.size/100*s+"px"}).style("width","100%"),u.each(function(h,p){h.components.forEach(function(m){var b=v.getProperty(h,"growth");b===me.STRETCH&&m.render(t)})})},r.prototype.setModel=function(t){e.prototype.setModel.call(this,t),this.children.forEach(function(n){n.components.forEach(function(o){return o.setModel(t)})})},r.prototype.setServices=function(t){e.prototype.setServices.call(this,t),this.children.forEach(function(n){n.components.forEach(function(o){return o.setServices(t)})})},r.prototype.destroy=function(){this.children.forEach(function(t){t.components.forEach(function(n){return n.destroy()})})},r.instanceID=Math.floor(Math.random()*99999999999),r}(ve),zA=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),am=function(e){zA(r,e);function r(t,n,o){var a,i=e.call(this,t,n,o)||this;return i.type="axes",i.renderType=oe.SVG,i.truncation=(a={},a[W.LEFT]=!1,a[W.RIGHT]=!1,a[W.TOP]=!1,a[W.BOTTOM]=!1,a),o&&(i.configs=o),i.margins=i.configs.margins,i}return r.prototype.render=function(t){var n=this;t===void 0&&(t=!0);var o=this.configs.position,a=this.getOptions(),i=v.getProperty(a,"axes",o,"visible"),s=this.getComponentContainer(),c=D.getSVGElementSize(s,{useAttrs:!0}),d=c.width,l=c.height,f=D.appendOrSelect(s,"g.axis."+o),u,h;o===W.BOTTOM||o===W.TOP?(u=this.configs.axes[W.LEFT]?this.margins.left:0,h=this.configs.axes[W.RIGHT]?d-this.margins.right:d):(u=l-this.margins.bottom,h=this.margins.top);var p=this.services.cartesianScales.getScaleByPosition(o);this.scaleType===ne.LABELS||this.scaleType===ne.LABELS_RATIO?p.rangeRound([u,h]):p.range([u,h]);var m;switch(o){case W.LEFT:m=Dg;break;case W.BOTTOM:m=Wd;break;case W.RIGHT:m=JS;break;case W.TOP:m=QS;break}f.attr("aria-label",o+" axis");var b=!f.select("g.ticks").empty(),y=D.appendOrSelect(f,"g.ticks");b||(y.attr("role",fe.GRAPHICS_OBJECT+" "+fe.GROUP),y.attr("aria-label",o+" ticks"));var g=D.appendOrSelect(f,"g.ticks.invisible").style("opacity","0").style("pointer-events","none").attr("aria-hidden",!0).attr("aria-label","invisible "+o+" ticks"),w=v.getProperty(a,"axes",o),k=this.scaleType===ne.TIME||w.scaleType===ne.TIME,_=o===W.LEFT||o===W.RIGHT,x=this.model.get("zoomDomain");if(x&&k&&!_&&p.domain(x),!i){y.attr("aria-hidden",!0);return}var O=v.getProperty(w,"scaleType"),M=v.getProperty(a,"data","loading"),T=v.getProperty(w,"ticks","number"),A=v.getProperty(w,"ticks","values"),S=v.getProperty(w,"truncation","type"),P=v.getProperty(w,"truncation","threshold"),I=v.getProperty(w,"truncation","numCharacter"),L=T!==null,B=v.getProperty(a,"timeScale"),C=D.appendOrSelect(g,"g.tick"),z=D.appendOrSelect(C,"text").text("0"),F=D.getSVGElementSize(z.node(),{useBBox:!0}).height;C.remove();var U=this.scaleType||w.scaleType||ne.LINEAR,N=m(p).tickSizeOuter(0);if(p.ticks){var V=void 0;if(L?V=T:(V=Qt.ticks.number,_&&(V=this.getNumberOfFittingTicks(l,F,Qt.ticks.verticalSpaceRatio))),p.ticks().length===1&&p.ticks()[0]===0&&(V=0),N.ticks(V),k)if(!p.ticks(V).length)N.tickValues([]);else{var X=v.getProperty(a,"timeScale","addSpaceOnEdges"),ce=v.getProperty(a,"axes",o,"domain"),ae=void 0,Z=p.copy();X&&!ce&&Z.nice(V),ae=Z.ticks(V),X&&ae.length>2&&!ce&&(ae.splice(ae.length-1,1),ae.splice(0,1)),N.tickValues(ae)}}var re,J=v.getProperty(w,"ticks","formatter");if(k){var se=Wc(N.tickValues());J===null?re=function(pe,Fe){return qc(pe,Fe,N.tickValues(),se,B)}:re=function(pe,Fe){var dr=qc(pe,Fe,N.tickValues(),se,B);return J(pe,Fe,dr)}}else J===null?U===ne.LINEAR&&(re=function(pe){return pe.toLocaleString()}):re=J;N.tickFormat(re);var K=this.services.cartesianScales.getScaleByPosition(o).domain(),ee=K[0],de=K[1],q;if(A){if(k)A.forEach(function(pe,Fe){pe.getTime===void 0&&(A[Fe]=new Date(pe))}),q=A.filter(function(pe){var Fe=pe.getTime();return Fe>=new Date(ee).getTime()&&Fe<=new Date(de).getTime()});else if(O===ne.LABELS){var he=this.services.cartesianScales.getScaleByPosition(o).domain();q=A.filter(function(pe){return he.includes(pe)})}else q=A.filter(function(pe){return pe>=ee&&pe<=de});N.tickValues(q)}switch(o){case W.LEFT:y.attr("transform","translate("+this.margins.left+", 0)");break;case W.BOTTOM:y.attr("transform","translate(0, "+(l-this.margins.bottom)+")");break;case W.RIGHT:y.attr("transform","translate("+(d-this.margins.right)+", 0)");break;case W.TOP:y.attr("transform","translate(0, "+this.margins.top+")");break}var le=this.model.isDataEmpty();if(w.title){var j=D.appendOrSelect(f,"text.axis-title").html(le||M?"":w.title),Y=v.getProperty(w,"titleOrientation");switch(o){case W.LEFT:Y===Sa.RIGHT?j.attr("transform","rotate(90)").attr("y",0).attr("x",p.range()[0]/2).attr("dy","-0.5em").style("text-anchor","middle"):j.attr("transform","rotate(-90)").attr("y",0).attr("x",-(p.range()[0]/2)).attr("dy","0.75em").style("text-anchor","middle");break;case W.BOTTOM:j.attr("transform","translate("+(this.margins.left/2+p.range()[1]/2)+", "+(l+4)+")").style("text-anchor","middle");break;case W.RIGHT:Y===Sa.LEFT?j.attr("transform","rotate(-90)").attr("y",d).attr("x",-(p.range()[0]/2)).style("text-anchor","middle"):j.attr("transform","rotate(90)").attr("y",-d).attr("x",p.range()[0]/2).attr("dy","0.75em").style("text-anchor","middle");break;case W.TOP:var H=D.getSVGElementSize(j,{useBBox:!0}).height;j.attr("transform","translate("+(this.margins.left/2+p.range()[1]/2)+", "+H/2+")").style("text-anchor","middle");break}}if(k){var ue=Wc(N.tickValues()),yt=B.showDayName,We=y;t&&(y=y.transition().call(function(pe){return n.services.transitions.setupTransition({transition:pe,name:"axis-update",animate:t})})),y=y.call(N);var Fo=We.selectAll(".tick").data(N.tickValues(),p).order().select("text");Fo.style("font-weight",function(pe,Fe){return Ng(pe,Fe,N.tickValues(),ue,yt)?"bold":"normal"})}else!t||!b?y=y.call(N):y=y.transition().call(function(pe){return n.services.transitions.setupTransition({transition:pe,name:"axis-update",animate:t})}).call(N);if(g.call(N),o===W.BOTTOM||o===W.TOP){var qt=!1,Wt=v.getProperty(w,"ticks","rotation");if(Wt===ao.ALWAYS)qt=!0;else if(Wt===ao.NEVER)qt=!1;else if(!Wt||Wt===ao.AUTO)if(p.step){var No=g.selectAll("g.tick text").nodes();qt=No.some(function(pe){return D.getSVGElementSize(pe,{useBBox:!0}).width>=p.step()})}else{qt=!1;var Zr=g.append("text").text("A"),Vo=D.getSVGElementSize(Zr.node(),{useBBox:!0}).width,Mt;g.selectAll("g.tick").each(function(){var pe=R(this),Fe=parseFloat(v.getProperty(v.getTranslationValues(this),"tx"));Fe!==null&&Mt+pe.text().length*Vo*.8>=Fe&&(qt=!0),Mt=Fe}),Zr.remove()}qt?(L||(N.ticks(this.getNumberOfFittingTicks(d,F,Qt.ticks.horizontalSpaceRatio)),g.call(N),y.call(N)),f.selectAll("g.ticks g.tick text").attr("transform","rotate(-45)").style("text-anchor",o===W.TOP?"start":"end")):f.selectAll("g.ticks g.tick text").attr("transform",null).style("text-anchor",null)}if(M?f.attr("opacity",0):f.attr("opacity",1),y.selectAll("g.tick").attr("aria-label",function(pe){return pe}),g.selectAll("g.tick").attr("aria-label",function(pe){return pe}),S!==tr.NONE&&O===ne.LABELS&&!A){var cr=this.services.cartesianScales.getScaleDomain(o);if(cr.length>0){var $o=s.select("g.axis."+o+" g.ticks g.tick").html();f.selectAll("g.ticks g.tick").html($o);var Kr=this;f.selectAll("g.tick text").data(cr).text(function(pe){return pe.length>P?(Kr.truncation[o]=!0,v.truncateLabel(pe,S,I)):pe}),this.getInvisibleAxisRef().selectAll("g.tick text").data(cr).text(function(pe){return pe.length>P?v.truncateLabel(pe,S,I):pe}),f.selectAll("g.ticks").html(this.getInvisibleAxisRef().html()),f.selectAll("g.tick text").data(cr)}}this.addEventListeners()},r.prototype.addEventListeners=function(){var t=this.getComponentContainer(),n=this.configs.position,o=D.appendOrSelect(t,"g.axis."+n),a=this.getOptions(),i=v.getProperty(a,"axes",n),s=v.getProperty(i,"scaleType"),c=v.getProperty(i,"truncation","threshold"),d=this;o.selectAll("g.tick text").on("mouseover",function(l,f){d.services.events.dispatchEvent(E.Axis.LABEL_MOUSEOVER,{event:l,element:R(this),datum:f}),s===ne.LABELS&&f.length>c&&d.services.events.dispatchEvent(E.Tooltip.SHOW,{event:l,hoveredElement:R(this),content:f})}).on("mousemove",function(l,f){d.services.events.dispatchEvent(E.Axis.LABEL_MOUSEMOVE,{event:l,element:R(this),datum:f}),s===ne.LABELS&&f.length>c&&d.services.events.dispatchEvent(E.Tooltip.MOVE,{event:l})}).on("click",function(l,f){d.services.events.dispatchEvent(E.Axis.LABEL_CLICK,{event:l,element:R(this),datum:f})}).on("mouseout",function(l,f){d.services.events.dispatchEvent(E.Axis.LABEL_MOUSEOUT,{event:l,element:R(this),datum:f}),s===ne.LABELS&&d.services.events.dispatchEvent(E.Tooltip.HIDE)})},r.prototype.getInvisibleAxisRef=function(){var t=this.configs.position;return this.getComponentContainer().select("g.axis."+t+" g.ticks.invisible")},r.prototype.getTitleRef=function(){var t=this.configs.position;return this.getComponentContainer().select("g.axis."+t+" text.axis-title")},r.prototype.getNumberOfFittingTicks=function(t,n,o){var a=Math.floor(t/(n*o));return v.clamp(a,2,Qt.ticks.number)},r.prototype.destroy=function(){var t=this.getComponentContainer(),n=this.configs.position,o=D.appendOrSelect(t,"g.axis."+n);o.selectAll("g.tick text").on("mouseover",null).on("mousemove",null).on("mouseout",null)},r}(ve),LA=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Qa=globalThis&&globalThis.__assign||function(){return Qa=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Qa.apply(this,arguments)},DA=function(e){LA(r,e);function r(t,n,o){return e.call(this,t,n,o)||this}return r.prototype.render=function(t){t===void 0&&(t=!0),e.prototype.render.call(this,t),e.prototype.destroy.call(this);var n=this.configs.position,o=this.getComponentContainer(),a=D.appendOrSelect(o,"g.axis."+n),i=this;a.selectAll("g.tick").each(function(s,c){var d=R(this);d.classed("tick-hover",!0).attr("tabindex",c===0?0:-1);var l=d.select("text"),f=D.getSVGElementSize(l,{useBBox:!0}),u=f.width,h=f.height,p=D.appendOrSelect(d,"rect.axis-holder"),m=0,b=0;switch(n){case W.LEFT:m=-u+Number(l.attr("x")),b=-(h/2);break;case W.RIGHT:m=Math.abs(Number(l.attr("x"))),b=-(h/2);break;case W.TOP:m=-(u/2),b=-h+Number(l.attr("y"))/2,i.truncation[n]&&(m=0,p.attr("transform","rotate(-45)"));break;case W.BOTTOM:m=-(u/2),b=h/2-2,i.truncation[n]&&(m=-u,p.attr("transform","rotate(-45)"));break}p.attr("x",m-Qt.hover.rectanglePadding).attr("y",b).attr("width",u+Qt.hover.rectanglePadding*2).attr("height",h).lower(),d.on("keydown",function(y){n===W.LEFT||n===W.RIGHT?y.key&&y.key==="ArrowUp"?i.goNext(this,y):y.key&&y.key==="ArrowDown"&&i.goPrevious(this,y):y.key&&y.key==="ArrowLeft"?i.goPrevious(this,y):y.key&&y.key==="ArrowRight"&&i.goNext(this,y)})}),this.addEventListeners()},r.prototype.addEventListeners=function(){var t=this.getComponentContainer(),n=this.configs.position,o=D.appendOrSelect(t,"g.axis."+n),a=this.getOptions(),i=v.getProperty(a,"axes",n),s=v.getProperty(i,"scaleType"),c=v.getProperty(i,"truncation","threshold"),d=this;o.selectAll("g.tick.tick-hover").on("mouseover",function(l){var f=R(this).select("text"),u=f.datum();d.services.events.dispatchEvent(E.Axis.LABEL_MOUSEOVER,{event:l,element:f,datum:u}),s===ne.LABELS&&u.length>c&&d.services.events.dispatchEvent(E.Tooltip.SHOW,{event:l,element:f,datum:u})}).on("mousemove",function(l){var f=R(this).select("text"),u=f.datum();d.services.events.dispatchEvent(E.Axis.LABEL_MOUSEMOVE,{event:l,element:f,datum:u}),d.services.events.dispatchEvent(E.Tooltip.MOVE,{event:l})}).on("click",function(l){d.services.events.dispatchEvent(E.Axis.LABEL_CLICK,{event:l,element:R(this).select("text"),datum:R(this).select("text").datum()})}).on("mouseout",function(l){d.services.events.dispatchEvent(E.Axis.LABEL_MOUSEOUT,{event:l,element:R(this).select("text"),datum:R(this).select("text").datum()}),s===ne.LABELS&&d.services.events.dispatchEvent(E.Tooltip.HIDE)}).on("focus",function(l){var f={clientX:0,clientY:0};if(l.target){l.target.focus();var u=l.target.getBoundingClientRect();f.clientX=u.x,f.clientY=u.y}d.services.events.dispatchEvent(E.Axis.LABEL_FOCUS,{event:Qa(Qa({},l),f),element:R(this),datum:R(this).select("text").datum()})}).on("blur",function(l){d.services.events.dispatchEvent(E.Axis.LABEL_BLUR,{event:l,element:R(this),datum:R(this).select("text").datum()})})},r.prototype.goNext=function(t,n){t.nextElementSibling&&t.nextElementSibling.tagName!=="path"&&t.nextElementSibling.dispatchEvent(new Event("focus")),n.preventDefault()},r.prototype.goPrevious=function(t,n){t.previousElementSibling&&t.previousElementSibling.tagName!=="path"&&t.previousElementSibling.dispatchEvent(new Event("focus")),n.preventDefault()},r.prototype.destroy=function(){var t=this.getComponentContainer(),n=this.configs.position,o=D.appendOrSelect(t,"g.axis."+n);o.selectAll("g.tick.tick-hover").on("mouseover",null).on("mousemove",null).on("mouseout",null).on("focus",null).on("blur",null)},r}(am),RA=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),dt=function(e){RA(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="2D-axes",t.renderType=oe.SVG,t.children={},t.thresholds=[],t.margins={top:0,right:0,bottom:0,left:0},t}return r.prototype.render=function(t){var n=this;t===void 0&&(t=!1);var o={},a=Object.keys(W),i=v.getProperty(this.getOptions(),"axes");a.forEach(function(d){var l=i[W[d]];l&&(o[W[d]]=!0)}),this.configs.axes=o,a.forEach(function(d){var l=W[d];if(n.configs.axes[l]&&!n.children[l]){var f={position:l,axes:n.configs.axes,margins:n.margins},u=n.model.axisFlavor===uo.DEFAULT?new am(n.model,n.services,f):new DA(n.model,n.services,f);u.setModel(n.model),u.setServices(n.services),u.setParent(n.parent),n.children[l]=u}}),Object.keys(this.children).forEach(function(d){var l=n.children[d];l.render(t)});var s={};Object.keys(this.children).forEach(function(d){var l=n.children[d],f=l.configs.position,u=l.getInvisibleAxisRef(),h=D.getSVGElementSize(u,{useBBox:!0}),p=h.width,m=h.height,b;switch(l.getTitleRef().empty()?b=0:(b=D.getSVGElementSize(l.getTitleRef(),{useBBox:!0}).height,(f===W.LEFT||f===W.RIGHT)&&(b+=5)),f){case W.TOP:s.top=m+b;break;case W.BOTTOM:s.bottom=m+b;break;case W.LEFT:s.left=p+b;break;case W.RIGHT:s.right=p+b;break}}),this.services.events.dispatchEvent(E.Axis.RENDER_COMPLETE);var c=Object.keys(s).some(function(d){return n.margins[d]!==s[d]});c&&(this.margins=Object.assign(this.margins,s),this.model.set({axesMargins:this.margins},{skipUpdate:!0}),this.services.events.dispatchEvent(E.ZoomBar.UPDATE),Object.keys(this.children).forEach(function(d){var l=n.children[d];l.margins=n.margins}),this.render(!0))},r}(ve),FA={value:()=>{}};function Zd(){for(var e=0,r=arguments.length,t={},n;e<r;++e){if(!(n=arguments[e]+"")||n in t||/[\s.]/.test(n))throw new Error("illegal type: "+n);t[n]=[]}return new va(t)}function va(e){this._=e}function NA(e,r){return e.trim().split(/^|\s+/).map(function(t){var n="",o=t.indexOf(".");if(o>=0&&(n=t.slice(o+1),t=t.slice(0,o)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})}va.prototype=Zd.prototype={constructor:va,on:function(e,r){var t=this._,n=NA(e+"",t),o,a=-1,i=n.length;if(arguments.length<2){for(;++a<i;)if((o=(e=n[a]).type)&&(o=VA(t[o],e.name)))return o;return}if(r!=null&&typeof r!="function")throw new Error("invalid callback: "+r);for(;++a<i;)if(o=(e=n[a]).type)t[o]=Su(t[o],e.name,r);else if(r==null)for(o in t)t[o]=Su(t[o],e.name,null);return this},copy:function(){var e={},r=this._;for(var t in r)e[t]=r[t].slice();return new va(e)},call:function(e,r){if((o=arguments.length-2)>0)for(var t=new Array(o),n=0,o,a;n<o;++n)t[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],n=0,o=a.length;n<o;++n)a[n].value.apply(r,t)},apply:function(e,r,t){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],o=0,a=n.length;o<a;++o)n[o].value.apply(r,t)}};function VA(e,r){for(var t=0,n=e.length,o;t<n;++t)if((o=e[t]).name===r)return o.value}function Su(e,r,t){for(var n=0,o=e.length;n<o;++n)if(e[n].name===r){e[n]=FA,e=e.slice(0,n).concat(e.slice(n+1));break}return t!=null&&e.push({name:r,value:t}),e}const Kc={capture:!0,passive:!1};function Qc(e){e.preventDefault(),e.stopImmediatePropagation()}function $A(e){var r=e.document.documentElement,t=R(e).on("dragstart.drag",Qc,Kc);"onselectstart"in r?t.on("selectstart.drag",Qc,Kc):(r.__noselect=r.style.MozUserSelect,r.style.MozUserSelect="none")}function HA(e,r){var t=e.document.documentElement,n=R(e).on("dragstart.drag",null);r&&(n.on("click.drag",Qc,Kc),setTimeout(function(){n.on("click.drag",null)},0)),"onselectstart"in t?n.on("selectstart.drag",null):(t.style.MozUserSelect=t.__noselect,delete t.__noselect)}var Ln=0,eo=0,Wn=0,im=1e3,Ja,to,ei=0,$r=0,Ai=0,So=typeof performance=="object"&&performance.now?performance:Date,sm=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Kd(){return $r||(sm(GA),$r=So.now()+Ai)}function GA(){$r=0}function ti(){this._call=this._time=this._next=null}ti.prototype=cm.prototype={constructor:ti,restart:function(e,r,t){if(typeof e!="function")throw new TypeError("callback is not a function");t=(t==null?Kd():+t)+(r==null?0:+r),!this._next&&to!==this&&(to?to._next=this:Ja=this,to=this),this._call=e,this._time=t,Jc()},stop:function(){this._call&&(this._call=null,this._time=1/0,Jc())}};function cm(e,r,t){var n=new ti;return n.restart(e,r,t),n}function jA(){Kd(),++Ln;for(var e=Ja,r;e;)(r=$r-e._time)>=0&&e._call.call(void 0,r),e=e._next;--Ln}function Mu(){$r=(ei=So.now())+Ai,Ln=eo=0;try{jA()}finally{Ln=0,WA(),$r=0}}function qA(){var e=So.now(),r=e-ei;r>im&&(Ai-=r,ei=e)}function WA(){for(var e,r=Ja,t,n=1/0;r;)r._call?(n>r._time&&(n=r._time),e=r,r=r._next):(t=r._next,r._next=null,r=e?e._next=t:Ja=t);to=e,Jc(n)}function Jc(e){if(!Ln){eo&&(eo=clearTimeout(eo));var r=e-$r;r>24?(e<1/0&&(eo=setTimeout(Mu,e-So.now()-Ai)),Wn&&(Wn=clearInterval(Wn))):(Wn||(ei=So.now(),Wn=setInterval(qA,im)),Ln=1,sm(Mu))}}function Eu(e,r,t){var n=new ti;return r=r==null?0:+r,n.restart(o=>{n.stop(),e(o+r)},r,t),n}var YA=Zd("start","end","cancel","interrupt"),XA=[],dm=0,Tu=1,ed=2,ba=3,Ou=4,td=5,ya=6;function Pi(e,r,t,n,o,a){var i=e.__transition;if(!i)e.__transition={};else if(t in i)return;ZA(e,t,{name:r,index:n,group:o,on:YA,tween:XA,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:dm})}function Qd(e,r){var t=Ut(e,r);if(t.state>dm)throw new Error("too late; already scheduled");return t}function Gt(e,r){var t=Ut(e,r);if(t.state>ba)throw new Error("too late; already running");return t}function Ut(e,r){var t=e.__transition;if(!t||!(t=t[r]))throw new Error("transition not found");return t}function ZA(e,r,t){var n=e.__transition,o;n[r]=t,t.timer=cm(a,0,t.time);function a(d){t.state=Tu,t.timer.restart(i,t.delay,t.time),t.delay<=d&&i(d-t.delay)}function i(d){var l,f,u,h;if(t.state!==Tu)return c();for(l in n)if(h=n[l],h.name===t.name){if(h.state===ba)return Eu(i);h.state===Ou?(h.state=ya,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete n[l]):+l<r&&(h.state=ya,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete n[l])}if(Eu(function(){t.state===ba&&(t.state=Ou,t.timer.restart(s,t.delay,t.time),s(d))}),t.state=ed,t.on.call("start",e,e.__data__,t.index,t.group),t.state===ed){for(t.state=ba,o=new Array(u=t.tween.length),l=0,f=-1;l<u;++l)(h=t.tween[l].value.call(e,e.__data__,t.index,t.group))&&(o[++f]=h);o.length=f+1}}function s(d){for(var l=d<t.duration?t.ease.call(null,d/t.duration):(t.timer.restart(c),t.state=td,1),f=-1,u=o.length;++f<u;)o[f].call(e,l);t.state===td&&(t.on.call("end",e,e.__data__,t.index,t.group),c())}function c(){t.state=ya,t.timer.stop(),delete n[r];for(var d in n)return;delete e.__transition}}function rd(e,r){var t=e.__transition,n,o,a=!0,i;if(!!t){r=r==null?null:r+"";for(i in t){if((n=t[i]).name!==r){a=!1;continue}o=n.state>ed&&n.state<td,n.state=ya,n.timer.stop(),n.on.call(o?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete t[i]}a&&delete e.__transition}}function KA(e){return this.each(function(){rd(this,e)})}function QA(e,r){var t,n;return function(){var o=Gt(this,e),a=o.tween;if(a!==t){n=t=a;for(var i=0,s=n.length;i<s;++i)if(n[i].name===r){n=n.slice(),n.splice(i,1);break}}o.tween=n}}function JA(e,r,t){var n,o;if(typeof t!="function")throw new Error;return function(){var a=Gt(this,e),i=a.tween;if(i!==n){o=(n=i).slice();for(var s={name:r,value:t},c=0,d=o.length;c<d;++c)if(o[c].name===r){o[c]=s;break}c===d&&o.push(s)}a.tween=o}}function eP(e,r){var t=this._id;if(e+="",arguments.length<2){for(var n=Ut(this.node(),t).tween,o=0,a=n.length,i;o<a;++o)if((i=n[o]).name===e)return i.value;return null}return this.each((r==null?QA:JA)(t,e,r))}function Jd(e,r,t){var n=e._id;return e.each(function(){var o=Gt(this,n);(o.value||(o.value={}))[r]=t.apply(this,arguments)}),function(o){return Ut(o,n).value[r]}}function lm(e,r){var t;return(typeof r=="number"?ht:r instanceof rr?Ua:(t=rr(r))?(r=t,Ua):Ih)(e,r)}function tP(e){return function(){this.removeAttribute(e)}}function rP(e){return function(){this.removeAttributeNS(e.space,e.local)}}function nP(e,r,t){var n,o=t+"",a;return function(){var i=this.getAttribute(e);return i===o?null:i===n?a:a=r(n=i,t)}}function oP(e,r,t){var n,o=t+"",a;return function(){var i=this.getAttributeNS(e.space,e.local);return i===o?null:i===n?a:a=r(n=i,t)}}function aP(e,r,t){var n,o,a;return function(){var i,s=t(this),c;return s==null?void this.removeAttribute(e):(i=this.getAttribute(e),c=s+"",i===c?null:i===n&&c===o?a:(o=c,a=r(n=i,s)))}}function iP(e,r,t){var n,o,a;return function(){var i,s=t(this),c;return s==null?void this.removeAttributeNS(e.space,e.local):(i=this.getAttributeNS(e.space,e.local),c=s+"",i===c?null:i===n&&c===o?a:(o=c,a=r(n=i,s)))}}function sP(e,r){var t=gi(e),n=t==="transform"?l3:lm;return this.attrTween(e,typeof r=="function"?(t.local?iP:aP)(t,n,Jd(this,"attr."+e,r)):r==null?(t.local?rP:tP)(t):(t.local?oP:nP)(t,n,r))}function cP(e,r){return function(t){this.setAttribute(e,r.call(this,t))}}function dP(e,r){return function(t){this.setAttributeNS(e.space,e.local,r.call(this,t))}}function lP(e,r){var t,n;function o(){var a=r.apply(this,arguments);return a!==n&&(t=(n=a)&&dP(e,a)),t}return o._value=r,o}function fP(e,r){var t,n;function o(){var a=r.apply(this,arguments);return a!==n&&(t=(n=a)&&cP(e,a)),t}return o._value=r,o}function uP(e,r){var t="attr."+e;if(arguments.length<2)return(t=this.tween(t))&&t._value;if(r==null)return this.tween(t,null);if(typeof r!="function")throw new Error;var n=gi(e);return this.tween(t,(n.local?lP:fP)(n,r))}function pP(e,r){return function(){Qd(this,e).delay=+r.apply(this,arguments)}}function hP(e,r){return r=+r,function(){Qd(this,e).delay=r}}function gP(e){var r=this._id;return arguments.length?this.each((typeof e=="function"?pP:hP)(r,e)):Ut(this.node(),r).delay}function mP(e,r){return function(){Gt(this,e).duration=+r.apply(this,arguments)}}function vP(e,r){return r=+r,function(){Gt(this,e).duration=r}}function bP(e){var r=this._id;return arguments.length?this.each((typeof e=="function"?mP:vP)(r,e)):Ut(this.node(),r).duration}function yP(e,r){if(typeof r!="function")throw new Error;return function(){Gt(this,e).ease=r}}function wP(e){var r=this._id;return arguments.length?this.each(yP(r,e)):Ut(this.node(),r).ease}function _P(e,r){return function(){var t=r.apply(this,arguments);if(typeof t!="function")throw new Error;Gt(this,e).ease=t}}function xP(e){if(typeof e!="function")throw new Error;return this.each(_P(this._id,e))}function kP(e){typeof e!="function"&&(e=fh(e));for(var r=this._groups,t=r.length,n=new Array(t),o=0;o<t;++o)for(var a=r[o],i=a.length,s=n[o]=[],c,d=0;d<i;++d)(c=a[d])&&e.call(c,c.__data__,d,a)&&s.push(c);return new nr(n,this._parents,this._name,this._id)}function SP(e){if(e._id!==this._id)throw new Error;for(var r=this._groups,t=e._groups,n=r.length,o=t.length,a=Math.min(n,o),i=new Array(n),s=0;s<a;++s)for(var c=r[s],d=t[s],l=c.length,f=i[s]=new Array(l),u,h=0;h<l;++h)(u=c[h]||d[h])&&(f[h]=u);for(;s<n;++s)i[s]=r[s];return new nr(i,this._parents,this._name,this._id)}function MP(e){return(e+"").trim().split(/^|\s+/).every(function(r){var t=r.indexOf(".");return t>=0&&(r=r.slice(0,t)),!r||r==="start"})}function EP(e,r,t){var n,o,a=MP(r)?Qd:Gt;return function(){var i=a(this,e),s=i.on;s!==n&&(o=(n=s).copy()).on(r,t),i.on=o}}function TP(e,r){var t=this._id;return arguments.length<2?Ut(this.node(),t).on.on(e):this.each(EP(t,e,r))}function OP(e){return function(){var r=this.parentNode;for(var t in this.__transition)if(+t!==e)return;r&&r.removeChild(this)}}function AP(){return this.on("end.remove",OP(this._id))}function PP(e){var r=this._name,t=this._id;typeof e!="function"&&(e=vd(e));for(var n=this._groups,o=n.length,a=new Array(o),i=0;i<o;++i)for(var s=n[i],c=s.length,d=a[i]=new Array(c),l,f,u=0;u<c;++u)(l=s[u])&&(f=e.call(l,l.__data__,u,s))&&("__data__"in l&&(f.__data__=l.__data__),d[u]=f,Pi(d[u],r,t,u,d,Ut(l,t)));return new nr(a,this._parents,r,t)}function UP(e){var r=this._name,t=this._id;typeof e!="function"&&(e=lh(e));for(var n=this._groups,o=n.length,a=[],i=[],s=0;s<o;++s)for(var c=n[s],d=c.length,l,f=0;f<d;++f)if(l=c[f]){for(var u=e.call(l,l.__data__,f,c),h,p=Ut(l,t),m=0,b=u.length;m<b;++m)(h=u[m])&&Pi(h,r,t,m,u,p);a.push(u),i.push(l)}return new nr(a,i,r,t)}var CP=Uo.prototype.constructor;function BP(){return new CP(this._groups,this._parents)}function IP(e,r){var t,n,o;return function(){var a=On(this,e),i=(this.style.removeProperty(e),On(this,e));return a===i?null:a===t&&i===n?o:o=r(t=a,n=i)}}function fm(e){return function(){this.style.removeProperty(e)}}function zP(e,r,t){var n,o=t+"",a;return function(){var i=On(this,e);return i===o?null:i===n?a:a=r(n=i,t)}}function LP(e,r,t){var n,o,a;return function(){var i=On(this,e),s=t(this),c=s+"";return s==null&&(c=s=(this.style.removeProperty(e),On(this,e))),i===c?null:i===n&&c===o?a:(o=c,a=r(n=i,s))}}function DP(e,r){var t,n,o,a="style."+r,i="end."+a,s;return function(){var c=Gt(this,e),d=c.on,l=c.value[a]==null?s||(s=fm(r)):void 0;(d!==t||o!==l)&&(n=(t=d).copy()).on(i,o=l),c.on=n}}function RP(e,r,t){var n=(e+="")=="transform"?d3:lm;return r==null?this.styleTween(e,IP(e,n)).on("end.style."+e,fm(e)):typeof r=="function"?this.styleTween(e,LP(e,n,Jd(this,"style."+e,r))).each(DP(this._id,e)):this.styleTween(e,zP(e,n,r),t).on("end.style."+e,null)}function FP(e,r,t){return function(n){this.style.setProperty(e,r.call(this,n),t)}}function NP(e,r,t){var n,o;function a(){var i=r.apply(this,arguments);return i!==o&&(n=(o=i)&&FP(e,i,t)),n}return a._value=r,a}function VP(e,r,t){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(r==null)return this.tween(n,null);if(typeof r!="function")throw new Error;return this.tween(n,NP(e,r,t==null?"":t))}function $P(e){return function(){this.textContent=e}}function HP(e){return function(){var r=e(this);this.textContent=r==null?"":r}}function GP(e){return this.tween("text",typeof e=="function"?HP(Jd(this,"text",e)):$P(e==null?"":e+""))}function jP(e){return function(r){this.textContent=e.call(this,r)}}function qP(e){var r,t;function n(){var o=e.apply(this,arguments);return o!==t&&(r=(t=o)&&jP(o)),r}return n._value=e,n}function WP(e){var r="text";if(arguments.length<1)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,qP(e))}function YP(){for(var e=this._name,r=this._id,t=um(),n=this._groups,o=n.length,a=0;a<o;++a)for(var i=n[a],s=i.length,c,d=0;d<s;++d)if(c=i[d]){var l=Ut(c,r);Pi(c,e,t,d,i,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new nr(n,this._parents,e,t)}function XP(){var e,r,t=this,n=t._id,o=t.size();return new Promise(function(a,i){var s={value:i},c={value:function(){--o===0&&a()}};t.each(function(){var d=Gt(this,n),l=d.on;l!==e&&(r=(e=l).copy(),r._.cancel.push(s),r._.interrupt.push(s),r._.end.push(c)),d.on=r}),o===0&&a()})}var ZP=0;function nr(e,r,t,n){this._groups=e,this._parents=r,this._name=t,this._id=n}function um(){return++ZP}var Xt=Uo.prototype;nr.prototype={constructor:nr,select:PP,selectAll:UP,selectChild:Xt.selectChild,selectChildren:Xt.selectChildren,filter:kP,merge:SP,selection:BP,transition:YP,call:Xt.call,nodes:Xt.nodes,node:Xt.node,size:Xt.size,empty:Xt.empty,each:Xt.each,on:TP,attr:sP,attrTween:uP,style:RP,styleTween:VP,text:GP,textTween:WP,remove:AP,tween:eP,delay:gP,duration:bP,ease:wP,easeVarying:xP,end:XP,[Symbol.iterator]:Xt[Symbol.iterator]};var KP={time:null,delay:0,duration:250,ease:np};function QP(e,r){for(var t;!(t=e.__transition)||!(t=t[r]);)if(!(e=e.parentNode))throw new Error(`transition ${r} not found`);return t}function JP(e){var r,t;e instanceof nr?(r=e._id,e=e._name):(r=um(),(t=KP).time=Kd(),e=e==null?null:e+"");for(var n=this._groups,o=n.length,a=0;a<o;++a)for(var i=n[a],s=i.length,c,d=0;d<s;++d)(c=i[d])&&Pi(c,e,r,d,i,t||QP(c,r));return new nr(n,this._parents,e,r)}Uo.prototype.interrupt=KA;Uo.prototype.transition=JP;var cs=e=>()=>e;function eU(e,{sourceEvent:r,target:t,selection:n,mode:o,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:r,enumerable:!0,configurable:!0},target:{value:t,enumerable:!0,configurable:!0},selection:{value:n,enumerable:!0,configurable:!0},mode:{value:o,enumerable:!0,configurable:!0},_:{value:a}})}function tU(e){e.stopImmediatePropagation()}function ds(e){e.preventDefault(),e.stopImmediatePropagation()}var Au={name:"drag"},ls={name:"space"},on={name:"handle"},an={name:"center"};const{abs:Pu,max:Ke,min:Qe}=Math;function Uu(e){return[+e[0],+e[1]]}function Cu(e){return[Uu(e[0]),Uu(e[1])]}var wa={name:"x",handles:["w","e"].map(ri),input:function(e,r){return e==null?null:[[+e[0],r[0][1]],[+e[1],r[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},fs={name:"y",handles:["n","s"].map(ri),input:function(e,r){return e==null?null:[[r[0][0],+e[0]],[r[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},Zt={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Bu={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Iu={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},rU={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},nU={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function ri(e){return{type:e}}function oU(e){return!e.ctrlKey&&!e.button}function aU(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function iU(){return navigator.maxTouchPoints||"ontouchstart"in this}function us(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function sU(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function pm(){return cU(wa)}function cU(e){var r=aU,t=oU,n=iU,o=!0,a=Zd("start","brush","end"),i=6,s;function c(b){var y=b.property("__brush",m).selectAll(".overlay").data([ri("overlay")]);y.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Zt.overlay).merge(y).each(function(){var w=us(this).extent;R(this).attr("x",w[0][0]).attr("y",w[0][1]).attr("width",w[1][0]-w[0][0]).attr("height",w[1][1]-w[0][1])}),b.selectAll(".selection").data([ri("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Zt.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var g=b.selectAll(".handle").data(e.handles,function(w){return w.type});g.exit().remove(),g.enter().append("rect").attr("class",function(w){return"handle handle--"+w.type}).attr("cursor",function(w){return Zt[w.type]}),b.each(d).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",u).filter(n).on("touchstart.brush",u).on("touchmove.brush",h).on("touchend.brush touchcancel.brush",p).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}c.move=function(b,y,g){b.tween?b.on("start.brush",function(w){l(this,arguments).beforestart().start(w)}).on("interrupt.brush end.brush",function(w){l(this,arguments).end(w)}).tween("brush",function(){var w=this,k=w.__brush,_=l(w,arguments),x=k.selection,O=e.input(typeof y=="function"?y.apply(this,arguments):y,k.extent),M=Lo(x,O);function T(A){k.selection=A===1&&O===null?null:M(A),d.call(w),_.brush()}return x!==null&&O!==null?T:T(1)}):b.each(function(){var w=this,k=arguments,_=w.__brush,x=e.input(typeof y=="function"?y.apply(w,k):y,_.extent),O=l(w,k).beforestart();rd(w),_.selection=x===null?null:x,d.call(w),O.start(g).brush(g).end(g)})},c.clear=function(b,y){c.move(b,null,y)};function d(){var b=R(this),y=us(this).selection;y?(b.selectAll(".selection").style("display",null).attr("x",y[0][0]).attr("y",y[0][1]).attr("width",y[1][0]-y[0][0]).attr("height",y[1][1]-y[0][1]),b.selectAll(".handle").style("display",null).attr("x",function(g){return g.type[g.type.length-1]==="e"?y[1][0]-i/2:y[0][0]-i/2}).attr("y",function(g){return g.type[0]==="s"?y[1][1]-i/2:y[0][1]-i/2}).attr("width",function(g){return g.type==="n"||g.type==="s"?y[1][0]-y[0][0]+i:i}).attr("height",function(g){return g.type==="e"||g.type==="w"?y[1][1]-y[0][1]+i:i})):b.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function l(b,y,g){var w=b.__brush.emitter;return w&&(!g||!w.clean)?w:new f(b,y,g)}function f(b,y,g){this.that=b,this.args=y,this.state=b.__brush,this.active=0,this.clean=g}f.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(b,y){return this.starting?(this.starting=!1,this.emit("start",b,y)):this.emit("brush",b),this},brush:function(b,y){return this.emit("brush",b,y),this},end:function(b,y){return--this.active===0&&(delete this.state.emitter,this.emit("end",b,y)),this},emit:function(b,y,g){var w=R(this.that).datum();a.call(b,this.that,new eU(b,{sourceEvent:y,target:c,selection:e.output(this.state.selection),mode:g,dispatch:a}),w)}};function u(b){if(s&&!b.touches||!t.apply(this,arguments))return;var y=this,g=b.target.__data__.type,w=(o&&b.metaKey?g="overlay":g)==="selection"?Au:o&&b.altKey?an:on,k=e===fs?null:rU[g],_=e===wa?null:nU[g],x=us(y),O=x.extent,M=x.selection,T=O[0][0],A,S,P=O[0][1],I,L,B=O[1][0],C,z,F=O[1][1],U,N,V=0,X=0,ce,ae=k&&_&&o&&b.shiftKey,Z,re,J=Array.from(b.touches||[b],H=>{const ue=H.identifier;return H=Lr(H,y),H.point0=H.slice(),H.identifier=ue,H});rd(y);var se=l(y,arguments,!0).beforestart();if(g==="overlay"){M&&(ce=!0);const H=[J[0],J[1]||J[0]];x.selection=M=[[A=e===fs?T:Qe(H[0][0],H[1][0]),I=e===wa?P:Qe(H[0][1],H[1][1])],[C=e===fs?B:Ke(H[0][0],H[1][0]),U=e===wa?F:Ke(H[0][1],H[1][1])]],J.length>1&&he(b)}else A=M[0][0],I=M[0][1],C=M[1][0],U=M[1][1];S=A,L=I,z=C,N=U;var K=R(y).attr("pointer-events","none"),ee=K.selectAll(".overlay").attr("cursor",Zt[g]);if(b.touches)se.moved=q,se.ended=le;else{var de=R(b.view).on("mousemove.brush",q,!0).on("mouseup.brush",le,!0);o&&de.on("keydown.brush",j,!0).on("keyup.brush",Y,!0),$A(b.view)}d.call(y),se.start(b,w.name);function q(H){for(const ue of H.changedTouches||[H])for(const yt of J)yt.identifier===ue.identifier&&(yt.cur=Lr(ue,y));if(ae&&!Z&&!re&&J.length===1){const ue=J[0];Pu(ue.cur[0]-ue[0])>Pu(ue.cur[1]-ue[1])?re=!0:Z=!0}for(const ue of J)ue.cur&&(ue[0]=ue.cur[0],ue[1]=ue.cur[1]);ce=!0,ds(H),he(H)}function he(H){const ue=J[0],yt=ue.point0;var We;switch(V=ue[0]-yt[0],X=ue[1]-yt[1],w){case ls:case Au:{k&&(V=Ke(T-A,Qe(B-C,V)),S=A+V,z=C+V),_&&(X=Ke(P-I,Qe(F-U,X)),L=I+X,N=U+X);break}case on:{J[1]?(k&&(S=Ke(T,Qe(B,J[0][0])),z=Ke(T,Qe(B,J[1][0])),k=1),_&&(L=Ke(P,Qe(F,J[0][1])),N=Ke(P,Qe(F,J[1][1])),_=1)):(k<0?(V=Ke(T-A,Qe(B-A,V)),S=A+V,z=C):k>0&&(V=Ke(T-C,Qe(B-C,V)),S=A,z=C+V),_<0?(X=Ke(P-I,Qe(F-I,X)),L=I+X,N=U):_>0&&(X=Ke(P-U,Qe(F-U,X)),L=I,N=U+X));break}case an:{k&&(S=Ke(T,Qe(B,A-V*k)),z=Ke(T,Qe(B,C+V*k))),_&&(L=Ke(P,Qe(F,I-X*_)),N=Ke(P,Qe(F,U+X*_)));break}}z<S&&(k*=-1,We=A,A=C,C=We,We=S,S=z,z=We,g in Bu&&ee.attr("cursor",Zt[g=Bu[g]])),N<L&&(_*=-1,We=I,I=U,U=We,We=L,L=N,N=We,g in Iu&&ee.attr("cursor",Zt[g=Iu[g]])),x.selection&&(M=x.selection),Z&&(S=M[0][0],z=M[1][0]),re&&(L=M[0][1],N=M[1][1]),(M[0][0]!==S||M[0][1]!==L||M[1][0]!==z||M[1][1]!==N)&&(x.selection=[[S,L],[z,N]],d.call(y),se.brush(H,w.name))}function le(H){if(tU(H),H.touches){if(H.touches.length)return;s&&clearTimeout(s),s=setTimeout(function(){s=null},500)}else HA(H.view,ce),de.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);K.attr("pointer-events","all"),ee.attr("cursor",Zt.overlay),x.selection&&(M=x.selection),sU(M)&&(x.selection=null,d.call(y)),se.end(H,w.name)}function j(H){switch(H.keyCode){case 16:{ae=k&&_;break}case 18:{w===on&&(k&&(C=z-V*k,A=S+V*k),_&&(U=N-X*_,I=L+X*_),w=an,he(H));break}case 32:{(w===on||w===an)&&(k<0?C=z-V:k>0&&(A=S-V),_<0?U=N-X:_>0&&(I=L-X),w=ls,ee.attr("cursor",Zt.selection),he(H));break}default:return}ds(H)}function Y(H){switch(H.keyCode){case 16:{ae&&(Z=re=ae=!1,he(H));break}case 18:{w===an&&(k<0?C=z:k>0&&(A=S),_<0?U=N:_>0&&(I=L),w=on,he(H));break}case 32:{w===ls&&(H.altKey?(k&&(C=z-V*k,A=S+V*k),_&&(U=N-X*_,I=L+X*_),w=an):(k<0?C=z:k>0&&(A=S),_<0?U=N:_>0&&(I=L),w=on),ee.attr("cursor",Zt[g]),he(H));break}default:return}ds(H)}}function h(b){l(this,arguments).moved(b)}function p(b){l(this,arguments).ended(b)}function m(){var b=this.__brush||{selection:null};return b.extent=Cu(r.apply(this,arguments)),b.dim=e,b}return c.extent=function(b){return arguments.length?(r=typeof b=="function"?b:cs(Cu(b)),c):r},c.filter=function(b){return arguments.length?(t=typeof b=="function"?b:cs(!!b),c):t},c.touchable=function(b){return arguments.length?(n=typeof b=="function"?b:cs(!!b),c):n},c.handleSize=function(b){return arguments.length?(i=+b,c):i},c.keyModifiers=function(b){return arguments.length?(o=!!b,c):o},c.on=function(){var b=a.on.apply(a,arguments);return b===a?c:b},c}var dU=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),lU=function(e){dU(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="grid-brush",t.renderType=oe.SVG,t.selectionSelector="rect.selection",t.frontSelectionSelector="rect.frontSelection",t}return r.prototype.render=function(t){var n=this,o=this.parent,a=this.getComponentContainer(),i=D.appendOrSelect(o,"svg.chart-grid-backdrop"),s=D.appendOrSelect(i,"g."+this.type),c=D.appendOrSelect(s,this.selectionSelector),d=D.getSVGElementSize(i,{useAttrs:!0}),l=d.width,f=d.height,u=this.services.cartesianScales,h=u.getMainXScaleType(),p=u.getMainXScale(),m=p.range(),b=m[0];m[1],a.attr("transform","translate("+b+",0)");var y=D.appendOrSelect(a,this.frontSelectionSelector);if(p&&h===ne.TIME){var g=this.model.get("zoomDomain");g===void 0&&(g=this.services.zoom.getDefaultZoomBarDomain(),g&&this.model.set({zoomDomain:g},{animate:!1}));var w=function(T){for(var A=T[1]-T[0],S="0,"+A.toString(),P=Math.floor(f/r.DASH_LENGTH),I=P*r.DASH_LENGTH,L=0;L<P;L++)S+=","+r.DASH_LENGTH;S+=","+(f-I),P%2===1&&(S+=",0"),S+=","+A.toString(),S+=","+f.toString(),y.attr("stroke-dasharray",S)},k=function(T){var A=T.selection;A===null||A[0]===A[1]||(y.attr("x",parseFloat(c.attr("x"))+parseFloat(i.attr("x"))).attr("y",c.attr("y")).attr("width",c.attr("width")).attr("height",c.attr("height")).style("cursor","pointer").style("display",null),w(A))},_=function(T,A){var S=fg().range([0,l]).domain(g),P=[S.invert(T),S.invert(A)];P[0].valueOf()===P[1].valueOf()&&(P=n.services.zoom.getDefaultZoomBarDomain()),(g[0].valueOf()!==P[0].valueOf()||g[1].valueOf()!==P[1].valueOf())&&n.services.zoom.handleDomainChange(P)},x=function(T){var A=T.selection;A!==null&&(_(A[0],A[1]),s.call(O.move,null),y.style("display","none"))},O=pm().extent([[0,0],[l-1,f]]).on("start brush end",k).on("end.brushed",x);s.call(O);var M=this.services.zoom.getZoomRatio();i.on("click",function(T){if(T.shiftKey){var A=this.services.domUtils.getHolder(),S=Lr(s.node(),A)[0],P=S-l*M/2;P<0&&(P=0);var I=S+l*M/2;I>l&&(I=l),_(P,I)}})}},r.DASH_LENGTH=4,r}(ve),fU=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),bt=function(e){fU(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="grid",t.renderType=oe.SVG,t}return r.prototype.render=function(t){t===void 0&&(t=!0);var n=v.getProperty(this.getOptions(),"grid","x","enabled"),o=v.getProperty(this.getOptions(),"grid","y","enabled");this.drawBackdrop(n,o),!(!n&&!o)&&(n&&(D.appendOrSelect(this.backdrop,"g.x.grid"),this.drawXGrid(t)),o&&(D.appendOrSelect(this.backdrop,"g.y.grid"),this.drawYGrid(t)))},r.prototype.drawXGrid=function(t){var n=this,o=this.parent,a=this.backdrop.attr("height"),i=this.services.cartesianScales.getMainXScale(),s=Wd(i).tickSizeInner(-a).tickSizeOuter(0),c=v.getProperty(this.getOptions(),"grid","x","alignWithAxisTicks");if(c){var d=this.services.cartesianScales.getDomainAxisPosition(),l=v.getProperty(this.getOptions(),"axes",d,"ticks","values");l&&s.tickValues(l)}else{var f=v.getProperty(this.getOptions(),"grid","x","numberOfTicks");s.ticks(f)}var u=o.select(".x.grid").attr("transform","translate("+-this.backdrop.attr("x")+", "+a+")");t?u.transition().call(function(h){return n.services.transitions.setupTransition({transition:h,name:"grid-update",animate:t})}).call(s):u.call(s),this.cleanGrid(u)},r.prototype.drawYGrid=function(t){var n=this,o=this.parent,a=this.backdrop.attr("width"),i=this.services.cartesianScales.getMainYScale(),s=Dg(i).tickSizeInner(-a).tickSizeOuter(0),c=v.getProperty(this.getOptions(),"grid","y","alignWithAxisTicks");if(c){var d=this.services.cartesianScales.getRangeAxisPosition(),l=v.getProperty(this.getOptions(),"axes",d,"ticks","values");l&&s.tickValues(l)}else{var f=v.getProperty(this.getOptions(),"grid","y","numberOfTicks");s.ticks(f)}var u=o.select(".y.grid").attr("transform","translate(0, "+-this.backdrop.attr("y")+")");t?u.transition().call(function(h){return n.services.transitions.setupTransition({transition:h,name:"grid-update",animate:t})}).call(s):u.call(s),this.cleanGrid(u)},r.prototype.getGridlineThreshold=function(t){var n=this.parent,o=n.selectAll(".x.grid .tick").nodes().sort(function(h,p){return Number(v.getTranslationValues(h).tx)-Number(v.getTranslationValues(p).tx)}),a=-1,i;if(!!o.length){o.forEach(function(h,p){t[0]>=+v.getTranslationValues(h).tx&&a++}),i=a+1<o.length?a+1:o.length;var s=o[a],c=o[i],d;if(!s)d=+v.getTranslationValues(c).tx;else if(c)d=+v.getTranslationValues(c).tx-+v.getTranslationValues(s).tx;else{var l=n.select("rect.chart-grid-backdrop").node(),f=D.getSVGElementSize(l).width;d=f-+v.getTranslationValues(s).tx}var u=this.getOptions().tooltip.gridline.threshold;return d*u}},r.prototype.getActiveGridline=function(t){var n=v.getProperty(this.getOptions,"tooltip","gridline","threshold"),o=n||this.getGridlineThreshold(t),a=this.parent,i=a.selectAll(".x.grid .tick").filter(function(){var s=v.getTranslationValues(this),c={min:Number(s.tx)-o,max:Number(s.tx)+o};return c.min<=t[0]&&t[0]<=c.max});return i},r.prototype.drawBackdrop=function(t,n){var o=this.parent,a=this.services.cartesianScales.getMainXScale(),i=this.services.cartesianScales.getMainYScale(),s=a.range(),c=s[0],d=s[1],l=i.range(),f=l[0],u=l[1];this.backdrop=D.appendOrSelect(o,"svg.chart-grid-backdrop");var h=D.appendOrSelect(this.backdrop,t||n?"rect.chart-grid-backdrop.stroked":"rect.chart-grid-backdrop");this.backdrop.merge(h).attr("x",c).attr("y",u).attr("width",Math.abs(d-c)).attr("height",Math.abs(f-u)).lower(),h.attr("width","100%").attr("height","100%")},r.prototype.cleanGrid=function(t){t.selectAll("text").remove(),t.select(".domain").remove()},r}(ve),uU=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),zu=5;function pU(e,r){return e>r-zu&&e<r+zu}var wr=function(e){uU(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="ruler",t.renderType=oe.SVG,t.isXGridEnabled=v.getProperty(t.getOptions(),"grid","x","enabled"),t.isYGridEnabled=v.getProperty(t.getOptions(),"grid","y","enabled"),t.isEventListenerAdded=!1,t}return r.prototype.render=function(){var t=v.getProperty(this.getOptions(),"ruler","enabled");this.drawBackdrop(),t&&!this.isEventListenerAdded?this.addBackdropEventListeners():!t&&this.isEventListenerAdded&&this.removeBackdropEventListeners()},r.prototype.removeBackdropEventListeners=function(){this.isEventListenerAdded=!1,this.backdrop.on("mousemove mouseover mouseout",null)},r.prototype.formatTooltipData=function(t){return t},r.prototype.showRuler=function(t,n){var o=this,a=n[0],i=n[1],s=this.parent,c=this.services.cartesianScales.getOrientation(),d=this.model.getDisplayData(),l=this.services.cartesianScales.getRangeScale(),f=l.range(),u=f[0],h=f[1],p=c===He.HORIZONTAL?i:a,m=D.appendOrSelect(s,"g.ruler").attr("aria-label","ruler"),b=D.appendOrSelect(m,"line.ruler-line"),y=s.selectAll("[role=graphics-symbol]"),g=d.map(function(M){return{domainValue:o.services.cartesianScales.getDomainValue(M),originalData:M}}).filter(function(M){return pU(M.domainValue,p)});if(this.pointsWithinLine&&g.length===this.pointsWithinLine.length&&g.map(function(M){return M.domainValue}).join()===this.pointsWithinLine.map(function(M){return M.domainValue}).join())return this.pointsWithinLine=g,this.services.events.dispatchEvent(E.Tooltip.MOVE,{mousePosition:[a,i]});this.pointsWithinLine=g;var w=this.pointsWithinLine.reduce(function(M,T){if(M.length===0)return M.push(T),M;var A=M[0].domainValue,S=Math.abs(p-T.domainValue),P=Math.abs(p-A);return S>P||(S<P?M=[T]:M.push(T)),M},[]);if(w.length>0){var k=w.map(function(M){return M.originalData}).filter(function(M){var T=o.services.cartesianScales.getRangeIdentifier(M),A=M[T];return A!=null}),_=w.map(function(M){return M.domainValue}),x=y.filter(function(M){var T=o.services.cartesianScales.getDomainValue(M);return _.includes(T)});this.elementsToHighlight&&this.elementsToHighlight.size()>0&&!v.isEqual(this.elementsToHighlight,x)&&this.hideRuler(),x.dispatch("mouseover"),this.elementsToHighlight=x,this.services.events.dispatchEvent(E.Tooltip.SHOW,{mousePosition:[a,i],hoveredElement:b,data:this.formatTooltipData(k)}),m.attr("opacity",1);var O=w[0];c==="horizontal"?b.attr("x1",h).attr("x2",u).attr("y1",O.domainValue).attr("y2",O.domainValue):b.attr("y1",h).attr("y2",u).attr("x1",O.domainValue).attr("x2",O.domainValue)}else this.hideRuler()},r.prototype.hideRuler=function(){var t=this.parent,n=D.appendOrSelect(t,"g.ruler"),o=t.selectAll("[role=graphics-symbol]");o.dispatch("mouseout"),this.services.events.dispatchEvent(E.Tooltip.HIDE),n.attr("opacity",0)},r.prototype.addBackdropEventListeners=function(){this.isEventListenerAdded=!0;var t=this,n=this.services.domUtils.getHolder(),o=this.model.getDisplayData(),a=function(s){var c=Lr(s,t.parent.node());t.showRuler(s,c)};if(o.length>100){var i=o.length%50*12.5;a=v.debounceWithD3MousePosition(function(s){var c=this.mousePosition;t.showRuler(s,c)},i,n)}this.backdrop.on("mousemove mouseover",a).on("mouseout",this.hideRuler.bind(this))},r.prototype.drawBackdrop=function(){var t=this.parent;this.backdrop=D.appendOrSelect(t,"svg.chart-grid-backdrop")},r}(ve),hU=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),gU=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;for(var n=Array(e),o=0,r=0;r<t;r++)for(var a=arguments[r],i=0,s=a.length;i<s;i++,o++)n[o]=a[i];return n},mU=function(e){hU(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="ruler-binned",t.renderType=oe.SVG,t}return r.prototype.showRuler=function(t,n){var o=this,a=n[0],i=n[1],s=this.parent,c=this.model.getOptions(),d=this.services.cartesianScales.getOrientation(),l=this.services.cartesianScales.getRangeScale(),f=l.range(),u=f[0],h=f[1],p=this.services.cartesianScales.getDomainScale(),m=p.invert(d===He.VERTICAL?a:i),b=D.appendOrSelect(s,"g.ruler").attr("aria-label","ruler"),y=D.appendOrSelect(b,"line.ruler-line"),g=s.selectAll("[role=graphics-symbol]"),w=g.filter(function(S){if(parseFloat(Te(S,"data.x0"))<=m&&parseFloat(Te(S,"data.x1"))>=m)return!0});if(w.size()>0){this.elementsToHighlight&&this.elementsToHighlight.size()>0&&!v.isEqual(this.elementsToHighlight,w)&&this.hideRuler(),w.dispatch("mouseover"),this.elementsToHighlight=w;var k=R(w.nodes()[0]).datum(),_=parseFloat(Te(k,"data.x0")),x=parseFloat(Te(k,"data.x1")),O=this.model.getActiveDataGroupNames(),M=O.reverse().map(function(S){return{label:S,value:Te(k,"data."+S),class:o.model.getColorClassName({classNameTypes:[ie.TOOLTIP],dataGroupName:S})}}).filter(function(S){return S.value!==0}),T=M.length>0;if(T){this.services.events.dispatchEvent(E.Tooltip.SHOW,{mousePosition:[a,i],hoveredElement:y,items:gU([{label:Te(c,"bins.rangeLabel")||"Range",value:_+" \u2013 "+x}],M,v.getProperty(c,"tooltip","showTotal")===!0?[{label:Te(c,"tooltip.totalLabel")||"Total",value:O.reduce(function(S,P){return S+parseFloat(Te(k,"data."+P))},0)}]:[])}),b.attr("opacity",1);var A=p((_+x)/2);d==="horizontal"?y.attr("x1",h).attr("x2",u).attr("y1",A).attr("y2",A):y.attr("y1",h).attr("y2",u).attr("x1",A).attr("x2",A)}else this.hideRuler()}else this.hideRuler()},r}(wr),vU=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ni=function(e){vU(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.formatTooltipData=function(t){return t.reverse()},r}(wr),bU=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),el=function(e){bU(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="toolbar",t.renderType=oe.HTML,t}return r.prototype.init=function(){var t=this,n=function(){return t.updateOverflowMenu(!1)};this.services.events.addEventListener(E.Toolbar.SHOW_OVERFLOW_MENU,function(){t.renderOverflowMenu(),document.body.addEventListener("click",n)}),this.services.events.addEventListener(E.Toolbar.HIDE_OVERFLOW_MENU,function(){document.body.removeEventListener("click",n)})},r.prototype.render=function(t){var n=this,o=this.getComponentContainer().attr("role","toolbar").attr("aria-label","chart-"+this.services.domUtils.getChartID()+" toolbar"),a=v.getProperty(this.getOptions(),"data","loading");if(a)o.html(""),this.overflowMenu=null;else{this.overflowMenu||(this.overflowMenu=o.append("div").attr("class","cds--overflow-menu-options cds--overflow-menu--flip cds--overflow-menu-options cds--overflow-menu--flip").attr("tabindex",-1).attr("role","menu").html("<ul></ul>"));var i=this.getControlConfigs(),s=i.buttonList,c=i.overflowMenuItemList;c&&s.push(this.getOverflowButtonConfig());var d=o.selectAll("div.toolbar-control").data(s,function(u){return u.id});d.exit().remove();var l=d.enter().append("div").attr("class","toolbar-control cds--overflow-menu cds--overflow-menu").attr("role","button"),f=this;l.merge(d).classed("disabled",function(u){return u.shouldBeDisabled()}).attr("aria-disabled",function(u){return u.shouldBeDisabled()}).attr("aria-label",function(u){return u.title}).html(function(u){return`
			<button
				class="cds--overflow-menu__trigger cds--overflow-menu__trigger"
				aria-haspopup="true" aria-expanded="false" id="`+n.services.domUtils.generateElementIDString("control-"+u.id)+'" aria-label="'+u.title+`">
				<svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change: transform; width: `+(u.iconSVG.width!==void 0?u.iconSVG.width:"20px")+"; height: "+(u.iconSVG.height!==void 0?u.iconSVG.height:"20px")+`" xmlns="http://www.w3.org/2000/svg" class="cds--overflow-menu__icon cds--overflow-menu__icon" viewBox="0 0 32 32" aria-hidden="true">
					`+u.iconSVG.content+`
				</svg>
			</button>`}).each(function(u,h){var p=this;R(this).select("button").on("click",function(m){u.shouldBeDisabled()||f.triggerFunctionAndEvent(u,m,p)}).on("keydown",function(m){m.key&&m.key==="Enter"||m.key===" "?(m.preventDefault(),f.triggerFunctionAndEvent(u,m,p)):m.key&&m.key==="ArrowLeft"?f.focusOnPreviousEnabledToolbarItem(h):m.key&&m.key==="ArrowRight"&&f.focusOnNextEnabledToolbarItem(h)})}),this.overflowButton=this.getComponentContainer().select("button.cds--overflow-menu__trigger#"+this.services.domUtils.generateElementIDString("control-toolbar-overflow-menu"))}},r.prototype.renderOverflowMenu=function(){var t=this,n=this.getControlConfigs().overflowMenuItemList,o=this.overflowMenu.select("ul").selectAll("li.cds--overflow-menu-options__option").data(n,function(i){return v.getProperty(i,"id")});o.exit().remove();var a=o.enter().append("li").attr("id",function(i){return t.services.domUtils.generateElementIDString("control-"+i.id)}).attr("class","cds--overflow-menu-options__option cds--overflow-menu-options__option").attr("role","menuitem");a.append("button").attr("class","cds--overflow-menu-options__btn cds--overflow-menu-options__btn"),a.merge(o).classed("cds--overflow-menu-options__option--disabled",function(i){return i.shouldBeDisabled()}).classed("cds--overflow-menu-options__option--disabled",function(i){return i.shouldBeDisabled()}).attr("aria-disabled",function(i){return i.shouldBeDisabled()}).selectAll("button").text(function(i){return i.text})},r.prototype.isOverflowMenuOpen=function(){return this.overflowMenu.classed("is-open")},r.prototype.updateOverflowMenu=function(t){!this.overflowMenu||(this.overflowMenu.classed("is-open",t),this.overflowButton&&(this.overflowButton.attr("aria-expanded",t),R(this.overflowButton.node().parentNode).classed("cds--overflow-menu--open",t).classed("cds--overflow-menu--open",t)),t?this.services.events.dispatchEvent(E.Toolbar.SHOW_OVERFLOW_MENU):this.services.events.dispatchEvent(E.Toolbar.HIDE_OVERFLOW_MENU))},r.prototype.focusOnPreviousEnabledToolbarItem=function(t){for(var n=this.getToolbarButtonItems(),o=n.length,a=t-1;a>=0;a--){var i=n[a];if(!i.shouldBeDisabled()){o=a;break}}if(o<n.length){var s=R("button#"+this.services.domUtils.generateElementIDString("control-"+n[o].id)).node();"focus"in s&&s.focus()}},r.prototype.focusOnNextEnabledToolbarItem=function(t){for(var n=this.getToolbarButtonItems(),o=-1,a=t+1;a<n.length;a++){var i=n[a];if(!i.shouldBeDisabled()){o=a;break}}if(o>-1){var s=R("button#"+this.services.domUtils.generateElementIDString("control-"+n[o].id)).node();"focus"in s&&s.focus()}},r.prototype.focusOnPreviousEnabledMenuItem=function(t){for(var n=this.getOverflowMenuItems(),o=n.length,a=t-1;a>=0;a--){var i=n[a];if(!i.shouldBeDisabled()){o=a;break}}if(o<n.length){var s=R("#"+this.services.domUtils.generateElementIDString("control-"+n[o].id)+" button").node();"focus"in s&&s.focus()}},r.prototype.focusOnNextEnabledMenuItem=function(t){for(var n=this.getOverflowMenuItems(),o=-1,a=t+1;a<n.length;a++){var i=n[a];if(!i.shouldBeDisabled()){o=a;break}}if(o>-1){var s=R("#"+this.services.domUtils.generateElementIDString("control-"+n[o].id)+" button").node();"focus"in s&&s.focus()}},r.prototype.toggleOverflowMenu=function(t){var n=this;if(this.isOverflowMenuOpen())this.updateOverflowMenu(!1);else{this.updateOverflowMenu(!0);var o=this,a=this.getOverflowMenuItems();a.forEach(function(i,s){var c=R("#"+n.services.domUtils.generateElementIDString("control-"+i.id));c!==null&&(c.on("click",function(){o.triggerFunctionAndEvent(i,t,c.node()),o.updateOverflowMenu(!1)}),c.on("keydown",function(d){d&&d.key==="Enter"?o.triggerFunctionAndEvent(i,t,c.node()):d&&d.key==="ArrowUp"?o.focusOnPreviousEnabledMenuItem(s):d&&d.key==="ArrowDown"?o.focusOnNextEnabledMenuItem(s):d&&d.key==="Escape"&&o.updateOverflowMenu(!1),d.preventDefault()}))}),o.focusOnNextEnabledMenuItem(-1)}t&&t.stopImmediatePropagation()},r.prototype.triggerFunctionAndEvent=function(t,n,o){typeof t.clickFunction=="function"&&t.clickFunction(n),this.services.events.dispatchEvent(E.Toolbar.BUTTON_CLICK,{control:t,event:n,element:o})},r.prototype.getControlConfigs=function(){var t=this,n=v.getProperty(this.getOptions(),"toolbar","numberOfIcons")-1,o=v.getProperty(this.getOptions(),"toolbar","controls"),a=[],i=[],s=[];return o.forEach(function(c){var d=null;c.type===Pe.CUSTOM?(v.getProperty(c,"id")===null&&(c.id="toolbar-button-"+r.buttonID++),v.getProperty(c,"shouldBeDisabled")===null&&(c.shouldBeDisabled=function(){return!1}),d=c):d=t.getControlConfigByType(c.type),d&&(d.text=c.text?c.text:c.type,d.id.indexOf("toolbar-export")!==-1?a.push(d):i.length<n?v.getProperty(d,"iconSVG","content")===null?s.push(d):i.push(d):s.push(d))}),s.push.apply(s,a),s.length?{buttonList:i,overflowMenuItemList:s}:{buttonList:i}},r.prototype.getToolbarButtonItems=function(){var t=this.getControlConfigs(),n=t.buttonList,o=t.overflowMenuItemList;return o&&n.push(this.getOverflowButtonConfig()),n||[]},r.prototype.getOverflowMenuItems=function(){var t=this.getControlConfigs().overflowMenuItemList;return t||[]},r.prototype.getOverflowButtonConfig=function(){var t=this;return{id:"toolbar-overflow-menu",title:"More options",shouldBeDisabled:function(){return!1},iconSVG:{content:`<circle cx="16" cy="8" r="2"></circle>
				<circle cx="16" cy="16" r="2"></circle>
				<circle cx="16" cy="24" r="2"></circle>`},clickFunction:function(n){return t.toggleOverflowMenu(n)}}},r.prototype.getControlConfigByType=function(t){var n=this,o=this.services.zoom&&this.services.zoom.isZoomBarEnabled()&&!this.services.zoom.isEmptyState(),a=this.model.getDisplayData(),i;switch(t){case Pe.ZOOM_IN:o&&(i={id:"toolbar-zoomIn",title:"Zoom in",shouldBeDisabled:function(){return n.services.zoom.isMinZoomDomain()},iconSVG:{content:this.getControlIconByType(t)},clickFunction:function(){return n.services.zoom.zoomIn()}});break;case Pe.ZOOM_OUT:o&&(i={id:"toolbar-zoomOut",title:"Zoom out",shouldBeDisabled:function(){return n.services.zoom.isMaxZoomDomain()},iconSVG:{content:this.getControlIconByType(t)},clickFunction:function(){return n.services.zoom.zoomOut()}});break;case Pe.RESET_ZOOM:o&&(i={id:"toolbar-resetZoom",title:"Reset zoom",shouldBeDisabled:function(){return n.services.zoom.isMaxZoomDomain()},iconSVG:{content:this.getControlIconByType(t)},clickFunction:function(){return n.services.zoom.resetZoomDomain()}});break;case Pe.MAKE_FULLSCREEN:i={id:"toolbar-makefullscreen",iconSVG:{content:this.getControlIconByType(t),width:"15px",height:"15px"},title:"Make fullscreen",shouldBeDisabled:function(){return!1},clickFunction:function(){n.services.domUtils.toggleFullscreen()}};break;case Pe.SHOW_AS_DATATABLE:i={id:"toolbar-showasdatatable",iconSVG:{content:this.getControlIconByType(t)},title:"Show as table",shouldBeDisabled:function(){return a.length===0},clickFunction:function(){return n.services.events.dispatchEvent(E.Modal.SHOW)}};break;case Pe.EXPORT_CSV:i={id:"toolbar-export-CSV",title:"Export as CSV",shouldBeDisabled:function(){return!1},iconSVG:{content:this.getControlIconByType(t)},clickFunction:function(){return n.model.exportToCSV()}};break;case Pe.EXPORT_PNG:i={id:"toolbar-export-PNG",title:"Export as PNG",shouldBeDisabled:function(){return!1},iconSVG:{content:this.getControlIconByType(t)},clickFunction:function(){return n.services.domUtils.exportToPNG()}};break;case Pe.EXPORT_JPG:i={id:"toolbar-export-JPG",title:"Export as JPG",shouldBeDisabled:function(){return!1},iconSVG:{content:this.getControlIconByType(t)},clickFunction:function(){return n.services.domUtils.exportToJPG()}};break;default:throw Error("Not supported toolbar control type: "+t)}return i},r.prototype.getControlIconByType=function(t){switch(t){case Pe.ZOOM_IN:return`<polygon points="19 13 15 13 15 9 13 9 13 13 9 13 9 15 13 15 13 19 15 19 15 15 19 15 19 13"/>
						<path d="M22.45,21A10.87,10.87,0,0,0,25,14,11,11,0,1,0,14,25a10.87,10.87,0,0,0,7-2.55L28.59,30,30,28.59ZM14,23a9,9,0,1,1,9-9A9,9,0,0,1,14,23Z"/>`;case Pe.ZOOM_OUT:return`<rect x="9" y="13" width="10" height="2"/>
						<path d="M22.45,21A10.87,10.87,0,0,0,25,14,11,11,0,1,0,14,25a10.87,10.87,0,0,0,7-2.55L28.59,30,30,28.59ZM14,23a9,9,0,1,1,9-9A9,9,0,0,1,14,23Z"/>`;case Pe.RESET_ZOOM:return'<path d="M22.4478,21A10.855,10.855,0,0,0,25,14,10.99,10.99,0,0,0,6,6.4658V2H4v8h8V8H7.332a8.9768,8.9768,0,1,1-2.1,8H3.1912A11.0118,11.0118,0,0,0,14,25a10.855,10.855,0,0,0,7-2.5522L28.5859,30,30,28.5859Z"/>';case Pe.MAKE_FULLSCREEN:return'<polygon points="21 2 21 4 26.59 4 17 13.58 18.41 15 28 5.41 28 11 30 11 30 2 21 2"/><polygon points="15 18.42 13.59 17 4 26.59 4 21 2 21 2 30 11 30 11 28 5.41 28 15 18.42"/>';case Pe.SHOW_AS_DATATABLE:return'<rect x="4" y="6" width="18" height="2"/><rect x="4" y="12" width="18" height="2"/><rect x="4" y="18" width="18" height="2"/><rect x="4" y="24" width="18" height="2"/><rect x="26" y="6" width="2" height="2"/><rect x="26" y="12" width="2" height="2"/><rect x="26" y="18" width="2" height="2"/><rect x="26" y="24" width="2" height="2"/>';case Pe.EXPORT_CSV:return'<path d="M22.4478,21A10.855,10.855,0,0,0,25,14,10.99,10.99,0,0,0,6,6.4658V2H4v8h8V8H7.332a8.9768,8.9768,0,1,1-2.1,8H3.1912A11.0118,11.0118,0,0,0,14,25a10.855,10.855,0,0,0,7-2.5522L28.5859,30,30,28.5859Z"/>';case Pe.EXPORT_JPG:return'<path d="M22.4478,21A10.855,10.855,0,0,0,25,14,10.99,10.99,0,0,0,6,6.4658V2H4v8h8V8H7.332a8.9768,8.9768,0,1,1-2.1,8H3.1912A11.0118,11.0118,0,0,0,14,25a10.855,10.855,0,0,0,7-2.5522L28.5859,30,30,28.5859Z"/>';case Pe.EXPORT_PNG:return'<path d="M22.4478,21A10.855,10.855,0,0,0,25,14,10.99,10.99,0,0,0,6,6.4658V2H4v8h8V8H7.332a8.9768,8.9768,0,1,1-2.1,8H3.1912A11.0118,11.0118,0,0,0,14,25a10.855,10.855,0,0,0,7-2.5522L28.5859,30,30,28.5859Z"/>';default:throw Error("Not supported toolbar control type: "+t)}},r.buttonID=0,r}(ve),yU=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Rn=function(e){yU(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="zero-line",t.renderType=oe.SVG,t}return r.prototype.render=function(t){var n=this,o=this.services.cartesianScales.getRangeAxisPosition({groups:this.configs.groups}),a=this.services.cartesianScales.getScaleByPosition(o),i=a.domain(),s=i[0],c=i[1],d=s>0&&c<0||s<0&&c>0,l=this.getComponentContainer();if(!d){l.selectAll("line.domain").remove();return}var f=this.services.cartesianScales.getDomainScale().range(),u=f[0],h=f[1],p=+a(0)+.5;p||(p=a.range()[0]);var m=v.flipSVGCoordinatesBasedOnOrientation({x0:u,x1:h,y0:p,y1:p},this.services.cartesianScales.getOrientation()),b=D.appendOrSelect(l,"line.domain");b.transition().call(function(y){return n.services.transitions.setupTransition({transition:y,name:"zero-line-update",animate:t})}).attr("y1",m.y0).attr("y2",m.y1).attr("x1",m.x0).attr("x2",m.x1)},r}(ve),wU=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),_U=function(e){wU(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="zoom-bar",t.renderType=oe.SVG,t.MIN_SELECTION_DIFF=9e-10,t.brushSelector="g.zoom-bar-brush",t.clipId="zoomBarClip-"+Math.floor(Math.random()*99999999999),t.brush=pm(),t.highlightStrokeWidth=1,t}return r.prototype.init=function(){this.services.events.addEventListener(E.ZoomBar.UPDATE,this.render.bind(this));var t=v.getProperty(this.getOptions(),"zoomBar",W.TOP,"data");this.model.setZoomBarData(t)},r.prototype.render=function(t){var n=this,o=this.getComponentContainer(),a=this.services.zoom.isZoomBarLoading(W.TOP),i=this.services.zoom.isZoomBarLocked(W.TOP),s=v.getProperty(this.getOptions(),"zoomBar",W.TOP,"type"),c=v.getProperty(this.getOptions(),"axes",W.BOTTOM,"highlights"),d=at.height[s],l=D.getSVGElementSize(this.parent,{useAttrs:!0}).width;if(l!==0){var f=0,u=this.model.get("axesMargins");u&&u.left&&(f=u.left);var h=D.appendOrSelect(o,"svg.zoom-container").attr("width","100%").attr("height",d).attr("opacity",1);if(D.appendOrSelect(o,"rect.zoom-spacer").attr("x",0).attr("y",d).attr("width","100%").attr("height",at.spacerHeight).attr("opacity",1).attr("fill","none"),s===Et.GRAPH_VIEW?D.appendOrSelect(h,"rect.zoom-bg").attr("x",f).attr("y",0).attr("width",l-f).attr("height","100%").classed("zoom-bg-skeleton",a).style("stroke",a?"url(#"+this.services.domUtils.generateElementIDString("shimmer-lines")+")":null):s===Et.SLIDER_VIEW&&D.appendOrSelect(h,"rect.zoom-slider-bg").attr("x",f).attr("y",d/2-1).attr("width",l-f).attr("height",2).classed("zoom-slider-bg-skeleton",a).style("stroke",a?"url(#"+this.services.domUtils.generateElementIDString("shimmer-lines")+")":null),a){this.renderSkeleton(h,f,l);return}var p=this.services.cartesianScales,m=p.getMainXScale(),b=p.getMainYScale(),y=p.getMainXScaleType();if(m&&y===ne.TIME){var g=this.services.zoom.getZoomBarData();if(v.isEmpty(g)||g.length===1)return;this.xScale=m.copy(),this.yScale=b.copy();var w=this.services.zoom.getDefaultZoomBarDomain(g);g=this.compensateDataForDefaultDomain(g,w);var k=this.model.get("initialZoomDomain"),_=v.getProperty(this.getOptions(),"zoomBar",W.TOP,"initialZoomDomain");_&&_[0]&&_[1]&&(_[0]=new Date(_[0]),_[1]=new Date(_[1])),_&&!(k&&k[0].valueOf()===_[0].valueOf()&&k[1].valueOf()===_[1].valueOf())?this.model.set({initialZoomDomain:v.merge([],_),zoomDomain:_?v.merge([],_):w},{skipUpdate:!0}):_===null&&k!==null&&this.model.set({initialZoomDomain:null,zoomDomain:v.merge([],w)},{skipUpdate:!0}),this.xScale.range([f,l]).domain(w),this.maxSelectionRange=this.xScale.range(),this.yScale.range([0,d-6]).domain(Rt(g,function(I){return I.value}));var x=this.model.get("zoomDomain");if(s===Et.GRAPH_VIEW&&(this.renderZoomBarArea(h,"path.zoom-graph-area-unselected",g,null),this.updateClipPath(o,this.clipId,0,0,0,0),this.renderZoomBarArea(h,"path.zoom-graph-area",g,this.clipId),this.renderZoomBarBaseline(h,f,l),c)){var O=c.highlightStartMapsTo,M=c.highlightEndMapsTo,T=c.color,A=c.labelMapsTo;c.data.forEach(function(I,L){D.appendOrSelect(h,"rect.highlight-"+L).attr("height",d-2*n.highlightStrokeWidth).attr("y",n.highlightStrokeWidth).attr("x",n.xScale(I[O])).attr("width",n.xScale(I[M])-n.xScale(I[O])).style("fill",T&&T.scale[I[A]]?T.scale[I[A]]:null).style("fill-opacity",.1).style("stroke",T&&T.scale[I[A]]?T.scale[I[A]]:null).style("stroke-dasharray","2, 2").attr("stroke-width",1+"px")})}this.addBrushEventListener(x,f,l);var S=D.appendOrSelect(o,this.brushSelector).call(this.brush);if(x!==void 0)if(x[0].valueOf()===x[1].valueOf())S.call(this.brush.move,this.xScale.range()),this.updateBrushHandle(this.getComponentContainer(),this.xScale.range(),this.xScale.domain());else{var P=x.map(function(I){return n.xScale(I)});P[1]-P[0]<this.MIN_SELECTION_DIFF||(S.call(this.brush.move,P),this.updateBrushHandle(this.getComponentContainer(),P,x))}i&&(this.brush.filter(function(){return!1}),S.selectAll("rect").attr("cursor","auto"))}}},r.prototype.addBrushEventListener=function(t,n,o){var a=this,i=function(d){var l=d.selection;l===null?a.handleBrushedEvent(d,t,a.xScale,a.xScale.range()):l[0]===l[1]||a.handleBrushedEvent(d,t,a.xScale,l)},s=v.getProperty(this.getOptions(),"zoomBar",W.TOP,"type"),c=at.height[s];this.brush.extent([[n,0],[o,c]]).on("start brush end",null).on("start brush end",i)},r.prototype.handleBrushedEvent=function(t,n,o,a){var i=[o.invert(a[0]),o.invert(a[1])];if(this.updateBrushHandle(this.getComponentContainer(),a,i),t.sourceEvent!=null&&(t.sourceEvent.type==="mousemove"||t.sourceEvent.type==="mouseup"||t.sourceEvent.type==="mousedown"||t.sourceEvent.type==="touchstart"||t.sourceEvent.type==="touchmove"||t.sourceEvent.type==="touchend")){(n===void 0||n[0]!==i[0]||n[1]!==i[1])&&this.services.zoom.handleDomainChange(i,{dispatchEvent:!1});var s=void 0;t.type==="start"?s=E.ZoomBar.SELECTION_START:t.type==="brush"?s=E.ZoomBar.SELECTION_IN_PROGRESS:t.type==="end"&&(s=E.ZoomBar.SELECTION_END,this.services.events.dispatchEvent(E.ZoomDomain.CHANGE,{newDomain:i})),this.services.events.dispatchEvent(s,{selection:a,newDomain:i})}},r.prototype.updateBrushHandle=function(t,n,o){var a=this,i=at.handleWidth,s=v.getProperty(this.getOptions(),"zoomBar",W.TOP,"type"),c=at.height[s],d=-i/2,l=at.handleBarWidth,f=s===Et.GRAPH_VIEW?at.handleBarHeight:6,u=-l/2,h=(c-f)/2;t.select(this.brushSelector).selectAll("rect.handle").data([{type:"w"},{type:"e"}]).attr("x",function(m){if(m.type==="w")return Math.max(n[0]+d,a.maxSelectionRange[0]);if(m.type==="e")return Math.min(n[1]+d,a.maxSelectionRange[1]-i)}).attr("y",0).attr("width",i).attr("height",c).attr("cursor","ew-resize").style("display",null);var p=t.select(this.brushSelector).selectAll("rect.handle-bar").data([{type:"w"},{type:"e"}]);p.enter().append("rect").attr("class",function(m){return"handle-bar handle-bar--"+m.type}),p.attr("x",function(m){if(m.type==="w")return Math.max(n[0]+u,a.maxSelectionRange[0]-d+u);if(m.type==="e")return Math.min(n[1]+u,a.maxSelectionRange[1]+d+u)}).attr("y",h).attr("width",l).attr("height",f).attr("cursor","ew-resize"),s===Et.SLIDER_VIEW&&this.updateSliderSelectedArea(n),this.updateClipPath(t,this.clipId,n[0],0,n[1]-n[0],c)},r.prototype.updateSliderSelectedArea=function(t){var n=v.getProperty(this.getOptions(),"zoomBar",W.TOP,"type"),o=at.height[n];D.getSVGElementSize(this.parent,{useAttrs:!0}).width;var a=this.model.get("axesMargins");a&&a.left&&a.left;var i=this.getComponentContainer(),s=i.select("svg.zoom-container");D.appendOrSelect(s,"rect.zoom-slider-selected-area").attr("x",t[0]).attr("y",o/2-1).attr("width",t[1]-t[0]).attr("height",2)},r.prototype.renderZoomBarArea=function(t,n,o,a){var i=this.services.cartesianScales,s=i.getMainXAxisPosition(),c=i.getMainYAxisPosition(),d=i.getMainXScaleType(),l=i.getMainYScaleType(),f=function(g,w,k){return function(_,x){return i.getValueFromScale(g,w,k,_,x)}},u=f(this.xScale,d,s),h=f(this.yScale,l,c),p=v.getProperty(this.getOptions(),"zoomBar",W.TOP,"type"),m=at.height[p],b=Ld().x(function(g,w){return u(g,w)}).y0(m).y1(function(g,w){return m-h(g,w)}),y=D.appendOrSelect(t,n).datum(o).attr("d",b);a&&y.attr("clip-path","url(#"+a+")")},r.prototype.updateClipPath=function(t,n,o,a,i,s){var c=D.appendOrSelect(t,"clipPath").attr("id",n);D.appendOrSelect(c,"rect").attr("x",o).attr("y",a).attr("width",i).attr("height",s)},r.prototype.compensateDataForDefaultDomain=function(t,n){if(!(!t||t.length<2)){var o=v.clone(t),a=this.services.cartesianScales.getDomainIdentifier(),i=this.services.cartesianScales.getRangeIdentifier();if(Number(n[0])<Number(o[0][a])){var s={};s[a]=n[0],s[i]=0,o.unshift(s)}if(Number(n[1])>Number(o[o.length-1][a])){var s={};s[a]=n[1],s[i]=0,o.push(s)}return o}},r.prototype.renderZoomBarBaseline=function(t,n,o,a){a===void 0&&(a=!1);var i=v.getProperty(this.model.getOptions(),"zoomBar",W.TOP,"type"),s=at.height[i],c=_i()([[n,s],[o,s]]);D.appendOrSelect(t,"path.zoom-bg-baseline").attr("d",c).classed("zoom-bg-baseline-skeleton",a).style("stroke",a?"url(#"+this.services.domUtils.generateElementIDString("shimmer-lines")+")":null)},r.prototype.renderSkeleton=function(t,n,o){this.renderZoomBarArea(t,"path.zoom-graph-area-unselected",[],null),this.renderZoomBarArea(t,"path.zoom-graph-area",[],this.clipId),this.brush.on("start brush end",null),D.appendOrSelect(this.getComponentContainer(),this.brushSelector).html(null);var a=v.getProperty(this.getOptions(),"zoomBar",W.TOP,"type");a===Et.GRAPH_VIEW&&this.renderZoomBarBaseline(t,n,o,!0)},r.prototype.destroy=function(){this.brush.on("start brush end",null),this.services.events.removeEventListener(E.ZoomBar.UPDATE,this.render.bind(this))},r}(ve),Lu=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;for(var n=Array(e),o=0,r=0;r<t;r++)for(var a=arguments[r],i=0,s=a.length;i<s;i++,o++)n[o]=a[i];return n},jt=function(){function e(r,t){this.services={domUtils:D,files:o6,events:r6,gradientUtils:Ec,transitions:i6,canvasZoom:GS},this.model=new ir(this.services)}return e.prototype.init=function(r,t){var n=this;this.model.set({holder:r},{skipUpdate:!0}),Object.keys(this.services).forEach(function(o){var a=n.services[o];n.services[o]=new a(n.model,n.services)}),this.services.events.addEventListener(E.Model.UPDATE,function(o){var a=!!v.getProperty(o,"detail","animate");n.update(a)}),this.model.setData(t.data),this.services.events.addEventListener(E.Chart.RESIZE,function(){n.update(!1)}),this.components=this.getComponents(),this.update()},e.prototype.getComponents=function(){return console.error("getComponents() method is not implemented"),null},e.prototype.update=function(r){var t=this;if(r===void 0&&(r=!0),!!this.components){Object.keys(this.services).forEach(function(a){var i=t.services[a];i.update()}),this.components.forEach(function(a){return a.render(r)});var n=this.services.transitions.getPendingTransitions(),o=Object.keys(n).map(function(a){var i=n[a];return i.end().catch(function(s){return s})});Promise.all(o).then(function(){return t.services.events.dispatchEvent(E.Chart.RENDER_FINISHED)})}},e.prototype.destroy=function(){this.components.forEach(function(r){return r.destroy()}),this.services.domUtils.getHolder().remove(),this.model.set({destroyed:!0},{skipUpdate:!0})},e.prototype.getChartComponents=function(r,t){var n=this.model.getOptions(),o=v.getProperty(n,"toolbar","enabled"),a={id:"legend",components:[new qd(this.model,this.services)],growth:me.PREFERRED},i=v.getProperty(n,"canvasZoom","enabled");i&&i===!0&&r.push(new EM(this.model,this.services));var s=!!this.model.getOptions().title,c={id:"title",components:[new Oi(this.model,this.services)],growth:me.STRETCH},d={id:"toolbar",components:[new el(this.model,this.services)],growth:me.PREFERRED},l={id:"header",components:[new Vt(this.model,this.services,Lu([c],o?[d]:[]),{direction:Ie.ROW,alignItems:kn.CENTER})],growth:me.PREFERRED},f={id:"graph-frame",components:r,growth:me.STRETCH,renderType:v.getProperty(t,"graphFrameRenderType")||oe.SVG},u=v.getProperty(t,"excludeLegend")!==!0&&n.legend.enabled!==!1,h=Ie.COLUMN;if(u){var p=v.getProperty(n,"legend","position");p==="left"?(h=Ie.ROW,n.legend.orientation||(n.legend.orientation=xn.VERTICAL)):p==="right"?(h=Ie.ROW_REVERSE,n.legend.orientation||(n.legend.orientation=xn.VERTICAL)):p==="bottom"&&(h=Ie.COLUMN_REVERSE)}var m={id:"spacer",components:[new Vr(this.model,this.services)],growth:me.PREFERRED},b={id:"full-frame",components:[new Vt(this.model,this.services,Lu(u?[a]:[],u?[m]:[],[f]),{direction:h})],growth:me.STRETCH},y=[];if(s||o){y.push(l);var g={id:"spacer",components:[new Vr(this.model,this.services,o?{size:15}:void 0)],growth:me.PREFERRED};y.push(g)}return y.push(b),[new Vg(this.model,this.services),new Yd(this.model,this.services),new Vt(this.model,this.services,y,{direction:Ie.COLUMN})]},e}(),xU=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ps=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;for(var n=Array(e),o=0,r=0;r<t;r++)for(var a=arguments[r],i=0,s=a.length;i<s;i++,o++)n[o]=a[i];return n},Xr=function(e){xU(r,e);function r(t){var n=e.call(this,t)||this;return n.axisFlavor=uo.DEFAULT,n}return r.prototype.assignRangeAndDomains=function(){var t=this.services.cartesianScales,n=this.getOptions(),o=t.isDualAxes(),a={primaryDomain:t.domainAxisPosition,primaryRange:t.rangeAxisPosition,secondaryDomain:null,secondaryRange:null};return o&&(a.secondaryDomain=t.secondaryDomainAxisPosition,a.secondaryRange=t.secondaryRangeAxisPosition),Object.keys(a).forEach(function(i){var s=a[i];t.scales[s]?a[i]={position:s,label:t.getScaleLabel(s),identifier:v.getProperty(n,"axes",s,"mapsTo")}:a[i]=null}),a},r.prototype.getTabularDataArray=function(){var t=this.getDisplayData(),n=this.getOptions(),o=n.data.groupMapsTo,a=this.services.cartesianScales,i=this.assignRangeAndDomains(),s=i.primaryDomain,c=i.primaryRange,d=i.secondaryDomain,l=i.secondaryRange,f=a.getDomainAxisScaleType(),u;f===ne.TIME&&(u=function(p){return xo(p,"MMM d, yyyy")});var h=ps([ps(["Group",s.label,c.label],d?[d.label]:[],l?[l.label]:[])],t.map(function(p){return ps([p[o],p[s.identifier]===null?"&ndash;":u?u(p[s.identifier]):p[s.identifier],p[c.identifier]===null||isNaN(p[c.identifier])?"&ndash;":p[c.identifier].toLocaleString()],d?[p[d.identifier]===null?"&ndash;":p[d.identifier]]:[],l?[p[l.identifier]===null||isNaN(p[l.identifier])?"&ndash;":p[l.identifier]]:[])}));return h},r.prototype.setData=function(t){var n;if(t&&(n=e.prototype.setData.call(this,t),v.getProperty(this.getOptions(),"zoomBar",W.TOP,"enabled"))){var o=v.getProperty(this.getOptions(),"zoomBar",W.TOP,"data");this.setZoomBarData(o)}return n},r.prototype.setZoomBarData=function(t){var n=t?this.sanitize(v.clone(t)):this.getDisplayData(),o=n,a=this.services.cartesianScales;if(n&&a.domainAxisPosition&&a.rangeAxisPosition){var i=a.getDomainIdentifier(),s=a.getRangeIdentifier(),c=n.map(function(d){return d[i].getTime()});c=v.removeArrayDuplicates(c).sort(),o=c.map(function(d){var l=0,f={};return n.forEach(function(u){u[i].getTime()===d&&(l+=u[s])}),f[i]=new Date(d),f[s]=l,f})}this.set({zoomBarData:o})},r.prototype.getZoomBarData=function(){return this.get("zoomBarData")},r.prototype.sanitizeDateValues=function(t){var n=this.getOptions();if(!n.axes)return t;var o=[];return Object.keys(W).forEach(function(a){var i=W[a],s=n.axes[i];if(s&&s.scaleType===ne.TIME){var c=s.mapsTo;(c!==null||c!==void 0)&&o.push(c)}}),o.length>0&&t.forEach(function(a){o.forEach(function(i){v.getProperty(a,i,"getTime")===null&&(a[i]=new Date(a[i]))})}),t},r.prototype.sanitize=function(t){return t=e.prototype.sanitize.call(this,t),t=this.sanitizeDateValues(t),t},r}(ir),kU=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Du=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;for(var n=Array(e),o=0,r=0;r<t;r++)for(var a=arguments[r],i=0,s=a.length;i<s;i++,o++)n[o]=a[i];return n},lt=function(e){kU(r,e);function r(t,n){var o=e.call(this,t,n)||this;return o.services=Object.assign(o.services,{cartesianScales:LS,curves:NS,zoom:$S}),o.model=new Xr(o.services),o}return r.prototype.getAxisChartComponents=function(t,n){var o=this.model.getOptions(),a=v.getProperty(o,"zoomBar",W.TOP,"enabled"),i=v.getProperty(o,"toolbar","enabled");this.services.cartesianScales.determineAxisDuality(),this.services.cartesianScales.findDomainAndRangeAxes(),this.services.cartesianScales.determineOrientation();var s=this.services.cartesianScales.getMainXAxisPosition(),c=v.getProperty(o,"axes",s,"scaleType"),d=a&&s===W.BOTTOM&&c===ne.TIME,l=this.services.zoom.isZoomBarLocked(W.TOP),f=!!this.model.getOptions().title,u={id:"title",components:[new Oi(this.model,this.services)],growth:me.STRETCH},h={id:"toolbar",components:[new el(this.model,this.services)],growth:me.PREFERRED},p={id:"header",components:[new Vt(this.model,this.services,Du([u],i?[h]:[]),{direction:Ie.ROW,alignItems:kn.CENTER})],growth:me.PREFERRED},m={id:"legend",components:[new qd(this.model,this.services)],growth:me.PREFERRED};d&&!l&&t.push(new Hg(this.model,this.services),new lU(this.model,this.services)),t.push(new vM(this.model,this.services)),t.push(new OM(this.model,this.services));var b={id:"graph-frame",components:t,growth:me.STRETCH,renderType:oe.SVG},y=v.getProperty(n,"legend","enabled")!==!1&&this.model.getOptions().legend.enabled!==!1,g=Ie.COLUMN;if(y){var w=v.getProperty(this.model.getOptions(),"legend","position");w===gn.LEFT?(g=Ie.ROW,this.model.getOptions().legend.orientation||(this.model.getOptions().legend.orientation=xn.VERTICAL)):w===gn.RIGHT?(g=Ie.ROW_REVERSE,this.model.getOptions().legend.orientation||(this.model.getOptions().legend.orientation=xn.VERTICAL)):w===gn.BOTTOM&&(g=Ie.COLUMN_REVERSE)}var k={id:"spacer",components:[new Vr(this.model,this.services)],growth:me.PREFERRED},_={id:"full-frame",components:[new Vt(this.model,this.services,Du(y?[m]:[],y?[k]:[],[b]),{direction:g})],growth:me.STRETCH},x={id:"zoom-bar",components:[new _U(this.model,this.services)],growth:me.PREFERRED,renderType:oe.SVG},O=[];if(f||i){O.push(p);var M={id:"spacer",components:[new Vr(this.model,this.services,i?{size:15}:void 0)],growth:me.PREFERRED};O.push(M)}return d&&O.push(x),O.push(_),[new $g(this.model,this.services),new Yd(this.model,this.services),new Vt(this.model,this.services,O,{direction:Ie.COLUMN})]},r}(jt),SU=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(e){SU(r,e);function r(t,n){var o=e.call(this,t,n)||this;return o.model.setOptions(v.mergeDefaultChartOptions(v.clone(Me.areaChart),n.options)),o.init(t,n),o}return r.prototype.getComponents=function(){var t=[new dt(this.model,this.services),new bt(this.model,this.services),new wr(this.model,this.services),new wn(this.model,this.services),new Gg(this.model,this.services),new Nt(this.model,this.services,{fadeInOnChartHolderMouseover:!0,handleThresholds:!0}),new nt(this.model,this.services,{skeleton:Ve.GRID})],n=this.getAxisChartComponents(t);return n},r})(lt);var MU=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ru=function(e){MU(r,e);function r(t,n){var o=e.call(this,t,n)||this;return o.model.setOptions(v.mergeDefaultChartOptions(Me.stackedAreaChart,n.options)),o.init(t,n),o}return r.prototype.getComponents=function(){var t=[new dt(this.model,this.services),new bt(this.model,this.services),new ni(this.model,this.services),new jg(this.model,this.services),new wn(this.model,this.services,{stacked:!0}),new Xg(this.model,this.services,{fadeInOnChartHolderMouseover:!0,handleThresholds:!0,stacked:!0}),new nt(this.model,this.services,{skeleton:Ve.GRID})],n=this.getAxisChartComponents(t);return n},r}(lt),EU=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(e){EU(r,e);function r(t,n){var o=e.call(this,t,n)||this;return o.model.setOptions(v.mergeDefaultChartOptions(Me.simpleBarChart,n.options)),o.init(t,n),o}return r.prototype.getComponents=function(){var t=[new dt(this.model,this.services),new bt(this.model,this.services),new qg(this.model,this.services),new Rn(this.model,this.services),new nt(this.model,this.services,{skeleton:Ve.VERT_OR_HORIZ})],n=this.getAxisChartComponents(t);return n},r})(lt);var TU=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(e){TU(r,e);function r(t,n){var o=e.call(this,t,n)||this;return o.model.setOptions(v.mergeDefaultChartOptions(Me.groupedBarChart,n.options)),o.init(t,n),o}return r.prototype.getComponents=function(){var t=[new dt(this.model,this.services),new bt(this.model,this.services),new Wg(this.model,this.services),new Rn(this.model,this.services),new nt(this.model,this.services,{skeleton:Ve.VERT_OR_HORIZ})],n=this.getAxisChartComponents(t);return n},r})(lt);var OU=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(e){OU(r,e);function r(t,n){var o=e.call(this,t,n)||this;return o.model.setOptions(v.mergeDefaultChartOptions(Me.stackedBarChart,n.options)),o.init(t,n),o}return r.prototype.getComponents=function(){var t=[new dt(this.model,this.services),new bt(this.model,this.services),new ni(this.model,this.services),new Yg(this.model,this.services),new nt(this.model,this.services,{skeleton:Ve.VERT_OR_HORIZ}),new Rn(this.model,this.services)],n=this.getAxisChartComponents(t);return n},r})(lt);var AU=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),PU=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;for(var n=Array(e),o=0,r=0;r<t;r++)for(var a=arguments[r],i=0,s=a.length;i<s;i++,o++)n[o]=a[i];return n},UU=function(e){AU(r,e);function r(t){return e.call(this,t)||this}return r.prototype.getBoxQuartiles=function(t){return{q_25:Vi(t,.25),q_50:Vi(t,.5),q_75:Vi(t,.75)}},r.prototype.getBoxplotData=function(){for(var t=this.getOptions(),n=t.data.groupMapsTo,o=this.getGroupedData(),a=[],i=function(h,p){for(var m,b=s.services.cartesianScales.getRangeIdentifier(),y=p.map(function(B){return B[b]}).sort(Br),g=(m={},m[n]=h,m.counts=y,m.quartiles=s.getBoxQuartiles(y),m.outliers=null,m.whiskers=null,m),w=g.quartiles.q_25,k=g.quartiles.q_75,_=(k-w)*1.5,x=w-_,O=k+_,M=[],T=[],A=0,S=y;A<S.length;A++){var P=S[A];P<x||P>O?M.push(P):T.push(P)}g.outliers=M;var I=vr(T),L=Rr(T);g.whiskers={min:I||vr([g.quartiles.q_25,g.quartiles.q_50,g.quartiles.q_75]),max:L||Rr([g.quartiles.q_25,g.quartiles.q_50,g.quartiles.q_75])},a.push(g)},s=this,c=0,d=o;c<d.length;c++){var l=d[c],f=l.name,u=l.data;i(f,u)}return a},r.prototype.getTabularDataArray=function(){var t=this.getOptions(),n=t.data.groupMapsTo,o=this.getBoxplotData(),a=PU([["Group","Minimum","Q1","Median","Q3","Maximum","IQR","Outlier(s)"]],o.map(function(i){var s=v.getProperty(i,"outliers");return(s===null||s.length===0)&&(s=["&ndash;"]),[i[n],v.getProperty(i,"whiskers","min")!==null?v.getProperty(i,"whiskers","min").toLocaleString():"&ndash;",v.getProperty(i,"quartiles","q_25")!==null?v.getProperty(i,"quartiles","q_25").toLocaleString():"&ndash;",v.getProperty(i,"quartiles","q_50")!==null?v.getProperty(i,"quartiles","q_50").toLocaleString():"&ndash;",v.getProperty(i,"quartiles","q_75")!==null?v.getProperty(i,"quartiles","q_75").toLocaleString():"&ndash;",v.getProperty(i,"whiskers","max")!==null?v.getProperty(i,"whiskers","max").toLocaleString():"&ndash;",v.getProperty(i,"quartiles","q_75")!==null&&v.getProperty(i,"quartiles","q_25")!==null?(v.getProperty(i,"quartiles","q_75")-v.getProperty(i,"quartiles","q_25")).toLocaleString():"&ndash;",s.map(function(c){return c.toLocaleString()}).join(",")]}));return a},r.prototype.setColorClassNames=function(){var t=1,n=v.getProperty(this.getOptions(),"color","pairing"),o=v.getProperty(n,"option"),a=nd.pairingOptions;o=o<=a[t+"-color"]?o:1;var i=this.allDataGroups.map(function(s,c){return t+"-"+o+"-1"});this.colorClassNames=mi().range(i).domain(this.allDataGroups)},r}(Xr),CU=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(e){CU(r,e);function r(t,n){var o=e.call(this,t,n)||this;return o.model=new UU(o.services),o.model.setOptions(v.mergeDefaultChartOptions(Me.boxplotChart,n.options)),o.init(t,n),o}return r.prototype.getComponents=function(){var t=[new dt(this.model,this.services),new bt(this.model,this.services),new LM(this.model,this.services),new Rn(this.model,this.services),new nt(this.model,this.services,{skeleton:Ve.VERT_OR_HORIZ})],n=this.getAxisChartComponents(t,{legend:{enabled:!1}});return n},r})(lt);var BU=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(e){BU(r,e);function r(t,n){var o=e.call(this,t,n)||this;return o.model.setOptions(v.mergeDefaultChartOptions(Me.bubbleChart,n.options)),o.init(t,n),o}return r.prototype.getComponents=function(){var t=[new dt(this.model,this.services),new bt(this.model,this.services),new wr(this.model,this.services),new FM(this.model,this.services),new nt(this.model,this.services,{skeleton:Ve.GRID})],n=this.getAxisChartComponents(t);return n},r})(lt);var IU=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),zU=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;for(var n=Array(e),o=0,r=0;r<t;r++)for(var a=arguments[r],i=0,s=a.length;i<s;i++,o++)n[o]=a[i];return n},LU=function(e){IU(r,e);function r(t){return e.call(this,t)||this}return r.prototype.getMatchingRangeIndexForDatapoint=function(t){for(var n,o=t.ranges.length-1;o>0;o--){var a=t.ranges[o];if(t.value>=a)return n=o,n}return 0},r.prototype.getTabularDataArray=function(){var t=this,n=this.getDisplayData(),o=this.getOptions(),a=o.data.groupMapsTo,i=this.services.cartesianScales.getRangeIdentifier(),s=v.getProperty(o,"bullet","performanceAreaTitles"),c=zU([["Title","Group","Value","Target","Percentage","Performance"]],n.map(function(d){return[d.title,d[a],d.value===null?"&ndash;":d.value,v.getProperty(d,"marker")===null?"&ndash;":d.marker,v.getProperty(d,"marker")===null?"&ndash;":Math.floor(d[i]/d.marker*100)+"%",s[t.getMatchingRangeIndexForDatapoint(d)]]}));return c},r}(Xr),DU=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(e){DU(r,e);function r(t,n){var o=e.call(this,t,n)||this;return o.model=new LU(o.services),o.model.setOptions(v.mergeDefaultChartOptions(Me.bulletChart,n.options)),o.init(t,n),o}return r.prototype.getComponents=function(){var t=[new dt(this.model,this.services),new bt(this.model,this.services),new VM(this.model,this.services),new nt(this.model,this.services,{skeleton:Ve.GRID})],n=this.getAxisChartComponents(t);return n},r})(lt);var RU=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),hs=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;for(var n=Array(e),o=0,r=0;r<t;r++)for(var a=arguments[r],i=0,s=a.length;i<s;i++,o++)n[o]=a[i];return n},FU=function(e){RU(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getTabularDataArray=function(){var t=this.getOptions(),n=t.data.groupMapsTo,o=this.getBinnedStackedData(),a=hs([hs([Te(t,"bins.rangeLabel")||"Range"],o.map(function(i){return Te(i,"0."+n)}))],Te(o,0).map(function(i,s){return hs([Te(i,"data.x0")+" \u2013 "+Te(i,"data.x1")],o.map(function(c){return Te(c[s],"data."+Te(c[s],n))}))}));return a},r}(Xr),NU=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(e){NU(r,e);function r(t,n){var o=e.call(this,t,n)||this;return o.model=new FU(o.services),o.model.setOptions(v.mergeDefaultChartOptions(Me.histogramChart,n.options)),o.init(t,n),o.update(),o}return r.prototype.getComponents=function(){var t=[new dt(this.model,this.services),new bt(this.model,this.services),new mU(this.model,this.services),new HM(this.model,this.services)],n=this.getAxisChartComponents(t);return n},r})(lt);var VU=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(e){VU(r,e);function r(t,n){var o=e.call(this,t,n)||this;return o.model.setOptions(v.mergeDefaultChartOptions(Me.lineChart,n.options)),o.init(t,n),o}return r.prototype.getComponents=function(){var t=[new dt(this.model,this.services),new bt(this.model,this.services),new wr(this.model,this.services),new wn(this.model,this.services),new Nt(this.model,this.services,{handleThresholds:!0}),new rE(this.model,this.services),new Rn(this.model,this.services)],n=this.getAxisChartComponents(t);return n},r})(lt);var $U=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(e){$U(r,e);function r(t,n){var o=e.call(this,t,n)||this;return o.model.setOptions(v.mergeDefaultChartOptions(Me.lollipopChart,n.options)),o.init(t,n),o}return r.prototype.getComponents=function(){var t=[new dt(this.model,this.services),new bt(this.model,this.services),new wr(this.model,this.services),new qM(this.model,this.services),new Nt(this.model,this.services),new nt(this.model,this.services,{skeleton:Ve.GRID})],n=this.getAxisChartComponents(t);return n},r})(lt);var HU=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(e){HU(r,e);function r(t,n){var o=e.call(this,t,n)||this;return o.model.setOptions(v.mergeDefaultChartOptions(Me.scatterChart,n.options)),o.init(t,n),o}return r.prototype.getComponents=function(){var t=[new dt(this.model,this.services),new bt(this.model,this.services),new wr(this.model,this.services),new Nt(this.model,this.services),new nt(this.model,this.services,{skeleton:Ve.GRID})],n=this.getAxisChartComponents(t);return n},r})(lt);var GU=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),jU=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;for(var n=Array(e),o=0,r=0;r<t;r++)for(var a=arguments[r],i=0,s=a.length;i<s;i++,o++)n[o]=a[i];return n},qU=function(e){GU(r,e);function r(t){return e.call(this,t)||this}return r.prototype.getTabularData=function(t){var n=e.prototype.getTabularData.call(this,t);return t!==n&&n.forEach(function(o){o.key&&o.key!==o.group&&(o.group=o.key)}),n},r.prototype.getTabularDataArray=function(){var t=this.getDisplayData(),n=this.getOptions(),o=n.data.groupMapsTo,a=jU([["Group","Value"]],t.map(function(i){return[i[o],i.value===null?"&ndash;":i.value.toLocaleString()]}));return a},r.prototype.sanitize=function(t){var n=this.getTabularData(t);return n.sort(function(o,a){return a.value-o.value})},r}(ir),WU=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),YU=function(e){WU(r,e);function r(t,n,o){o===void 0&&(o=!1);var a=e.call(this,t,n)||this;return a.model=new qU(a.services),o||(a.model.setOptions(v.mergeDefaultChartOptions(Me.pieChart,n.options)),a.init(t,n)),a}return r.prototype.getComponents=function(){var t=[new Zg(this.model,this.services),new nt(this.model,this.services,{skeleton:Ve.PIE})],n=this.getChartComponents(t);return n},r}(jt),XU=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(e){XU(r,e);function r(t,n){var o=e.call(this,t,n,!0)||this;return o.model.setOptions(v.mergeDefaultChartOptions(Me.donutChart,n.options)),o.init(t,n),o}return r.prototype.getComponents=function(){var t=[new JM(this.model,this.services),new nt(this.model,this.services,{skeleton:Ve.DONUT})],n=this.getChartComponents(t);return n},r})(YU);var ZU=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),gs=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;for(var n=Array(e),o=0,r=0;r<t;r++)for(var a=arguments[r],i=0,s=a.length;i<s;i++,o++)n[o]=a[i];return n},KU=function(e){ZU(r,e);function r(t){return e.call(this,t)||this}return r.prototype.getMaximumDomain=function(t){var n=t.reduce(function(o,a){return o+a.value},0);return n},r.prototype.getFillColor=function(t){var n=this.getOptions(),o=v.getProperty(n,"color","scale"),a=this.getStatus();return o||!a?e.prototype.getFillColor.call(this,t):null},r.prototype.getStatus=function(){var t=this.getOptions(),n=v.getProperty(this.getDisplayData()),o=(n?n.reduce(function(c,d){return{value:c.value+d.value}}):0).value,a=v.getProperty(t,"meter","proportional")?o:o>100?100:o,i=v.getProperty(t,"meter","status","ranges");if(i){var s=i.filter(function(c){return c.range[0]<=a&&a<=c.range[1]});if(s.length>0)return s[0].status}return null},r.prototype.getTabularDataArray=function(){var t=this.getDisplayData(),n=this.getOptions(),o=n.data.groupMapsTo,a=this.getStatus(),i=v.getProperty(n,"meter","proportional"),s=[],c;if(i===null){c=100;var d=t[0];s=[gs(["Group","Value"],a?["Status"]:[]),gs([d[o],d.value],a?[a]:[])]}else{var l=v.getProperty(i,"total");c=l||this.getMaximumDomain(t),s=gs([["Group","Value","Percentage of total"]],t.map(function(f){return[f[o],f.value,(f.value/c*100).toFixed(2)+" %"]}))}return s},r}(ir),QU=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),pn=globalThis&&globalThis.__assign||function(){return pn=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},pn.apply(this,arguments)},JU=function(e){QU(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="meter",t.renderType=oe.SVG,t}return r.prototype.getStackedBounds=function(t,n){var o=0,a=t.map(function(i,s){return s!==0?(o+=n(i.value),pn(pn({},i),{width:Math.abs(n(i.value)-Ge.dividerWidth),x:o-n(i.value)})):(o=n(i.value),pn(pn({},i),{width:Math.abs(n(i.value)-Ge.dividerWidth),x:0}))});return a},r.prototype.render=function(t){var n=this;t===void 0&&(t=!0);var o=this,a=this.getComponentContainer(),i=this.getOptions(),s=v.getProperty(i,"meter","proportional"),c=this.model.getDisplayData(),d=this.model.getStatus(),l=D.getSVGElementSize(a,{useAttrs:!0}).width,f=i.data.groupMapsTo,u;if(v.getProperty(i,"meter","proportional")===null)u=100;else{var h=v.getProperty(i,"meter","proportional","total");u=h||this.model.getMaximumDomain(this.model.getDisplayData())}var p=Ht().domain([0,u]).range([0,l]),m=this.getStackedBounds(c,p),b=v.getProperty(i,"meter","height");D.appendOrSelect(a,"rect.container").attr("x",0).attr("y",0).attr("width",l).attr("height",b||(s?Ge.height.proportional:Ge.height.default)),D.appendOrSelect(a,"line.rangeIndicator").attr("x1",l).attr("x2",l).attr("y1",0).attr("y2",b||(s?Ge.height.proportional:Ge.height.default));var y=a.selectAll("rect.value").data(m),g=d!=null&&!o.model.isUserProvidedColorScaleValid()&&!s?"value status--"+d:"value";y.enter().append("rect").classed("value",!0).merge(y).attr("x",function(x){return x.x}).attr("y",0).attr("height",function(){var x=v.getProperty(i,"meter","height");return x||(s?Ge.height.proportional:Ge.height.default)}).attr("class",function(x){return n.model.getColorClassName({classNameTypes:[ie.FILL],dataGroupName:x[f],originalClassName:g})}).transition().call(function(x){return n.services.transitions.setupTransition({transition:x,name:"meter-bar-update",animate:t})}).attr("width",function(x,O){return x.value>u?p(u):x.width}).style("fill",function(x){return o.model.getFillColor(x[f])}).attr("role",fe.GRAPHICS_SYMBOL).attr("aria-roledescription","value").attr("aria-label",function(x){return x.value}),y.exit().remove();var w=v.getProperty(i,"meter","peak"),k=w;w!==null&&(w>u?k=u:w<c[0].value&&(k=c[0].value>u?u:c[0].value));var _=a.selectAll("line.peak").data(k==null?[]:[k]);_.enter().append("line").classed("peak",!0).merge(_).attr("y1",0).attr("y2",function(){var x=v.getProperty(i,"meter","height");return x||(s?Ge.height.proportional:Ge.height.default)}).transition().call(function(x){return n.services.transitions.setupTransition({transition:x,name:"peak-line-update",animate:t})}).attr("x1",function(x){return p(x)}).attr("x2",function(x){return p(x)}).attr("role",fe.GRAPHICS_SYMBOL).attr("aria-roledescription","peak").attr("aria-label",function(x){return x}),_.exit().remove(),this.services.domUtils.setSVGMaxHeight(),this.addEventListeners()},r.prototype.addEventListeners=function(){var t=this.getOptions(),n=t.data.groupMapsTo,o=this,a=v.getProperty(t,"meter","proportional");this.parent.selectAll("rect.value").on("mouseover",function(i,s){var c=R(this);o.services.events.dispatchEvent(E.Meter.METER_MOUSEOVER,{event:i,element:c,datum:s}),a&&(c.classed("hovered",!0),o.services.events.dispatchEvent(E.Tooltip.SHOW,{event:i,hoveredElement:c,items:[{label:s[n],value:s.value}]}))}).on("mousemove",function(i,s){var c=R(this);o.services.events.dispatchEvent(E.Meter.METER_MOUSEMOVE,{event:i,element:c,datum:s}),a&&o.services.events.dispatchEvent(E.Tooltip.MOVE,{event:i})}).on("click",function(i,s){o.services.events.dispatchEvent(E.Meter.METER_CLICK,{event:i,element:R(this),datum:s})}).on("mouseout",function(i,s){var c=R(this);o.services.events.dispatchEvent(E.Meter.METER_MOUSEOUT,{event:i,element:c,datum:s}),a&&(c.classed("hovered",!1),o.services.events.dispatchEvent(E.Tooltip.HIDE,{hoveredElement:c}))})},r.prototype.destroy=function(){this.parent.selectAll("rect.value").on("mouseover",null).on("mousemove",null).on("mouseout",null).on("click",null)},r}(ve),eC=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),tC=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;for(var n=Array(e),o=0,r=0;r<t;r++)for(var a=arguments[r],i=0,s=a.length;i<s;i++,o++)n[o]=a[i];return n};(function(e){eC(r,e);function r(t,n){var o=e.call(this,t,n)||this;o.model=new KU(o.services);var a=n.options.meter.proportional?v.merge(v.clone(Me.proportionalMeterChart),n.options):v.merge(v.clone(Me.meterChart),n.options);return o.model.setOptions(a),o.init(t,n),o}return r.prototype.getComponents=function(){var t=v.getProperty(this.model.getOptions(),"meter","showLabels"),n=tC(t?[{id:"meter-title",components:[new wM(this.model,this.services)],growth:me.STRETCH,renderType:oe.SVG},{id:"spacer",components:[new Vr(this.model,this.services,{size:8})],growth:me.STRETCH}]:[],[{id:"meter-graph",components:[new JU(this.model,this.services)],growth:me.STRETCH,renderType:oe.SVG}]),o=[new Vt(this.model,this.services,n,{direction:Ie.COLUMN})],a=this.getChartComponents(o,{graphFrameRenderType:oe.HTML});return a},r})(jt);var rC=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ms=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;for(var n=Array(e),o=0,r=0;r<t;r++)for(var a=arguments[r],i=0,s=a.length;i<s;i++,o++)n[o]=a[i];return n},nC=function(e){rC(r,e);function r(t){return e.call(this,t)||this}return r.prototype.getTabularDataArray=function(){var t=this.getOptions(),n=this.getGroupedData(),o=v.getProperty(t,"radar","axes"),a=o.angle,i=o.value,s=v.getProperty(n,"0","data").map(function(d){return d[a]}),c=ms([ms(["Group"],s)],n.map(function(d){return ms([d.name],s.map(function(l,f){return v.getProperty(d,"data",f,i)!==null?v.getProperty(d,"data",f,i).toLocaleString():"&ndash;"}))}));return c},r}(Xr),oC=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(e){oC(r,e);function r(t,n){var o=e.call(this,t,n)||this;return o.model=new nC(o.services),o.model.setOptions(v.mergeDefaultChartOptions(Me.radarChart,n.options)),o.init(t,n),o}return r.prototype.getComponents=function(){var t=[new R9(this.model,this.services)],n=this.getChartComponents(t);return n},r})(jt);var aC=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),iC=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;for(var n=Array(e),o=0,r=0;r<t;r++)for(var a=arguments[r],i=0,s=a.length;i<s;i++,o++)n[o]=a[i];return n},sC=function(e){aC(r,e);function r(t){return e.call(this,t)||this}return r.prototype.getDataGroups=function(){return e.prototype.getDataGroups.call(this).filter(function(t){return t.name!=="delta"})},r.prototype.getTabularDataArray=function(){var t=this.getDisplayData(),n=this.getOptions(),o=n.data.groupMapsTo,a=iC([["Group","Value"]],t.map(function(i){return[i[o],i.value===null?"&ndash;":i.value.toLocaleString()]}));return a},r}(ir),cC=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(e){cC(r,e);function r(t,n){var o=e.call(this,t,n)||this;return o.model=new sC(o.services),o.model.setOptions(v.mergeDefaultChartOptions(Me.gaugeChart,n.options)),o.init(t,n),o}return r.prototype.getComponents=function(){var t=[new KM(this.model,this.services)],n=this.getChartComponents(t);return n},r})(jt);var dC=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),lC=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;for(var n=Array(e),o=0,r=0;r<t;r++)for(var a=arguments[r],i=0,s=a.length;i<s;i++,o++)n[o]=a[i];return n},Kt,Fu=(Kt={},Kt[pt.LINE]=[wn,Nt],Kt[pt.SCATTER]=[Nt],Kt[pt.AREA]=[Gg,wn,Nt],Kt[pt.STACKED_AREA]=[jg,wn,Xg,ni],Kt[pt.SIMPLE_BAR]=[qg],Kt[pt.GROUPED_BAR]=[Wg,Rn],Kt[pt.STACKED_BAR]=[Yg,ni],Kt);(function(e){dC(r,e);function r(t,n){var o=e.call(this,t,n)||this,a=v.mergeDefaultChartOptions(Me.comboChart,n.options);return n.options.comboChartTypes||(console.error("No comboChartTypes defined for the Combo Chart!"),a.comboChartTypes=[{type:pt.LINE,correspondingDatasets:[]}]),o.model.setOptions(a),o.init(t,n),o}return r.prototype.getGraphComponents=function(){var t=this,n=this.model.getOptions().comboChartTypes,o=0,a=n.map(function(i){var s=i.type,c;if(typeof i.type=="string"){if(!Object.keys(Fu).includes(i.type))return console.error('Invalid chart type "'+i.type+'" specified for combo chart. Please refer to the ComboChart tutorial for more guidance.'),null;var d;return c=v.merge({},Me[v.camelCase(i.type)+"Chart"],t.model.getOptions(),i.options),i.type===pt.STACKED_AREA&&(d=!0),Fu[i.type].map(function(l,f){return new l(t.model,t.services,{groups:i.correspondingDatasets,id:o++,options:c,stacked:d})})}else return c=v.merge({},t.model.getOptions(),i.options),new s(t.model,t.services,{groups:i.correspondingDatasets,id:o++,options:c})}).filter(function(i){return i!==null});return v.flatten(a)},r.prototype.getComponents=function(){var t=this.model.getOptions().comboChartTypes,n=t.some(function(i){return i.type===pt.STACKED_BAR||i.type===pt.STACKED_AREA}),o=lC([new dt(this.model,this.services),new bt(this.model,this.services),new nt(this.model,this.services,{skeleton:Ve.GRID})],n?[]:[new wr(this.model,this.services)],this.getGraphComponents()),a=this.getAxisChartComponents(o);return a},r})(lt);var fC=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),uC=function(e){fC(r,e);function r(t){return e.call(this,t)||this}return r.prototype.getTabularDataArray=function(){var t=this,n=this.getDisplayData(),o=[["Child","Parent"]];return n.forEach(function(a){t.getChildrenDatums(a,o),o.push([a.name,"&ndash;"])}),o},r.prototype.getChildrenDatums=function(t,n){var o=this;n===void 0&&(n=[]),t.children&&t.children.length>0&&t.children.forEach(function(a){o.getChildrenDatums(a,n),n.push([a.name,t.name])})},r}(ir),pC=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(e){pC(r,e);function r(t,n){var o=e.call(this,t,n)||this;return o.model=new uC(o.services),o.model.setOptions(v.mergeDefaultChartOptions(Me.treeChart,n.options)),o.init(t,n),o}return r.prototype.getComponents=function(){var t=[new oT(this.model,this.services)],n=this.getChartComponents(t,{excludeLegend:!0});return n},r})(jt);var hC=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),gC=function(e){hC(r,e);function r(t){return e.call(this,t)||this}return r.prototype.getTabularDataArray=function(){var t=this.getDisplayData(),n=[["Child","Group","Value"]];return t.forEach(function(o){Array.isArray(o.children)?o.children.forEach(function(a){n.push([a.name,o.name,a.value])}):v.getProperty(o.name)!==null&&v.getProperty(o.value)&&n.push(["\u2013",o.name,o.value])}),n},r}(ir),mC=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(e){mC(r,e);function r(t,n){var o=e.call(this,t,n)||this;return o.model=new gC(o.services),o.model.setOptions(v.mergeDefaultChartOptions(Me.treemapChart,n.options)),o.init(t,n),o}return r.prototype.getComponents=function(){var t=[new I9(this.model,this.services)],n=this.getChartComponents(t);return n},r})(jt);var vC=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),hn=globalThis&&globalThis.__assign||function(){return hn=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},hn.apply(this,arguments)},bC=function(e){vC(r,e);function r(t){var n=e.call(this,t)||this;return n.parentNode=!1,n.set({depth:2},{skipUpdate:!0}),n}return r.prototype.setData=function(t){e.prototype.setData.call(this,t),this.setDataGroups(),t.length===1&&(this.parentNode=!0),this.setZoom()},r.prototype.setOptions=function(t){var n=this.getOptions(),o=v.merge({},t,this.getZoomOptions(t));v.updateLegendAdditionalItems(n,o);var a=this.getHierarchyLevel(),i=v.getProperty(n,"circlePack","hierarchyLevel");this.set({options:v.merge(n,o),depth:i&&i<4?i:a})},r.prototype.getZoomOptions=function(t){if(!this.getDisplayData())return{};var n=this.getDisplayData(),o=t||this.getOptions(),a=n.length===1&&v.getProperty(n,0,"children")?v.getProperty(n,0,"children"):n,i=this.getHierarchyLevel();return a.some(function(s){if(s.children&&s.children.some(function(c){return c.children}))return i=3,!1}),v.getProperty(o,"canvasZoom","enabled")===!0&&i>2?{legend:{additionalItems:[{type:Ne.ZOOM,name:"Click to zoom"}]}}:null},r.prototype.setZoom=function(t){this.setOptions(this.getZoomOptions(t))},r.prototype.updateHierarchyLevel=function(t){this.set({depth:t})},r.prototype.getHierarchyLevel=function(){return this.get("depth")},r.prototype.hasParentNode=function(){return this.parentNode},r.prototype.setDataGroups=function(){var t=this,n=this.getData(),o=this.getOptions(),a=o.data.groupMapsTo,i=n.map(function(s){var c=s[a];return t.setChildrenDataGroup(s,c)});this.set({data:i},{skipUpdate:!0})},r.prototype.setChildrenDataGroup=function(t,n){var o=this;return t.children?hn(hn({},t),{dataGroupName:n,children:t.children.map(function(a,i){return o.setChildrenDataGroup(a,n)})}):hn(hn({},t),{dataGroupName:n})},r.prototype.getTabularDataArray=function(){var t=this,n=this.getDisplayData(),o=[["Child","Parent","Value"]];return n.forEach(function(a){var i=a.value?a.value:0;a.children&&(i+=t.getChildrenDatums(a.children,a.name,o,0)),o.push(["&ndash;",a.name,i])}),o},r.prototype.getChildrenDatums=function(t,n,o,a){var i=this;o===void 0&&(o=[]),a===void 0&&(a=0);var s=n;return t.forEach(function(c){var d=c.name,l=0;if(c.children)c.children.length>0&&(typeof c.value=="number"&&(a+=c.value),l+=i.getChildrenDatums(c.children,d,o,l),o.push([d,s,l]),a+=l);else{var f=0;typeof c.value=="number"&&(f=c.value,a+=c.value),o.push([c.name,s,f])}}),a},r}(ir),yC=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(e){yC(r,e);function r(t,n){var o=e.call(this,t,n)||this;return o.model=new bC(o.services),o.model.setOptions(v.mergeDefaultChartOptions(Me.circlePackChart,n.options)),o.init(t,n),o}return r.prototype.getComponents=function(){var t=[new V9(this.model,this.services)],n=this.getChartComponents(t);return n},r})(jt);var wC=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),_C=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;for(var n=Array(e),o=0,r=0;r<t;r++)for(var a=arguments[r],i=0,s=a.length;i<s;i++,o++)n[o]=a[i];return n},xC=function(e){wC(r,e);function r(t){return e.call(this,t)||this}return r.prototype.getTabularDataArray=function(){var t=this.getDisplayData(),n=this.getOptions(),o=n.wordCloud,a=o.fontSizeMapsTo,i=o.wordMapsTo,s=n.data.groupMapsTo,c=_C([[n.tooltip.wordLabel,"Group",n.tooltip.valueLabel]],t.map(function(d){return[d[i],d[s],d[a]]}));return c},r}(ir),kC=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(e){kC(r,e);function r(t,n){var o=e.call(this,t,n)||this;return o.model=new xC(o.services),o.model.setOptions(v.mergeDefaultChartOptions(Me.wordCloudChart,n.options)),o.init(t,n),o}return r.prototype.getComponents=function(){var t=[new dA(this.model,this.services),new nt(this.model,this.services,{skeleton:Ve.PIE})],n=this.getChartComponents(t);return n},r})(jt);var SC=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),MC=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;for(var n=Array(e),o=0,r=0;r<t;r++)for(var a=arguments[r],i=0,s=a.length;i<s;i++,o++)n[o]=a[i];return n},EC=function(e){SC(r,e);function r(t){return e.call(this,t)||this}return r.prototype.getTabularDataArray=function(){var t=this.getDisplayData();t.sort(function(o,a){return o.source.localeCompare(a.source)});var n=MC([["Source","Target","Value"]],t.map(function(o){return[o.source,o.target,o.value]}));return n},r}(Xr),TC=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(e){TC(r,e);function r(t,n){var o=e.call(this,t,n)||this;return o.model=new EC(o.services),o.model.setOptions(v.mergeDefaultChartOptions(Me.alluvialChart,n.options)),o.init(t,n),o}return r.prototype.getComponents=function(){var t=[new PA(this.model,this.services)],n=this.getChartComponents(t,{excludeLegend:!0});return n},r})(jt);var OC=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),AC=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;for(var n=Array(e),o=0,r=0;r<t;r++)for(var a=arguments[r],i=0,s=a.length;i<s;i++,o++)n[o]=a[i];return n},PC=function(e){OC(r,e);function r(t){var n=e.call(this,t)||this;n.axisFlavor=uo.HOVERABLE,n._colorScale=void 0,n._domains=[],n._ranges=[],n._matrix={};var o=v.getProperty(n.getOptions(),"axes");if(!!v.getProperty(o,"left","scaleType")&&v.getProperty(o,"left","scaleType")!==ne.LABELS||!!v.getProperty(o,"right","scaleType")&&v.getProperty(o,"right","scaleType")!==ne.LABELS||!!v.getProperty(o,"top","scaleType")&&v.getProperty(o,"top","scaleType")!==ne.LABELS||!!v.getProperty(o,"bottom","scaleType")&&v.getProperty(o,"bottom","scaleType")!==ne.LABELS)throw Error("Heatmap only supports label scaletypes.");return n}return r.prototype.getValueDomain=function(){var t=Rt(this.getDisplayData(),function(o){return o.value}),n=Ht().domain(t).nice().domain();if(n[0]>0)n[0]=0;else if(n[0]===0&&n[1]===0)return[0,1];return n[0]<0&&n[1]>0&&(Math.abs(n[0])>n[1]?n[1]=Math.abs(n[0]):n[0]=-n[1]),n},r.prototype.getFillColor=function(t){return this._colorScale(t)},r.prototype.getUniqueDomain=function(){if(v.isEmpty(this._domains)){var t=this.getDisplayData(),n=this.services.cartesianScales,o=n.getDomainIdentifier(),a=n.getMainXAxisPosition(),i=n.getCustomDomainValuesByposition(a);if(i)return i;this._domains=Array.from(new Set(t.map(function(s){return s[o]})))}return this._domains},r.prototype.getUniqueRanges=function(){if(v.isEmpty(this._ranges)){var t=this.getDisplayData(),n=this.services.cartesianScales,o=n.getRangeIdentifier(),a=n.getMainYAxisPosition(),i=n.getCustomDomainValuesByposition(a);if(i)return i;this._ranges=Array.from(new Set(t.map(function(s){return s[o]})))}return this._ranges},r.prototype.getMatrix=function(){var t=this;if(v.isEmpty(this._matrix)){var n=this.getUniqueDomain(),o=this.getUniqueRanges(),a=this.services.cartesianScales.getDomainIdentifier(),i=this.services.cartesianScales.getRangeIdentifier(),s={};o.forEach(function(c){s[c]={value:null,index:-1}}),n.forEach(function(c){t._matrix[c]=v.clone(s)}),this.getDisplayData().forEach(function(c,d){t._matrix[c[a]][c[i]]={value:c.value,index:d}})}return this._matrix},r.prototype.setData=function(t){var n=this.sanitize(v.clone(t)),o=this.generateDataGroups(n);return this.set({data:n,dataGroups:o}),this._domains=[],this._ranges=[],this._matrix={},n},r.prototype.getMatrixAsArray=function(){var t=this;v.isEmpty(this._matrix)&&this.getMatrix();var n=this.getUniqueDomain(),o=this.getUniqueRanges(),a=this.services.cartesianScales.getDomainIdentifier(),i=this.services.cartesianScales.getRangeIdentifier(),s=[];return n.forEach(function(c){o.forEach(function(d){var l={value:t._matrix[c][d].value,index:t._matrix[c][d].index};l[a]=c,l[i]=d,s.push(l)})}),s},r.prototype.getTabularDataArray=function(){var t=this.getDisplayData(),n=this.assignRangeAndDomains(),o=n.primaryDomain,a=n.primaryRange,i=AC([[o.label,a.label,"Value"]],t.map(function(s){return[s[o.identifier]===null?"&ndash;":s[o.identifier],s[a.identifier]===null?"&ndash;":s[a.identifier].toLocaleString(),s.value]}));return i},r.prototype.getColorClassName=function(t){return t.originalClassName+" "+this._colorScale(t.value)},r.prototype.setColorClassNames=function(){var t=this.getOptions(),n=v.getProperty(t,"color","gradient","colors"),o=!v.isEmpty(n),a=v.getProperty(t,"color","pairing","option"),i=this.getValueDomain(),s=i[0]<0&&i[1]>0?"diverge":"mono";(a<1&&a>4&&s==="mono"||a<1&&a>2&&s==="diverge")&&(a=1);var c=o?n:[];if(!o)for(var d=s==="diverge"?17:11,l=1;l<d+1;l++)c.push("fill-"+s+"-"+a+"-"+l);this._colorScale=jh().domain(i).range(c)},r}(Xr),UC=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Nu=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;for(var n=Array(e),o=0,r=0;r<t;r++)for(var a=arguments[r],i=0,s=a.length;i<s;i++,o++)n[o]=a[i];return n};(function(e){UC(r,e);function r(t,n){var o=e.call(this,t,n)||this;return o.model=new PC(o.services),o.model.setOptions(v.mergeDefaultChartOptions(Me.heatmapChart,n.options)),o.init(t,n),o}return r.prototype.getAxisChartComponents=function(t,n){var o=this.model.getOptions(),a=v.getProperty(o,"toolbar","enabled");this.services.cartesianScales.determineAxisDuality(),this.services.cartesianScales.findDomainAndRangeAxes(),this.services.cartesianScales.determineOrientation();var i=!!this.model.getOptions().title,s={id:"title",components:[new Oi(this.model,this.services)],growth:me.STRETCH},c={id:"toolbar",components:[new el(this.model,this.services)],growth:me.PREFERRED},d={id:"header",components:[new Vt(this.model,this.services,Nu([s],a?[c]:[]),{direction:Ie.ROW,alignItems:kn.CENTER})],growth:me.PREFERRED},l={id:"legend",components:[new t8(this.model,this.services)],growth:me.PREFERRED,renderType:oe.SVG},f={id:"graph-frame",components:t,growth:me.STRETCH,renderType:oe.SVG},u=v.getProperty(n,"legend","enabled")!==!1&&this.model.getOptions().legend.enabled!==!1,h=Ie.COLUMN_REVERSE,p={id:"spacer",components:[new Vr(this.model,this.services,{size:15})],growth:me.PREFERRED},m={id:"full-frame",components:[new Vt(this.model,this.services,Nu(u?[l]:[],u?[p]:[],[f]),{direction:h})],growth:me.STRETCH},b=[];if(i||a){b.push(d);var y={id:"spacer",components:[new Vr(this.model,this.services,a?{size:15}:void 0)],growth:me.PREFERRED};b.push(y)}return b.push(m),[new $g(this.model,this.services),new Yd(this.model,this.services),new Vt(this.model,this.services,b,{direction:Ie.COLUMN})]},r.prototype.getComponents=function(){var t=[new dt(this.model,this.services),new CA(this.model,this.services)],n=this.getAxisChartComponents(t);return n},r})(lt);function CC(e){let r,t=[e[3],{"data-carbon-theme":e[1]},{id:e[2]}],n={};for(let o=0;o<t.length;o+=1)n=_n(n,t[o]);return{c(){r=Q("div"),fl(r,n)},m(o,a){Be(o,r,a),e[8](r)},p(o,[a]){fl(r,n=rp(t,[a&8&&o[3],a&2&&{"data-carbon-theme":o[1]},a&4&&{id:o[2]}]))},i:xe,o:xe,d(o){o&&Ae(r),e[8](null)}}}function BC(e,r,t){const n=["Chart","chart","data","options","theme","id","ref"];let o=_a(r,n),{Chart:a=void 0}=r,{chart:i=null}=r,{data:s=[]}=r,{options:c={}}=r,{theme:d="white"}=r,{id:l="chart-"+Math.random().toString(36)}=r,{ref:f=null}=r;const u=Mm();Sm(()=>{const p=f||document.getElementById(l);return p&&(t(4,i=new a(p,{data:s,options:c})),u("load",i)),()=>{i&&(i.components.forEach(m=>m.destroy()),t(4,i=null),u("destroy"))}});function h(p){fo[p?"unshift":"push"](()=>{f=p,t(0,f)})}return e.$$set=p=>{r=_n(_n({},r),Ku(p)),t(3,o=_a(r,n)),"Chart"in p&&t(5,a=p.Chart),"chart"in p&&t(4,i=p.chart),"data"in p&&t(6,s=p.data),"options"in p&&t(7,c=p.options),"theme"in p&&t(1,d=p.theme),"id"in p&&t(2,l=p.id),"ref"in p&&t(0,f=p.ref)},e.$$.update=()=>{e.$$.dirty&208&&i&&(i.model.setData(s),i.model.setOptions(c),u("update",{data:s,options:c}))},[f,d,l,o,i,a,s,c,h]}class IC extends ct{constructor(r){super(),st(this,r,BC,CC,rt,{Chart:5,chart:4,data:6,options:7,theme:1,id:2,ref:0})}}function zC(e){let r,t,n,o;const a=[e[2],{Chart:Ru}];function i(d){e[3](d)}function s(d){e[4](d)}let c={};for(let d=0;d<a.length;d+=1)c=_n(c,a[d]);return e[1]!==void 0&&(c.ref=e[1]),e[0]!==void 0&&(c.chart=e[0]),r=new IC({props:c}),fo.push(()=>pl(r,"ref",i)),fo.push(()=>pl(r,"chart",s)),r.$on("load",e[5]),r.$on("update",e[6]),r.$on("destroy",e[7]),{c(){De(r.$$.fragment)},m(d,l){Ue(r,d,l),o=!0},p(d,[l]){const f=l&4?rp(a,[l&4&&Am(d[2]),l&0&&{Chart:Ru}]):{};!t&&l&2&&(t=!0,f.ref=d[1],ul(()=>t=!1)),!n&&l&1&&(n=!0,f.chart=d[0],ul(()=>n=!1)),r.$set(f)},i(d){o||(be(r.$$.fragment,d),o=!0)},o(d){_e(r.$$.fragment,d),o=!1},d(d){Ce(r,d)}}}function LC(e,r,t){const n=["chart","ref"];let o=_a(r,n),{chart:a=null}=r,{ref:i=null}=r;function s(u){i=u,t(1,i)}function c(u){a=u,t(0,a)}function d(u){Bi.call(this,e,u)}function l(u){Bi.call(this,e,u)}function f(u){Bi.call(this,e,u)}return e.$$set=u=>{r=_n(_n({},r),Ku(u)),t(2,o=_a(r,n)),"chart"in u&&t(0,a=u.chart),"ref"in u&&t(1,i=u.ref)},[a,i,o,s,c,d,l,f]}class Vu extends ct{constructor(r){super(),st(this,r,LC,zC,rt,{chart:0,ref:1})}}const sn=[];function tl(e,r=xe){let t;const n=new Set;function o(s){if(rt(e,s)&&(e=s,t)){const c=!sn.length;for(const d of n)d[1](),sn.push(d,e);if(c){for(let d=0;d<sn.length;d+=2)sn[d][0](sn[d+1]);sn.length=0}}}function a(s){o(s(e))}function i(s,c=xe){const d=[s,c];return n.add(d),n.size===1&&(t=r(o)||xe),s(e),()=>{n.delete(d),n.size===0&&(t(),t=null)}}return{set:o,update:a,subscribe:i}}const rl=tl("main"),$u=tl([]),Hu=tl([]);function DC(e){let r,t,n,o,a,i,s,c,d,l;return o=new Vu({props:{data:e[0],options:{axes:{left:{stacked:!0,scaleType:"linear",mapsTo:"count"},bottom:{scaleType:"time",mapsTo:"date"}},curve:"curveMonotoneX",height:"400px"}}}),d=new Vu({props:{data:e[1],options:{axes:{left:{stacked:!0,scaleType:"linear",mapsTo:"count"},bottom:{scaleType:"labels",mapsTo:"version"}},curve:"curveMonotoneX",height:"400px"}}}),{c(){r=Q("div"),r.innerHTML="<span>Estimated Active users</span>",t=te(),n=Q("div"),De(o.$$.fragment),a=te(),i=Q("div"),i.innerHTML="<span>Version Downloads</span>",s=te(),c=Q("div"),De(d.$$.fragment),G(r,"class","h-12 pl-4 bg-slate-200 w-screen flex items-center"),G(n,"class","pr-10 pl-10 pb-10"),G(i,"class","h-12 pl-4 bg-slate-200 w-screen flex items-center"),G(c,"class","pr-10 pl-10 ")},m(f,u){Be(f,r,u),Be(f,t,u),Be(f,n,u),Ue(o,n,null),Be(f,a,u),Be(f,i,u),Be(f,s,u),Be(f,c,u),Ue(d,c,null),l=!0},p(f,[u]){const h={};u&1&&(h.data=f[0]),o.$set(h);const p={};u&2&&(p.data=f[1]),d.$set(p)},i(f){l||(be(o.$$.fragment,f),be(d.$$.fragment,f),l=!0)},o(f){_e(o.$$.fragment,f),_e(d.$$.fragment,f),l=!1},d(f){f&&Ae(r),f&&Ae(t),f&&Ae(n),Ce(o),f&&Ae(a),f&&Ae(i),f&&Ae(s),f&&Ae(c),Ce(d)}}}function RC(e,r,t){fetch("https://api.github.com/repos/poketrax/pokepull/releases").then(a=>a.json()).then(a=>{let i=[];for(let s=a.length-1;s>=0;s--){let c=a[s],d=c.assets[0].download_count,l=i.find(f=>{let u=new Date(f.date);u.setHours(0,0,0,0);let h=new Date(c.published_at);return h.setHours(0,0,0,0),u.getTime()===h.getTime()});l?l.count+=d:i.push({date:c.published_at,count:d,group:"Users"})}Hu.set(i)});let n=[];Hu.subscribe(a=>{console.log(a),t(0,n=a)}),fetch("https://api.github.com/repos/poketrax/poketrax/releases").then(a=>a.json()).then(a=>{let i=[];for(let s=a.length-1;s>=0;s--){let c=a[s];c.assets.forEach((d,l)=>{let f="";switch(l){case 0:f="DMG";break;case 1:f="EXE";break;case 2:f="SNAP";break;default:f=""}i.push({group:f,version:c.tag_name,count:d.download_count})})}$u.set(i)});let o=[];return $u.subscribe(a=>{t(1,o=a)}),[n,o]}class FC extends ct{constructor(r){super(),st(this,r,RC,DC,rt,{})}}var NC="/PokeTrax/assets/icon.f2679d31.png";function VC(e){let r,t;return{c(){r=mr("svg"),t=mr("path"),G(t,"d","M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"),G(r,"xmlns","http://www.w3.org/2000/svg"),G(r,"viewBox","0 0 496 512"),G(r,"class","w-6 h-6 fill-white")},m(n,o){Be(n,r,o),$(r,t)},p:xe,i:xe,o:xe,d(n){n&&Ae(r)}}}class $C extends ct{constructor(r){super(),st(this,r,null,VC,rt,{})}}function HC(e){let r,t;return{c(){r=mr("svg"),t=mr("path"),G(t,"d","M201.5 305.5c-13.8 0-24.9-11.1-24.9-24.6 0-13.8 11.1-24.9 24.9-24.9 13.6 0 24.6 11.1 24.6 24.9 0 13.6-11.1 24.6-24.6 24.6zM504 256c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zm-132.3-41.2c-9.4 0-17.7 3.9-23.8 10-22.4-15.5-52.6-25.5-86.1-26.6l17.4-78.3 55.4 12.5c0 13.6 11.1 24.6 24.6 24.6 13.8 0 24.9-11.3 24.9-24.9s-11.1-24.9-24.9-24.9c-9.7 0-18 5.8-22.1 13.8l-61.2-13.6c-3-.8-6.1 1.4-6.9 4.4l-19.1 86.4c-33.2 1.4-63.1 11.3-85.5 26.8-6.1-6.4-14.7-10.2-24.1-10.2-34.9 0-46.3 46.9-14.4 62.8-1.1 5-1.7 10.2-1.7 15.5 0 52.6 59.2 95.2 132 95.2 73.1 0 132.3-42.6 132.3-95.2 0-5.3-.6-10.8-1.9-15.8 31.3-16 19.8-62.5-14.9-62.5zM302.8 331c-18.2 18.2-76.1 17.9-93.6 0-2.2-2.2-6.1-2.2-8.3 0-2.5 2.5-2.5 6.4 0 8.6 22.8 22.8 87.3 22.8 110.2 0 2.5-2.2 2.5-6.1 0-8.6-2.2-2.2-6.1-2.2-8.3 0zm7.7-75c-13.6 0-24.6 11.1-24.6 24.9 0 13.6 11.1 24.6 24.6 24.6 13.8 0 24.9-11.1 24.9-24.6 0-13.8-11-24.9-24.9-24.9z"),G(r,"xmlns","http://www.w3.org/2000/svg"),G(r,"viewBox","0 0 512 512"),G(r,"class","w-6 h-6 fill-white")},m(n,o){Be(n,r,o),$(r,t)},p:xe,i:xe,o:xe,d(n){n&&Ae(r)}}}class GC extends ct{constructor(r){super(),st(this,r,null,HC,rt,{})}}function jC(e){let r,t;return{c(){r=mr("svg"),t=mr("path"),G(t,"d","M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"),G(r,"xmlns","http://www.w3.org/2000/svg"),G(r,"viewBox","0 0 576 512"),G(r,"class","w-6 h-6 fill-white")},m(n,o){Be(n,r,o),$(r,t)},p:xe,i:xe,o:xe,d(n){n&&Ae(r)}}}class qC extends ct{constructor(r){super(),st(this,r,null,jC,rt,{})}}function WC(e){let r,t;return{c(){r=mr("svg"),t=mr("path"),G(t,"d","M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"),G(r,"xmlns","http://www.w3.org/2000/svg"),G(r,"viewBox","0 0 512 512"),G(r,"class","w-6 h-6 fill-white")},m(n,o){Be(n,r,o),$(r,t)},p:xe,i:xe,o:xe,d(n){n&&Ae(r)}}}class YC extends ct{constructor(r){super(),st(this,r,null,WC,rt,{})}}function XC(e){let r,t,n;return{c(){r=Q("div"),r.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="h-8 w-8"><path d="M64 400C64 408.8 71.16 416 80 416H480C497.7 416 512 430.3 512 448C512 465.7 497.7 480 480 480H80C35.82 480 0 444.2 0 400V64C0 46.33 14.33 32 32 32C49.67 32 64 46.33 64 64V400zM342.6 278.6C330.1 291.1 309.9 291.1 297.4 278.6L240 221.3L150.6 310.6C138.1 323.1 117.9 323.1 105.4 310.6C92.88 298.1 92.88 277.9 105.4 265.4L217.4 153.4C229.9 140.9 250.1 140.9 262.6 153.4L320 210.7L425.4 105.4C437.9 92.88 458.1 92.88 470.6 105.4C483.1 117.9 483.1 138.1 470.6 150.6L342.6 278.6z"></path></svg>',G(r,"class","h-4 w-4 m-2 hover:fill-white fill-transparent portrait:w-0 flex items-center cursor-pointer")},m(o,a){Be(o,r,a),t||(n=Qu(r,"click",e[0]),t=!0)},p:xe,i:xe,o:xe,d(o){o&&Ae(r),t=!1,n()}}}function ZC(e){function r(){rl.set("metrics")}return[r]}class Gu extends ct{constructor(r){super(),st(this,r,ZC,XC,rt,{})}}function KC(e){let r,t,n,o,a,i,s,c,d,l,f,u,h,p,m,b,y,g,w,k,_,x,O,M,T,A,S,P,I,L,B,C,z,F,U,N,V,X,ce,ae;return t=new Gu({}),M=new $C({}),S=new GC({}),L=new qC({}),z=new YC({}),V=new Gu({}),{c(){r=Q("div"),De(t.$$.fragment),n=te(),o=Q("div"),a=te(),i=Q("img"),c=te(),d=Q("div"),l=te(),f=Q("a"),f.textContent="Pok\xE9trax",u=te(),h=Q("div"),p=te(),m=Q("a"),m.textContent="Issues",b=te(),y=Q("div"),g=te(),w=Q("span"),w.textContent="Install",k=te(),_=Q("div"),x=te(),O=Q("a"),De(M.$$.fragment),T=te(),A=Q("a"),De(S.$$.fragment),P=te(),I=Q("a"),De(L.$$.fragment),B=te(),C=Q("a"),De(z.$$.fragment),F=te(),U=Q("div"),N=te(),De(V.$$.fragment),G(o,"class","flex-grow"),G(i,"class","h-16 w-16 portrait:h-10 portrait:w-10"),_t(i.src,s=NC)||G(i,"src",s),G(i,"alt","icon"),G(d,"class","w-4"),G(f,"class","text-white text-4xl portrait:text-xl title-font cursor-pointer"),G(f,"href","."),G(h,"class","w-96"),G(m,"class","text-white hover:text-red-600 cursor-pointer portrait:hidden"),G(m,"href","https://github.com/poketrax/PokeTrax/issues"),G(y,"class","w-4"),G(w,"class","text-white hover:text-red-600 cursor-pointer portrait:hidden"),G(_,"class","w-4"),G(O,"class","m-2"),G(O,"href","https://github.com/poketrax/PokeTrax"),G(A,"class","m-2"),G(A,"href","https://www.reddit.com/r/poketraxapp/"),G(I,"class","m-2"),G(I,"href","https://www.youtube.com/channel/UCDGebTpvhiRCy3Aw6_CDylg"),G(C,"class","p-2"),G(C,"href","https://twitter.com/poketrax_app"),G(U,"class","flex-grow"),G(r,"class","h-16 w-screen bg-blue-800 flex items-center")},m(Z,re){Be(Z,r,re),Ue(t,r,null),$(r,n),$(r,o),$(r,a),$(r,i),$(r,c),$(r,d),$(r,l),$(r,f),$(r,u),$(r,h),$(r,p),$(r,m),$(r,b),$(r,y),$(r,g),$(r,w),$(r,k),$(r,_),$(r,x),$(r,O),Ue(M,O,null),$(r,T),$(r,A),Ue(S,A,null),$(r,P),$(r,I),Ue(L,I,null),$(r,B),$(r,C),Ue(z,C,null),$(r,F),$(r,U),$(r,N),Ue(V,r,null),X=!0,ce||(ae=Qu(w,"click",e[0]),ce=!0)},p:xe,i(Z){X||(be(t.$$.fragment,Z),be(M.$$.fragment,Z),be(S.$$.fragment,Z),be(L.$$.fragment,Z),be(z.$$.fragment,Z),be(V.$$.fragment,Z),X=!0)},o(Z){_e(t.$$.fragment,Z),_e(M.$$.fragment,Z),_e(S.$$.fragment,Z),_e(L.$$.fragment,Z),_e(z.$$.fragment,Z),_e(V.$$.fragment,Z),X=!1},d(Z){Z&&Ae(r),Ce(t),Ce(M),Ce(S),Ce(L),Ce(z),Ce(V),ce=!1,ae()}}}function QC(e){function r(){rl.set("install")}return[r]}class JC extends ct{constructor(r){super(),st(this,r,QC,KC,rt,{})}}function e7(e){let r;return{c(){r=Q("span"),r.textContent=`The information presented on this application about the
    Pok\xE9mon Trading Card Game, including images and text, is
    copyright of The Pok\xE9mon Company, Nintendo, Game Freak,
    Creatures and/or Wizards of the Coast. This website is not
    produced by, endorsed by, supported by, or affiliated with
    any of these companies.`,G(r,"class","text-xs")},m(t,n){Be(t,r,n)},p:xe,i:xe,o:xe,d(t){t&&Ae(r)}}}class hm extends ct{constructor(r){super(),st(this,r,null,e7,rt,{})}}var gm="/PokeTrax/assets/macos.ca8865f4.png",mm="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAAAXNSR0IArs4c6QAAAIRlWElmTU0AKgAAAAgABQESAAMAAAABAAEAAAEaAAUAAAABAAAASgEbAAUAAAABAAAAUgEoAAMAAAABAAIAAIdpAAQAAAABAAAAWgAAAAAAAABIAAAAAQAAAEgAAAABAAOgAQADAAAAAQABAACgAgAEAAAAAQAAAFCgAwAEAAAAAQAAAFAAAAAAwtohTAAAAAlwSFlzAAALEwAACxMBAJqcGAAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDYuMC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KGV7hBwAACVtJREFUeAHtnM1v3MYZxp8hubtaW1ZiG4pj5KuSHX/Jsq18t0Bb6dICBlqgSeRb/4Xk2CYIEF4K9NBeeukf0EMBOzkECdI0DuDNIQ5aoEAPaS4t+oWmQeMkSqTI0u6SM33eIblarTb2kiuuuTZH4MeSM7Pz/uZ5Z6gZzgJlKAmUBEoCJYGSQEmgJFASKAmUBFITUKlT3AYJjIG6cAnO3DSs/S8vIlQKJotpXpZE45SmFxbehSYsTRvCS7EhPo++geNH1+Orgx1uK4CDwBIs/puYgoOjWmGeEjxH6X07vIzneeu95YtwL11AOBg+YGwBDgrrp29gf8XFUeXgFJX3FIGdpPxOOAqH6ntg/darANdXURdoy9wSZQ4CcSwA9sLqarM6bijG/uQy7qpqnHAdHDchvmkU5tjKHXNdHKpMAAQITW2FbR4DmM11tn38GFRQo+bErVOHwgEcBJZPM194Bwe9No7RFeddhTN0wwUimHUruLdSY4QuWAFhacISOownHKXLcLj3+H2O4wCBlhTpwy0F6APOy9wpf6v2aZ30hh1l8Tb83+MeWj/De+eUwSM09QxxHHNqOFClsiQkyhJYYbAFi7forRaOtbVDqXNik2fejQygL7CWaci1RdVAA4sN6z7a543u8OI7OFQ1mNEGj1IYC6Q5R9866Xl0zwRWQMXQDQnKbH61BUtAcWOyqG3fJUbdxdtxngtAvwfWUgMBr2nfts6NTiGuPf3Q4bpWh37x/D8/8JcY52380Gi8SgRefW8UjW1VX1i8219ZndxHczI0QOPT3L9EygKVRXn1hfXJ+W/cW6my9zPOKcZ+nOqYo+Oeo7o+JLxz1lyNe/bcDW99FW0qywpI2qyiwOpXJZkAilGNRbiirK32q9HJX5Q1EeBEqJxH6VOn2aqdYZIjE46aqrLFl9AKDeR8ra03k4R8LmvTLYWYRLJli2InMYp3TA1Q4NEoQ7HRVGDl/MxDnufMGujHqMU5GGV7w6qnJhNYIRu0ZrRpHpPHBUMf5BNYpDTJi5/lb6xCKoDirqK4L5+ZfZjPWT9XxswqpY7XXNQrjmsNDwiqtROWYJHGPdkkbigfYheVzzaMGb+U/4lIWych0LN31StPt1oabT5IbYZGy2bvRZC6gcWXb89DKgUmCBzjtpqER6XxYcJWQreykmiZjlTkWAUxPHUI2ZV61BiNFb8dN69Lbe+NEmQCKBnmpZRxq43MAG9UK3fSvcIBzEvZeVVq4QCWLpxXVRc038IpsHThIZVSuvCQAMcteenCQ9ZY4QAOac/Ik2cGmFdblVe+eZHNNJjA2QwTED2NlTHBaBwrfQnDwMDlkJidLbPJ+WaA5pgOe2K5Fk0v5UU07u45uBnyO6ucmcv0AJANoKu9WsWDF+iqI8Or1lp7uOlOSikpQmNct+KguWH2JYk4s1arTxKgRi0eXkxu5XYkPLfGKfX1lZRDe3GJ0gHkeLOdtnfcT1eb6iqnVDcI0BKkcNJpxRitQuyBcv+c0OEE+L9XP8EfCXmVmblWg3wRKLm/q8fkZSINE2zwrQSDTyX/D5ezKXHgstG4fAzKC9TAltmIqW1LnUC+xveNMzX1fm11/+FM7UZi09TKx8rzvtDPPXe+KdcMX+z5D1ANpnNWQVKA+Ohdg7p/GU36UjKq3hPj6z+mA3jRuLhAx/vNZ9/iexGvcHpJJh+jntzwTZRUgfkAk8aYP5gfH/iRJDVv1Z+B2vw181zhTIEds81L8SxsUvma3zWplHlWfR9XpRLVCN7O2mv27T+MjXXOgGR8EpLuVmbP11ZmEu6hUXe7BzCNVUwr6duFXspqSfK66THBJ9/BTiRYQzyVf9OU2yKk60SSpMYN0eR0btiWt1AyEmTKVlOmNTvzwq6jAogz8w4fkLKVLSnjoEdx2yb45oh9dBo0VSdetkI6AedvWW3RG05ZAbLbkKR2ZwsU8g2peN5d3pzKmm/HuIFORIlUeda3s0ZTyIEsyf5EPmD2uUQrFMBcLMw500IB3PqfLmerdzH7QgHM+k/1LvJInVWhAKYufQESFApg6cIFUMSoi1AoBZZt4JDVX7rwkADHMXl2F87hn/w7x4WVq2WRBv+HlDkRGUNLxjbGUURDlTnbYAJ0FVNcqXe9WrULz2TVi5G1QgQp40/GiLJFo6l0KhmMmwrTAVyOR2wD84H6/MufGYQnOSAoazzuR21vFbLsUcb5gla0pYQ6bvBod8oxNw7bUl0cylIfEdNLkgF+9dcaDk7fh9b6PJqGS0rVE8TMxTTqQUxMTsBlHcn75wK1zW0LashVbdHEkc1oPHfpFCg2JhAb9LZrdNkLSoZA/x5vr9nG8OJFF5vfexCttdOEeZrEH2FCzunpGUzsnYBX5fBl4IFTo1yTtNWRyeAmWdPxWVE8jkFID1CMEojUVGQfFenTZFnAJb9BEEGV5uwf8fa6ZcGJKDz8xQNorp/C5voCqc2bTfUk50Q6I9KUZ80ue96gZ3DlDnMTnLzMwdVoCU6qNtWmzXmXDeC2QhGm36uXGCoaDr67iC6o/2JS2X5nyUhn89v16StXfG9pyWeFtP6Gzy34g5jgsvwqwUlEqSpZUCGLomOoss6X/ZUAvaVQdwEgTdgROlAjBdn7PUp9tyFKFjT/W+KOQNh8Bld4PILLOIzrXGPXxFmtnbOOMguM8gDXle+zUPlBCdAeqHKZW/IEwNP8Q04A+xW8A7XrJqGKf7NJoJrozQLRXvkvr8r2tjxmynULtYnjXJq4wCXmBGrmef8IoU4mUK1S2U8xiVRcUnk3hhp9H6NnCyME2K+AhNrlgBaiqMjn1tWm8rq0qQnUKwmb66/jvrrhsv+WrAh1HiNUPlbhBIHuI9iocxKNR1ClqiQfCVtQt5Uguplmf4sB7iwqLdvRptLy7VCFABdo7/kBPuKpbB2o5i26fxszhPYEJ/yoUsOltoTssU1l/8/z3ja1Taw1b6RvZ9lSjG7XD6p8u/GpskSpcmHR/gLRxzyT7WqiVMOfEWB7elS38bjDHyxiyrOskqPEuZ9qrfEVJ+CzGC5P04QuB0qTrLhxe6GKUvuVdu1NTPNNOvurH+x3vgOlf8lXO/7E9lZ696T97Jd027XbDuA26+IPthPib2XZ51S5FilV2sShwx0BsB+lHVCX7K+I7ArUft9XXisJlARKAiWBkkBJoCRQEigJlAS6CPwfUKEKwPsh64oAAAAASUVORK5CYII=",t7="/PokeTrax/assets/ubuntu.933c557a.png",r7="/PokeTrax/assets/AppImage.df334118.png",n7="/PokeTrax/assets/track_prices.d055bf98.png",o7="/PokeTrax/assets/sets.3a8de6e2.png",a7="/PokeTrax/assets/track_collection.2897e81c.png";function ju(e){let r;return{c(){r=Q("span"),r.textContent="\u{1F506}",G(r,"class","mr-2 text-yellow-300")},m(t,n){Be(t,r,n)},d(t){t&&Ae(r)}}}function i7(e){let r,t,n,o,a,i,s,c,d,l,f,u,h,p,m,b,y,g,w,k,_,x,O,M,T,A,S,P,I,L,B,C,z,F,U,N,V,X,ce,ae,Z,re,J,se,K,ee,de,q,he,le,j,Y,H,ue,yt,We,Fo,qt,Wt,No,Zr,Vo,Mt,cr,$o,Kr,pe,Fe,dr,nl,ol,Ct,Ho,Qr,al,il,Ui,sl,Go,cl,Ci,dl,Jr,Yt,ft=e[1]&&ju();return Jr=new hm({}),{c(){r=Q("div"),t=Q("div"),n=Q("div"),o=te(),a=Q("div"),i=Q("div"),s=te(),c=Q("span"),c.textContent=`A simple, free, fully featured, and open source Pok\xE9mon TCG
                collection manager for Windows, Mac, and Ubuntu`,d=te(),l=Q("div"),f=te(),u=Q("div"),h=Q("div"),p=te(),m=Q("a"),b=Q("img"),w=te(),k=Q("div"),_=te(),x=Q("a"),O=Q("img"),A=te(),S=Q("div"),P=te(),I=Q("a"),L=Q("img"),z=te(),F=Q("div"),U=te(),N=Q("a"),V=Q("img"),ae=te(),Z=Q("div"),re=te(),J=Q("div"),ft&&ft.c(),se=te(),K=Q("span"),ee=oi(e[0]),de=te(),q=Q("div"),q.innerHTML=`<div class="flex-grow"></div> 
                <iframe class="lg:w-[960px] lg:h-[540px] md:w-[480px] md:h-[270px] w-[240px] h-[135px]" src="https://www.youtube.com/embed/IG4EF-xuJho?autoplay=1&amp;vq=hd720" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe> 
                <div class="flex-grow"></div>`,he=te(),le=Q("div"),j=te(),Y=Q("div"),H=te(),ue=Q("div"),yt=Q("div"),We=Q("img"),qt=te(),Wt=Q("div"),Wt.textContent="Analyze card prices over time",No=te(),Zr=Q("div"),Vo=te(),Mt=Q("div"),cr=Q("div"),$o=te(),Kr=Q("div"),Kr.textContent="Track cards and sealed products in your collection",pe=te(),Fe=Q("div"),dr=Q("img"),ol=te(),Ct=Q("div"),Ho=Q("div"),Qr=Q("img"),il=te(),Ui=Q("div"),sl=te(),Go=Q("div"),Go.textContent="Browse sets for cards",cl=te(),Ci=Q("div"),dl=te(),De(Jr.$$.fragment),G(n,"class","flex-grow"),G(i,"class","h-10"),G(c,"class","flex text-3xl portrait:text-xl text-center p-4"),G(l,"class","h-10"),G(h,"class","flex-grow"),G(b,"class","h-20 object-contain cursor-pointer"),_t(b.src,y=gm)||G(b,"src",y),G(b,"alt","macos"),G(m,"href",g="https://github.com/poketrax/PokeTrax/releases/latest/download/PokeTrax_"+e[0]+"_x64.dmg"),G(k,"class","w-6"),G(O,"class","h-20 object-contain cursor-pointer"),_t(O.src,M=mm)||G(O,"src",M),G(O,"alt","win"),G(x,"href",T="https://github.com/poketrax/PokeTrax/releases/latest/download/PokeTrax_"+e[0]+"_x64_en-US.msi"),G(S,"class","w-6"),G(L,"class","h-20 object-contain cursor-pointer"),_t(L.src,B=t7)||G(L,"src",B),G(L,"alt","linux"),G(I,"href",C="https://github.com/poketrax/PokeTrax/releases/latest/download/poke-trax_"+e[0]+"_amd64.deb"),G(F,"class","w-6"),G(V,"class","h-20 object-contain cursor-pointer"),_t(V.src,X=r7)||G(V,"src",X),G(V,"alt","linux"),G(N,"href",ce="https://github.com/poketrax/PokeTrax/releases/latest/download/poke-trax_"+e[0]+`_amd64.AppImage
                    `),G(Z,"class","flex-grow"),G(u,"class","flex"),G(J,"class","flex h-10 items-center justify-center"),G(q,"class","flex"),G(le,"class","flex-grow"),G(t,"class","w-screen flex"),G(Y,"class","h-12"),_t(We.src,Fo=n7)||G(We,"src",Fo),G(We,"class","h-96 portrait:h-48 object-contain"),G(We,"alt","track prices"),G(yt,"class","p-16 portrait:p-4"),G(Wt,"class","text-3xl portrait:text-xl portrait:m-4"),G(Zr,"class","flex-grow"),G(ue,"class","flex w-screen bg-gray-200 items-center"),G(cr,"class","flex-grow"),G(Kr,"class","text-3xl portrait:text-xl portrait:m-4"),_t(dr.src,nl=a7)||G(dr,"src",nl),G(dr,"class","h-96 portrait:h-48 object-contain"),G(dr,"alt","track cards"),G(Fe,"class","p-16"),G(Mt,"class","flex w-screen items-center"),_t(Qr.src,al=o7)||G(Qr,"src",al),G(Qr,"class","h-96 portrait:h-48 object-contain"),G(Qr,"alt","sets"),G(Ho,"class","p-16"),G(Ui,"class","w-8"),G(Go,"class","text-3xl portrait:text-xl portrait:m-4"),G(Ci,"class","flex-grow"),G(Ct,"class","flex w-screen bg-gray-200 items-center"),G(r,"class","w-screen h-[calc(100vh-4rem)] overflow-x-hidden overflow-auto")},m(ot,_r){Be(ot,r,_r),$(r,t),$(t,n),$(t,o),$(t,a),$(a,i),$(a,s),$(a,c),$(a,d),$(a,l),$(a,f),$(a,u),$(u,h),$(u,p),$(u,m),$(m,b),$(u,w),$(u,k),$(u,_),$(u,x),$(x,O),$(u,A),$(u,S),$(u,P),$(u,I),$(I,L),$(u,z),$(u,F),$(u,U),$(u,N),$(N,V),$(u,ae),$(u,Z),$(a,re),$(a,J),ft&&ft.m(J,null),$(J,se),$(J,K),$(K,ee),$(a,de),$(a,q),$(t,he),$(t,le),$(r,j),$(r,Y),$(r,H),$(r,ue),$(ue,yt),$(yt,We),$(ue,qt),$(ue,Wt),$(ue,No),$(ue,Zr),$(r,Vo),$(r,Mt),$(Mt,cr),$(Mt,$o),$(Mt,Kr),$(Mt,pe),$(Mt,Fe),$(Fe,dr),$(r,ol),$(r,Ct),$(Ct,Ho),$(Ho,Qr),$(Ct,il),$(Ct,Ui),$(Ct,sl),$(Ct,Go),$(Ct,cl),$(Ct,Ci),$(r,dl),Ue(Jr,r,null),Yt=!0},p(ot,[_r]){(!Yt||_r&1&&g!==(g="https://github.com/poketrax/PokeTrax/releases/latest/download/PokeTrax_"+ot[0]+"_x64.dmg"))&&G(m,"href",g),(!Yt||_r&1&&T!==(T="https://github.com/poketrax/PokeTrax/releases/latest/download/PokeTrax_"+ot[0]+"_x64_en-US.msi"))&&G(x,"href",T),(!Yt||_r&1&&C!==(C="https://github.com/poketrax/PokeTrax/releases/latest/download/poke-trax_"+ot[0]+"_amd64.deb"))&&G(I,"href",C),(!Yt||_r&1&&ce!==(ce="https://github.com/poketrax/PokeTrax/releases/latest/download/poke-trax_"+ot[0]+`_amd64.AppImage
                    `))&&G(N,"href",ce),ot[1]?ft||(ft=ju(),ft.c(),ft.m(J,se)):ft&&(ft.d(1),ft=null),(!Yt||_r&1)&&Ju(ee,ot[0])},i(ot){Yt||(be(Jr.$$.fragment,ot),Yt=!0)},o(ot){_e(Jr.$$.fragment,ot),Yt=!1},d(ot){ot&&Ae(r),ft&&ft.d(),Ce(Jr)}}}function s7(e,r,t){let n="",o=!1;return fetch("https://api.github.com/repos/poketrax/poketrax/releases/latest").then(a=>a.json()).then(a=>{a.name,t(0,n=a.name.replace("v",""));let i=new Date(Date.now()),s=new Date(i.getFullYear(),i.getMonth(),i.getDate()-7),c=new Date(a.published_at);s.getTime()<c.getTime()&&t(1,o=!0)}),[n,o]}class c7 extends ct{constructor(r){super(),st(this,r,s7,i7,rt,{})}}function qu(e){let r,t,n;return{c(){r=Q("div"),t=Q("img"),_t(t.src,n=e[2])||G(t,"src",n),G(t,"alt",e[1]),G(r,"class","flex ml-32")},m(o,a){Be(o,r,a),$(r,t)},p(o,a){a&4&&!_t(t.src,n=o[2])&&G(t,"src",n),a&2&&G(t,"alt",o[1])},d(o){o&&Ae(r)}}}function d7(e){let r,t,n,o,a,i,s,c,d=e[2]!=null&&qu(e);return{c(){r=Q("div"),t=Q("div"),n=Q("div"),o=Q("div"),a=oi(e[0]),i=te(),s=Q("div"),c=te(),d&&d.c(),G(n,"class","flex h-10 w-10 bg-slate-200 rounded-full items-center justify-center mr-10 ml-10 mt-5 mb-5"),G(t,"class","flex items-center")},m(l,f){Be(l,r,f),$(r,t),$(t,n),$(n,o),$(o,a),$(t,i),$(t,s),s.innerHTML=e[1],$(r,c),d&&d.m(r,null)},p(l,[f]){f&1&&Ju(a,l[0]),f&2&&(s.innerHTML=l[1]),l[2]!=null?d?d.p(l,f):(d=qu(l),d.c(),d.m(r,null)):d&&(d.d(1),d=null)},i:xe,o:xe,d(l){l&&Ae(r),d&&d.d()}}}function l7(e,r,t){let{number:n}=r,{text:o}=r,{img:a}=r;return e.$$set=i=>{"number"in i&&t(0,n=i.number),"text"in i&&t(1,o=i.text),"img"in i&&t(2,a=i.img)},[n,o,a]}class hr extends ct{constructor(r){super(),st(this,r,l7,d7,rt,{number:0,text:1,img:2})}}var f7="/PokeTrax/assets/windows_warning.7888c921.png",u7="/PokeTrax/assets/windows_accept.5ab132f6.png",p7="/PokeTrax/assets/macos_open_err.ac30a4ee.png",h7="/PokeTrax/assets/macos_open_sys_pref.358f8004.png",g7="/PokeTrax/assets/macos_sys_pref.48581166.png",m7="/PokeTrax/assets/macos_sec.db5c020c.png";function v7(e){let r,t,n,o,a,i,s,c,d,l,f,u,h,p,m,b,y,g,w,k,_,x,O,M,T,A,S,P,I,L,B,C,z,F,U,N,V;return l=new hr({props:{number:1,text:'Download exe from <a class="text-blue-600" href="https://github.com/poketrax/PokeTrax/releases/latest/download/poketrax.exe">here</a> and install PokeTrax',img:null}}),u=new hr({props:{number:2,text:"You will get an error that looks like this. Click 'More Info'",img:f7}}),p=new hr({props:{number:3,text:"Click 'Run anyway'",img:u7}}),A=new hr({props:{number:1,text:'Download dmg from <a class="text-blue-600" href="https://github.com/poketrax/PokeTrax/releases/latest/download/poketrax.dmg">here</a> and install PokeTrax',img:null}}),P=new hr({props:{number:2,text:"Run PokeTrax you will get the following error. Click 'Cancel'",img:p7}}),L=new hr({props:{number:3,text:"Click the Apple logo at the top left of you screen, Then click 'System Preferences'",img:h7}}),C=new hr({props:{number:4,text:"On the system preferences window. Click 'Security & Privacy'",img:g7}}),F=new hr({props:{number:5,text:"On the General Tab in the 'Security & Privacy' window. Click 'Open Anyway'",img:m7}}),N=new hm({}),{c(){r=Q("div"),t=Q("div"),n=Q("div"),o=Q("img"),i=te(),s=Q("div"),s.textContent="Windows install instructions",c=te(),d=Q("div"),De(l.$$.fragment),f=te(),De(u.$$.fragment),h=te(),De(p.$$.fragment),m=te(),b=Q("div"),y=te(),g=Q("div"),w=Q("div"),k=Q("img"),x=te(),O=Q("div"),O.textContent="Mac OS install instructions",M=te(),T=Q("div"),De(A.$$.fragment),S=te(),De(P.$$.fragment),I=te(),De(L.$$.fragment),B=te(),De(C.$$.fragment),z=te(),De(F.$$.fragment),U=te(),De(N.$$.fragment),G(o,"class","h-20 object-contain cursor-pointer"),_t(o.src,a=mm)||G(o,"src",a),G(o,"alt","windows"),G(s,"class","pl-8 text-3xl"),G(n,"class","flex w-screen h-20 bg-gray-200 items-center"),G(d,"class","w-screen"),G(b,"class","h-8"),G(k,"class","h-20 object-contain cursor-pointer"),_t(k.src,_=gm)||G(k,"src",_),G(k,"alt","macos"),G(O,"class","pl-8 text-3xl"),G(w,"class","flex w-screen h-20 bg-gray-200 items-center"),G(T,"class","w-screen"),G(r,"class","w-screen h-[calc(100vh-4rem)] overflow-x-hidden overflow-auto")},m(X,ce){Be(X,r,ce),$(r,t),$(t,n),$(n,o),$(n,i),$(n,s),$(t,c),$(t,d),Ue(l,d,null),$(d,f),Ue(u,d,null),$(d,h),Ue(p,d,null),$(r,m),$(r,b),$(r,y),$(r,g),$(g,w),$(w,k),$(w,x),$(w,O),$(g,M),$(g,T),Ue(A,T,null),$(T,S),Ue(P,T,null),$(T,I),Ue(L,T,null),$(T,B),Ue(C,T,null),$(T,z),Ue(F,T,null),$(r,U),Ue(N,r,null),V=!0},p:xe,i(X){V||(be(l.$$.fragment,X),be(u.$$.fragment,X),be(p.$$.fragment,X),be(A.$$.fragment,X),be(P.$$.fragment,X),be(L.$$.fragment,X),be(C.$$.fragment,X),be(F.$$.fragment,X),be(N.$$.fragment,X),V=!0)},o(X){_e(l.$$.fragment,X),_e(u.$$.fragment,X),_e(p.$$.fragment,X),_e(A.$$.fragment,X),_e(P.$$.fragment,X),_e(L.$$.fragment,X),_e(C.$$.fragment,X),_e(F.$$.fragment,X),_e(N.$$.fragment,X),V=!1},d(X){X&&Ae(r),Ce(l),Ce(u),Ce(p),Ce(A),Ce(P),Ce(L),Ce(C),Ce(F),Ce(N)}}}class b7 extends ct{constructor(r){super(),st(this,r,null,v7,rt,{})}}function Wu(e){let r,t;return r=new c7({}),{c(){De(r.$$.fragment)},m(n,o){Ue(r,n,o),t=!0},i(n){t||(be(r.$$.fragment,n),t=!0)},o(n){_e(r.$$.fragment,n),t=!1},d(n){Ce(r,n)}}}function Yu(e){let r,t;return r=new b7({}),{c(){De(r.$$.fragment)},m(n,o){Ue(r,n,o),t=!0},i(n){t||(be(r.$$.fragment,n),t=!0)},o(n){_e(r.$$.fragment,n),t=!1},d(n){Ce(r,n)}}}function Xu(e){let r,t;return r=new FC({}),{c(){De(r.$$.fragment)},m(n,o){Ue(r,n,o),t=!0},i(n){t||(be(r.$$.fragment,n),t=!0)},o(n){_e(r.$$.fragment,n),t=!1},d(n){Ce(r,n)}}}function y7(e){let r,t,n,o,a,i;r=new JC({});let s=e[0]==="main"&&Wu(),c=e[0]==="install"&&Yu(),d=e[0]==="metrics"&&Xu();return{c(){De(r.$$.fragment),t=te(),s&&s.c(),n=te(),c&&c.c(),o=te(),d&&d.c(),a=_m()},m(l,f){Ue(r,l,f),Be(l,t,f),s&&s.m(l,f),Be(l,n,f),c&&c.m(l,f),Be(l,o,f),d&&d.m(l,f),Be(l,a,f),i=!0},p(l,[f]){l[0]==="main"?s?f&1&&be(s,1):(s=Wu(),s.c(),be(s,1),s.m(n.parentNode,n)):s&&(zi(),_e(s,1,1,()=>{s=null}),Li()),l[0]==="install"?c?f&1&&be(c,1):(c=Yu(),c.c(),be(c,1),c.m(o.parentNode,o)):c&&(zi(),_e(c,1,1,()=>{c=null}),Li()),l[0]==="metrics"?d?f&1&&be(d,1):(d=Xu(),d.c(),be(d,1),d.m(a.parentNode,a)):d&&(zi(),_e(d,1,1,()=>{d=null}),Li())},i(l){i||(be(r.$$.fragment,l),be(s),be(c),be(d),i=!0)},o(l){_e(r.$$.fragment,l),_e(s),_e(c),_e(d),i=!1},d(l){Ce(r,l),l&&Ae(t),s&&s.d(l),l&&Ae(n),c&&c.d(l),l&&Ae(o),d&&d.d(l),l&&Ae(a)}}}function w7(e,r,t){let n;return rl.subscribe(o=>{t(0,n=o)}),[n]}class _7 extends ct{constructor(r){super(),st(this,r,w7,y7,rt,{})}}new _7({target:document.getElementById("app")})});export default x7();
